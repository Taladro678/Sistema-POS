function jH(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NH(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var r_={exports:{}},Qd={};var nD;function IH(){if(nD)return Qd;nD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:s,ref:a!==void 0?a:null,props:i}}return Qd.Fragment=t,Qd.jsx=r,Qd.jsxs=r,Qd}var aD;function RH(){return aD||(aD=1,r_.exports=IH()),r_.exports}var h=RH(),n_={exports:{}},jt={};var iD;function PH(){if(iD)return jt;iD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function w(U,Z,te){this.props=U,this.context=Z,this.refs=b,this.updater=te||y}w.prototype.isReactComponent={},w.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},w.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=w.prototype;function S(U,Z,te){this.props=U,this.context=Z,this.refs=b,this.updater=te||y}var O=S.prototype=new C;O.constructor=S,_(O,w.prototype),O.isPureReactComponent=!0;var F=Array.isArray;function B(){}var j={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function P(U,Z,te){var W=te.ref;return{$$typeof:e,type:U,key:Z,ref:W!==void 0?W:null,props:te}}function I(U,Z){return P(U.type,Z,U.props)}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function N(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(te){return Z[te]})}var M=/\/+/g;function ce(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?N(""+U.key):Z.toString(36)}function fe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(B,B):(U.status="pending",U.then(function(Z){U.status==="pending"&&(U.status="fulfilled",U.value=Z)},function(Z){U.status==="pending"&&(U.status="rejected",U.reason=Z)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ae(U,Z,te,W,xe){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var Ne=!1;if(U===null)Ne=!0;else switch(Te){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(U.$$typeof){case e:case t:Ne=!0;break;case d:return Ne=U._init,ae(Ne(U._payload),Z,te,W,xe)}}if(Ne)return xe=xe(U),Ne=W===""?"."+ce(U,0):W,F(xe)?(te="",Ne!=null&&(te=Ne.replace(M,"$&/")+"/"),ae(xe,Z,te,"",function(ue){return ue})):xe!=null&&(R(xe)&&(xe=I(xe,te+(xe.key==null||U&&U.key===xe.key?"":(""+xe.key).replace(M,"$&/")+"/")+Ne)),Z.push(xe)),1;Ne=0;var X=W===""?".":W+":";if(F(U))for(var Q=0;Q<U.length;Q++)W=U[Q],Te=X+ce(W,Q),Ne+=ae(W,Z,te,Te,xe);else if(Q=x(U),typeof Q=="function")for(U=Q.call(U),Q=0;!(W=U.next()).done;)W=W.value,Te=X+ce(W,Q++),Ne+=ae(W,Z,te,Te,xe);else if(Te==="object"){if(typeof U.then=="function")return ae(fe(U),Z,te,W,xe);throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ie(U,Z,te){if(U==null)return U;var W=[],xe=0;return ae(U,W,"","",function(Te){return Z.call(te,Te,xe++)}),W}function me(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(te){(U._status===0||U._status===-1)&&(U._status=1,U._result=te)},function(te){(U._status===0||U._status===-1)&&(U._status=2,U._result=te)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var be=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},de={map:ie,forEach:function(U,Z,te){ie(U,function(){Z.apply(this,arguments)},te)},count:function(U){var Z=0;return ie(U,function(){Z++}),Z},toArray:function(U){return ie(U,function(Z){return Z})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return jt.Activity=m,jt.Children=de,jt.Component=w,jt.Fragment=r,jt.Profiler=a,jt.PureComponent=S,jt.StrictMode=n,jt.Suspense=u,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,jt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return j.H.useMemoCache(U)}},jt.cache=function(U){return function(){return U.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(U,Z,te){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var W=_({},U.props),xe=U.key;if(Z!=null)for(Te in Z.key!==void 0&&(xe=""+Z.key),Z)!k.call(Z,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Z.ref===void 0||(W[Te]=Z[Te]);var Te=arguments.length-2;if(Te===1)W.children=te;else if(1<Te){for(var Ne=Array(Te),X=0;X<Te;X++)Ne[X]=arguments[X+2];W.children=Ne}return P(U.type,xe,W)},jt.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},jt.createElement=function(U,Z,te){var W,xe={},Te=null;if(Z!=null)for(W in Z.key!==void 0&&(Te=""+Z.key),Z)k.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(xe[W]=Z[W]);var Ne=arguments.length-2;if(Ne===1)xe.children=te;else if(1<Ne){for(var X=Array(Ne),Q=0;Q<Ne;Q++)X[Q]=arguments[Q+2];xe.children=X}if(U&&U.defaultProps)for(W in Ne=U.defaultProps,Ne)xe[W]===void 0&&(xe[W]=Ne[W]);return P(U,Te,xe)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(U){return{$$typeof:l,render:U}},jt.isValidElement=R,jt.lazy=function(U){return{$$typeof:d,_payload:{_status:-1,_result:U},_init:me}},jt.memo=function(U,Z){return{$$typeof:f,type:U,compare:Z===void 0?null:Z}},jt.startTransition=function(U){var Z=j.T,te={};j.T=te;try{var W=U(),xe=j.S;xe!==null&&xe(te,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(B,be)}catch(Te){be(Te)}finally{Z!==null&&te.types!==null&&(Z.types=te.types),j.T=Z}},jt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},jt.use=function(U){return j.H.use(U)},jt.useActionState=function(U,Z,te){return j.H.useActionState(U,Z,te)},jt.useCallback=function(U,Z){return j.H.useCallback(U,Z)},jt.useContext=function(U){return j.H.useContext(U)},jt.useDebugValue=function(){},jt.useDeferredValue=function(U,Z){return j.H.useDeferredValue(U,Z)},jt.useEffect=function(U,Z){return j.H.useEffect(U,Z)},jt.useEffectEvent=function(U){return j.H.useEffectEvent(U)},jt.useId=function(){return j.H.useId()},jt.useImperativeHandle=function(U,Z,te){return j.H.useImperativeHandle(U,Z,te)},jt.useInsertionEffect=function(U,Z){return j.H.useInsertionEffect(U,Z)},jt.useLayoutEffect=function(U,Z){return j.H.useLayoutEffect(U,Z)},jt.useMemo=function(U,Z){return j.H.useMemo(U,Z)},jt.useOptimistic=function(U,Z){return j.H.useOptimistic(U,Z)},jt.useReducer=function(U,Z,te){return j.H.useReducer(U,Z,te)},jt.useRef=function(U){return j.H.useRef(U)},jt.useState=function(U){return j.H.useState(U)},jt.useSyncExternalStore=function(U,Z,te){return j.H.useSyncExternalStore(U,Z,te)},jt.useTransition=function(){return j.H.useTransition()},jt.version="19.2.3",jt}var sD;function Ff(){return sD||(sD=1,n_.exports=PH()),n_.exports}var T=Ff();const Nr=yo(T),FH=jH({__proto__:null,default:Nr},[T]);var a_={exports:{}},Zd={},i_={exports:{}},s_={};var oD;function BH(){return oD||(oD=1,(function(e){function t(ae,ie){var me=ae.length;ae.push(ie);e:for(;0<me;){var be=me-1>>>1,de=ae[be];if(0<a(de,ie))ae[be]=ie,ae[me]=de,me=be;else break e}}function r(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var ie=ae[0],me=ae.pop();if(me!==ie){ae[0]=me;e:for(var be=0,de=ae.length,U=de>>>1;be<U;){var Z=2*(be+1)-1,te=ae[Z],W=Z+1,xe=ae[W];if(0>a(te,me))W<de&&0>a(xe,te)?(ae[be]=xe,ae[W]=me,be=W):(ae[be]=te,ae[Z]=me,be=Z);else if(W<de&&0>a(xe,me))ae[be]=xe,ae[W]=me,be=W;else break e}}return ie}function a(ae,ie){var me=ae.sortIndex-ie.sortIndex;return me!==0?me:ae.id-ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],f=[],d=1,m=null,g=3,x=!1,y=!1,_=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function O(ae){for(var ie=r(f);ie!==null;){if(ie.callback===null)n(f);else if(ie.startTime<=ae)n(f),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=r(f)}}function F(ae){if(_=!1,O(ae),!y)if(r(u)!==null)y=!0,B||(B=!0,N());else{var ie=r(f);ie!==null&&fe(F,ie.startTime-ae)}}var B=!1,j=-1,k=5,P=-1;function I(){return b?!0:!(e.unstable_now()-P<k)}function R(){if(b=!1,B){var ae=e.unstable_now();P=ae;var ie=!0;try{e:{y=!1,_&&(_=!1,C(j),j=-1),x=!0;var me=g;try{t:{for(O(ae),m=r(u);m!==null&&!(m.expirationTime>ae&&I());){var be=m.callback;if(typeof be=="function"){m.callback=null,g=m.priorityLevel;var de=be(m.expirationTime<=ae);if(ae=e.unstable_now(),typeof de=="function"){m.callback=de,O(ae),ie=!0;break t}m===r(u)&&n(u),O(ae)}else n(u);m=r(u)}if(m!==null)ie=!0;else{var U=r(f);U!==null&&fe(F,U.startTime-ae),ie=!1}}break e}finally{m=null,g=me,x=!1}ie=void 0}}finally{ie?N():B=!1}}}var N;if(typeof S=="function")N=function(){S(R)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ce=M.port2;M.port1.onmessage=R,N=function(){ce.postMessage(null)}}else N=function(){w(R,0)};function fe(ae,ie){j=w(function(){ae(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(ae){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var me=g;g=ie;try{return ae()}finally{g=me}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(ae,ie){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var me=g;g=ae;try{return ie()}finally{g=me}},e.unstable_scheduleCallback=function(ae,ie,me){var be=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?be+me:be):me=be,ae){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=me+de,ae={id:d++,callback:ie,priorityLevel:ae,startTime:me,expirationTime:de,sortIndex:-1},me>be?(ae.sortIndex=me,t(f,ae),r(u)===null&&ae===r(f)&&(_?(C(j),j=-1):_=!0,fe(F,me-be))):(ae.sortIndex=de,t(u,ae),y||x||(y=!0,B||(B=!0,N()))),ae},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(ae){var ie=g;return function(){var me=g;g=ie;try{return ae.apply(this,arguments)}finally{g=me}}}})(s_)),s_}var lD;function MH(){return lD||(lD=1,i_.exports=BH()),i_.exports}var o_={exports:{}},Ia={};var cD;function LH(){if(cD)return Ia;cD=1;var e=Ff();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:f,implementation:d}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ia.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ia.createPortal=function(u,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(u,f,null,d)},Ia.flushSync=function(u){var f=s.T,d=n.p;try{if(s.T=null,n.p=2,u)return u()}finally{s.T=f,n.p=d,n.d.f()}},Ia.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Ia.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Ia.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var d=f.as,m=l(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):d==="script"&&n.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ia.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=l(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Ia.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=l(d,f.crossOrigin);n.d.L(u,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ia.preloadModule=function(u,f){if(typeof u=="string")if(f){var d=l(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Ia.requestFormReset=function(u){n.d.r(u)},Ia.unstable_batchedUpdates=function(u,f){return u(f)},Ia.useFormState=function(u,f,d){return s.H.useFormState(u,f,d)},Ia.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ia.version="19.2.3",Ia}var uD;function yP(){if(uD)return o_.exports;uD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),o_.exports=LH(),o_.exports}var fD;function zH(){if(fD)return Zd;fD=1;var e=MH(),t=Ff(),r=yP();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(n(188))}function f(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(n(188));return c!==o?null:o}for(var p=o,v=c;;){var A=p.return;if(A===null)break;var D=A.alternate;if(D===null){if(v=A.return,v!==null){p=v;continue}break}if(A.child===D.child){for(D=A.child;D;){if(D===p)return u(A),o;if(D===v)return u(A),c;D=D.sibling}throw Error(n(188))}if(p.return!==v.return)p=A,v=D;else{for(var z=!1,Y=A.child;Y;){if(Y===p){z=!0,p=A,v=D;break}if(Y===v){z=!0,v=A,p=D;break}Y=Y.sibling}if(!z){for(Y=D.child;Y;){if(Y===p){z=!0,p=D,v=A;break}if(Y===v){z=!0,v=D,p=A;break}Y=Y.sibling}if(!z)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function N(o){return o===null||typeof o!="object"?null:(o=R&&o[R]||o["@@iterator"],typeof o=="function"?o:null)}var M=Symbol.for("react.client.reference");function ce(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===M?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case F:return"Suspense";case B:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case S:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case O:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case j:return c=o.displayName||null,c!==null?c:ce(o.type)||"Memo";case k:c=o._payload,o=o._init;try{return ce(o(c))}catch{}}return null}var fe=Array.isArray,ae=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},be=[],de=-1;function U(o){return{current:o}}function Z(o){0>de||(o.current=be[de],be[de]=null,de--)}function te(o,c){de++,be[de]=o.current,o.current=c}var W=U(null),xe=U(null),Te=U(null),Ne=U(null);function X(o,c){switch(te(Te,c),te(xe,o),te(W,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?C3(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=C3(c),o=T3(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Z(W),te(W,o)}function Q(){Z(W),Z(xe),Z(Te)}function ue(o){o.memoizedState!==null&&te(Ne,o);var c=W.current,p=T3(c,o.type);c!==p&&(te(xe,o),te(W,p))}function q(o){xe.current===o&&(Z(W),Z(xe)),Ne.current===o&&(Z(Ne),Gd._currentValue=me)}var K,H;function ve(o){if(K===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);K=c&&c[1]||"",H=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+o+H}var Fe=!1;function Se(o,c){if(!o||Fe)return"";Fe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Be){var Re=Be}Reflect.construct(o,[],Ve)}else{try{Ve.call()}catch(Be){Re=Be}o.call(Ve.prototype)}}else{try{throw Error()}catch(Be){Re=Be}(Ve=o())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Be){if(Be&&Re&&typeof Be.stack=="string")return[Be.stack,Re.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=v.DetermineComponentFrameRoot(),z=D[0],Y=D[1];if(z&&Y){var ge=z.split(`
`),Oe=Y.split(`
`);for(A=v=0;v<ge.length&&!ge[v].includes("DetermineComponentFrameRoot");)v++;for(;A<Oe.length&&!Oe[A].includes("DetermineComponentFrameRoot");)A++;if(v===ge.length||A===Oe.length)for(v=ge.length-1,A=Oe.length-1;1<=v&&0<=A&&ge[v]!==Oe[A];)A--;for(;1<=v&&0<=A;v--,A--)if(ge[v]!==Oe[A]){if(v!==1||A!==1)do if(v--,A--,0>A||ge[v]!==Oe[A]){var ze=`
`+ge[v].replace(" at new "," at ");return o.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",o.displayName)),ze}while(1<=v&&0<=A);break}}}finally{Fe=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?ve(p):""}function Ge(o,c){switch(o.tag){case 26:case 27:case 5:return ve(o.type);case 16:return ve("Lazy");case 13:return o.child!==c&&c!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return Se(o.type,!1);case 11:return Se(o.type.render,!1);case 1:return Se(o.type,!0);case 31:return ve("Activity");default:return""}}function He(o){try{var c="",p=null;do c+=Ge(o,p),p=o,o=o.return;while(o);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Je=Object.prototype.hasOwnProperty,rt=e.unstable_scheduleCallback,tt=e.unstable_cancelCallback,le=e.unstable_shouldYield,_e=e.unstable_requestPaint,Qe=e.unstable_now,Le=e.unstable_getCurrentPriorityLevel,wt=e.unstable_ImmediatePriority,vt=e.unstable_UserBlockingPriority,St=e.unstable_NormalPriority,Tt=e.unstable_LowPriority,Bt=e.unstable_IdlePriority,Xe=e.log,it=e.unstable_setDisableYieldValue,bt=null,ht=null;function Ot(o){if(typeof Xe=="function"&&it(o),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(bt,o)}catch{}}var mt=Math.clz32?Math.clz32:aa,pn=Math.log,qn=Math.LN2;function aa(o){return o>>>=0,o===0?32:31-(pn(o)/qn|0)|0}var An=256,ia=262144,hr=4194304;function $r(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function nn(o,c,p){var v=o.pendingLanes;if(v===0)return 0;var A=0,D=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var Y=v&134217727;return Y!==0?(v=Y&~D,v!==0?A=$r(v):(z&=Y,z!==0?A=$r(z):p||(p=Y&~o,p!==0&&(A=$r(p))))):(Y=v&~D,Y!==0?A=$r(Y):z!==0?A=$r(z):p||(p=v&~o,p!==0&&(A=$r(p)))),A===0?0:c!==0&&c!==A&&(c&D)===0&&(D=A&-A,p=c&-c,D>=p||D===32&&(p&4194048)!==0)?c:A}function Yr(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function sa(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vi(){var o=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),o}function mn(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Pt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ai(o,c,p,v,A,D){var z=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var Y=o.entanglements,ge=o.expirationTimes,Oe=o.hiddenUpdates;for(p=z&~p;0<p;){var ze=31-mt(p),Ve=1<<ze;Y[ze]=0,ge[ze]=-1;var Re=Oe[ze];if(Re!==null)for(Oe[ze]=null,ze=0;ze<Re.length;ze++){var Be=Re[ze];Be!==null&&(Be.lane&=-536870913)}p&=~Ve}v!==0&&gn(o,v,0),D!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=D&~(z&~c))}function gn(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-mt(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|p&261930}function Sr(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var v=31-mt(p),A=1<<v;A&c|o[v]&c&&(o[v]|=c),p&=~A}}function an(o,c){var p=c&-c;return p=(p&42)!==0?1:Wn(p),(p&(o.suspendedLanes|c))!==0?0:p}function Wn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ar(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function G(){var o=ie.p;return o!==0?o:(o=window.event,o===void 0?32:Y3(o.type))}function oe(o,c){var p=ie.p;try{return ie.p=o,c()}finally{ie.p=p}}var ee=Math.random().toString(36).slice(2),re="__reactFiber$"+ee,se="__reactProps$"+ee,he="__reactContainer$"+ee,Ce="__reactEvents$"+ee,Me="__reactListeners$"+ee,J="__reactHandles$"+ee,pe="__reactResources$"+ee,ye="__reactMarker$"+ee;function Ie(o){delete o[re],delete o[se],delete o[Ce],delete o[Me],delete o[J]}function $e(o){var c=o[re];if(c)return c;for(var p=o.parentNode;p;){if(c=p[he]||p[re]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=R3(o);o!==null;){if(p=o[re])return p;o=R3(o)}return c}o=p,p=o.parentNode}return null}function Ze(o){if(o=o[re]||o[he]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function We(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function Ye(o){var c=o[pe];return c||(c=o[pe]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ct(o){o[ye]=!0}var lr=new Set,pr={};function we(o,c){st(o,c),st(o+"Capture",c)}function st(o,c){for(pr[o]=c,o=0;o<c.length;o++)lr.add(c[o])}var At=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xt={},Lt={};function Cr(o){return Je.call(Lt,o)?!0:Je.call(xt,o)?!1:At.test(o)?Lt[o]=!0:(xt[o]=!0,!1)}function Ht(o,c,p){if(Cr(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function Lr(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function zr(o,c,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+v)}}function xr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Hs(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Fc(o,c,p){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,D=v.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return A.call(this)},set:function(z){p=""+z,D.call(this,z)}}),Object.defineProperty(o,c,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(z){p=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function rr(o){if(!o._valueTracker){var c=Hs(o)?"checked":"value";o._valueTracker=Fc(o,c,""+o[c])}}function Bc(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return o&&(v=Hs(o)?o.checked?"true":"false":o.value),o=v,o!==p?(c.setValue(o),!0):!1}function qs(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Mc=/[\n"\\]/g;function ii(o){return o.replace(Mc,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function c0(o,c,p,v,A,D,z,Y){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+xr(c)):o.value!==""+xr(c)&&(o.value=""+xr(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?sd(o,z,xr(c)):p!=null?sd(o,z,xr(p)):v!=null&&o.removeAttribute("value"),A==null&&D!=null&&(o.defaultChecked=!!D),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?o.name=""+xr(Y):o.removeAttribute("name")}function lm(o,c,p,v,A,D,z,Y){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.type=D),c!=null||p!=null){if(!(D!=="submit"&&D!=="reset"||c!=null)){rr(o);return}p=p!=null?""+xr(p):"",c=c!=null?""+xr(c):p,Y||c===o.value||(o.value=c),o.defaultValue=c}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=Y?o.checked:!!v,o.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z),rr(o)}function sd(o,c,p){c==="number"&&qs(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function _l(o,c,p,v){if(o=o.options,c){c={};for(var A=0;A<p.length;A++)c["$"+p[A]]=!0;for(p=0;p<o.length;p++)A=c.hasOwnProperty("$"+o[p].value),o[p].selected!==A&&(o[p].selected=A),A&&v&&(o[p].defaultSelected=!0)}else{for(p=""+xr(p),c=null,A=0;A<o.length;A++){if(o[A].value===p){o[A].selected=!0,v&&(o[A].defaultSelected=!0);return}c!==null||o[A].disabled||(c=o[A])}c!==null&&(c.selected=!0)}}function cm(o,c,p){if(c!=null&&(c=""+xr(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+xr(p):""}function wl(o,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(n(92));if(fe(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=xr(c),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v),rr(o)}function si(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var um=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function od(o,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,p):typeof p!="number"||p===0||um.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function ld(o,c,p){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var A in c)v=c[A],c.hasOwnProperty(A)&&p[A]!==v&&od(o,A,v)}else for(var D in c)c.hasOwnProperty(D)&&od(o,D,c[D])}function u0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),El=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function f0(o){return El.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function bs(){}var cd=null;function $i(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Sl=null,Ws=null;function Lc(o){var c=Ze(o);if(c&&(o=c.stateNode)){var p=o[se]||null;e:switch(o=c.stateNode,c.type){case"input":if(c0(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ii(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==o&&v.form===o.form){var A=v[se]||null;if(!A)throw Error(n(90));c0(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===o.form&&Bc(v)}break e;case"textarea":cm(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&_l(o,!!p.multiple,c,!1)}}}var d0=!1;function Al(o,c,p){if(d0)return o(c,p);d0=!0;try{var v=o(c);return v}finally{if(d0=!1,(Sl!==null||Ws!==null)&&(ag(),Sl&&(c=Sl,o=Ws,Ws=Sl=null,Lc(c),o)))for(c=0;c<o.length;c++)Lc(o[c])}}function _s(o,c){var p=o.stateNode;if(p===null)return null;var v=p[se]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(n(231,c,typeof p));return p}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=!1;if(Hi)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){zc=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{zc=!1}var Gs=null,ud=null,Uc=null;function fd(){if(Uc)return Uc;var o,c=ud,p=c.length,v,A="value"in Gs?Gs.value:Gs.textContent,D=A.length;for(o=0;o<p&&c[o]===A[o];o++);var z=p-o;for(v=1;v<=z&&c[p-v]===A[D-v];v++);return Uc=A.slice(o,1<v?1-v:void 0)}function Vc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function wo(){return!0}function ws(){return!1}function va(o){function c(p,v,A,D,z){this._reactName=p,this._targetInst=A,this.type=v,this.nativeEvent=D,this.target=z,this.currentTarget=null;for(var Y in o)o.hasOwnProperty(Y)&&(p=o[Y],this[Y]=p?p(D):D[Y]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?wo:ws,this.isPropagationStopped=ws,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),c}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=va(Eo),Cl=m({},Eo,{view:0,detail:0}),dd=va(Cl),Tl,h0,Xs,p0=m({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kl,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Xs&&(Xs&&o.type==="mousemove"?(Tl=o.screenX-Xs.screenX,h0=o.screenY-Xs.screenY):h0=Tl=0,Xs=o),Tl)},movementY:function(o){return"movementY"in o?o.movementY:h0}}),hd=va(p0),$c=m({},p0,{dataTransfer:0}),dm=va($c),hm=m({},Cl,{relatedTarget:0}),Hc=va(hm),pd=m({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),pm=va(pd),m0=m({},Eo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),mm=va(m0),gm=m({},Eo,{data:0}),Ys=va(gm),xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bm(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=ym[o])?!!c[o]:!1}function kl(){return bm}var Ka=m({},Cl,{key:function(o){if(o.key){var c=xm[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Vc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?vm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kl,charCode:function(o){return o.type==="keypress"?Vc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Vc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),_m=va(Ka),wm=m({},p0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=va(wm),E=m({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kl}),L=va(E),V=m({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ne=va(V),ke=m({},p0,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=va(ke),et=m({},Eo,{newState:0,oldState:0}),It=va(et),xn=[9,13,27,32],mr=Hi&&"CompositionEvent"in window,Qr=null;Hi&&"documentMode"in document&&(Qr=document.documentMode);var qi=Hi&&"TextEvent"in window&&!Qr,Qs=Hi&&(!mr||Qr&&8<Qr&&11>=Qr),Es=" ",Ss=!1;function qc(o,c){switch(o){case"keyup":return xn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var x0=!1;function t$(o,c){switch(o){case"compositionend":return g0(c);case"keypress":return c.which!==32?null:(Ss=!0,Es);case"textInput":return o=c.data,o===Es&&Ss?null:o;default:return null}}function r$(o,c){if(x0)return o==="compositionend"||!mr&&qc(o,c)?(o=fd(),Uc=ud=Gs=null,x0=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Qs&&c.locale!=="ko"?null:c.data;default:return null}}var n$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BT(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!n$[o.type]:c==="textarea"}function MT(o,c,p,v){Sl?Ws?Ws.push(v):Ws=[v]:Sl=v,c=fg(c,"onChange"),0<c.length&&(p=new Ks("onChange","change",null,p,v),o.push({event:p,listeners:c}))}var md=null,gd=null;function a$(o){b3(o,0)}function Em(o){var c=We(o);if(Bc(c))return o}function LT(o,c){if(o==="change")return c}var zT=!1;if(Hi){var lb;if(Hi){var cb="oninput"in document;if(!cb){var UT=document.createElement("div");UT.setAttribute("oninput","return;"),cb=typeof UT.oninput=="function"}lb=cb}else lb=!1;zT=lb&&(!document.documentMode||9<document.documentMode)}function VT(){md&&(md.detachEvent("onpropertychange",$T),gd=md=null)}function $T(o){if(o.propertyName==="value"&&Em(gd)){var c=[];MT(c,gd,o,$i(o)),Al(a$,c)}}function i$(o,c,p){o==="focusin"?(VT(),md=c,gd=p,md.attachEvent("onpropertychange",$T)):o==="focusout"&&VT()}function s$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Em(gd)}function o$(o,c){if(o==="click")return Em(c)}function l$(o,c){if(o==="input"||o==="change")return Em(c)}function c$(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var wi=typeof Object.is=="function"?Object.is:c$;function xd(o,c){if(wi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var A=p[v];if(!Je.call(c,A)||!wi(o[A],c[A]))return!1}return!0}function HT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function qT(o,c){var p=HT(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=c&&v>=c)return{node:p,offset:c-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=HT(p)}}function WT(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?WT(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function GT(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=qs(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=qs(o.document)}return c}function ub(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var u$=Hi&&"documentMode"in document&&11>=document.documentMode,v0=null,fb=null,vd=null,db=!1;function KT(o,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;db||v0==null||v0!==qs(v)||(v=v0,"selectionStart"in v&&ub(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),vd&&xd(vd,v)||(vd=v,v=fg(fb,"onSelect"),0<v.length&&(c=new Ks("onSelect","select",null,c,p),o.push({event:c,listeners:v}),c.target=v0)))}function Wc(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var y0={animationend:Wc("Animation","AnimationEnd"),animationiteration:Wc("Animation","AnimationIteration"),animationstart:Wc("Animation","AnimationStart"),transitionrun:Wc("Transition","TransitionRun"),transitionstart:Wc("Transition","TransitionStart"),transitioncancel:Wc("Transition","TransitionCancel"),transitionend:Wc("Transition","TransitionEnd")},hb={},XT={};Hi&&(XT=document.createElement("div").style,"AnimationEvent"in window||(delete y0.animationend.animation,delete y0.animationiteration.animation,delete y0.animationstart.animation),"TransitionEvent"in window||delete y0.transitionend.transition);function Gc(o){if(hb[o])return hb[o];if(!y0[o])return o;var c=y0[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in XT)return hb[o]=c[p];return o}var YT=Gc("animationend"),QT=Gc("animationiteration"),ZT=Gc("animationstart"),f$=Gc("transitionrun"),d$=Gc("transitionstart"),h$=Gc("transitioncancel"),JT=Gc("transitionend"),e5=new Map,pb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pb.push("scrollEnd");function As(o,c){e5.set(o,c),we(c,[o])}var Sm=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Wi=[],b0=0,mb=0;function Am(){for(var o=b0,c=mb=b0=0;c<o;){var p=Wi[c];Wi[c++]=null;var v=Wi[c];Wi[c++]=null;var A=Wi[c];Wi[c++]=null;var D=Wi[c];if(Wi[c++]=null,v!==null&&A!==null){var z=v.pending;z===null?A.next=A:(A.next=z.next,z.next=A),v.pending=A}D!==0&&t5(p,A,D)}}function Cm(o,c,p,v){Wi[b0++]=o,Wi[b0++]=c,Wi[b0++]=p,Wi[b0++]=v,mb|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function gb(o,c,p,v){return Cm(o,c,p,v),Tm(o)}function Kc(o,c){return Cm(o,null,null,c),Tm(o)}function t5(o,c,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var A=!1,D=o.return;D!==null;)D.childLanes|=p,v=D.alternate,v!==null&&(v.childLanes|=p),D.tag===22&&(o=D.stateNode,o===null||o._visibility&1||(A=!0)),o=D,D=D.return;return o.tag===3?(D=o.stateNode,A&&c!==null&&(A=31-mt(p),o=D.hiddenUpdates,v=o[A],v===null?o[A]=[c]:v.push(c),c.lane=p|536870912),D):null}function Tm(o){if(50<zd)throw zd=0,A2=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var _0={};function p$(o,c,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(o,c,p,v){return new p$(o,c,p,v)}function xb(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ao(o,c){var p=o.alternate;return p===null?(p=Ei(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function r5(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function km(o,c,p,v,A,D){var z=0;if(v=o,typeof o=="function")xb(o)&&(z=1);else if(typeof o=="string")z=yH(o,p,W.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=Ei(31,p,c,A),o.elementType=P,o.lanes=D,o;case _:return Xc(p.children,A,D,c);case b:z=8,A|=24;break;case w:return o=Ei(12,p,c,A|2),o.elementType=w,o.lanes=D,o;case F:return o=Ei(13,p,c,A),o.elementType=F,o.lanes=D,o;case B:return o=Ei(19,p,c,A),o.elementType=B,o.lanes=D,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:z=10;break e;case C:z=9;break e;case O:z=11;break e;case j:z=14;break e;case k:z=16,v=null;break e}z=29,p=Error(n(130,o===null?"null":typeof o,"")),v=null}return c=Ei(z,p,c,A),c.elementType=o,c.type=v,c.lanes=D,c}function Xc(o,c,p,v){return o=Ei(7,o,v,c),o.lanes=p,o}function vb(o,c,p){return o=Ei(6,o,null,c),o.lanes=p,o}function n5(o){var c=Ei(18,null,null,0);return c.stateNode=o,c}function yb(o,c,p){return c=Ei(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var a5=new WeakMap;function Gi(o,c){if(typeof o=="object"&&o!==null){var p=a5.get(o);return p!==void 0?p:(c={value:o,source:c,stack:He(c)},a5.set(o,c),c)}return{value:o,source:c,stack:He(c)}}var w0=[],E0=0,Dm=null,yd=0,Ki=[],Xi=0,Dl=null,Zs=1,Js="";function Co(o,c){w0[E0++]=yd,w0[E0++]=Dm,Dm=o,yd=c}function i5(o,c,p){Ki[Xi++]=Zs,Ki[Xi++]=Js,Ki[Xi++]=Dl,Dl=o;var v=Zs;o=Js;var A=32-mt(v)-1;v&=~(1<<A),p+=1;var D=32-mt(c)+A;if(30<D){var z=A-A%5;D=(v&(1<<z)-1).toString(32),v>>=z,A-=z,Zs=1<<32-mt(c)+A|p<<A|v,Js=D+o}else Zs=1<<D|p<<A|v,Js=o}function bb(o){o.return!==null&&(Co(o,1),i5(o,1,0))}function _b(o){for(;o===Dm;)Dm=w0[--E0],w0[E0]=null,yd=w0[--E0],w0[E0]=null;for(;o===Dl;)Dl=Ki[--Xi],Ki[Xi]=null,Js=Ki[--Xi],Ki[Xi]=null,Zs=Ki[--Xi],Ki[Xi]=null}function s5(o,c){Ki[Xi++]=Zs,Ki[Xi++]=Js,Ki[Xi++]=Dl,Zs=c.id,Js=c.overflow,Dl=o}var ya=null,Hr=null,Qt=!1,Ol=null,Yi=!1,wb=Error(n(519));function jl(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bd(Gi(c,o)),wb}function o5(o){var c=o.stateNode,p=o.type,v=o.memoizedProps;switch(c[re]=o,c[se]=v,p){case"dialog":Vt("cancel",c),Vt("close",c);break;case"iframe":case"object":case"embed":Vt("load",c);break;case"video":case"audio":for(p=0;p<Vd.length;p++)Vt(Vd[p],c);break;case"source":Vt("error",c);break;case"img":case"image":case"link":Vt("error",c),Vt("load",c);break;case"details":Vt("toggle",c);break;case"input":Vt("invalid",c),lm(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Vt("invalid",c);break;case"textarea":Vt("invalid",c),wl(c,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||S3(c.textContent,p)?(v.popover!=null&&(Vt("beforetoggle",c),Vt("toggle",c)),v.onScroll!=null&&Vt("scroll",c),v.onScrollEnd!=null&&Vt("scrollend",c),v.onClick!=null&&(c.onclick=bs),c=!0):c=!1,c||jl(o,!0)}function l5(o){for(ya=o.return;ya;)switch(ya.tag){case 5:case 31:case 13:Yi=!1;return;case 27:case 3:Yi=!0;return;default:ya=ya.return}}function S0(o){if(o!==ya)return!1;if(!Qt)return l5(o),Qt=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||z2(o.type,o.memoizedProps)),p=!p),p&&Hr&&jl(o),l5(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Hr=I3(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Hr=I3(o)}else c===27?(c=Hr,ql(o.type)?(o=q2,q2=null,Hr=o):Hr=c):Hr=ya?Zi(o.stateNode.nextSibling):null;return!0}function Yc(){Hr=ya=null,Qt=!1}function Eb(){var o=Ol;return o!==null&&(ui===null?ui=o:ui.push.apply(ui,o),Ol=null),o}function bd(o){Ol===null?Ol=[o]:Ol.push(o)}var Sb=U(null),Qc=null,To=null;function Nl(o,c,p){te(Sb,c._currentValue),c._currentValue=p}function ko(o){o._currentValue=Sb.current,Z(Sb)}function Ab(o,c,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===p)break;o=o.return}}function Cb(o,c,p,v){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var D=A.dependencies;if(D!==null){var z=A.child;D=D.firstContext;e:for(;D!==null;){var Y=D;D=A;for(var ge=0;ge<c.length;ge++)if(Y.context===c[ge]){D.lanes|=p,Y=D.alternate,Y!==null&&(Y.lanes|=p),Ab(D.return,p,o),v||(z=null);break e}D=Y.next}}else if(A.tag===18){if(z=A.return,z===null)throw Error(n(341));z.lanes|=p,D=z.alternate,D!==null&&(D.lanes|=p),Ab(z,p,o),z=null}else z=A.child;if(z!==null)z.return=A;else for(z=A;z!==null;){if(z===o){z=null;break}if(A=z.sibling,A!==null){A.return=z.return,z=A;break}z=z.return}A=z}}function A0(o,c,p,v){o=null;for(var A=c,D=!1;A!==null;){if(!D){if((A.flags&524288)!==0)D=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var z=A.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var Y=A.type;wi(A.pendingProps.value,z.value)||(o!==null?o.push(Y):o=[Y])}}else if(A===Ne.current){if(z=A.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(Gd):o=[Gd])}A=A.return}o!==null&&Cb(c,o,p,v),c.flags|=262144}function Om(o){for(o=o.firstContext;o!==null;){if(!wi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Zc(o){Qc=o,To=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ba(o){return c5(Qc,o)}function jm(o,c){return Qc===null&&Zc(o),c5(o,c)}function c5(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},To===null){if(o===null)throw Error(n(308));To=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else To=To.next=c;return p}var m$=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},g$=e.unstable_scheduleCallback,x$=e.unstable_NormalPriority,Cn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tb(){return{controller:new m$,data:new Map,refCount:0}}function _d(o){o.refCount--,o.refCount===0&&g$(x$,function(){o.controller.abort()})}var wd=null,kb=0,C0=0,T0=null;function v$(o,c){if(wd===null){var p=wd=[];kb=0,C0=j2(),T0={status:"pending",value:void 0,then:function(v){p.push(v)}}}return kb++,c.then(u5,u5),c}function u5(){if(--kb===0&&wd!==null){T0!==null&&(T0.status="fulfilled");var o=wd;wd=null,C0=0,T0=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function y$(o,c){var p=[],v={status:"pending",value:null,reason:null,then:function(A){p.push(A)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var A=0;A<p.length;A++)(0,p[A])(c)},function(A){for(v.status="rejected",v.reason=A,A=0;A<p.length;A++)(0,p[A])(void 0)}),v}var f5=ae.S;ae.S=function(o,c){Kk=Qe(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&v$(o,c),f5!==null&&f5(o,c)};var Jc=U(null);function Db(){var o=Jc.current;return o!==null?o:Fr.pooledCache}function Nm(o,c){c===null?te(Jc,Jc.current):te(Jc,c.pool)}function d5(){var o=Db();return o===null?null:{parent:Cn._currentValue,pool:o}}var k0=Error(n(460)),Ob=Error(n(474)),Im=Error(n(542)),Rm={then:function(){}};function h5(o){return o=o.status,o==="fulfilled"||o==="rejected"}function p5(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(bs,bs),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,g5(o),o;default:if(typeof c.status=="string")c.then(bs,bs);else{if(o=Fr,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=v}},function(v){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,g5(o),o}throw tu=c,k0}}function eu(o){try{var c=o._init;return c(o._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(tu=p,k0):p}}var tu=null;function m5(){if(tu===null)throw Error(n(459));var o=tu;return tu=null,o}function g5(o){if(o===k0||o===Im)throw Error(n(483))}var D0=null,Ed=0;function Pm(o){var c=Ed;return Ed+=1,D0===null&&(D0=[]),p5(D0,o,c)}function Sd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Fm(o,c){throw c.$$typeof===g?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function x5(o){function c(Ae,Ee){if(o){var De=Ae.deletions;De===null?(Ae.deletions=[Ee],Ae.flags|=16):De.push(Ee)}}function p(Ae,Ee){if(!o)return null;for(;Ee!==null;)c(Ae,Ee),Ee=Ee.sibling;return null}function v(Ae){for(var Ee=new Map;Ae!==null;)Ae.key!==null?Ee.set(Ae.key,Ae):Ee.set(Ae.index,Ae),Ae=Ae.sibling;return Ee}function A(Ae,Ee){return Ae=Ao(Ae,Ee),Ae.index=0,Ae.sibling=null,Ae}function D(Ae,Ee,De){return Ae.index=De,o?(De=Ae.alternate,De!==null?(De=De.index,De<Ee?(Ae.flags|=67108866,Ee):De):(Ae.flags|=67108866,Ee)):(Ae.flags|=1048576,Ee)}function z(Ae){return o&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function Y(Ae,Ee,De,Ue){return Ee===null||Ee.tag!==6?(Ee=vb(De,Ae.mode,Ue),Ee.return=Ae,Ee):(Ee=A(Ee,De),Ee.return=Ae,Ee)}function ge(Ae,Ee,De,Ue){var yt=De.type;return yt===_?ze(Ae,Ee,De.props.children,Ue,De.key):Ee!==null&&(Ee.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===k&&eu(yt)===Ee.type)?(Ee=A(Ee,De.props),Sd(Ee,De),Ee.return=Ae,Ee):(Ee=km(De.type,De.key,De.props,null,Ae.mode,Ue),Sd(Ee,De),Ee.return=Ae,Ee)}function Oe(Ae,Ee,De,Ue){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==De.containerInfo||Ee.stateNode.implementation!==De.implementation?(Ee=yb(De,Ae.mode,Ue),Ee.return=Ae,Ee):(Ee=A(Ee,De.children||[]),Ee.return=Ae,Ee)}function ze(Ae,Ee,De,Ue,yt){return Ee===null||Ee.tag!==7?(Ee=Xc(De,Ae.mode,Ue,yt),Ee.return=Ae,Ee):(Ee=A(Ee,De),Ee.return=Ae,Ee)}function Ve(Ae,Ee,De){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=vb(""+Ee,Ae.mode,De),Ee.return=Ae,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case x:return De=km(Ee.type,Ee.key,Ee.props,null,Ae.mode,De),Sd(De,Ee),De.return=Ae,De;case y:return Ee=yb(Ee,Ae.mode,De),Ee.return=Ae,Ee;case k:return Ee=eu(Ee),Ve(Ae,Ee,De)}if(fe(Ee)||N(Ee))return Ee=Xc(Ee,Ae.mode,De,null),Ee.return=Ae,Ee;if(typeof Ee.then=="function")return Ve(Ae,Pm(Ee),De);if(Ee.$$typeof===S)return Ve(Ae,jm(Ae,Ee),De);Fm(Ae,Ee)}return null}function Re(Ae,Ee,De,Ue){var yt=Ee!==null?Ee.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return yt!==null?null:Y(Ae,Ee,""+De,Ue);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case x:return De.key===yt?ge(Ae,Ee,De,Ue):null;case y:return De.key===yt?Oe(Ae,Ee,De,Ue):null;case k:return De=eu(De),Re(Ae,Ee,De,Ue)}if(fe(De)||N(De))return yt!==null?null:ze(Ae,Ee,De,Ue,null);if(typeof De.then=="function")return Re(Ae,Ee,Pm(De),Ue);if(De.$$typeof===S)return Re(Ae,Ee,jm(Ae,De),Ue);Fm(Ae,De)}return null}function Be(Ae,Ee,De,Ue,yt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ae=Ae.get(De)||null,Y(Ee,Ae,""+Ue,yt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case x:return Ae=Ae.get(Ue.key===null?De:Ue.key)||null,ge(Ee,Ae,Ue,yt);case y:return Ae=Ae.get(Ue.key===null?De:Ue.key)||null,Oe(Ee,Ae,Ue,yt);case k:return Ue=eu(Ue),Be(Ae,Ee,De,Ue,yt)}if(fe(Ue)||N(Ue))return Ae=Ae.get(De)||null,ze(Ee,Ae,Ue,yt,null);if(typeof Ue.then=="function")return Be(Ae,Ee,De,Pm(Ue),yt);if(Ue.$$typeof===S)return Be(Ae,Ee,De,jm(Ee,Ue),yt);Fm(Ee,Ue)}return null}function ft(Ae,Ee,De,Ue){for(var yt=null,cr=null,pt=Ee,Ft=Ee=0,Wt=null;pt!==null&&Ft<De.length;Ft++){pt.index>Ft?(Wt=pt,pt=null):Wt=pt.sibling;var ur=Re(Ae,pt,De[Ft],Ue);if(ur===null){pt===null&&(pt=Wt);break}o&&pt&&ur.alternate===null&&c(Ae,pt),Ee=D(ur,Ee,Ft),cr===null?yt=ur:cr.sibling=ur,cr=ur,pt=Wt}if(Ft===De.length)return p(Ae,pt),Qt&&Co(Ae,Ft),yt;if(pt===null){for(;Ft<De.length;Ft++)pt=Ve(Ae,De[Ft],Ue),pt!==null&&(Ee=D(pt,Ee,Ft),cr===null?yt=pt:cr.sibling=pt,cr=pt);return Qt&&Co(Ae,Ft),yt}for(pt=v(pt);Ft<De.length;Ft++)Wt=Be(pt,Ae,Ft,De[Ft],Ue),Wt!==null&&(o&&Wt.alternate!==null&&pt.delete(Wt.key===null?Ft:Wt.key),Ee=D(Wt,Ee,Ft),cr===null?yt=Wt:cr.sibling=Wt,cr=Wt);return o&&pt.forEach(function(Yl){return c(Ae,Yl)}),Qt&&Co(Ae,Ft),yt}function Et(Ae,Ee,De,Ue){if(De==null)throw Error(n(151));for(var yt=null,cr=null,pt=Ee,Ft=Ee=0,Wt=null,ur=De.next();pt!==null&&!ur.done;Ft++,ur=De.next()){pt.index>Ft?(Wt=pt,pt=null):Wt=pt.sibling;var Yl=Re(Ae,pt,ur.value,Ue);if(Yl===null){pt===null&&(pt=Wt);break}o&&pt&&Yl.alternate===null&&c(Ae,pt),Ee=D(Yl,Ee,Ft),cr===null?yt=Yl:cr.sibling=Yl,cr=Yl,pt=Wt}if(ur.done)return p(Ae,pt),Qt&&Co(Ae,Ft),yt;if(pt===null){for(;!ur.done;Ft++,ur=De.next())ur=Ve(Ae,ur.value,Ue),ur!==null&&(Ee=D(ur,Ee,Ft),cr===null?yt=ur:cr.sibling=ur,cr=ur);return Qt&&Co(Ae,Ft),yt}for(pt=v(pt);!ur.done;Ft++,ur=De.next())ur=Be(pt,Ae,Ft,ur.value,Ue),ur!==null&&(o&&ur.alternate!==null&&pt.delete(ur.key===null?Ft:ur.key),Ee=D(ur,Ee,Ft),cr===null?yt=ur:cr.sibling=ur,cr=ur);return o&&pt.forEach(function(OH){return c(Ae,OH)}),Qt&&Co(Ae,Ft),yt}function Or(Ae,Ee,De,Ue){if(typeof De=="object"&&De!==null&&De.type===_&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case x:e:{for(var yt=De.key;Ee!==null;){if(Ee.key===yt){if(yt=De.type,yt===_){if(Ee.tag===7){p(Ae,Ee.sibling),Ue=A(Ee,De.props.children),Ue.return=Ae,Ae=Ue;break e}}else if(Ee.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===k&&eu(yt)===Ee.type){p(Ae,Ee.sibling),Ue=A(Ee,De.props),Sd(Ue,De),Ue.return=Ae,Ae=Ue;break e}p(Ae,Ee);break}else c(Ae,Ee);Ee=Ee.sibling}De.type===_?(Ue=Xc(De.props.children,Ae.mode,Ue,De.key),Ue.return=Ae,Ae=Ue):(Ue=km(De.type,De.key,De.props,null,Ae.mode,Ue),Sd(Ue,De),Ue.return=Ae,Ae=Ue)}return z(Ae);case y:e:{for(yt=De.key;Ee!==null;){if(Ee.key===yt)if(Ee.tag===4&&Ee.stateNode.containerInfo===De.containerInfo&&Ee.stateNode.implementation===De.implementation){p(Ae,Ee.sibling),Ue=A(Ee,De.children||[]),Ue.return=Ae,Ae=Ue;break e}else{p(Ae,Ee);break}else c(Ae,Ee);Ee=Ee.sibling}Ue=yb(De,Ae.mode,Ue),Ue.return=Ae,Ae=Ue}return z(Ae);case k:return De=eu(De),Or(Ae,Ee,De,Ue)}if(fe(De))return ft(Ae,Ee,De,Ue);if(N(De)){if(yt=N(De),typeof yt!="function")throw Error(n(150));return De=yt.call(De),Et(Ae,Ee,De,Ue)}if(typeof De.then=="function")return Or(Ae,Ee,Pm(De),Ue);if(De.$$typeof===S)return Or(Ae,Ee,jm(Ae,De),Ue);Fm(Ae,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,Ee!==null&&Ee.tag===6?(p(Ae,Ee.sibling),Ue=A(Ee,De),Ue.return=Ae,Ae=Ue):(p(Ae,Ee),Ue=vb(De,Ae.mode,Ue),Ue.return=Ae,Ae=Ue),z(Ae)):p(Ae,Ee)}return function(Ae,Ee,De,Ue){try{Ed=0;var yt=Or(Ae,Ee,De,Ue);return D0=null,yt}catch(pt){if(pt===k0||pt===Im)throw pt;var cr=Ei(29,pt,null,Ae.mode);return cr.lanes=Ue,cr.return=Ae,cr}}}var ru=x5(!0),v5=x5(!1),Il=!1;function jb(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nb(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Rl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Pl(o,c,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(gr&2)!==0){var A=v.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),v.pending=c,c=Tm(o),t5(o,null,p),c}return Cm(o,v,c,p),Tm(o)}function Ad(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,Sr(o,p)}}function Ib(o,c){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var A=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var z={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};D===null?A=D=z:D=D.next=z,p=p.next}while(p!==null);D===null?A=D=c:D=D.next=c}else A=D=c;p={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:D,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var Rb=!1;function Cd(){if(Rb){var o=T0;if(o!==null)throw o}}function Td(o,c,p,v){Rb=!1;var A=o.updateQueue;Il=!1;var D=A.firstBaseUpdate,z=A.lastBaseUpdate,Y=A.shared.pending;if(Y!==null){A.shared.pending=null;var ge=Y,Oe=ge.next;ge.next=null,z===null?D=Oe:z.next=Oe,z=ge;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,Y=ze.lastBaseUpdate,Y!==z&&(Y===null?ze.firstBaseUpdate=Oe:Y.next=Oe,ze.lastBaseUpdate=ge))}if(D!==null){var Ve=A.baseState;z=0,ze=Oe=ge=null,Y=D;do{var Re=Y.lane&-536870913,Be=Re!==Y.lane;if(Be?(qt&Re)===Re:(v&Re)===Re){Re!==0&&Re===C0&&(Rb=!0),ze!==null&&(ze=ze.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var ft=o,Et=Y;Re=c;var Or=p;switch(Et.tag){case 1:if(ft=Et.payload,typeof ft=="function"){Ve=ft.call(Or,Ve,Re);break e}Ve=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Et.payload,Re=typeof ft=="function"?ft.call(Or,Ve,Re):ft,Re==null)break e;Ve=m({},Ve,Re);break e;case 2:Il=!0}}Re=Y.callback,Re!==null&&(o.flags|=64,Be&&(o.flags|=8192),Be=A.callbacks,Be===null?A.callbacks=[Re]:Be.push(Re))}else Be={lane:Re,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ze===null?(Oe=ze=Be,ge=Ve):ze=ze.next=Be,z|=Re;if(Y=Y.next,Y===null){if(Y=A.shared.pending,Y===null)break;Be=Y,Y=Be.next,Be.next=null,A.lastBaseUpdate=Be,A.shared.pending=null}}while(!0);ze===null&&(ge=Ve),A.baseState=ge,A.firstBaseUpdate=Oe,A.lastBaseUpdate=ze,D===null&&(A.shared.lanes=0),zl|=z,o.lanes=z,o.memoizedState=Ve}}function y5(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function b5(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)y5(p[o],c)}var O0=U(null),Bm=U(0);function _5(o,c){o=Bo,te(Bm,o),te(O0,c),Bo=o|c.baseLanes}function Pb(){te(Bm,Bo),te(O0,O0.current)}function Fb(){Bo=Bm.current,Z(O0),Z(Bm)}var Si=U(null),Qi=null;function Fl(o){var c=o.alternate;te(vn,vn.current&1),te(Si,o),Qi===null&&(c===null||O0.current!==null||c.memoizedState!==null)&&(Qi=o)}function Bb(o){te(vn,vn.current),te(Si,o),Qi===null&&(Qi=o)}function w5(o){o.tag===22?(te(vn,vn.current),te(Si,o),Qi===null&&(Qi=o)):Bl()}function Bl(){te(vn,vn.current),te(Si,Si.current)}function Ai(o){Z(Si),Qi===o&&(Qi=null),Z(vn)}var vn=U(0);function Mm(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||$2(p)||H2(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Do=0,Rt=null,kr=null,Tn=null,Lm=!1,j0=!1,nu=!1,zm=0,kd=0,N0=null,b$=0;function cn(){throw Error(n(321))}function Mb(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!wi(o[p],c[p]))return!1;return!0}function Lb(o,c,p,v,A,D){return Do=D,Rt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ae.H=o===null||o.memoizedState===null?ik:e2,nu=!1,D=p(v,A),nu=!1,j0&&(D=S5(c,p,v,A)),E5(o),D}function E5(o){ae.H=jd;var c=kr!==null&&kr.next!==null;if(Do=0,Tn=kr=Rt=null,Lm=!1,kd=0,N0=null,c)throw Error(n(300));o===null||kn||(o=o.dependencies,o!==null&&Om(o)&&(kn=!0))}function S5(o,c,p,v){Rt=o;var A=0;do{if(j0&&(N0=null),kd=0,j0=!1,25<=A)throw Error(n(301));if(A+=1,Tn=kr=null,o.updateQueue!=null){var D=o.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}ae.H=sk,D=c(p,v)}while(j0);return D}function _$(){var o=ae.H,c=o.useState()[0];return c=typeof c.then=="function"?Dd(c):c,o=o.useState()[0],(kr!==null?kr.memoizedState:null)!==o&&(Rt.flags|=1024),c}function zb(){var o=zm!==0;return zm=0,o}function Ub(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Vb(o){if(Lm){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Lm=!1}Do=0,Tn=kr=Rt=null,j0=!1,kd=zm=0,N0=null}function Xa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Rt.memoizedState=Tn=o:Tn=Tn.next=o,Tn}function yn(){if(kr===null){var o=Rt.alternate;o=o!==null?o.memoizedState:null}else o=kr.next;var c=Tn===null?Rt.memoizedState:Tn.next;if(c!==null)Tn=c,kr=o;else{if(o===null)throw Rt.alternate===null?Error(n(467)):Error(n(310));kr=o,o={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Tn===null?Rt.memoizedState=Tn=o:Tn=Tn.next=o}return Tn}function Um(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dd(o){var c=kd;return kd+=1,N0===null&&(N0=[]),o=p5(N0,o,c),c=Rt,(Tn===null?c.memoizedState:Tn.next)===null&&(c=c.alternate,ae.H=c===null||c.memoizedState===null?ik:e2),o}function Vm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Dd(o);if(o.$$typeof===S)return ba(o)}throw Error(n(438,String(o)))}function $b(o){var c=null,p=Rt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=Rt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=Um(),Rt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),v=0;v<o;v++)p[v]=I;return c.index++,p}function Oo(o,c){return typeof c=="function"?c(o):c}function $m(o){var c=yn();return Hb(c,kr,o)}function Hb(o,c,p){var v=o.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=p;var A=o.baseQueue,D=v.pending;if(D!==null){if(A!==null){var z=A.next;A.next=D.next,D.next=z}c.baseQueue=A=D,v.pending=null}if(D=o.baseState,A===null)o.memoizedState=D;else{c=A.next;var Y=z=null,ge=null,Oe=c,ze=!1;do{var Ve=Oe.lane&-536870913;if(Ve!==Oe.lane?(qt&Ve)===Ve:(Do&Ve)===Ve){var Re=Oe.revertLane;if(Re===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ve===C0&&(ze=!0);else if((Do&Re)===Re){Oe=Oe.next,Re===C0&&(ze=!0);continue}else Ve={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ge===null?(Y=ge=Ve,z=D):ge=ge.next=Ve,Rt.lanes|=Re,zl|=Re;Ve=Oe.action,nu&&p(D,Ve),D=Oe.hasEagerState?Oe.eagerState:p(D,Ve)}else Re={lane:Ve,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ge===null?(Y=ge=Re,z=D):ge=ge.next=Re,Rt.lanes|=Ve,zl|=Ve;Oe=Oe.next}while(Oe!==null&&Oe!==c);if(ge===null?z=D:ge.next=Y,!wi(D,o.memoizedState)&&(kn=!0,ze&&(p=T0,p!==null)))throw p;o.memoizedState=D,o.baseState=z,o.baseQueue=ge,v.lastRenderedState=D}return A===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function qb(o){var c=yn(),p=c.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var v=p.dispatch,A=p.pending,D=c.memoizedState;if(A!==null){p.pending=null;var z=A=A.next;do D=o(D,z.action),z=z.next;while(z!==A);wi(D,c.memoizedState)||(kn=!0),c.memoizedState=D,c.baseQueue===null&&(c.baseState=D),p.lastRenderedState=D}return[D,v]}function A5(o,c,p){var v=Rt,A=yn(),D=Qt;if(D){if(p===void 0)throw Error(n(407));p=p()}else p=c();var z=!wi((kr||A).memoizedState,p);if(z&&(A.memoizedState=p,kn=!0),A=A.queue,Kb(k5.bind(null,v,A,o),[o]),A.getSnapshot!==c||z||Tn!==null&&Tn.memoizedState.tag&1){if(v.flags|=2048,I0(9,{destroy:void 0},T5.bind(null,v,A,p,c),null),Fr===null)throw Error(n(349));D||(Do&127)!==0||C5(v,c,p)}return p}function C5(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=Rt.updateQueue,c===null?(c=Um(),Rt.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function T5(o,c,p,v){c.value=p,c.getSnapshot=v,D5(c)&&O5(o)}function k5(o,c,p){return p(function(){D5(c)&&O5(o)})}function D5(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!wi(o,p)}catch{return!0}}function O5(o){var c=Kc(o,2);c!==null&&fi(c,o,2)}function Wb(o){var c=Xa();if(typeof o=="function"){var p=o;if(o=p(),nu){Ot(!0);try{p()}finally{Ot(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:o},c}function j5(o,c,p,v){return o.baseState=p,Hb(o,kr,typeof v=="function"?v:Oo)}function w$(o,c,p,v,A){if(Wm(o))throw Error(n(485));if(o=c.action,o!==null){var D={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){D.listeners.push(z)}};ae.T!==null?p(!0):D.isTransition=!1,v(D),p=c.pending,p===null?(D.next=c.pending=D,N5(c,D)):(D.next=p.next,c.pending=p.next=D)}}function N5(o,c){var p=c.action,v=c.payload,A=o.state;if(c.isTransition){var D=ae.T,z={};ae.T=z;try{var Y=p(A,v),ge=ae.S;ge!==null&&ge(z,Y),I5(o,c,Y)}catch(Oe){Gb(o,c,Oe)}finally{D!==null&&z.types!==null&&(D.types=z.types),ae.T=D}}else try{D=p(A,v),I5(o,c,D)}catch(Oe){Gb(o,c,Oe)}}function I5(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){R5(o,c,v)},function(v){return Gb(o,c,v)}):R5(o,c,p)}function R5(o,c,p){c.status="fulfilled",c.value=p,P5(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,N5(o,p)))}function Gb(o,c,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,P5(c),c=c.next;while(c!==v)}o.action=null}function P5(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function F5(o,c){return c}function B5(o,c){if(Qt){var p=Fr.formState;if(p!==null){e:{var v=Rt;if(Qt){if(Hr){t:{for(var A=Hr,D=Yi;A.nodeType!==8;){if(!D){A=null;break t}if(A=Zi(A.nextSibling),A===null){A=null;break t}}D=A.data,A=D==="F!"||D==="F"?A:null}if(A){Hr=Zi(A.nextSibling),v=A.data==="F!";break e}}jl(v)}v=!1}v&&(c=p[0])}}return p=Xa(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F5,lastRenderedState:c},p.queue=v,p=rk.bind(null,Rt,v),v.dispatch=p,v=Wb(!1),D=Jb.bind(null,Rt,!1,v.queue),v=Xa(),A={state:c,dispatch:null,action:o,pending:null},v.queue=A,p=w$.bind(null,Rt,A,D,p),A.dispatch=p,v.memoizedState=o,[c,p,!1]}function M5(o){var c=yn();return L5(c,kr,o)}function L5(o,c,p){if(c=Hb(o,c,F5)[0],o=$m(Oo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Dd(c)}catch(z){throw z===k0?Im:z}else v=c;c=yn();var A=c.queue,D=A.dispatch;return p!==c.memoizedState&&(Rt.flags|=2048,I0(9,{destroy:void 0},E$.bind(null,A,p),null)),[v,D,o]}function E$(o,c){o.action=c}function z5(o){var c=yn(),p=kr;if(p!==null)return L5(c,p,o);yn(),c=c.memoizedState,p=yn();var v=p.queue.dispatch;return p.memoizedState=o,[c,v,!1]}function I0(o,c,p,v){return o={tag:o,create:p,deps:v,inst:c,next:null},c=Rt.updateQueue,c===null&&(c=Um(),Rt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,c.lastEffect=o),o}function U5(){return yn().memoizedState}function Hm(o,c,p,v){var A=Xa();Rt.flags|=o,A.memoizedState=I0(1|c,{destroy:void 0},p,v===void 0?null:v)}function qm(o,c,p,v){var A=yn();v=v===void 0?null:v;var D=A.memoizedState.inst;kr!==null&&v!==null&&Mb(v,kr.memoizedState.deps)?A.memoizedState=I0(c,D,p,v):(Rt.flags|=o,A.memoizedState=I0(1|c,D,p,v))}function V5(o,c){Hm(8390656,8,o,c)}function Kb(o,c){qm(2048,8,o,c)}function S$(o){Rt.flags|=4;var c=Rt.updateQueue;if(c===null)c=Um(),Rt.updateQueue=c,c.events=[o];else{var p=c.events;p===null?c.events=[o]:p.push(o)}}function $5(o){var c=yn().memoizedState;return S$({ref:c,nextImpl:o}),function(){if((gr&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function H5(o,c){return qm(4,2,o,c)}function q5(o,c){return qm(4,4,o,c)}function W5(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function G5(o,c,p){p=p!=null?p.concat([o]):null,qm(4,4,W5.bind(null,c,o),p)}function Xb(){}function K5(o,c){var p=yn();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&Mb(c,v[1])?v[0]:(p.memoizedState=[o,c],o)}function X5(o,c){var p=yn();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&Mb(c,v[1]))return v[0];if(v=o(),nu){Ot(!0);try{o()}finally{Ot(!1)}}return p.memoizedState=[v,c],v}function Yb(o,c,p){return p===void 0||(Do&1073741824)!==0&&(qt&261930)===0?o.memoizedState=c:(o.memoizedState=p,o=Yk(),Rt.lanes|=o,zl|=o,p)}function Y5(o,c,p,v){return wi(p,c)?p:O0.current!==null?(o=Yb(o,p,v),wi(o,c)||(kn=!0),o):(Do&42)===0||(Do&1073741824)!==0&&(qt&261930)===0?(kn=!0,o.memoizedState=p):(o=Yk(),Rt.lanes|=o,zl|=o,c)}function Q5(o,c,p,v,A){var D=ie.p;ie.p=D!==0&&8>D?D:8;var z=ae.T,Y={};ae.T=Y,Jb(o,!1,c,p);try{var ge=A(),Oe=ae.S;if(Oe!==null&&Oe(Y,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var ze=y$(ge,v);Od(o,c,ze,ki(o))}else Od(o,c,v,ki(o))}catch(Ve){Od(o,c,{then:function(){},status:"rejected",reason:Ve},ki())}finally{ie.p=D,z!==null&&Y.types!==null&&(z.types=Y.types),ae.T=z}}function A$(){}function Qb(o,c,p,v){if(o.tag!==5)throw Error(n(476));var A=Z5(o).queue;Q5(o,A,c,me,p===null?A$:function(){return J5(o),p(v)})}function Z5(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:me},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function J5(o){var c=Z5(o);c.next===null&&(c=o.alternate.memoizedState),Od(o,c.next.queue,{},ki())}function Zb(){return ba(Gd)}function ek(){return yn().memoizedState}function tk(){return yn().memoizedState}function C$(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=ki();o=Rl(p);var v=Pl(c,o,p);v!==null&&(fi(v,c,p),Ad(v,c,p)),c={cache:Tb()},o.payload=c;return}c=c.return}}function T$(o,c,p){var v=ki();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Wm(o)?nk(c,p):(p=gb(o,c,p,v),p!==null&&(fi(p,o,v),ak(p,c,v)))}function rk(o,c,p){var v=ki();Od(o,c,p,v)}function Od(o,c,p,v){var A={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Wm(o))nk(c,A);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=c.lastRenderedReducer,D!==null))try{var z=c.lastRenderedState,Y=D(z,p);if(A.hasEagerState=!0,A.eagerState=Y,wi(Y,z))return Cm(o,c,A,0),Fr===null&&Am(),!1}catch{}if(p=gb(o,c,A,v),p!==null)return fi(p,o,v),ak(p,c,v),!0}return!1}function Jb(o,c,p,v){if(v={lane:2,revertLane:j2(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Wm(o)){if(c)throw Error(n(479))}else c=gb(o,p,v,2),c!==null&&fi(c,o,2)}function Wm(o){var c=o.alternate;return o===Rt||c!==null&&c===Rt}function nk(o,c){j0=Lm=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function ak(o,c,p){if((p&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,Sr(o,p)}}var jd={readContext:ba,use:Vm,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};jd.useEffectEvent=cn;var ik={readContext:ba,use:Vm,useCallback:function(o,c){return Xa().memoizedState=[o,c===void 0?null:c],o},useContext:ba,useEffect:V5,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Hm(4194308,4,W5.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Hm(4194308,4,o,c)},useInsertionEffect:function(o,c){Hm(4,2,o,c)},useMemo:function(o,c){var p=Xa();c=c===void 0?null:c;var v=o();if(nu){Ot(!0);try{o()}finally{Ot(!1)}}return p.memoizedState=[v,c],v},useReducer:function(o,c,p){var v=Xa();if(p!==void 0){var A=p(c);if(nu){Ot(!0);try{p(c)}finally{Ot(!1)}}}else A=c;return v.memoizedState=v.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},v.queue=o,o=o.dispatch=T$.bind(null,Rt,o),[v.memoizedState,o]},useRef:function(o){var c=Xa();return o={current:o},c.memoizedState=o},useState:function(o){o=Wb(o);var c=o.queue,p=rk.bind(null,Rt,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:Xb,useDeferredValue:function(o,c){var p=Xa();return Yb(p,o,c)},useTransition:function(){var o=Wb(!1);return o=Q5.bind(null,Rt,o.queue,!0,!1),Xa().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var v=Rt,A=Xa();if(Qt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=c(),Fr===null)throw Error(n(349));(qt&127)!==0||C5(v,c,p)}A.memoizedState=p;var D={value:p,getSnapshot:c};return A.queue=D,V5(k5.bind(null,v,D,o),[o]),v.flags|=2048,I0(9,{destroy:void 0},T5.bind(null,v,D,p,c),null),p},useId:function(){var o=Xa(),c=Fr.identifierPrefix;if(Qt){var p=Js,v=Zs;p=(v&~(1<<32-mt(v)-1)).toString(32)+p,c="_"+c+"R_"+p,p=zm++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=b$++,c="_"+c+"r_"+p.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Zb,useFormState:B5,useActionState:B5,useOptimistic:function(o){var c=Xa();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=Jb.bind(null,Rt,!0,p),p.dispatch=c,[o,c]},useMemoCache:$b,useCacheRefresh:function(){return Xa().memoizedState=C$.bind(null,Rt)},useEffectEvent:function(o){var c=Xa(),p={impl:o};return c.memoizedState=p,function(){if((gr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},e2={readContext:ba,use:Vm,useCallback:K5,useContext:ba,useEffect:Kb,useImperativeHandle:G5,useInsertionEffect:H5,useLayoutEffect:q5,useMemo:X5,useReducer:$m,useRef:U5,useState:function(){return $m(Oo)},useDebugValue:Xb,useDeferredValue:function(o,c){var p=yn();return Y5(p,kr.memoizedState,o,c)},useTransition:function(){var o=$m(Oo)[0],c=yn().memoizedState;return[typeof o=="boolean"?o:Dd(o),c]},useSyncExternalStore:A5,useId:ek,useHostTransitionStatus:Zb,useFormState:M5,useActionState:M5,useOptimistic:function(o,c){var p=yn();return j5(p,kr,o,c)},useMemoCache:$b,useCacheRefresh:tk};e2.useEffectEvent=$5;var sk={readContext:ba,use:Vm,useCallback:K5,useContext:ba,useEffect:Kb,useImperativeHandle:G5,useInsertionEffect:H5,useLayoutEffect:q5,useMemo:X5,useReducer:qb,useRef:U5,useState:function(){return qb(Oo)},useDebugValue:Xb,useDeferredValue:function(o,c){var p=yn();return kr===null?Yb(p,o,c):Y5(p,kr.memoizedState,o,c)},useTransition:function(){var o=qb(Oo)[0],c=yn().memoizedState;return[typeof o=="boolean"?o:Dd(o),c]},useSyncExternalStore:A5,useId:ek,useHostTransitionStatus:Zb,useFormState:z5,useActionState:z5,useOptimistic:function(o,c){var p=yn();return kr!==null?j5(p,kr,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:$b,useCacheRefresh:tk};sk.useEffectEvent=$5;function t2(o,c,p,v){c=o.memoizedState,p=p(v,c),p=p==null?c:m({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var r2={enqueueSetState:function(o,c,p){o=o._reactInternals;var v=ki(),A=Rl(v);A.payload=c,p!=null&&(A.callback=p),c=Pl(o,A,v),c!==null&&(fi(c,o,v),Ad(c,o,v))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var v=ki(),A=Rl(v);A.tag=1,A.payload=c,p!=null&&(A.callback=p),c=Pl(o,A,v),c!==null&&(fi(c,o,v),Ad(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=ki(),v=Rl(p);v.tag=2,c!=null&&(v.callback=c),c=Pl(o,v,p),c!==null&&(fi(c,o,p),Ad(c,o,p))}};function ok(o,c,p,v,A,D,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,D,z):c.prototype&&c.prototype.isPureReactComponent?!xd(p,v)||!xd(A,D):!0}function lk(o,c,p,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==o&&r2.enqueueReplaceState(c,c.state,null)}function au(o,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(o=o.defaultProps){p===c&&(p=m({},p));for(var A in o)p[A]===void 0&&(p[A]=o[A])}return p}function ck(o){Sm(o)}function uk(o){console.error(o)}function fk(o){Sm(o)}function Gm(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function dk(o,c,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function n2(o,c,p){return p=Rl(p),p.tag=3,p.payload={element:null},p.callback=function(){Gm(o,c)},p}function hk(o){return o=Rl(o),o.tag=3,o}function pk(o,c,p,v){var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var D=v.value;o.payload=function(){return A(D)},o.callback=function(){dk(c,p,v)}}var z=p.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){dk(c,p,v),typeof A!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var Y=v.stack;this.componentDidCatch(v.value,{componentStack:Y!==null?Y:""})})}function k$(o,c,p,v,A){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&A0(c,p,A,!0),p=Si.current,p!==null){switch(p.tag){case 31:case 13:return Qi===null?ig():p.alternate===null&&un===0&&(un=3),p.flags&=-257,p.flags|=65536,p.lanes=A,v===Rm?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),k2(o,v,A)),!1;case 22:return p.flags|=65536,v===Rm?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),k2(o,v,A)),!1}throw Error(n(435,p.tag))}return k2(o,v,A),ig(),!1}if(Qt)return c=Si.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,v!==wb&&(o=Error(n(422),{cause:v}),bd(Gi(o,p)))):(v!==wb&&(c=Error(n(423),{cause:v}),bd(Gi(c,p))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,v=Gi(v,p),A=n2(o.stateNode,v,A),Ib(o,A),un!==4&&(un=2)),!1;var D=Error(n(520),{cause:v});if(D=Gi(D,p),Ld===null?Ld=[D]:Ld.push(D),un!==4&&(un=2),c===null)return!0;v=Gi(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=A&-A,p.lanes|=o,o=n2(p.stateNode,v,o),Ib(p,o),!1;case 1:if(c=p.type,D=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Ul===null||!Ul.has(D))))return p.flags|=65536,A&=-A,p.lanes|=A,A=hk(A),pk(A,o,p,v),Ib(p,A),!1}p=p.return}while(p!==null);return!1}var a2=Error(n(461)),kn=!1;function _a(o,c,p,v){c.child=o===null?v5(c,null,p,v):ru(c,o.child,p,v)}function mk(o,c,p,v,A){p=p.render;var D=c.ref;if("ref"in v){var z={};for(var Y in v)Y!=="ref"&&(z[Y]=v[Y])}else z=v;return Zc(c),v=Lb(o,c,p,z,D,A),Y=zb(),o!==null&&!kn?(Ub(o,c,A),jo(o,c,A)):(Qt&&Y&&bb(c),c.flags|=1,_a(o,c,v,A),c.child)}function gk(o,c,p,v,A){if(o===null){var D=p.type;return typeof D=="function"&&!xb(D)&&D.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=D,xk(o,c,D,v,A)):(o=km(p.type,null,v,c,c.mode,A),o.ref=c.ref,o.return=c,c.child=o)}if(D=o.child,!d2(o,A)){var z=D.memoizedProps;if(p=p.compare,p=p!==null?p:xd,p(z,v)&&o.ref===c.ref)return jo(o,c,A)}return c.flags|=1,o=Ao(D,v),o.ref=c.ref,o.return=c,c.child=o}function xk(o,c,p,v,A){if(o!==null){var D=o.memoizedProps;if(xd(D,v)&&o.ref===c.ref)if(kn=!1,c.pendingProps=v=D,d2(o,A))(o.flags&131072)!==0&&(kn=!0);else return c.lanes=o.lanes,jo(o,c,A)}return i2(o,c,p,v,A)}function vk(o,c,p,v){var A=v.children,D=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(D=D!==null?D.baseLanes|p:p,o!==null){for(v=c.child=o.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~D}else v=0,c.child=null;return yk(o,c,D,p,v)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Nm(c,D!==null?D.cachePool:null),D!==null?_5(c,D):Pb(),w5(c);else return v=c.lanes=536870912,yk(o,c,D!==null?D.baseLanes|p:p,p,v)}else D!==null?(Nm(c,D.cachePool),_5(c,D),Bl(),c.memoizedState=null):(o!==null&&Nm(c,null),Pb(),Bl());return _a(o,c,A,p),c.child}function Nd(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function yk(o,c,p,v,A){var D=Db();return D=D===null?null:{parent:Cn._currentValue,pool:D},c.memoizedState={baseLanes:p,cachePool:D},o!==null&&Nm(c,null),Pb(),w5(c),o!==null&&A0(o,c,v,!0),c.childLanes=A,null}function Km(o,c){return c=Ym({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function bk(o,c,p){return ru(c,o.child,null,p),o=Km(c,c.pendingProps),o.flags|=2,Ai(c),c.memoizedState=null,o}function D$(o,c,p){var v=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Qt){if(v.mode==="hidden")return o=Km(c,v),c.lanes=536870912,Nd(null,o);if(Bb(c),(o=Hr)?(o=N3(o,Yi),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Dl!==null?{id:Zs,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},p=n5(o),p.return=c,c.child=p,ya=c,Hr=null)):o=null,o===null)throw jl(c);return c.lanes=536870912,null}return Km(c,v)}var D=o.memoizedState;if(D!==null){var z=D.dehydrated;if(Bb(c),A)if(c.flags&256)c.flags&=-257,c=bk(o,c,p);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(kn||A0(o,c,p,!1),A=(p&o.childLanes)!==0,kn||A){if(v=Fr,v!==null&&(z=an(v,p),z!==0&&z!==D.retryLane))throw D.retryLane=z,Kc(o,z),fi(v,o,z),a2;ig(),c=bk(o,c,p)}else o=D.treeContext,Hr=Zi(z.nextSibling),ya=c,Qt=!0,Ol=null,Yi=!1,o!==null&&s5(c,o),c=Km(c,v),c.flags|=4096;return c}return o=Ao(o.child,{mode:v.mode,children:v.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Xm(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function i2(o,c,p,v,A){return Zc(c),p=Lb(o,c,p,v,void 0,A),v=zb(),o!==null&&!kn?(Ub(o,c,A),jo(o,c,A)):(Qt&&v&&bb(c),c.flags|=1,_a(o,c,p,A),c.child)}function _k(o,c,p,v,A,D){return Zc(c),c.updateQueue=null,p=S5(c,v,p,A),E5(o),v=zb(),o!==null&&!kn?(Ub(o,c,D),jo(o,c,D)):(Qt&&v&&bb(c),c.flags|=1,_a(o,c,p,D),c.child)}function wk(o,c,p,v,A){if(Zc(c),c.stateNode===null){var D=_0,z=p.contextType;typeof z=="object"&&z!==null&&(D=ba(z)),D=new p(v,D),c.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=r2,c.stateNode=D,D._reactInternals=c,D=c.stateNode,D.props=v,D.state=c.memoizedState,D.refs={},jb(c),z=p.contextType,D.context=typeof z=="object"&&z!==null?ba(z):_0,D.state=c.memoizedState,z=p.getDerivedStateFromProps,typeof z=="function"&&(t2(c,p,z,v),D.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(z=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),z!==D.state&&r2.enqueueReplaceState(D,D.state,null),Td(c,v,D,A),Cd(),D.state=c.memoizedState),typeof D.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){D=c.stateNode;var Y=c.memoizedProps,ge=au(p,Y);D.props=ge;var Oe=D.context,ze=p.contextType;z=_0,typeof ze=="object"&&ze!==null&&(z=ba(ze));var Ve=p.getDerivedStateFromProps;ze=typeof Ve=="function"||typeof D.getSnapshotBeforeUpdate=="function",Y=c.pendingProps!==Y,ze||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Y||Oe!==z)&&lk(c,D,v,z),Il=!1;var Re=c.memoizedState;D.state=Re,Td(c,v,D,A),Cd(),Oe=c.memoizedState,Y||Re!==Oe||Il?(typeof Ve=="function"&&(t2(c,p,Ve,v),Oe=c.memoizedState),(ge=Il||ok(c,p,ge,v,Re,Oe,z))?(ze||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Oe),D.props=v,D.state=Oe,D.context=z,v=ge):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{D=c.stateNode,Nb(o,c),z=c.memoizedProps,ze=au(p,z),D.props=ze,Ve=c.pendingProps,Re=D.context,Oe=p.contextType,ge=_0,typeof Oe=="object"&&Oe!==null&&(ge=ba(Oe)),Y=p.getDerivedStateFromProps,(Oe=typeof Y=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==Ve||Re!==ge)&&lk(c,D,v,ge),Il=!1,Re=c.memoizedState,D.state=Re,Td(c,v,D,A),Cd();var Be=c.memoizedState;z!==Ve||Re!==Be||Il||o!==null&&o.dependencies!==null&&Om(o.dependencies)?(typeof Y=="function"&&(t2(c,p,Y,v),Be=c.memoizedState),(ze=Il||ok(c,p,ze,v,Re,Be,ge)||o!==null&&o.dependencies!==null&&Om(o.dependencies))?(Oe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,Be,ge),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,Be,ge)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||z===o.memoizedProps&&Re===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Re===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Be),D.props=v,D.state=Be,D.context=ge,v=ze):(typeof D.componentDidUpdate!="function"||z===o.memoizedProps&&Re===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Re===o.memoizedState||(c.flags|=1024),v=!1)}return D=v,Xm(o,c),v=(c.flags&128)!==0,D||v?(D=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:D.render(),c.flags|=1,o!==null&&v?(c.child=ru(c,o.child,null,A),c.child=ru(c,null,p,A)):_a(o,c,p,A),c.memoizedState=D.state,o=c.child):o=jo(o,c,A),o}function Ek(o,c,p,v){return Yc(),c.flags|=256,_a(o,c,p,v),c.child}var s2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function o2(o){return{baseLanes:o,cachePool:d5()}}function l2(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=Ti),o}function Sk(o,c,p){var v=c.pendingProps,A=!1,D=(c.flags&128)!==0,z;if((z=D)||(z=o!==null&&o.memoizedState===null?!1:(vn.current&2)!==0),z&&(A=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(Qt){if(A?Fl(c):Bl(),(o=Hr)?(o=N3(o,Yi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Dl!==null?{id:Zs,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},p=n5(o),p.return=c,c.child=p,ya=c,Hr=null)):o=null,o===null)throw jl(c);return H2(o)?c.lanes=32:c.lanes=536870912,null}var Y=v.children;return v=v.fallback,A?(Bl(),A=c.mode,Y=Ym({mode:"hidden",children:Y},A),v=Xc(v,A,p,null),Y.return=c,v.return=c,Y.sibling=v,c.child=Y,v=c.child,v.memoizedState=o2(p),v.childLanes=l2(o,z,p),c.memoizedState=s2,Nd(null,v)):(Fl(c),c2(c,Y))}var ge=o.memoizedState;if(ge!==null&&(Y=ge.dehydrated,Y!==null)){if(D)c.flags&256?(Fl(c),c.flags&=-257,c=u2(o,c,p)):c.memoizedState!==null?(Bl(),c.child=o.child,c.flags|=128,c=null):(Bl(),Y=v.fallback,A=c.mode,v=Ym({mode:"visible",children:v.children},A),Y=Xc(Y,A,p,null),Y.flags|=2,v.return=c,Y.return=c,v.sibling=Y,c.child=v,ru(c,o.child,null,p),v=c.child,v.memoizedState=o2(p),v.childLanes=l2(o,z,p),c.memoizedState=s2,c=Nd(null,v));else if(Fl(c),H2(Y)){if(z=Y.nextSibling&&Y.nextSibling.dataset,z)var Oe=z.dgst;z=Oe,v=Error(n(419)),v.stack="",v.digest=z,bd({value:v,source:null,stack:null}),c=u2(o,c,p)}else if(kn||A0(o,c,p,!1),z=(p&o.childLanes)!==0,kn||z){if(z=Fr,z!==null&&(v=an(z,p),v!==0&&v!==ge.retryLane))throw ge.retryLane=v,Kc(o,v),fi(z,o,v),a2;$2(Y)||ig(),c=u2(o,c,p)}else $2(Y)?(c.flags|=192,c.child=o.child,c=null):(o=ge.treeContext,Hr=Zi(Y.nextSibling),ya=c,Qt=!0,Ol=null,Yi=!1,o!==null&&s5(c,o),c=c2(c,v.children),c.flags|=4096);return c}return A?(Bl(),Y=v.fallback,A=c.mode,ge=o.child,Oe=ge.sibling,v=Ao(ge,{mode:"hidden",children:v.children}),v.subtreeFlags=ge.subtreeFlags&65011712,Oe!==null?Y=Ao(Oe,Y):(Y=Xc(Y,A,p,null),Y.flags|=2),Y.return=c,v.return=c,v.sibling=Y,c.child=v,Nd(null,v),v=c.child,Y=o.child.memoizedState,Y===null?Y=o2(p):(A=Y.cachePool,A!==null?(ge=Cn._currentValue,A=A.parent!==ge?{parent:ge,pool:ge}:A):A=d5(),Y={baseLanes:Y.baseLanes|p,cachePool:A}),v.memoizedState=Y,v.childLanes=l2(o,z,p),c.memoizedState=s2,Nd(o.child,v)):(Fl(c),p=o.child,o=p.sibling,p=Ao(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=p,c.memoizedState=null,p)}function c2(o,c){return c=Ym({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Ym(o,c){return o=Ei(22,o,null,c),o.lanes=0,o}function u2(o,c,p){return ru(c,o.child,null,p),o=c2(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Ak(o,c,p){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),Ab(o.return,c,p)}function f2(o,c,p,v,A,D){var z=o.memoizedState;z===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:A,treeForkCount:D}:(z.isBackwards=c,z.rendering=null,z.renderingStartTime=0,z.last=v,z.tail=p,z.tailMode=A,z.treeForkCount=D)}function Ck(o,c,p){var v=c.pendingProps,A=v.revealOrder,D=v.tail;v=v.children;var z=vn.current,Y=(z&2)!==0;if(Y?(z=z&1|2,c.flags|=128):z&=1,te(vn,z),_a(o,c,v,p),v=Qt?yd:0,!Y&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Ak(o,p,c);else if(o.tag===19)Ak(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(A){case"forwards":for(p=c.child,A=null;p!==null;)o=p.alternate,o!==null&&Mm(o)===null&&(A=p),p=p.sibling;p=A,p===null?(A=c.child,c.child=null):(A=p.sibling,p.sibling=null),f2(c,!1,A,p,D,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,A=c.child,c.child=null;A!==null;){if(o=A.alternate,o!==null&&Mm(o)===null){c.child=A;break}o=A.sibling,A.sibling=p,p=A,A=o}f2(c,!0,p,null,D,v);break;case"together":f2(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function jo(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),zl|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(A0(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,p=Ao(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=Ao(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function d2(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Om(o)))}function O$(o,c,p){switch(c.tag){case 3:X(c,c.stateNode.containerInfo),Nl(c,Cn,o.memoizedState.cache),Yc();break;case 27:case 5:ue(c);break;case 4:X(c,c.stateNode.containerInfo);break;case 10:Nl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Bb(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Fl(c),c.flags|=128,null):(p&c.child.childLanes)!==0?Sk(o,c,p):(Fl(c),o=jo(o,c,p),o!==null?o.sibling:null);Fl(c);break;case 19:var A=(o.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||(A0(o,c,p,!1),v=(p&c.childLanes)!==0),A){if(v)return Ck(o,c,p);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),te(vn,vn.current),v)break;return null;case 22:return c.lanes=0,vk(o,c,p,c.pendingProps);case 24:Nl(c,Cn,o.memoizedState.cache)}return jo(o,c,p)}function Tk(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)kn=!0;else{if(!d2(o,p)&&(c.flags&128)===0)return kn=!1,O$(o,c,p);kn=(o.flags&131072)!==0}else kn=!1,Qt&&(c.flags&1048576)!==0&&i5(c,yd,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(o=eu(c.elementType),c.type=o,typeof o=="function")xb(o)?(v=au(o,v),c.tag=1,c=wk(null,c,o,v,p)):(c.tag=0,c=i2(null,c,o,v,p));else{if(o!=null){var A=o.$$typeof;if(A===O){c.tag=11,c=mk(null,c,o,v,p);break e}else if(A===j){c.tag=14,c=gk(null,c,o,v,p);break e}}throw c=ce(o)||o,Error(n(306,c,""))}}return c;case 0:return i2(o,c,c.type,c.pendingProps,p);case 1:return v=c.type,A=au(v,c.pendingProps),wk(o,c,v,A,p);case 3:e:{if(X(c,c.stateNode.containerInfo),o===null)throw Error(n(387));v=c.pendingProps;var D=c.memoizedState;A=D.element,Nb(o,c),Td(c,v,null,p);var z=c.memoizedState;if(v=z.cache,Nl(c,Cn,v),v!==D.cache&&Cb(c,[Cn],p,!0),Cd(),v=z.element,D.isDehydrated)if(D={element:v,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=D,c.memoizedState=D,c.flags&256){c=Ek(o,c,v,p);break e}else if(v!==A){A=Gi(Error(n(424)),c),bd(A),c=Ek(o,c,v,p);break e}else for(o=c.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,Hr=Zi(o.firstChild),ya=c,Qt=!0,Ol=null,Yi=!0,p=v5(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Yc(),v===A){c=jo(o,c,p);break e}_a(o,c,v,p)}c=c.child}return c;case 26:return Xm(o,c),o===null?(p=M3(c.type,null,c.pendingProps,null))?c.memoizedState=p:Qt||(p=c.type,o=c.pendingProps,v=dg(Te.current).createElement(p),v[re]=c,v[se]=o,wa(v,p,o),ct(v),c.stateNode=v):c.memoizedState=M3(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return ue(c),o===null&&Qt&&(v=c.stateNode=P3(c.type,c.pendingProps,Te.current),ya=c,Yi=!0,A=Hr,ql(c.type)?(q2=A,Hr=Zi(v.firstChild)):Hr=A),_a(o,c,c.pendingProps.children,p),Xm(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Qt&&((A=v=Hr)&&(v=sH(v,c.type,c.pendingProps,Yi),v!==null?(c.stateNode=v,ya=c,Hr=Zi(v.firstChild),Yi=!1,A=!0):A=!1),A||jl(c)),ue(c),A=c.type,D=c.pendingProps,z=o!==null?o.memoizedProps:null,v=D.children,z2(A,D)?v=null:z!==null&&z2(A,z)&&(c.flags|=32),c.memoizedState!==null&&(A=Lb(o,c,_$,null,null,p),Gd._currentValue=A),Xm(o,c),_a(o,c,v,p),c.child;case 6:return o===null&&Qt&&((o=p=Hr)&&(p=oH(p,c.pendingProps,Yi),p!==null?(c.stateNode=p,ya=c,Hr=null,o=!0):o=!1),o||jl(c)),null;case 13:return Sk(o,c,p);case 4:return X(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=ru(c,null,v,p):_a(o,c,v,p),c.child;case 11:return mk(o,c,c.type,c.pendingProps,p);case 7:return _a(o,c,c.pendingProps,p),c.child;case 8:return _a(o,c,c.pendingProps.children,p),c.child;case 12:return _a(o,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,Nl(c,c.type,v.value),_a(o,c,v.children,p),c.child;case 9:return A=c.type._context,v=c.pendingProps.children,Zc(c),A=ba(A),v=v(A),c.flags|=1,_a(o,c,v,p),c.child;case 14:return gk(o,c,c.type,c.pendingProps,p);case 15:return xk(o,c,c.type,c.pendingProps,p);case 19:return Ck(o,c,p);case 31:return D$(o,c,p);case 22:return vk(o,c,p,c.pendingProps);case 24:return Zc(c),v=ba(Cn),o===null?(A=Db(),A===null&&(A=Fr,D=Tb(),A.pooledCache=D,D.refCount++,D!==null&&(A.pooledCacheLanes|=p),A=D),c.memoizedState={parent:v,cache:A},jb(c),Nl(c,Cn,A)):((o.lanes&p)!==0&&(Nb(o,c),Td(c,null,null,p),Cd()),A=o.memoizedState,D=c.memoizedState,A.parent!==v?(A={parent:v,cache:v},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),Nl(c,Cn,v)):(v=D.cache,Nl(c,Cn,v),v!==A.cache&&Cb(c,[Cn],p,!0))),_a(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function No(o){o.flags|=4}function h2(o,c,p,v,A){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(A&335544128)===A)if(o.stateNode.complete)o.flags|=8192;else if(e3())o.flags|=8192;else throw tu=Rm,Ob}else o.flags&=-16777217}function kk(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!$3(c))if(e3())o.flags|=8192;else throw tu=Rm,Ob}function Qm(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Vi():536870912,o.lanes|=c,B0|=c)}function Id(o,c){if(!Qt)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function qr(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(c)for(var A=o.child;A!==null;)p|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)p|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=v,o.childLanes=p,c}function j$(o,c,p){var v=c.pendingProps;switch(_b(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(c),null;case 1:return qr(c),null;case 3:return p=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),ko(Cn),Q(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(S0(c)?No(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Eb())),qr(c),null;case 26:var A=c.type,D=c.memoizedState;return o===null?(No(c),D!==null?(qr(c),kk(c,D)):(qr(c),h2(c,A,null,v,p))):D?D!==o.memoizedState?(No(c),qr(c),kk(c,D)):(qr(c),c.flags&=-16777217):(o=o.memoizedProps,o!==v&&No(c),qr(c),h2(c,A,o,v,p)),null;case 27:if(q(c),p=Te.current,A=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&No(c);else{if(!v){if(c.stateNode===null)throw Error(n(166));return qr(c),null}o=W.current,S0(c)?o5(c):(o=P3(A,v,p),c.stateNode=o,No(c))}return qr(c),null;case 5:if(q(c),A=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&No(c);else{if(!v){if(c.stateNode===null)throw Error(n(166));return qr(c),null}if(D=W.current,S0(c))o5(c);else{var z=dg(Te.current);switch(D){case 1:D=z.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:D=z.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":D=z.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":D=z.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":D=z.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof v.is=="string"?z.createElement("select",{is:v.is}):z.createElement("select"),v.multiple?D.multiple=!0:v.size&&(D.size=v.size);break;default:D=typeof v.is=="string"?z.createElement(A,{is:v.is}):z.createElement(A)}}D[re]=c,D[se]=v;e:for(z=c.child;z!==null;){if(z.tag===5||z.tag===6)D.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===c)break e;for(;z.sibling===null;){if(z.return===null||z.return===c)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}c.stateNode=D;e:switch(wa(D,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&No(c)}}return qr(c),h2(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,p),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&No(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(n(166));if(o=Te.current,S0(c)){if(o=c.stateNode,p=c.memoizedProps,v=null,A=ya,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}o[re]=c,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||S3(o.nodeValue,p)),o||jl(c,!0)}else o=dg(o).createTextNode(v),o[re]=c,c.stateNode=o}return qr(c),null;case 31:if(p=c.memoizedState,o===null||o.memoizedState!==null){if(v=S0(c),p!==null){if(o===null){if(!v)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[re]=c}else Yc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;qr(c),o=!1}else p=Eb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),o=!0;if(!o)return c.flags&256?(Ai(c),c):(Ai(c),null);if((c.flags&128)!==0)throw Error(n(558))}return qr(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=S0(c),v!==null&&v.dehydrated!==null){if(o===null){if(!A)throw Error(n(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[re]=c}else Yc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;qr(c),A=!1}else A=Eb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(Ai(c),c):(Ai(c),null)}return Ai(c),(c.flags&128)!==0?(c.lanes=p,c):(p=v!==null,o=o!==null&&o.memoizedState!==null,p&&(v=c.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),D=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(D=v.memoizedState.cachePool.pool),D!==A&&(v.flags|=2048)),p!==o&&p&&(c.child.flags|=8192),Qm(c,c.updateQueue),qr(c),null);case 4:return Q(),o===null&&P2(c.stateNode.containerInfo),qr(c),null;case 10:return ko(c.type),qr(c),null;case 19:if(Z(vn),v=c.memoizedState,v===null)return qr(c),null;if(A=(c.flags&128)!==0,D=v.rendering,D===null)if(A)Id(v,!1);else{if(un!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(D=Mm(o),D!==null){for(c.flags|=128,Id(v,!1),o=D.updateQueue,c.updateQueue=o,Qm(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)r5(p,o),p=p.sibling;return te(vn,vn.current&1|2),Qt&&Co(c,v.treeForkCount),c.child}o=o.sibling}v.tail!==null&&Qe()>rg&&(c.flags|=128,A=!0,Id(v,!1),c.lanes=4194304)}else{if(!A)if(o=Mm(D),o!==null){if(c.flags|=128,A=!0,o=o.updateQueue,c.updateQueue=o,Qm(c,o),Id(v,!0),v.tail===null&&v.tailMode==="hidden"&&!D.alternate&&!Qt)return qr(c),null}else 2*Qe()-v.renderingStartTime>rg&&p!==536870912&&(c.flags|=128,A=!0,Id(v,!1),c.lanes=4194304);v.isBackwards?(D.sibling=c.child,c.child=D):(o=v.last,o!==null?o.sibling=D:c.child=D,v.last=D)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Qe(),o.sibling=null,p=vn.current,te(vn,A?p&1|2:p&1),Qt&&Co(c,v.treeForkCount),o):(qr(c),null);case 22:case 23:return Ai(c),Fb(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&(qr(c),c.subtreeFlags&6&&(c.flags|=8192)):qr(c),p=c.updateQueue,p!==null&&Qm(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),o!==null&&Z(Jc),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),ko(Cn),qr(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function N$(o,c){switch(_b(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ko(Cn),Q(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return q(c),null;case 31:if(c.memoizedState!==null){if(Ai(c),c.alternate===null)throw Error(n(340));Yc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Ai(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Yc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Z(vn),null;case 4:return Q(),null;case 10:return ko(c.type),null;case 22:case 23:return Ai(c),Fb(),o!==null&&Z(Jc),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ko(Cn),null;case 25:return null;default:return null}}function Dk(o,c){switch(_b(c),c.tag){case 3:ko(Cn),Q();break;case 26:case 27:case 5:q(c);break;case 4:Q();break;case 31:c.memoizedState!==null&&Ai(c);break;case 13:Ai(c);break;case 19:Z(vn);break;case 10:ko(c.type);break;case 22:case 23:Ai(c),Fb(),o!==null&&Z(Jc);break;case 24:ko(Cn)}}function Rd(o,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var A=v.next;p=A;do{if((p.tag&o)===o){v=void 0;var D=p.create,z=p.inst;v=D(),z.destroy=v}p=p.next}while(p!==A)}}catch(Y){wr(c,c.return,Y)}}function Ml(o,c,p){try{var v=c.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var D=A.next;v=D;do{if((v.tag&o)===o){var z=v.inst,Y=z.destroy;if(Y!==void 0){z.destroy=void 0,A=c;var ge=p,Oe=Y;try{Oe()}catch(ze){wr(A,ge,ze)}}}v=v.next}while(v!==D)}}catch(ze){wr(c,c.return,ze)}}function Ok(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{b5(c,p)}catch(v){wr(o,o.return,v)}}}function jk(o,c,p){p.props=au(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){wr(o,c,v)}}function Pd(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(A){wr(o,c,A)}}function eo(o,c){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(A){wr(o,c,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(A){wr(o,c,A)}else p.current=null}function Nk(o){var c=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(A){wr(o,o.return,A)}}function p2(o,c,p){try{var v=o.stateNode;eH(v,o.type,p,c),v[se]=c}catch(A){wr(o,o.return,A)}}function Ik(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ql(o.type)||o.tag===4}function m2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Ik(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ql(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function g2(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=bs));else if(v!==4&&(v===27&&ql(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(g2(o,c,p),o=o.sibling;o!==null;)g2(o,c,p),o=o.sibling}function Zm(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(v!==4&&(v===27&&ql(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Zm(o,c,p),o=o.sibling;o!==null;)Zm(o,c,p),o=o.sibling}function Rk(o){var c=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);wa(c,v,p),c[re]=o,c[se]=p}catch(D){wr(o,o.return,D)}}var Io=!1,Dn=!1,x2=!1,Pk=typeof WeakSet=="function"?WeakSet:Set,oa=null;function I$(o,c){if(o=o.containerInfo,M2=yg,o=GT(o),ub(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var A=v.anchorOffset,D=v.focusNode;v=v.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var z=0,Y=-1,ge=-1,Oe=0,ze=0,Ve=o,Re=null;t:for(;;){for(var Be;Ve!==p||A!==0&&Ve.nodeType!==3||(Y=z+A),Ve!==D||v!==0&&Ve.nodeType!==3||(ge=z+v),Ve.nodeType===3&&(z+=Ve.nodeValue.length),(Be=Ve.firstChild)!==null;)Re=Ve,Ve=Be;for(;;){if(Ve===o)break t;if(Re===p&&++Oe===A&&(Y=z),Re===D&&++ze===v&&(ge=z),(Be=Ve.nextSibling)!==null)break;Ve=Re,Re=Ve.parentNode}Ve=Be}p=Y===-1||ge===-1?null:{start:Y,end:ge}}else p=null}p=p||{start:0,end:0}}else p=null;for(L2={focusedElem:o,selectionRange:p},yg=!1,oa=c;oa!==null;)if(c=oa,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,oa=o;else for(;oa!==null;){switch(c=oa,D=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(p=0;p<o.length;p++)A=o[p],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&D!==null){o=void 0,p=c,A=D.memoizedProps,D=D.memoizedState,v=p.stateNode;try{var ft=au(p.type,A);o=v.getSnapshotBeforeUpdate(ft,D),v.__reactInternalSnapshotBeforeUpdate=o}catch(Et){wr(p,p.return,Et)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)V2(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":V2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,oa=o;break}oa=c.return}}function Fk(o,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Po(o,p),v&4&&Rd(5,p);break;case 1:if(Po(o,p),v&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(z){wr(p,p.return,z)}else{var A=au(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(A,c,o.__reactInternalSnapshotBeforeUpdate)}catch(z){wr(p,p.return,z)}}v&64&&Ok(p),v&512&&Pd(p,p.return);break;case 3:if(Po(o,p),v&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{b5(o,c)}catch(z){wr(p,p.return,z)}}break;case 27:c===null&&v&4&&Rk(p);case 26:case 5:Po(o,p),c===null&&v&4&&Nk(p),v&512&&Pd(p,p.return);break;case 12:Po(o,p);break;case 31:Po(o,p),v&4&&Lk(o,p);break;case 13:Po(o,p),v&4&&zk(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=V$.bind(null,p),lH(o,p))));break;case 22:if(v=p.memoizedState!==null||Io,!v){c=c!==null&&c.memoizedState!==null||Dn,A=Io;var D=Dn;Io=v,(Dn=c)&&!D?Fo(o,p,(p.subtreeFlags&8772)!==0):Po(o,p),Io=A,Dn=D}break;case 30:break;default:Po(o,p)}}function Bk(o){var c=o.alternate;c!==null&&(o.alternate=null,Bk(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Ie(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Zr=null,oi=!1;function Ro(o,c,p){for(p=p.child;p!==null;)Mk(o,c,p),p=p.sibling}function Mk(o,c,p){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(bt,p)}catch{}switch(p.tag){case 26:Dn||eo(p,c),Ro(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Dn||eo(p,c);var v=Zr,A=oi;ql(p.type)&&(Zr=p.stateNode,oi=!1),Ro(o,c,p),Hd(p.stateNode),Zr=v,oi=A;break;case 5:Dn||eo(p,c);case 6:if(v=Zr,A=oi,Zr=null,Ro(o,c,p),Zr=v,oi=A,Zr!==null)if(oi)try{(Zr.nodeType===9?Zr.body:Zr.nodeName==="HTML"?Zr.ownerDocument.body:Zr).removeChild(p.stateNode)}catch(D){wr(p,c,D)}else try{Zr.removeChild(p.stateNode)}catch(D){wr(p,c,D)}break;case 18:Zr!==null&&(oi?(o=Zr,O3(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),q0(o)):O3(Zr,p.stateNode));break;case 4:v=Zr,A=oi,Zr=p.stateNode.containerInfo,oi=!0,Ro(o,c,p),Zr=v,oi=A;break;case 0:case 11:case 14:case 15:Ml(2,p,c),Dn||Ml(4,p,c),Ro(o,c,p);break;case 1:Dn||(eo(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&jk(p,c,v)),Ro(o,c,p);break;case 21:Ro(o,c,p);break;case 22:Dn=(v=Dn)||p.memoizedState!==null,Ro(o,c,p),Dn=v;break;default:Ro(o,c,p)}}function Lk(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{q0(o)}catch(p){wr(c,c.return,p)}}}function zk(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{q0(o)}catch(p){wr(c,c.return,p)}}function R$(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Pk),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Pk),c;default:throw Error(n(435,o.tag))}}function Jm(o,c){var p=R$(o);c.forEach(function(v){if(!p.has(v)){p.add(v);var A=$$.bind(null,o,v);v.then(A,A)}})}function li(o,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var A=p[v],D=o,z=c,Y=z;e:for(;Y!==null;){switch(Y.tag){case 27:if(ql(Y.type)){Zr=Y.stateNode,oi=!1;break e}break;case 5:Zr=Y.stateNode,oi=!1;break e;case 3:case 4:Zr=Y.stateNode.containerInfo,oi=!0;break e}Y=Y.return}if(Zr===null)throw Error(n(160));Mk(D,z,A),Zr=null,oi=!1,D=A.alternate,D!==null&&(D.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Uk(c,o),c=c.sibling}var Cs=null;function Uk(o,c){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:li(c,o),ci(o),v&4&&(Ml(3,o,o.return),Rd(3,o),Ml(5,o,o.return));break;case 1:li(c,o),ci(o),v&512&&(Dn||p===null||eo(p,p.return)),v&64&&Io&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var A=Cs;if(li(c,o),ci(o),v&512&&(Dn||p===null||eo(p,p.return)),v&4){var D=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":D=A.getElementsByTagName("title")[0],(!D||D[ye]||D[re]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=A.createElement(v),A.head.insertBefore(D,A.querySelector("head > title"))),wa(D,v,p),D[re]=o,ct(D),v=D;break e;case"link":var z=U3("link","href",A).get(v+(p.href||""));if(z){for(var Y=0;Y<z.length;Y++)if(D=z[Y],D.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&D.getAttribute("rel")===(p.rel==null?null:p.rel)&&D.getAttribute("title")===(p.title==null?null:p.title)&&D.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){z.splice(Y,1);break t}}D=A.createElement(v),wa(D,v,p),A.head.appendChild(D);break;case"meta":if(z=U3("meta","content",A).get(v+(p.content||""))){for(Y=0;Y<z.length;Y++)if(D=z[Y],D.getAttribute("content")===(p.content==null?null:""+p.content)&&D.getAttribute("name")===(p.name==null?null:p.name)&&D.getAttribute("property")===(p.property==null?null:p.property)&&D.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&D.getAttribute("charset")===(p.charSet==null?null:p.charSet)){z.splice(Y,1);break t}}D=A.createElement(v),wa(D,v,p),A.head.appendChild(D);break;default:throw Error(n(468,v))}D[re]=o,ct(D),v=D}o.stateNode=v}else V3(A,o.type,o.stateNode);else o.stateNode=z3(A,v,o.memoizedProps);else D!==v?(D===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):D.count--,v===null?V3(A,o.type,o.stateNode):z3(A,v,o.memoizedProps)):v===null&&o.stateNode!==null&&p2(o,o.memoizedProps,p.memoizedProps)}break;case 27:li(c,o),ci(o),v&512&&(Dn||p===null||eo(p,p.return)),p!==null&&v&4&&p2(o,o.memoizedProps,p.memoizedProps);break;case 5:if(li(c,o),ci(o),v&512&&(Dn||p===null||eo(p,p.return)),o.flags&32){A=o.stateNode;try{si(A,"")}catch(ft){wr(o,o.return,ft)}}v&4&&o.stateNode!=null&&(A=o.memoizedProps,p2(o,A,p!==null?p.memoizedProps:A)),v&1024&&(x2=!0);break;case 6:if(li(c,o),ci(o),v&4){if(o.stateNode===null)throw Error(n(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(ft){wr(o,o.return,ft)}}break;case 3:if(mg=null,A=Cs,Cs=hg(c.containerInfo),li(c,o),Cs=A,ci(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{q0(c.containerInfo)}catch(ft){wr(o,o.return,ft)}x2&&(x2=!1,Vk(o));break;case 4:v=Cs,Cs=hg(o.stateNode.containerInfo),li(c,o),ci(o),Cs=v;break;case 12:li(c,o),ci(o);break;case 31:li(c,o),ci(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Jm(o,v)));break;case 13:li(c,o),ci(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(tg=Qe()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Jm(o,v)));break;case 22:A=o.memoizedState!==null;var ge=p!==null&&p.memoizedState!==null,Oe=Io,ze=Dn;if(Io=Oe||A,Dn=ze||ge,li(c,o),Dn=ze,Io=Oe,ci(o),v&8192)e:for(c=o.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(p===null||ge||Io||Dn||iu(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){ge=p=c;try{if(D=ge.stateNode,A)z=D.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{Y=ge.stateNode;var Ve=ge.memoizedProps.style,Re=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;Y.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(ft){wr(ge,ge.return,ft)}}}else if(c.tag===6){if(p===null){ge=c;try{ge.stateNode.nodeValue=A?"":ge.memoizedProps}catch(ft){wr(ge,ge.return,ft)}}}else if(c.tag===18){if(p===null){ge=c;try{var Be=ge.stateNode;A?j3(Be,!0):j3(ge.stateNode,!1)}catch(ft){wr(ge,ge.return,ft)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,Jm(o,p))));break;case 19:li(c,o),ci(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Jm(o,v)));break;case 30:break;case 21:break;default:li(c,o),ci(o)}}function ci(o){var c=o.flags;if(c&2){try{for(var p,v=o.return;v!==null;){if(Ik(v)){p=v;break}v=v.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var A=p.stateNode,D=m2(o);Zm(o,D,A);break;case 5:var z=p.stateNode;p.flags&32&&(si(z,""),p.flags&=-33);var Y=m2(o);Zm(o,Y,z);break;case 3:case 4:var ge=p.stateNode.containerInfo,Oe=m2(o);g2(o,Oe,ge);break;default:throw Error(n(161))}}catch(ze){wr(o,o.return,ze)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Vk(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Vk(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Po(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Fk(o,c.alternate,c),c=c.sibling}function iu(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ml(4,c,c.return),iu(c);break;case 1:eo(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&jk(c,c.return,p),iu(c);break;case 27:Hd(c.stateNode);case 26:case 5:eo(c,c.return),iu(c);break;case 22:c.memoizedState===null&&iu(c);break;case 30:iu(c);break;default:iu(c)}o=o.sibling}}function Fo(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,A=o,D=c,z=D.flags;switch(D.tag){case 0:case 11:case 15:Fo(A,D,p),Rd(4,D);break;case 1:if(Fo(A,D,p),v=D,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Oe){wr(v,v.return,Oe)}if(v=D,A=v.updateQueue,A!==null){var Y=v.stateNode;try{var ge=A.shared.hiddenCallbacks;if(ge!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ge.length;A++)y5(ge[A],Y)}catch(Oe){wr(v,v.return,Oe)}}p&&z&64&&Ok(D),Pd(D,D.return);break;case 27:Rk(D);case 26:case 5:Fo(A,D,p),p&&v===null&&z&4&&Nk(D),Pd(D,D.return);break;case 12:Fo(A,D,p);break;case 31:Fo(A,D,p),p&&z&4&&Lk(A,D);break;case 13:Fo(A,D,p),p&&z&4&&zk(A,D);break;case 22:D.memoizedState===null&&Fo(A,D,p),Pd(D,D.return);break;case 30:break;default:Fo(A,D,p)}c=c.sibling}}function v2(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&_d(p))}function y2(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&_d(o))}function Ts(o,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)$k(o,c,p,v),c=c.sibling}function $k(o,c,p,v){var A=c.flags;switch(c.tag){case 0:case 11:case 15:Ts(o,c,p,v),A&2048&&Rd(9,c);break;case 1:Ts(o,c,p,v);break;case 3:Ts(o,c,p,v),A&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&_d(o)));break;case 12:if(A&2048){Ts(o,c,p,v),o=c.stateNode;try{var D=c.memoizedProps,z=D.id,Y=D.onPostCommit;typeof Y=="function"&&Y(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ge){wr(c,c.return,ge)}}else Ts(o,c,p,v);break;case 31:Ts(o,c,p,v);break;case 13:Ts(o,c,p,v);break;case 23:break;case 22:D=c.stateNode,z=c.alternate,c.memoizedState!==null?D._visibility&2?Ts(o,c,p,v):Fd(o,c):D._visibility&2?Ts(o,c,p,v):(D._visibility|=2,R0(o,c,p,v,(c.subtreeFlags&10256)!==0||!1)),A&2048&&v2(z,c);break;case 24:Ts(o,c,p,v),A&2048&&y2(c.alternate,c);break;default:Ts(o,c,p,v)}}function R0(o,c,p,v,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var D=o,z=c,Y=p,ge=v,Oe=z.flags;switch(z.tag){case 0:case 11:case 15:R0(D,z,Y,ge,A),Rd(8,z);break;case 23:break;case 22:var ze=z.stateNode;z.memoizedState!==null?ze._visibility&2?R0(D,z,Y,ge,A):Fd(D,z):(ze._visibility|=2,R0(D,z,Y,ge,A)),A&&Oe&2048&&v2(z.alternate,z);break;case 24:R0(D,z,Y,ge,A),A&&Oe&2048&&y2(z.alternate,z);break;default:R0(D,z,Y,ge,A)}c=c.sibling}}function Fd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,v=c,A=v.flags;switch(v.tag){case 22:Fd(p,v),A&2048&&v2(v.alternate,v);break;case 24:Fd(p,v),A&2048&&y2(v.alternate,v);break;default:Fd(p,v)}c=c.sibling}}var Bd=8192;function P0(o,c,p){if(o.subtreeFlags&Bd)for(o=o.child;o!==null;)Hk(o,c,p),o=o.sibling}function Hk(o,c,p){switch(o.tag){case 26:P0(o,c,p),o.flags&Bd&&o.memoizedState!==null&&bH(p,Cs,o.memoizedState,o.memoizedProps);break;case 5:P0(o,c,p);break;case 3:case 4:var v=Cs;Cs=hg(o.stateNode.containerInfo),P0(o,c,p),Cs=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=Bd,Bd=16777216,P0(o,c,p),Bd=v):P0(o,c,p));break;default:P0(o,c,p)}}function qk(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Md(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];oa=v,Gk(v,o)}qk(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Wk(o),o=o.sibling}function Wk(o){switch(o.tag){case 0:case 11:case 15:Md(o),o.flags&2048&&Ml(9,o,o.return);break;case 3:Md(o);break;case 12:Md(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,eg(o)):Md(o);break;default:Md(o)}}function eg(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];oa=v,Gk(v,o)}qk(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ml(8,c,c.return),eg(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,eg(c));break;default:eg(c)}o=o.sibling}}function Gk(o,c){for(;oa!==null;){var p=oa;switch(p.tag){case 0:case 11:case 15:Ml(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:_d(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,oa=v;else e:for(p=o;oa!==null;){v=oa;var A=v.sibling,D=v.return;if(Bk(v),v===p){oa=null;break e}if(A!==null){A.return=D,oa=A;break e}oa=D}}}var P$={getCacheForType:function(o){var c=ba(Cn),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p},cacheSignal:function(){return ba(Cn).controller.signal}},F$=typeof WeakMap=="function"?WeakMap:Map,gr=0,Fr=null,Ut=null,qt=0,_r=0,Ci=null,Ll=!1,F0=!1,b2=!1,Bo=0,un=0,zl=0,su=0,_2=0,Ti=0,B0=0,Ld=null,ui=null,w2=!1,tg=0,Kk=0,rg=1/0,ng=null,Ul=null,Gn=0,Vl=null,M0=null,Mo=0,E2=0,S2=null,Xk=null,zd=0,A2=null;function ki(){return(gr&2)!==0&&qt!==0?qt&-qt:ae.T!==null?j2():G()}function Yk(){if(Ti===0)if((qt&536870912)===0||Qt){var o=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),Ti=o}else Ti=536870912;return o=Si.current,o!==null&&(o.flags|=32),Ti}function fi(o,c,p){(o===Fr&&(_r===2||_r===9)||o.cancelPendingCommit!==null)&&(L0(o,0),$l(o,qt,Ti,!1)),Pt(o,p),((gr&2)===0||o!==Fr)&&(o===Fr&&((gr&2)===0&&(su|=p),un===4&&$l(o,qt,Ti,!1)),to(o))}function Qk(o,c,p){if((gr&6)!==0)throw Error(n(327));var v=!p&&(c&127)===0&&(c&o.expiredLanes)===0||Yr(o,c),A=v?L$(o,c):T2(o,c,!0),D=v;do{if(A===0){F0&&!v&&$l(o,c,0,!1);break}else{if(p=o.current.alternate,D&&!B$(p)){A=T2(o,c,!1),D=!1;continue}if(A===2){if(D=c,o.errorRecoveryDisabledLanes&D)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var Y=o;A=Ld;var ge=Y.current.memoizedState.isDehydrated;if(ge&&(L0(Y,z).flags|=256),z=T2(Y,z,!1),z!==2){if(b2&&!ge){Y.errorRecoveryDisabledLanes|=D,su|=D,A=4;break e}D=ui,ui=A,D!==null&&(ui===null?ui=D:ui.push.apply(ui,D))}A=z}if(D=!1,A!==2)continue}}if(A===1){L0(o,0),$l(o,c,0,!0);break}e:{switch(v=o,D=A,D){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:$l(v,c,Ti,!Ll);break e;case 2:ui=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(A=tg+300-Qe(),10<A)){if($l(v,c,Ti,!Ll),nn(v,0,!0)!==0)break e;Mo=c,v.timeoutHandle=k3(Zk.bind(null,v,p,ui,ng,w2,c,Ti,su,B0,Ll,D,"Throttled",-0,0),A);break e}Zk(v,p,ui,ng,w2,c,Ti,su,B0,Ll,D,null,-0,0)}}break}while(!0);to(o)}function Zk(o,c,p,v,A,D,z,Y,ge,Oe,ze,Ve,Re,Be){if(o.timeoutHandle=-1,Ve=c.subtreeFlags,Ve&8192||(Ve&16785408)===16785408){Ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},Hk(c,D,Ve);var ft=(D&62914560)===D?tg-Qe():(D&4194048)===D?Kk-Qe():0;if(ft=_H(Ve,ft),ft!==null){Mo=D,o.cancelPendingCommit=ft(s3.bind(null,o,c,D,p,v,A,z,Y,ge,ze,Ve,null,Re,Be)),$l(o,D,z,!Oe);return}}s3(o,c,D,p,v,A,z,Y,ge)}function B$(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var A=p[v],D=A.getSnapshot;A=A.value;try{if(!wi(D(),A))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function $l(o,c,p,v){c&=~_2,c&=~su,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var A=c;0<A;){var D=31-mt(A),z=1<<D;v[D]=-1,A&=~z}p!==0&&gn(o,p,c)}function ag(){return(gr&6)===0?(Ud(0),!1):!0}function C2(){if(Ut!==null){if(_r===0)var o=Ut.return;else o=Ut,To=Qc=null,Vb(o),D0=null,Ed=0,o=Ut;for(;o!==null;)Dk(o.alternate,o),o=o.return;Ut=null}}function L0(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,nH(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Mo=0,C2(),Fr=o,Ut=p=Ao(o.current,null),qt=c,_r=0,Ci=null,Ll=!1,F0=Yr(o,c),b2=!1,B0=Ti=_2=su=zl=un=0,ui=Ld=null,w2=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var A=31-mt(v),D=1<<A;c|=o[A],v&=~D}return Bo=c,Am(),p}function Jk(o,c){Rt=null,ae.H=jd,c===k0||c===Im?(c=m5(),_r=3):c===Ob?(c=m5(),_r=4):_r=c===a2?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ci=c,Ut===null&&(un=1,Gm(o,Gi(c,o.current)))}function e3(){var o=Si.current;return o===null?!0:(qt&4194048)===qt?Qi===null:(qt&62914560)===qt||(qt&536870912)!==0?o===Qi:!1}function t3(){var o=ae.H;return ae.H=jd,o===null?jd:o}function r3(){var o=ae.A;return ae.A=P$,o}function ig(){un=4,Ll||(qt&4194048)!==qt&&Si.current!==null||(F0=!0),(zl&134217727)===0&&(su&134217727)===0||Fr===null||$l(Fr,qt,Ti,!1)}function T2(o,c,p){var v=gr;gr|=2;var A=t3(),D=r3();(Fr!==o||qt!==c)&&(ng=null,L0(o,c)),c=!1;var z=un;e:do try{if(_r!==0&&Ut!==null){var Y=Ut,ge=Ci;switch(_r){case 8:C2(),z=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(c=!0);var Oe=_r;if(_r=0,Ci=null,z0(o,Y,ge,Oe),p&&F0){z=0;break e}break;default:Oe=_r,_r=0,Ci=null,z0(o,Y,ge,Oe)}}M$(),z=un;break}catch(ze){Jk(o,ze)}while(!0);return c&&o.shellSuspendCounter++,To=Qc=null,gr=v,ae.H=A,ae.A=D,Ut===null&&(Fr=null,qt=0,Am()),z}function M$(){for(;Ut!==null;)n3(Ut)}function L$(o,c){var p=gr;gr|=2;var v=t3(),A=r3();Fr!==o||qt!==c?(ng=null,rg=Qe()+500,L0(o,c)):F0=Yr(o,c);e:do try{if(_r!==0&&Ut!==null){c=Ut;var D=Ci;t:switch(_r){case 1:_r=0,Ci=null,z0(o,c,D,1);break;case 2:case 9:if(h5(D)){_r=0,Ci=null,a3(c);break}c=function(){_r!==2&&_r!==9||Fr!==o||(_r=7),to(o)},D.then(c,c);break e;case 3:_r=7;break e;case 4:_r=5;break e;case 7:h5(D)?(_r=0,Ci=null,a3(c)):(_r=0,Ci=null,z0(o,c,D,7));break;case 5:var z=null;switch(Ut.tag){case 26:z=Ut.memoizedState;case 5:case 27:var Y=Ut;if(z?$3(z):Y.stateNode.complete){_r=0,Ci=null;var ge=Y.sibling;if(ge!==null)Ut=ge;else{var Oe=Y.return;Oe!==null?(Ut=Oe,sg(Oe)):Ut=null}break t}}_r=0,Ci=null,z0(o,c,D,5);break;case 6:_r=0,Ci=null,z0(o,c,D,6);break;case 8:C2(),un=6;break e;default:throw Error(n(462))}}z$();break}catch(ze){Jk(o,ze)}while(!0);return To=Qc=null,ae.H=v,ae.A=A,gr=p,Ut!==null?0:(Fr=null,qt=0,Am(),un)}function z$(){for(;Ut!==null&&!le();)n3(Ut)}function n3(o){var c=Tk(o.alternate,o,Bo);o.memoizedProps=o.pendingProps,c===null?sg(o):Ut=c}function a3(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=_k(p,c,c.pendingProps,c.type,void 0,qt);break;case 11:c=_k(p,c,c.pendingProps,c.type.render,c.ref,qt);break;case 5:Vb(c);default:Dk(p,c),c=Ut=r5(c,Bo),c=Tk(p,c,Bo)}o.memoizedProps=o.pendingProps,c===null?sg(o):Ut=c}function z0(o,c,p,v){To=Qc=null,Vb(c),D0=null,Ed=0;var A=c.return;try{if(k$(o,A,c,p,qt)){un=1,Gm(o,Gi(p,o.current)),Ut=null;return}}catch(D){if(A!==null)throw Ut=A,D;un=1,Gm(o,Gi(p,o.current)),Ut=null;return}c.flags&32768?(Qt||v===1?o=!0:F0||(qt&536870912)!==0?o=!1:(Ll=o=!0,(v===2||v===9||v===3||v===6)&&(v=Si.current,v!==null&&v.tag===13&&(v.flags|=16384))),i3(c,o)):sg(c)}function sg(o){var c=o;do{if((c.flags&32768)!==0){i3(c,Ll);return}o=c.return;var p=j$(c.alternate,c,Bo);if(p!==null){Ut=p;return}if(c=c.sibling,c!==null){Ut=c;return}Ut=c=o}while(c!==null);un===0&&(un=5)}function i3(o,c){do{var p=N$(o.alternate,o);if(p!==null){p.flags&=32767,Ut=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){Ut=o;return}Ut=o=p}while(o!==null);un=6,Ut=null}function s3(o,c,p,v,A,D,z,Y,ge){o.cancelPendingCommit=null;do og();while(Gn!==0);if((gr&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(D=c.lanes|c.childLanes,D|=mb,ai(o,p,D,z,Y,ge),o===Fr&&(Ut=Fr=null,qt=0),M0=c,Vl=o,Mo=p,E2=D,S2=A,Xk=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,H$(St,function(){return f3(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=ae.T,ae.T=null,A=ie.p,ie.p=2,z=gr,gr|=4;try{I$(o,c,p)}finally{gr=z,ie.p=A,ae.T=v}}Gn=1,o3(),l3(),c3()}}function o3(){if(Gn===1){Gn=0;var o=Vl,c=M0,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=ae.T,ae.T=null;var v=ie.p;ie.p=2;var A=gr;gr|=4;try{Uk(c,o);var D=L2,z=GT(o.containerInfo),Y=D.focusedElem,ge=D.selectionRange;if(z!==Y&&Y&&Y.ownerDocument&&WT(Y.ownerDocument.documentElement,Y)){if(ge!==null&&ub(Y)){var Oe=ge.start,ze=ge.end;if(ze===void 0&&(ze=Oe),"selectionStart"in Y)Y.selectionStart=Oe,Y.selectionEnd=Math.min(ze,Y.value.length);else{var Ve=Y.ownerDocument||document,Re=Ve&&Ve.defaultView||window;if(Re.getSelection){var Be=Re.getSelection(),ft=Y.textContent.length,Et=Math.min(ge.start,ft),Or=ge.end===void 0?Et:Math.min(ge.end,ft);!Be.extend&&Et>Or&&(z=Or,Or=Et,Et=z);var Ae=qT(Y,Et),Ee=qT(Y,Or);if(Ae&&Ee&&(Be.rangeCount!==1||Be.anchorNode!==Ae.node||Be.anchorOffset!==Ae.offset||Be.focusNode!==Ee.node||Be.focusOffset!==Ee.offset)){var De=Ve.createRange();De.setStart(Ae.node,Ae.offset),Be.removeAllRanges(),Et>Or?(Be.addRange(De),Be.extend(Ee.node,Ee.offset)):(De.setEnd(Ee.node,Ee.offset),Be.addRange(De))}}}}for(Ve=[],Be=Y;Be=Be.parentNode;)Be.nodeType===1&&Ve.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Ve.length;Y++){var Ue=Ve[Y];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}yg=!!M2,L2=M2=null}finally{gr=A,ie.p=v,ae.T=p}}o.current=c,Gn=2}}function l3(){if(Gn===2){Gn=0;var o=Vl,c=M0,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=ae.T,ae.T=null;var v=ie.p;ie.p=2;var A=gr;gr|=4;try{Fk(o,c.alternate,c)}finally{gr=A,ie.p=v,ae.T=p}}Gn=3}}function c3(){if(Gn===4||Gn===3){Gn=0,_e();var o=Vl,c=M0,p=Mo,v=Xk;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Gn=5:(Gn=0,M0=Vl=null,u3(o,o.pendingLanes));var A=o.pendingLanes;if(A===0&&(Ul=null),Ar(p),c=c.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(bt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=ae.T,A=ie.p,ie.p=2,ae.T=null;try{for(var D=o.onRecoverableError,z=0;z<v.length;z++){var Y=v[z];D(Y.value,{componentStack:Y.stack})}}finally{ae.T=c,ie.p=A}}(Mo&3)!==0&&og(),to(o),A=o.pendingLanes,(p&261930)!==0&&(A&42)!==0?o===A2?zd++:(zd=0,A2=o):zd=0,Ud(0)}}function u3(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,_d(c)))}function og(){return o3(),l3(),c3(),f3()}function f3(){if(Gn!==5)return!1;var o=Vl,c=E2;E2=0;var p=Ar(Mo),v=ae.T,A=ie.p;try{ie.p=32>p?32:p,ae.T=null,p=S2,S2=null;var D=Vl,z=Mo;if(Gn=0,M0=Vl=null,Mo=0,(gr&6)!==0)throw Error(n(331));var Y=gr;if(gr|=4,Wk(D.current),$k(D,D.current,z,p),gr=Y,Ud(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(bt,D)}catch{}return!0}finally{ie.p=A,ae.T=v,u3(o,c)}}function d3(o,c,p){c=Gi(p,c),c=n2(o.stateNode,c,2),o=Pl(o,c,2),o!==null&&(Pt(o,2),to(o))}function wr(o,c,p){if(o.tag===3)d3(o,o,p);else for(;c!==null;){if(c.tag===3){d3(c,o,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ul===null||!Ul.has(v))){o=Gi(p,o),p=hk(2),v=Pl(c,p,2),v!==null&&(pk(p,v,c,o),Pt(v,2),to(v));break}}c=c.return}}function k2(o,c,p){var v=o.pingCache;if(v===null){v=o.pingCache=new F$;var A=new Set;v.set(c,A)}else A=v.get(c),A===void 0&&(A=new Set,v.set(c,A));A.has(p)||(b2=!0,A.add(p),o=U$.bind(null,o,c,p),c.then(o,o))}function U$(o,c,p){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Fr===o&&(qt&p)===p&&(un===4||un===3&&(qt&62914560)===qt&&300>Qe()-tg?(gr&2)===0&&L0(o,0):_2|=p,B0===qt&&(B0=0)),to(o)}function h3(o,c){c===0&&(c=Vi()),o=Kc(o,c),o!==null&&(Pt(o,c),to(o))}function V$(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),h3(o,p)}function $$(o,c){var p=0;switch(o.tag){case 31:case 13:var v=o.stateNode,A=o.memoizedState;A!==null&&(p=A.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(c),h3(o,p)}function H$(o,c){return rt(o,c)}var lg=null,U0=null,D2=!1,cg=!1,O2=!1,Hl=0;function to(o){o!==U0&&o.next===null&&(U0===null?lg=U0=o:U0=U0.next=o),cg=!0,D2||(D2=!0,W$())}function Ud(o,c){if(!O2&&cg){O2=!0;do for(var p=!1,v=lg;v!==null;){if(o!==0){var A=v.pendingLanes;if(A===0)var D=0;else{var z=v.suspendedLanes,Y=v.pingedLanes;D=(1<<31-mt(42|o)+1)-1,D&=A&~(z&~Y),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(p=!0,x3(v,D))}else D=qt,D=nn(v,v===Fr?D:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(D&3)===0||Yr(v,D)||(p=!0,x3(v,D));v=v.next}while(p);O2=!1}}function q$(){p3()}function p3(){cg=D2=!1;var o=0;Hl!==0&&rH()&&(o=Hl);for(var c=Qe(),p=null,v=lg;v!==null;){var A=v.next,D=m3(v,c);D===0?(v.next=null,p===null?lg=A:p.next=A,A===null&&(U0=p)):(p=v,(o!==0||(D&3)!==0)&&(cg=!0)),v=A}Gn!==0&&Gn!==5||Ud(o),Hl!==0&&(Hl=0)}function m3(o,c){for(var p=o.suspendedLanes,v=o.pingedLanes,A=o.expirationTimes,D=o.pendingLanes&-62914561;0<D;){var z=31-mt(D),Y=1<<z,ge=A[z];ge===-1?((Y&p)===0||(Y&v)!==0)&&(A[z]=sa(Y,c)):ge<=c&&(o.expiredLanes|=Y),D&=~Y}if(c=Fr,p=qt,p=nn(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===c&&(_r===2||_r===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&tt(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||Yr(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(v!==null&&tt(v),Ar(p)){case 2:case 8:p=vt;break;case 32:p=St;break;case 268435456:p=Bt;break;default:p=St}return v=g3.bind(null,o),p=rt(p,v),o.callbackPriority=c,o.callbackNode=p,c}return v!==null&&v!==null&&tt(v),o.callbackPriority=2,o.callbackNode=null,2}function g3(o,c){if(Gn!==0&&Gn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(og()&&o.callbackNode!==p)return null;var v=qt;return v=nn(o,o===Fr?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(Qk(o,v,c),m3(o,Qe()),o.callbackNode!=null&&o.callbackNode===p?g3.bind(null,o):null)}function x3(o,c){if(og())return null;Qk(o,c,!0)}function W$(){aH(function(){(gr&6)!==0?rt(wt,q$):p3()})}function j2(){if(Hl===0){var o=C0;o===0&&(o=An,An<<=1,(An&261888)===0&&(An=256)),Hl=o}return Hl}function v3(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:f0(""+o)}function y3(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function G$(o,c,p,v,A){if(c==="submit"&&p&&p.stateNode===A){var D=v3((A[se]||null).action),z=v.submitter;z&&(c=(c=z[se]||null)?v3(c.formAction):z.getAttribute("formAction"),c!==null&&(D=c,z=null));var Y=new Ks("action","action",null,v,A);o.push({event:Y,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Hl!==0){var ge=z?y3(A,z):new FormData(A);Qb(p,{pending:!0,data:ge,method:A.method,action:D},null,ge)}}else typeof D=="function"&&(Y.preventDefault(),ge=z?y3(A,z):new FormData(A),Qb(p,{pending:!0,data:ge,method:A.method,action:D},D,ge))},currentTarget:A}]})}}for(var N2=0;N2<pb.length;N2++){var I2=pb[N2],K$=I2.toLowerCase(),X$=I2[0].toUpperCase()+I2.slice(1);As(K$,"on"+X$)}As(YT,"onAnimationEnd"),As(QT,"onAnimationIteration"),As(ZT,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(f$,"onTransitionRun"),As(d$,"onTransitionStart"),As(h$,"onTransitionCancel"),As(JT,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),we("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),we("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),we("onBeforeInput",["compositionend","keypress","textInput","paste"]),we("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),we("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),we("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vd));function b3(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],A=v.event;v=v.listeners;e:{var D=void 0;if(c)for(var z=v.length-1;0<=z;z--){var Y=v[z],ge=Y.instance,Oe=Y.currentTarget;if(Y=Y.listener,ge!==D&&A.isPropagationStopped())break e;D=Y,A.currentTarget=Oe;try{D(A)}catch(ze){Sm(ze)}A.currentTarget=null,D=ge}else for(z=0;z<v.length;z++){if(Y=v[z],ge=Y.instance,Oe=Y.currentTarget,Y=Y.listener,ge!==D&&A.isPropagationStopped())break e;D=Y,A.currentTarget=Oe;try{D(A)}catch(ze){Sm(ze)}A.currentTarget=null,D=ge}}}}function Vt(o,c){var p=c[Ce];p===void 0&&(p=c[Ce]=new Set);var v=o+"__bubble";p.has(v)||(_3(c,o,2,!1),p.add(v))}function R2(o,c,p){var v=0;c&&(v|=4),_3(p,o,v,c)}var ug="_reactListening"+Math.random().toString(36).slice(2);function P2(o){if(!o[ug]){o[ug]=!0,lr.forEach(function(p){p!=="selectionchange"&&(Y$.has(p)||R2(p,!1,o),R2(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[ug]||(c[ug]=!0,R2("selectionchange",!1,c))}}function _3(o,c,p,v){switch(Y3(c)){case 2:var A=SH;break;case 8:A=AH;break;default:A=Y2}p=A.bind(null,c,p,o),A=void 0,!zc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),v?A!==void 0?o.addEventListener(c,p,{capture:!0,passive:A}):o.addEventListener(c,p,!0):A!==void 0?o.addEventListener(c,p,{passive:A}):o.addEventListener(c,p,!1)}function F2(o,c,p,v,A){var D=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var Y=v.stateNode.containerInfo;if(Y===A)break;if(z===4)for(z=v.return;z!==null;){var ge=z.tag;if((ge===3||ge===4)&&z.stateNode.containerInfo===A)return;z=z.return}for(;Y!==null;){if(z=$e(Y),z===null)return;if(ge=z.tag,ge===5||ge===6||ge===26||ge===27){v=D=z;continue e}Y=Y.parentNode}}v=v.return}Al(function(){var Oe=D,ze=$i(p),Ve=[];e:{var Re=e5.get(o);if(Re!==void 0){var Be=Ks,ft=o;switch(o){case"keypress":if(Vc(p)===0)break e;case"keydown":case"keyup":Be=_m;break;case"focusin":ft="focus",Be=Hc;break;case"focusout":ft="blur",Be=Hc;break;case"beforeblur":case"afterblur":Be=Hc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=L;break;case YT:case QT:case ZT:Be=pm;break;case JT:Be=ne;break;case"scroll":case"scrollend":Be=dd;break;case"wheel":Be=Pe;break;case"copy":case"cut":case"paste":Be=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=So;break;case"toggle":case"beforetoggle":Be=It}var Et=(c&4)!==0,Or=!Et&&(o==="scroll"||o==="scrollend"),Ae=Et?Re!==null?Re+"Capture":null:Re;Et=[];for(var Ee=Oe,De;Ee!==null;){var Ue=Ee;if(De=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||De===null||Ae===null||(Ue=_s(Ee,Ae),Ue!=null&&Et.push($d(Ee,Ue,De))),Or)break;Ee=Ee.return}0<Et.length&&(Re=new Be(Re,ft,null,p,ze),Ve.push({event:Re,listeners:Et}))}}if((c&7)===0){e:{if(Re=o==="mouseover"||o==="pointerover",Be=o==="mouseout"||o==="pointerout",Re&&p!==cd&&(ft=p.relatedTarget||p.fromElement)&&($e(ft)||ft[he]))break e;if((Be||Re)&&(Re=ze.window===ze?ze:(Re=ze.ownerDocument)?Re.defaultView||Re.parentWindow:window,Be?(ft=p.relatedTarget||p.toElement,Be=Oe,ft=ft?$e(ft):null,ft!==null&&(Or=i(ft),Et=ft.tag,ft!==Or||Et!==5&&Et!==27&&Et!==6)&&(ft=null)):(Be=null,ft=Oe),Be!==ft)){if(Et=hd,Ue="onMouseLeave",Ae="onMouseEnter",Ee="mouse",(o==="pointerout"||o==="pointerover")&&(Et=So,Ue="onPointerLeave",Ae="onPointerEnter",Ee="pointer"),Or=Be==null?Re:We(Be),De=ft==null?Re:We(ft),Re=new Et(Ue,Ee+"leave",Be,p,ze),Re.target=Or,Re.relatedTarget=De,Ue=null,$e(ze)===Oe&&(Et=new Et(Ae,Ee+"enter",ft,p,ze),Et.target=De,Et.relatedTarget=Or,Ue=Et),Or=Ue,Be&&ft)t:{for(Et=Q$,Ae=Be,Ee=ft,De=0,Ue=Ae;Ue;Ue=Et(Ue))De++;Ue=0;for(var yt=Ee;yt;yt=Et(yt))Ue++;for(;0<De-Ue;)Ae=Et(Ae),De--;for(;0<Ue-De;)Ee=Et(Ee),Ue--;for(;De--;){if(Ae===Ee||Ee!==null&&Ae===Ee.alternate){Et=Ae;break t}Ae=Et(Ae),Ee=Et(Ee)}Et=null}else Et=null;Be!==null&&w3(Ve,Re,Be,Et,!1),ft!==null&&Or!==null&&w3(Ve,Or,ft,Et,!0)}}e:{if(Re=Oe?We(Oe):window,Be=Re.nodeName&&Re.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Re.type==="file")var cr=LT;else if(BT(Re))if(zT)cr=l$;else{cr=s$;var pt=i$}else Be=Re.nodeName,!Be||Be.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Oe&&u0(Oe.elementType)&&(cr=LT):cr=o$;if(cr&&(cr=cr(o,Oe))){MT(Ve,cr,p,ze);break e}pt&&pt(o,Re,Oe),o==="focusout"&&Oe&&Re.type==="number"&&Oe.memoizedProps.value!=null&&sd(Re,"number",Re.value)}switch(pt=Oe?We(Oe):window,o){case"focusin":(BT(pt)||pt.contentEditable==="true")&&(v0=pt,fb=Oe,vd=null);break;case"focusout":vd=fb=v0=null;break;case"mousedown":db=!0;break;case"contextmenu":case"mouseup":case"dragend":db=!1,KT(Ve,p,ze);break;case"selectionchange":if(u$)break;case"keydown":case"keyup":KT(Ve,p,ze)}var Ft;if(mr)e:{switch(o){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else x0?qc(o,p)&&(Wt="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Wt="onCompositionStart");Wt&&(Qs&&p.locale!=="ko"&&(x0||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&x0&&(Ft=fd()):(Gs=ze,ud="value"in Gs?Gs.value:Gs.textContent,x0=!0)),pt=fg(Oe,Wt),0<pt.length&&(Wt=new Ys(Wt,o,null,p,ze),Ve.push({event:Wt,listeners:pt}),Ft?Wt.data=Ft:(Ft=g0(p),Ft!==null&&(Wt.data=Ft)))),(Ft=qi?t$(o,p):r$(o,p))&&(Wt=fg(Oe,"onBeforeInput"),0<Wt.length&&(pt=new Ys("onBeforeInput","beforeinput",null,p,ze),Ve.push({event:pt,listeners:Wt}),pt.data=Ft)),G$(Ve,o,Oe,p,ze)}b3(Ve,c)})}function $d(o,c,p){return{instance:o,listener:c,currentTarget:p}}function fg(o,c){for(var p=c+"Capture",v=[];o!==null;){var A=o,D=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||D===null||(A=_s(o,p),A!=null&&v.unshift($d(o,A,D)),A=_s(o,c),A!=null&&v.push($d(o,A,D))),o.tag===3)return v;o=o.return}return[]}function Q$(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function w3(o,c,p,v,A){for(var D=c._reactName,z=[];p!==null&&p!==v;){var Y=p,ge=Y.alternate,Oe=Y.stateNode;if(Y=Y.tag,ge!==null&&ge===v)break;Y!==5&&Y!==26&&Y!==27||Oe===null||(ge=Oe,A?(Oe=_s(p,D),Oe!=null&&z.unshift($d(p,Oe,ge))):A||(Oe=_s(p,D),Oe!=null&&z.push($d(p,Oe,ge)))),p=p.return}z.length!==0&&o.push({event:c,listeners:z})}var Z$=/\r\n?/g,J$=/\u0000|\uFFFD/g;function E3(o){return(typeof o=="string"?o:""+o).replace(Z$,`
`).replace(J$,"")}function S3(o,c){return c=E3(c),E3(o)===c}function Dr(o,c,p,v,A,D){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||si(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&si(o,""+v);break;case"className":Lr(o,"class",v);break;case"tabIndex":Lr(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Lr(o,p,v);break;case"style":ld(o,v,D);break;case"data":if(c!=="object"){Lr(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=f0(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(p==="formAction"?(c!=="input"&&Dr(o,c,"name",A.name,A,null),Dr(o,c,"formEncType",A.formEncType,A,null),Dr(o,c,"formMethod",A.formMethod,A,null),Dr(o,c,"formTarget",A.formTarget,A,null)):(Dr(o,c,"encType",A.encType,A,null),Dr(o,c,"method",A.method,A,null),Dr(o,c,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=f0(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=bs);break;case"onScroll":v!=null&&Vt("scroll",o);break;case"onScrollEnd":v!=null&&Vt("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(A.children!=null)throw Error(n(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=f0(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":Vt("beforetoggle",o),Vt("toggle",o),Ht(o,"popover",v);break;case"xlinkActuate":zr(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":zr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":zr(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":zr(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":zr(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":zr(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":zr(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":zr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":zr(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Ht(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=fm.get(p)||p,Ht(o,p,v))}}function B2(o,c,p,v,A,D){switch(p){case"style":ld(o,v,D);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(A.children!=null)throw Error(n(60));o.innerHTML=p}}break;case"children":typeof v=="string"?si(o,v):(typeof v=="number"||typeof v=="bigint")&&si(o,""+v);break;case"onScroll":v!=null&&Vt("scroll",o);break;case"onScrollEnd":v!=null&&Vt("scrollend",o);break;case"onClick":v!=null&&(o.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(A=p.endsWith("Capture"),c=p.slice(2,A?p.length-7:void 0),D=o[se]||null,D=D!=null?D[p]:null,typeof D=="function"&&o.removeEventListener(c,D,A),typeof v=="function")){typeof D!="function"&&D!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,v,A);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):Ht(o,p,v)}}}function wa(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",o),Vt("load",o);var v=!1,A=!1,D;for(D in p)if(p.hasOwnProperty(D)){var z=p[D];if(z!=null)switch(D){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Dr(o,c,D,z,p,null)}}A&&Dr(o,c,"srcSet",p.srcSet,p,null),v&&Dr(o,c,"src",p.src,p,null);return;case"input":Vt("invalid",o);var Y=D=z=A=null,ge=null,Oe=null;for(v in p)if(p.hasOwnProperty(v)){var ze=p[v];if(ze!=null)switch(v){case"name":A=ze;break;case"type":z=ze;break;case"checked":ge=ze;break;case"defaultChecked":Oe=ze;break;case"value":D=ze;break;case"defaultValue":Y=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(n(137,c));break;default:Dr(o,c,v,ze,p,null)}}lm(o,D,Y,ge,Oe,z,A,!1);return;case"select":Vt("invalid",o),v=z=D=null;for(A in p)if(p.hasOwnProperty(A)&&(Y=p[A],Y!=null))switch(A){case"value":D=Y;break;case"defaultValue":z=Y;break;case"multiple":v=Y;default:Dr(o,c,A,Y,p,null)}c=D,p=z,o.multiple=!!v,c!=null?_l(o,!!v,c,!1):p!=null&&_l(o,!!v,p,!0);return;case"textarea":Vt("invalid",o),D=A=v=null;for(z in p)if(p.hasOwnProperty(z)&&(Y=p[z],Y!=null))switch(z){case"value":v=Y;break;case"defaultValue":A=Y;break;case"children":D=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:Dr(o,c,z,Y,p,null)}wl(o,v,A,D);return;case"option":for(ge in p)p.hasOwnProperty(ge)&&(v=p[ge],v!=null)&&(ge==="selected"?o.selected=v&&typeof v!="function"&&typeof v!="symbol":Dr(o,c,ge,v,p,null));return;case"dialog":Vt("beforetoggle",o),Vt("toggle",o),Vt("cancel",o),Vt("close",o);break;case"iframe":case"object":Vt("load",o);break;case"video":case"audio":for(v=0;v<Vd.length;v++)Vt(Vd[v],o);break;case"image":Vt("error",o),Vt("load",o);break;case"details":Vt("toggle",o);break;case"embed":case"source":case"link":Vt("error",o),Vt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in p)if(p.hasOwnProperty(Oe)&&(v=p[Oe],v!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Dr(o,c,Oe,v,p,null)}return;default:if(u0(c)){for(ze in p)p.hasOwnProperty(ze)&&(v=p[ze],v!==void 0&&B2(o,c,ze,v,p,void 0));return}}for(Y in p)p.hasOwnProperty(Y)&&(v=p[Y],v!=null&&Dr(o,c,Y,v,p,null))}function eH(o,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,D=null,z=null,Y=null,ge=null,Oe=null,ze=null;for(Be in p){var Ve=p[Be];if(p.hasOwnProperty(Be)&&Ve!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":ge=Ve;default:v.hasOwnProperty(Be)||Dr(o,c,Be,null,v,Ve)}}for(var Re in v){var Be=v[Re];if(Ve=p[Re],v.hasOwnProperty(Re)&&(Be!=null||Ve!=null))switch(Re){case"type":D=Be;break;case"name":A=Be;break;case"checked":Oe=Be;break;case"defaultChecked":ze=Be;break;case"value":z=Be;break;case"defaultValue":Y=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(137,c));break;default:Be!==Ve&&Dr(o,c,Re,Be,v,Ve)}}c0(o,z,Y,ge,Oe,ze,D,A);return;case"select":Be=z=Y=Re=null;for(D in p)if(ge=p[D],p.hasOwnProperty(D)&&ge!=null)switch(D){case"value":break;case"multiple":Be=ge;default:v.hasOwnProperty(D)||Dr(o,c,D,null,v,ge)}for(A in v)if(D=v[A],ge=p[A],v.hasOwnProperty(A)&&(D!=null||ge!=null))switch(A){case"value":Re=D;break;case"defaultValue":Y=D;break;case"multiple":z=D;default:D!==ge&&Dr(o,c,A,D,v,ge)}c=Y,p=z,v=Be,Re!=null?_l(o,!!p,Re,!1):!!v!=!!p&&(c!=null?_l(o,!!p,c,!0):_l(o,!!p,p?[]:"",!1));return;case"textarea":Be=Re=null;for(Y in p)if(A=p[Y],p.hasOwnProperty(Y)&&A!=null&&!v.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Dr(o,c,Y,null,v,A)}for(z in v)if(A=v[z],D=p[z],v.hasOwnProperty(z)&&(A!=null||D!=null))switch(z){case"value":Re=A;break;case"defaultValue":Be=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==D&&Dr(o,c,z,A,v,D)}cm(o,Re,Be);return;case"option":for(var ft in p)Re=p[ft],p.hasOwnProperty(ft)&&Re!=null&&!v.hasOwnProperty(ft)&&(ft==="selected"?o.selected=!1:Dr(o,c,ft,null,v,Re));for(ge in v)Re=v[ge],Be=p[ge],v.hasOwnProperty(ge)&&Re!==Be&&(Re!=null||Be!=null)&&(ge==="selected"?o.selected=Re&&typeof Re!="function"&&typeof Re!="symbol":Dr(o,c,ge,Re,v,Be));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in p)Re=p[Et],p.hasOwnProperty(Et)&&Re!=null&&!v.hasOwnProperty(Et)&&Dr(o,c,Et,null,v,Re);for(Oe in v)if(Re=v[Oe],Be=p[Oe],v.hasOwnProperty(Oe)&&Re!==Be&&(Re!=null||Be!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,c));break;default:Dr(o,c,Oe,Re,v,Be)}return;default:if(u0(c)){for(var Or in p)Re=p[Or],p.hasOwnProperty(Or)&&Re!==void 0&&!v.hasOwnProperty(Or)&&B2(o,c,Or,void 0,v,Re);for(ze in v)Re=v[ze],Be=p[ze],!v.hasOwnProperty(ze)||Re===Be||Re===void 0&&Be===void 0||B2(o,c,ze,Re,v,Be);return}}for(var Ae in p)Re=p[Ae],p.hasOwnProperty(Ae)&&Re!=null&&!v.hasOwnProperty(Ae)&&Dr(o,c,Ae,null,v,Re);for(Ve in v)Re=v[Ve],Be=p[Ve],!v.hasOwnProperty(Ve)||Re===Be||Re==null&&Be==null||Dr(o,c,Ve,Re,v,Be)}function A3(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tH(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var A=p[v],D=A.transferSize,z=A.initiatorType,Y=A.duration;if(D&&Y&&A3(z)){for(z=0,Y=A.responseEnd,v+=1;v<p.length;v++){var ge=p[v],Oe=ge.startTime;if(Oe>Y)break;var ze=ge.transferSize,Ve=ge.initiatorType;ze&&A3(Ve)&&(ge=ge.responseEnd,z+=ze*(ge<Y?1:(Y-Oe)/(ge-Oe)))}if(--v,c+=8*(D+z)/(A.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var M2=null,L2=null;function dg(o){return o.nodeType===9?o:o.ownerDocument}function C3(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T3(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function z2(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var U2=null;function rH(){var o=window.event;return o&&o.type==="popstate"?o===U2?!1:(U2=o,!0):(U2=null,!1)}var k3=typeof setTimeout=="function"?setTimeout:void 0,nH=typeof clearTimeout=="function"?clearTimeout:void 0,D3=typeof Promise=="function"?Promise:void 0,aH=typeof queueMicrotask=="function"?queueMicrotask:typeof D3<"u"?function(o){return D3.resolve(null).then(o).catch(iH)}:k3;function iH(o){setTimeout(function(){throw o})}function ql(o){return o==="head"}function O3(o,c){var p=c,v=0;do{var A=p.nextSibling;if(o.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"||p==="/&"){if(v===0){o.removeChild(A),q0(c);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")Hd(o.ownerDocument.documentElement);else if(p==="head"){p=o.ownerDocument.head,Hd(p);for(var D=p.firstChild;D;){var z=D.nextSibling,Y=D.nodeName;D[ye]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&D.rel.toLowerCase()==="stylesheet"||p.removeChild(D),D=z}}else p==="body"&&Hd(o.ownerDocument.body);p=A}while(p);q0(c)}function j3(o,c){var p=o;o=0;do{var v=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(o===0)break;o--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||o++;p=v}while(p)}function V2(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":V2(p),Ie(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function sH(o,c,p,v){for(;o.nodeType===1;){var A=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[ye])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(D=o.getAttribute("rel"),D==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(D!==A.rel||o.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(D=o.getAttribute("src"),(D!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&D&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var D=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===D)return o}else return o;if(o=Zi(o.nextSibling),o===null)break}return null}function oH(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=Zi(o.nextSibling),o===null))return null;return o}function N3(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Zi(o.nextSibling),o===null))return null;return o}function $2(o){return o.data==="$?"||o.data==="$~"}function H2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function lH(o,c){var p=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||p.readyState!=="loading")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function Zi(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var q2=null;function I3(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"||p==="/&"){if(c===0)return Zi(o.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}o=o.nextSibling}return null}function R3(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return o;c--}else p!=="/$"&&p!=="/&"||c++}o=o.previousSibling}return null}function P3(o,c,p){switch(c=dg(p),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Hd(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Ie(o)}var Ji=new Map,F3=new Set;function hg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Lo=ie.d;ie.d={f:cH,r:uH,D:fH,C:dH,L:hH,m:pH,X:gH,S:mH,M:xH};function cH(){var o=Lo.f(),c=ag();return o||c}function uH(o){var c=Ze(o);c!==null&&c.tag===5&&c.type==="form"?J5(c):Lo.r(o)}var V0=typeof document>"u"?null:document;function B3(o,c,p){var v=V0;if(v&&typeof c=="string"&&c){var A=ii(c);A='link[rel="'+o+'"][href="'+A+'"]',typeof p=="string"&&(A+='[crossorigin="'+p+'"]'),F3.has(A)||(F3.add(A),o={rel:o,crossOrigin:p,href:c},v.querySelector(A)===null&&(c=v.createElement("link"),wa(c,"link",o),ct(c),v.head.appendChild(c)))}}function fH(o){Lo.D(o),B3("dns-prefetch",o,null)}function dH(o,c){Lo.C(o,c),B3("preconnect",o,c)}function hH(o,c,p){Lo.L(o,c,p);var v=V0;if(v&&o&&c){var A='link[rel="preload"][as="'+ii(c)+'"]';c==="image"&&p&&p.imageSrcSet?(A+='[imagesrcset="'+ii(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(A+='[imagesizes="'+ii(p.imageSizes)+'"]')):A+='[href="'+ii(o)+'"]';var D=A;switch(c){case"style":D=$0(o);break;case"script":D=H0(o)}Ji.has(D)||(o=m({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),Ji.set(D,o),v.querySelector(A)!==null||c==="style"&&v.querySelector(qd(D))||c==="script"&&v.querySelector(Wd(D))||(c=v.createElement("link"),wa(c,"link",o),ct(c),v.head.appendChild(c)))}}function pH(o,c){Lo.m(o,c);var p=V0;if(p&&o){var v=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+ii(v)+'"][href="'+ii(o)+'"]',D=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=H0(o)}if(!Ji.has(D)&&(o=m({rel:"modulepreload",href:o},c),Ji.set(D,o),p.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Wd(D)))return}v=p.createElement("link"),wa(v,"link",o),ct(v),p.head.appendChild(v)}}}function mH(o,c,p){Lo.S(o,c,p);var v=V0;if(v&&o){var A=Ye(v).hoistableStyles,D=$0(o);c=c||"default";var z=A.get(D);if(!z){var Y={loading:0,preload:null};if(z=v.querySelector(qd(D)))Y.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},p),(p=Ji.get(D))&&W2(o,p);var ge=z=v.createElement("link");ct(ge),wa(ge,"link",o),ge._p=new Promise(function(Oe,ze){ge.onload=Oe,ge.onerror=ze}),ge.addEventListener("load",function(){Y.loading|=1}),ge.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,pg(z,c,v)}z={type:"stylesheet",instance:z,count:1,state:Y},A.set(D,z)}}}function gH(o,c){Lo.X(o,c);var p=V0;if(p&&o){var v=Ye(p).hoistableScripts,A=H0(o),D=v.get(A);D||(D=p.querySelector(Wd(A)),D||(o=m({src:o,async:!0},c),(c=Ji.get(A))&&G2(o,c),D=p.createElement("script"),ct(D),wa(D,"link",o),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(A,D))}}function xH(o,c){Lo.M(o,c);var p=V0;if(p&&o){var v=Ye(p).hoistableScripts,A=H0(o),D=v.get(A);D||(D=p.querySelector(Wd(A)),D||(o=m({src:o,async:!0,type:"module"},c),(c=Ji.get(A))&&G2(o,c),D=p.createElement("script"),ct(D),wa(D,"link",o),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(A,D))}}function M3(o,c,p,v){var A=(A=Te.current)?hg(A):null;if(!A)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=$0(p.href),p=Ye(A).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=$0(p.href);var D=Ye(A).hoistableStyles,z=D.get(o);if(z||(A=A.ownerDocument||A,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(o,z),(D=A.querySelector(qd(o)))&&!D._p&&(z.instance=D,z.state.loading=5),Ji.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ji.set(o,p),D||vH(A,o,p,z.state))),c&&v===null)throw Error(n(528,""));return z}if(c&&v!==null)throw Error(n(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=H0(p),p=Ye(A).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function $0(o){return'href="'+ii(o)+'"'}function qd(o){return'link[rel="stylesheet"]['+o+"]"}function L3(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function vH(o,c,p,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),wa(c,"link",p),ct(c),o.head.appendChild(c))}function H0(o){return'[src="'+ii(o)+'"]'}function Wd(o){return"script[async]"+o}function z3(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+ii(p.href)+'"]');if(v)return c.instance=v,ct(v),v;var A=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),ct(v),wa(v,"style",A),pg(v,p.precedence,o),c.instance=v;case"stylesheet":A=$0(p.href);var D=o.querySelector(qd(A));if(D)return c.state.loading|=4,c.instance=D,ct(D),D;v=L3(p),(A=Ji.get(A))&&W2(v,A),D=(o.ownerDocument||o).createElement("link"),ct(D);var z=D;return z._p=new Promise(function(Y,ge){z.onload=Y,z.onerror=ge}),wa(D,"link",v),c.state.loading|=4,pg(D,p.precedence,o),c.instance=D;case"script":return D=H0(p.src),(A=o.querySelector(Wd(D)))?(c.instance=A,ct(A),A):(v=p,(A=Ji.get(D))&&(v=m({},p),G2(v,A)),o=o.ownerDocument||o,A=o.createElement("script"),ct(A),wa(A,"link",v),o.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,pg(v,p.precedence,o));return c.instance}function pg(o,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,D=A,z=0;z<v.length;z++){var Y=v[z];if(Y.dataset.precedence===c)D=Y;else if(D!==A)break}D?D.parentNode.insertBefore(o,D.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function W2(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function G2(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var mg=null;function U3(o,c,p){if(mg===null){var v=new Map,A=mg=new Map;A.set(p,v)}else A=mg,v=A.get(p),v||(v=new Map,A.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),A=0;A<p.length;A++){var D=p[A];if(!(D[ye]||D[re]||o==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var z=D.getAttribute(c)||"";z=o+z;var Y=v.get(z);Y?Y.push(D):v.set(z,[D])}}return v}function V3(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function yH(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(o=c.disabled,typeof c.precedence=="string"&&o==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function $3(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function bH(o,c,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var A=$0(v.href),D=c.querySelector(qd(A));if(D){c=D._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=gg.bind(o),c.then(o,o)),p.state.loading|=4,p.instance=D,ct(D);return}D=c.ownerDocument||c,v=L3(v),(A=Ji.get(A))&&W2(v,A),D=D.createElement("link"),ct(D);var z=D;z._p=new Promise(function(Y,ge){z.onload=Y,z.onerror=ge}),wa(D,"link",v),p.instance=D}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(o.count++,p=gg.bind(o),c.addEventListener("load",p),c.addEventListener("error",p))}}var K2=0;function _H(o,c){return o.stylesheets&&o.count===0&&vg(o,o.stylesheets),0<o.count||0<o.imgCount?function(p){var v=setTimeout(function(){if(o.stylesheets&&vg(o,o.stylesheets),o.unsuspend){var D=o.unsuspend;o.unsuspend=null,D()}},6e4+c);0<o.imgBytes&&K2===0&&(K2=62500*tH());var A=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&vg(o,o.stylesheets),o.unsuspend)){var D=o.unsuspend;o.unsuspend=null,D()}},(o.imgBytes>K2?50:800)+c);return o.unsuspend=p,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function gg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var xg=null;function vg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,xg=new Map,c.forEach(wH,o),xg=null,gg.call(o))}function wH(o,c){if(!(c.state.loading&4)){var p=xg.get(o);if(p)var v=p.get(null);else{p=new Map,xg.set(o,p);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<A.length;D++){var z=A[D];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(p.set(z.dataset.precedence,z),v=z)}v&&p.set(null,v)}A=c.instance,z=A.getAttribute("data-precedence"),D=p.get(z)||v,D===v&&p.set(null,A),p.set(z,A),this.count++,v=gg.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),D?D.parentNode.insertBefore(A,D.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),c.state.loading|=4}}var Gd={$$typeof:S,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function EH(o,c,p,v,A,D,z,Y,ge){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mn(0),this.hiddenUpdates=mn(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=D,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function H3(o,c,p,v,A,D,z,Y,ge,Oe,ze,Ve){return o=new EH(o,c,p,z,ge,Oe,ze,Ve,Y),c=1,D===!0&&(c|=24),D=Ei(3,null,null,c),o.current=D,D.stateNode=o,c=Tb(),c.refCount++,o.pooledCache=c,c.refCount++,D.memoizedState={element:v,isDehydrated:p,cache:c},jb(D),o}function q3(o){return o?(o=_0,o):_0}function W3(o,c,p,v,A,D){A=q3(A),v.context===null?v.context=A:v.pendingContext=A,v=Rl(c),v.payload={element:p},D=D===void 0?null:D,D!==null&&(v.callback=D),p=Pl(o,v,c),p!==null&&(fi(p,o,c),Ad(p,o,c))}function G3(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function X2(o,c){G3(o,c),(o=o.alternate)&&G3(o,c)}function K3(o){if(o.tag===13||o.tag===31){var c=Kc(o,67108864);c!==null&&fi(c,o,67108864),X2(o,67108864)}}function X3(o){if(o.tag===13||o.tag===31){var c=ki();c=Wn(c);var p=Kc(o,c);p!==null&&fi(p,o,c),X2(o,c)}}var yg=!0;function SH(o,c,p,v){var A=ae.T;ae.T=null;var D=ie.p;try{ie.p=2,Y2(o,c,p,v)}finally{ie.p=D,ae.T=A}}function AH(o,c,p,v){var A=ae.T;ae.T=null;var D=ie.p;try{ie.p=8,Y2(o,c,p,v)}finally{ie.p=D,ae.T=A}}function Y2(o,c,p,v){if(yg){var A=Q2(v);if(A===null)F2(o,c,v,bg,p),Q3(o,v);else if(TH(A,o,c,p,v))v.stopPropagation();else if(Q3(o,v),c&4&&-1<CH.indexOf(o)){for(;A!==null;){var D=Ze(A);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var z=$r(D.pendingLanes);if(z!==0){var Y=D;for(Y.pendingLanes|=2,Y.entangledLanes|=2;z;){var ge=1<<31-mt(z);Y.entanglements[1]|=ge,z&=~ge}to(D),(gr&6)===0&&(rg=Qe()+500,Ud(0))}}break;case 31:case 13:Y=Kc(D,2),Y!==null&&fi(Y,D,2),ag(),X2(D,2)}if(D=Q2(v),D===null&&F2(o,c,v,bg,p),D===A)break;A=D}A!==null&&v.stopPropagation()}else F2(o,c,v,null,p)}}function Q2(o){return o=$i(o),Z2(o)}var bg=null;function Z2(o){if(bg=null,o=$e(o),o!==null){var c=i(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=s(c),o!==null)return o;o=null}else if(p===31){if(o=l(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return bg=o,null}function Y3(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case wt:return 2;case vt:return 8;case St:case Tt:return 32;case Bt:return 268435456;default:return 32}default:return 32}}var J2=!1,Wl=null,Gl=null,Kl=null,Kd=new Map,Xd=new Map,Xl=[],CH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q3(o,c){switch(o){case"focusin":case"focusout":Wl=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":Kl=null;break;case"pointerover":case"pointerout":Kd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xd.delete(c.pointerId)}}function Yd(o,c,p,v,A,D){return o===null||o.nativeEvent!==D?(o={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:D,targetContainers:[A]},c!==null&&(c=Ze(c),c!==null&&K3(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),o)}function TH(o,c,p,v,A){switch(c){case"focusin":return Wl=Yd(Wl,o,c,p,v,A),!0;case"dragenter":return Gl=Yd(Gl,o,c,p,v,A),!0;case"mouseover":return Kl=Yd(Kl,o,c,p,v,A),!0;case"pointerover":var D=A.pointerId;return Kd.set(D,Yd(Kd.get(D)||null,o,c,p,v,A)),!0;case"gotpointercapture":return D=A.pointerId,Xd.set(D,Yd(Xd.get(D)||null,o,c,p,v,A)),!0}return!1}function Z3(o){var c=$e(o.target);if(c!==null){var p=i(c);if(p!==null){if(c=p.tag,c===13){if(c=s(p),c!==null){o.blockedOn=c,oe(o.priority,function(){X3(p)});return}}else if(c===31){if(c=l(p),c!==null){o.blockedOn=c,oe(o.priority,function(){X3(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function _g(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=Q2(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);cd=v,p.target.dispatchEvent(v),cd=null}else return c=Ze(p),c!==null&&K3(c),o.blockedOn=p,!1;c.shift()}return!0}function J3(o,c,p){_g(o)&&p.delete(c)}function kH(){J2=!1,Wl!==null&&_g(Wl)&&(Wl=null),Gl!==null&&_g(Gl)&&(Gl=null),Kl!==null&&_g(Kl)&&(Kl=null),Kd.forEach(J3),Xd.forEach(J3)}function wg(o,c){o.blockedOn===c&&(o.blockedOn=null,J2||(J2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kH)))}var Eg=null;function eD(o){Eg!==o&&(Eg=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Eg===o&&(Eg=null);for(var c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],A=o[c+2];if(typeof v!="function"){if(Z2(v||p)===null)continue;break}var D=Ze(p);D!==null&&(o.splice(c,3),c-=3,Qb(D,{pending:!0,data:A,method:p.method,action:v},v,A))}}))}function q0(o){function c(ge){return wg(ge,o)}Wl!==null&&wg(Wl,o),Gl!==null&&wg(Gl,o),Kl!==null&&wg(Kl,o),Kd.forEach(c),Xd.forEach(c);for(var p=0;p<Xl.length;p++){var v=Xl[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Xl.length&&(p=Xl[0],p.blockedOn===null);)Z3(p),p.blockedOn===null&&Xl.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var A=p[v],D=p[v+1],z=A[se]||null;if(typeof D=="function")z||eD(p);else if(z){var Y=null;if(D&&D.hasAttribute("formAction")){if(A=D,z=D[se]||null)Y=z.formAction;else if(Z2(A)!==null)continue}else Y=z.action;typeof Y=="function"?p[v+1]=Y:(p.splice(v,3),v-=3),eD(p)}}}function tD(){function o(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(z){return A=z})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function e_(o){this._internalRoot=o}Sg.prototype.render=e_.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var p=c.current,v=ki();W3(p,v,o,c,null,null)},Sg.prototype.unmount=e_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;W3(o.current,2,null,o,null,null),ag(),c[he]=null}};function Sg(o){this._internalRoot=o}Sg.prototype.unstable_scheduleHydration=function(o){if(o){var c=G();o={blockedOn:null,target:o,priority:c};for(var p=0;p<Xl.length&&c!==0&&c<Xl[p].priority;p++);Xl.splice(p,0,o),p===0&&Z3(o)}};var rD=t.version;if(rD!=="19.2.3")throw Error(n(527,rD,"19.2.3"));ie.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var DH={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ag=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ag.isDisabled&&Ag.supportsFiber)try{bt=Ag.inject(DH),ht=Ag}catch{}}return Zd.createRoot=function(o,c){if(!a(o))throw Error(n(299));var p=!1,v="",A=ck,D=uk,z=fk;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),c=H3(o,1,!1,null,null,p,v,null,A,D,z,tD),o[he]=c.current,P2(o),new e_(c)},Zd.hydrateRoot=function(o,c,p){if(!a(o))throw Error(n(299));var v=!1,A="",D=ck,z=uk,Y=fk,ge=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onUncaughtError!==void 0&&(D=p.onUncaughtError),p.onCaughtError!==void 0&&(z=p.onCaughtError),p.onRecoverableError!==void 0&&(Y=p.onRecoverableError),p.formState!==void 0&&(ge=p.formState)),c=H3(o,1,!0,c,p??null,v,A,ge,D,z,Y,tD),c.context=q3(null),p=c.current,v=ki(),v=Wn(v),A=Rl(v),A.callback=null,Pl(p,A,v),p=v,c.current.lanes=p,Pt(c,p),to(c),o[he]=c.current,P2(o),new Sg(c)},Zd.version="19.2.3",Zd}var dD;function UH(){if(dD)return a_.exports;dD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),a_.exports=zH(),a_.exports}var VH=UH();var hD="popstate";function $H(e={}){function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return vE("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Lh(a)}return qH(t,r,null,e)}function tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HH(){return Math.random().toString(36).substring(2,10)}function pD(e,t){return{usr:e.state,key:e.key,idx:t}}function vE(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Bf(t):t,state:r,key:t&&t.key||n||HH()}}function Lh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function qH(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l="POP",u=null,f=d();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function d(){return(s.state||{idx:null}).idx}function m(){l="POP";let b=d(),w=b==null?null:b-f;f=b,u&&u({action:l,location:_.location,delta:w})}function g(b,w){l="PUSH";let C=vE(_.location,b,w);f=d()+1;let S=pD(C,f),O=_.createHref(C);try{s.pushState(S,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(O)}i&&u&&u({action:l,location:_.location,delta:1})}function x(b,w){l="REPLACE";let C=vE(_.location,b,w);f=d();let S=pD(C,f),O=_.createHref(C);s.replaceState(S,"",O),i&&u&&u({action:l,location:_.location,delta:0})}function y(b){return WH(b)}let _={get action(){return l},get location(){return e(a,s)},listen(b){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(hD,m),u=b,()=>{a.removeEventListener(hD,m),u=null}},createHref(b){return t(a,b)},createURL:y,encodeLocation(b){let w=y(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:x,go(b){return s.go(b)}};return _}function WH(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tn(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Lh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function bP(e,t,r="/"){return GH(e,t,r,!1)}function GH(e,t,r,n){let a=typeof t=="string"?Bf(t):t,i=el(a.pathname||"/",r);if(i==null)return null;let s=_P(e);KH(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let f=iq(i);l=nq(s[u],f,n)}return l}function _P(e,t=[],r=[],n="",a=!1){let i=(s,l,u=a,f)=>{let d={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&u)return;tn(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let m=Ko([n,d.relativePath]),g=r.concat(d);s.children&&s.children.length>0&&(tn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),_P(s.children,t,g,m,u)),!(s.path==null&&!s.index)&&t.push({path:m,score:tq(m,s.index),routesMeta:g})};return e.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))i(s,l);else for(let u of wP(s.path))i(s,l,!0,u)}),t}function wP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=wP(n.join("/")),l=[];return l.push(...s.map(u=>u===""?i:[i,u].join("/"))),a&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function KH(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var XH=/^:[\w-]+$/,YH=3,QH=2,ZH=1,JH=10,eq=-2,mD=e=>e==="*";function tq(e,t){let r=e.split("/"),n=r.length;return r.some(mD)&&(n+=eq),t&&(n+=QH),r.filter(a=>!mD(a)).reduce((a,i)=>a+(XH.test(i)?YH:i===""?ZH:JH),n)}function rq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function nq(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",m=fv({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),g=u.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=fv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:Ko([i,m.pathname]),pathnameBase:cq(Ko([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=Ko([i,m.pathnameBase]))}return s}function fv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=aq(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((f,{paramName:d,isOptional:m},g)=>{if(d==="*"){let y=l[g]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[g];return m&&!x?f[d]=void 0:f[d]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:s,pattern:e}}function aq(e,t=!1,r=!0){Bi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function iq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function el(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var EP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sq=e=>EP.test(e);function oq(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Bf(e):e,i;if(r)if(sq(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Bi(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?i=gD(r.substring(1),"/"):i=gD(r,t)}else i=t;return{pathname:i,search:uq(n),hash:fq(a)}}function gD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function l_(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hA(e){let t=lq(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function pA(e,t,r,n=!1){let a;typeof e=="string"?a=Bf(e):(a={...e},tn(!a.pathname||!a.pathname.includes("?"),l_("?","pathname","search",a)),tn(!a.pathname||!a.pathname.includes("#"),l_("#","pathname","hash",a)),tn(!a.search||!a.search.includes("#"),l_("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let m=t.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}l=m>=0?t[m]:"/"}let u=oq(a,l),f=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}var Ko=e=>e.join("/").replace(/\/\/+/g,"/"),cq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,dq=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function hq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function pq(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var SP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function AP(e,t){let r=e;if(typeof r!="string"||!EP.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(SP)try{let i=new URL(window.location.href),s=r.startsWith("//")?new URL(i.protocol+r):new URL(r),l=el(s.pathname,t);s.origin===i.origin&&l!=null?r=l+s.search+s.hash:a=!0}catch{Bi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CP=["POST","PUT","PATCH","DELETE"];new Set(CP);var mq=["GET",...CP];new Set(mq);var Mf=T.createContext(null);Mf.displayName="DataRouter";var z1=T.createContext(null);z1.displayName="DataRouterState";var gq=T.createContext(!1),TP=T.createContext({isTransitioning:!1});TP.displayName="ViewTransition";var xq=T.createContext(new Map);xq.displayName="Fetchers";var vq=T.createContext(null);vq.displayName="Await";var Ui=T.createContext(null);Ui.displayName="Navigation";var _p=T.createContext(null);_p.displayName="Location";var zs=T.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var mA=T.createContext(null);mA.displayName="RouteError";var kP="REACT_ROUTER_ERROR",yq="REDIRECT",bq="ROUTE_ERROR_RESPONSE";function _q(e){if(e.startsWith(`${kP}:${yq}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function wq(e){if(e.startsWith(`${kP}:${bq}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new dq(t.status,t.statusText,t.data)}catch{}}function Eq(e,{relative:t}={}){tn(Lf(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=T.useContext(Ui),{hash:a,pathname:i,search:s}=wp(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:Ko([r,i])),n.createHref({pathname:l,search:s,hash:a})}function Lf(){return T.useContext(_p)!=null}function Us(){return tn(Lf(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(_p).location}var DP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OP(e){T.useContext(Ui).static||T.useLayoutEffect(e)}function Xu(){let{isDataRoute:e}=T.useContext(zs);return e?Mq():Sq()}function Sq(){tn(Lf(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Mf),{basename:t,navigator:r}=T.useContext(Ui),{matches:n}=T.useContext(zs),{pathname:a}=Us(),i=JSON.stringify(hA(n)),s=T.useRef(!1);return OP(()=>{s.current=!0}),T.useCallback((u,f={})=>{if(Bi(s.current,DP),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=pA(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ko([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,i,a,e])}var Aq=T.createContext(null);function Cq(e){let t=T.useContext(zs).outlet;return T.useMemo(()=>t&&T.createElement(Aq.Provider,{value:e},t),[t,e])}function wp(e,{relative:t}={}){let{matches:r}=T.useContext(zs),{pathname:n}=Us(),a=JSON.stringify(hA(r));return T.useMemo(()=>pA(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Tq(e,t){return jP(e,t)}function jP(e,t,r,n,a){tn(Lf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Ui),{matches:s}=T.useContext(zs),l=s[s.length-1],u=l?l.params:{},f=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let C=m&&m.path||"";IP(f,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Us(),x;if(t){let C=typeof t=="string"?Bf(t):t;tn(d==="/"||C.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),x=C}else x=g;let y=x.pathname||"/",_=y;if(d!=="/"){let C=d.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=bP(e,{pathname:_});Bi(m||b!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Bi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Nq(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Ko([d,i.encodeLocation?i.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Ko([d,i.encodeLocation?i.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,r,n,a);return t&&w?T.createElement(_p.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},w):w}function kq(){let e=Bq(),t=hq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:i},"ErrorBoundary")," or"," ",T.createElement("code",{style:i},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:a},r):null,s)}var Dq=T.createElement(kq,null),NP=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=wq(e.digest);r&&(e=r)}let t=e!==void 0?T.createElement(zs.Provider,{value:this.props.routeContext},T.createElement(mA.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?T.createElement(Oq,{error:e},t):t}};NP.contextType=gq;var c_=new WeakMap;function Oq({children:e,error:t}){let{basename:r}=T.useContext(Ui);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=_q(t.digest);if(n){let a=c_.get(t);if(a)throw a;let i=AP(n.location,r);if(SP&&!c_.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw c_.set(t,s),s}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function jq({routeContext:e,match:t,children:r}){let n=T.useContext(Mf);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(zs.Provider,{value:e},r)}function Nq(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r?.errors;if(s!=null){let d=i.findIndex(m=>m.route.id&&s?.[m.route.id]!==void 0);tn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:g,errors:x}=r,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||y){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let f=r&&n?(d,m)=>{n(d,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:pq(r.matches),errorInfo:m})}:void 0;return i.reduceRight((d,m,g)=>{let x,y=!1,_=null,b=null;r&&(x=s&&m.route.id?s[m.route.id]:void 0,_=m.route.errorElement||Dq,l&&(u<0&&g===0?(IP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):u===g&&(y=!0,b=m.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,g+1)),C=()=>{let S;return x?S=_:y?S=b:m.route.Component?S=T.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=d,T.createElement(jq,{match:m,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:S})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?T.createElement(NP,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:f}):C()},null)}function gA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iq(e){let t=T.useContext(Mf);return tn(t,gA(e)),t}function Rq(e){let t=T.useContext(z1);return tn(t,gA(e)),t}function Pq(e){let t=T.useContext(zs);return tn(t,gA(e)),t}function xA(e){let t=Pq(e),r=t.matches[t.matches.length-1];return tn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Fq(){return xA("useRouteId")}function Bq(){let e=T.useContext(mA),t=Rq("useRouteError"),r=xA("useRouteError");return e!==void 0?e:t.errors?.[r]}function Mq(){let{router:e}=Iq("useNavigate"),t=xA("useNavigate"),r=T.useRef(!1);return OP(()=>{r.current=!0}),T.useCallback(async(a,i={})=>{Bi(r.current,DP),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var xD={};function IP(e,t,r){!t&&!xD[e]&&(xD[e]=!0,Bi(!1,r))}T.memo(Lq);function Lq({routes:e,future:t,state:r,onError:n}){return jP(e,void 0,r,n,t)}function yE({to:e,replace:t,state:r,relative:n}){tn(Lf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(Ui);Bi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=T.useContext(zs),{pathname:s}=Us(),l=Xu(),u=pA(e,hA(i),s,n==="path"),f=JSON.stringify(u);return T.useEffect(()=>{l(JSON.parse(f),{replace:t,state:r,relative:n})},[l,f,n,t,r]),null}function zq(e){return Cq(e.context)}function di(e){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uq({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){tn(!Lf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[l,a,i,s]);typeof r=="string"&&(r=Bf(r));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:x="default"}=r,y=T.useMemo(()=>{let _=el(f,l);return _==null?null:{location:{pathname:_,search:d,hash:m,state:g,key:x},navigationType:n}},[l,f,d,m,g,x,n]);return Bi(y!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:T.createElement(Ui.Provider,{value:u},T.createElement(_p.Provider,{children:t,value:y}))}function Vq({children:e,location:t}){return Tq(bE(e),t)}function bE(e,t=[]){let r=[];return T.Children.forEach(e,(n,a)=>{if(!T.isValidElement(n))return;let i=[...t,a];if(n.type===T.Fragment){r.push.apply(r,bE(n.props.children,i));return}tn(n.type===di,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=bE(n.props.children,i)),r.push(s)}),r}var ux="get",fx="application/x-www-form-urlencoded";function U1(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function $q(e){return U1(e)&&e.tagName.toLowerCase()==="button"}function Hq(e){return U1(e)&&e.tagName.toLowerCase()==="form"}function qq(e){return U1(e)&&e.tagName.toLowerCase()==="input"}function Wq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gq(e,t){return e.button===0&&(!t||t==="_self")&&!Wq(e)}function _E(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Kq(e,t){let r=_E(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Cg=null;function Xq(){if(Cg===null)try{new FormData(document.createElement("form"),0),Cg=!1}catch{Cg=!0}return Cg}var Yq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u_(e){return e!=null&&!Yq.has(e)?(Bi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fx}"`),null):e}function Qq(e,t){let r,n,a,i,s;if(Hq(e)){let l=e.getAttribute("action");n=l?el(l,t):null,r=e.getAttribute("method")||ux,a=u_(e.getAttribute("enctype"))||fx,i=new FormData(e)}else if($q(e)||qq(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?el(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||ux,a=u_(e.getAttribute("formenctype"))||u_(l.getAttribute("enctype"))||fx,i=new FormData(l,e),!Xq()){let{name:f,type:d,value:m}=e;if(d==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,m)}}else{if(U1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ux,n=null,a=fx,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zq(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&el(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Jq(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eW(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tW(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await Jq(i,r);return s.links?s.links():[]}return[]}));return iW(n.flat(1).filter(eW).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vD(e,t,r,n,a,i){let s=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,l=(u,f)=>r[f].pathname!==u.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,f)=>s(u,f)||l(u,f)):i==="data"?t.filter((u,f)=>{let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(s(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function rW(e,t,{includeHydrateFallback:r}={}){return nW(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function nW(e){return[...new Set(e)]}function aW(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function iW(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(aW(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function RP(){let e=T.useContext(Mf);return vA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sW(){let e=T.useContext(z1);return vA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yA=T.createContext(void 0);yA.displayName="FrameworkContext";function PP(){let e=T.useContext(yA);return vA(e,"You must render this element inside a <HydratedRouter> element"),e}function oW(e,t){let r=T.useContext(yA),[n,a]=T.useState(!1),[i,s]=T.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:d,onTouchStart:m}=t,g=T.useRef(null);T.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let _=w=>{w.forEach(C=>{s(C.isIntersecting)})},b=new IntersectionObserver(_,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[e]),T.useEffect(()=>{if(n){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[n]);let x=()=>{a(!0)},y=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Jd(l,x),onBlur:Jd(u,y),onMouseEnter:Jd(f,x),onMouseLeave:Jd(d,y),onTouchStart:Jd(m,x)}]:[!1,g,{}]}function Jd(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function lW({page:e,...t}){let{router:r}=RP(),n=T.useMemo(()=>bP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?T.createElement(uW,{page:e,matches:n,...t}):null}function cW(e){let{manifest:t,routeModules:r}=PP(),[n,a]=T.useState([]);return T.useEffect(()=>{let i=!1;return tW(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function uW({page:e,matches:t,...r}){let n=Us(),{future:a,manifest:i,routeModules:s}=PP(),{basename:l}=RP(),{loaderData:u,matches:f}=sW(),d=T.useMemo(()=>vD(e,t,f,i,n,"data"),[e,t,f,i,n]),m=T.useMemo(()=>vD(e,t,f,i,n,"assets"),[e,t,f,i,n]),g=T.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let _=new Set,b=!1;if(t.forEach(C=>{let S=i.routes[C.route.id];!S||!S.hasLoader||(!d.some(O=>O.route.id===C.route.id)&&C.route.id in u&&s[C.route.id]?.shouldRevalidate||S.hasClientLoader?b=!0:_.add(C.route.id))}),_.size===0)return[];let w=Zq(e,l,a.unstable_trailingSlashAwareDataRequests,"data");return b&&_.size>0&&w.searchParams.set("_routes",t.filter(C=>_.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[l,a.unstable_trailingSlashAwareDataRequests,u,n,i,d,t,e,s]),x=T.useMemo(()=>rW(m,i),[m,i]),y=cW(m);return T.createElement(T.Fragment,null,g.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),x.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),y.map(({key:_,link:b})=>T.createElement("link",{key:_,nonce:r.nonce,...b})))}function fW(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var dW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dW&&(window.__reactRouterVersion="7.12.0")}catch{}function hW({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=T.useRef();a.current==null&&(a.current=$H({window:n,v5Compat:!0}));let i=a.current,[s,l]=T.useState({action:i.action,location:i.location}),u=T.useCallback(f=>{r===!1?l(f):T.startTransition(()=>l(f))},[r]);return T.useLayoutEffect(()=>i.listen(u),[i,u]),T.createElement(Uq,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:r})}var FP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BP=T.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:l,target:u,to:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...x},y){let{basename:_,unstable_useTransitions:b}=T.useContext(Ui),w=typeof f=="string"&&FP.test(f),C=AP(f,_);f=C.to;let S=Eq(f,{relative:a}),[O,F,B]=oW(n,x),j=gW(f,{replace:s,state:l,target:u,preventScrollReset:d,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:b});function k(I){t&&t(I),I.defaultPrevented||j(I)}let P=T.createElement("a",{...x,...B,href:C.absoluteURL||S,onClick:C.isExternal||i?t:k,ref:fW(y,F),target:u,"data-discover":!w&&r==="render"?"true":void 0});return O&&!w?T.createElement(T.Fragment,null,P,T.createElement(lW,{page:S})):P});BP.displayName="Link";var MP=T.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:l,children:u,...f},d){let m=wp(s,{relative:f.relative}),g=Us(),x=T.useContext(z1),{navigator:y,basename:_}=T.useContext(Ui),b=x!=null&&wW(m)&&l===!0,w=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,C=g.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(C=C.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&_&&(S=el(S,_)||S);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let F=C===w||!a&&C.startsWith(w)&&C.charAt(O)==="/",B=S!=null&&(S===w||!a&&S.startsWith(w)&&S.charAt(w.length)==="/"),j={isActive:F,isPending:B,isTransitioning:b},k=F?t:void 0,P;typeof n=="function"?P=n(j):P=[n,F?"active":null,B?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(j):i;return T.createElement(BP,{...f,"aria-current":k,className:P,ref:d,style:I,to:s,viewTransition:l},typeof u=="function"?u(j):u)});MP.displayName="NavLink";var pW=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=ux,action:l,onSubmit:u,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...x},y)=>{let{unstable_useTransitions:_}=T.useContext(Ui),b=bW(),w=_W(l,{relative:f}),C=s.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&FP.test(l),O=F=>{if(u&&u(F),F.defaultPrevented)return;F.preventDefault();let B=F.nativeEvent.submitter,j=B?.getAttribute("formmethod")||s,k=()=>b(B||F.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:a,state:i,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g});_&&r!==!1?T.startTransition(()=>k()):k()};return T.createElement("form",{ref:y,method:C,action:w,onSubmit:n?u:O,...x,"data-discover":!S&&e==="render"?"true":void 0})});pW.displayName="Form";function mW(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LP(e){let t=T.useContext(Mf);return tn(t,mW(e)),t}function gW(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let f=Xu(),d=Us(),m=wp(e,{relative:i});return T.useCallback(g=>{if(Gq(g,t)){g.preventDefault();let x=r!==void 0?r:Lh(d)===Lh(m),y=()=>f(e,{replace:x,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l});u?T.startTransition(()=>y()):y()}},[d,f,m,r,n,t,e,a,i,s,l,u])}function xW(e){Bi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(_E(e)),r=T.useRef(!1),n=Us(),a=T.useMemo(()=>Kq(n.search,r.current?null:t.current),[n.search]),i=Xu(),s=T.useCallback((l,u)=>{const f=_E(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+f,u)},[i,a]);return[a,s]}var vW=0,yW=()=>`__${String(++vW)}__`;function bW(){let{router:e}=LP("useSubmit"),{basename:t}=T.useContext(Ui),r=Fq(),n=e.fetch,a=e.navigate;return T.useCallback(async(i,s={})=>{let{action:l,method:u,encType:f,formData:d,body:m}=Qq(i,t);if(s.navigate===!1){let g=s.fetcherKey||yW();await n(g,r,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await a(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,a,t,r])}function _W(e,{relative:t}={}){let{basename:r}=T.useContext(Ui),n=T.useContext(zs);tn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...wp(e||".",{relative:t})},s=Us();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ko([r,i.pathname])),Lh(i)}function wW(e,{relative:t}={}){let r=T.useContext(TP);tn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=LP("useViewTransitionState"),a=wp(e,{relative:t});if(!r.isTransitioning)return!1;let i=el(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=el(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fv(a.pathname,s)!=null||fv(a.pathname,i)!=null}var V1=yP();const wE="2.4.0";const EW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),yD=e=>{const t=SW(e);return t.charAt(0).toUpperCase()+t.slice(1)},zP=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),AW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var CW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TW=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},u)=>T.createElement("svg",{ref:u,...CW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:zP("lucide",a),...!i&&!AW(l)&&{"aria-hidden":"true"},...l},[...s.map(([f,d])=>T.createElement(f,d)),...Array.isArray(i)?i:[i]]));const nt=(e,t)=>{const r=T.forwardRef(({className:n,...a},i)=>T.createElement(TW,{ref:i,iconNode:t,className:zP(`lucide-${EW(yD(e))}`,`lucide-${e}`,n),...a}));return r.displayName=yD(e),r};const kW=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],UP=nt("banknote",kW);const DW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],OW=nt("book-open",DW);const jW=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],NW=nt("box",jW);const IW=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],hu=nt("calculator",IW);const RW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],f_=nt("calendar",RW);const PW=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],dv=nt("camera",PW);const FW=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],BW=nt("chart-no-axes-column-increasing",FW);const MW=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],LW=nt("chart-no-axes-column",MW);const zW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],VP=nt("check",zW);const UW=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],bA=nt("chef-hat",UW);const VW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tg=nt("chevron-down",VW);const $W=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$P=nt("chevron-left",$W);const HW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],HP=nt("chevron-right",HW);const qW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],EE=nt("circle-alert",qW);const WW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ep=nt("circle-check-big",WW);const GW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KW=nt("circle-question-mark",GW);const XW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],dx=nt("circle-user",XW);const YW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bu=nt("clock",YW);const QW=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],_A=nt("coffee",QW);const ZW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],zf=nt("credit-card",ZW);const JW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_h=nt("dollar-sign",JW);const eG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tG=nt("download",eG);const rG=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],nG=nt("ellipsis-vertical",rG);const aG=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],qP=nt("file-spreadsheet",aG);const iG=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],WP=nt("file-text",iG);const sG=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],bD=nt("flag",sG);const oG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],lG=nt("funnel",oG);const cG=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],uG=nt("gift",cG);const fG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],SE=nt("globe",fG);const dG=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],_D=nt("hash",dG);const hG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pG=nt("history",hG);const mG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],zh=nt("info",mG);const gG=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xG=nt("key",gG);const vG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],AE=nt("layout-grid",vG);const yG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bG=nt("loader-circle",yG);const _G=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],wG=nt("loader",_G);const EG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],SG=nt("log-out",EG);const AG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],GP=nt("mail",AG);const CG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],TG=nt("map-pin",CG);const kG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],DG=nt("maximize-2",kG);const OG=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],jG=nt("message-circle",OG);const NG=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],IG=nt("minimize-2",NG);const RG=[["path",{d:"M5 12h14",key:"1ays0h"}]],PG=nt("minus",RG);const FG=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],KP=nt("package",FG);const BG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],XP=nt("pen",BG);const MG=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],YP=nt("phone",MG);const LG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fs=nt("plus",LG);const zG=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],UG=nt("receipt",zG);const VG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gc=nt("refresh-cw",VG);const $G=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uh=nt("save",$G);const HG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nu=nt("search",HG);const qG=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wA=nt("settings",qG);const WG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],GG=nt("shield",WG);const KG=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],_u=nt("shopping-bag",KG);const XG=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],YG=nt("shopping-cart",XG);const QG=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kg=nt("sparkles",QG);const ZG=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Sp=nt("square-pen",ZG);const JG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],eK=nt("star",JG);const tK=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],CE=nt("tag",tK);const rK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qa=nt("trash-2",rK);const nK=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],QP=nt("trending-down",nK);const aK=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],d_=nt("trending-up",aK);const iK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],EA=nt("triangle-alert",iK);const sK=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],oK=nt("truck",sK);const lK=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],SA=nt("upload",lK);const cK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],AA=nt("user-plus",cK);const uK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fK=nt("user",uK);const dK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hv=nt("users",dK);const hK=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],pK=nt("volume-2",hK);const mK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],TE=nt("wallet",mK);const gK=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],$1=nt("wifi",gK);const xK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fs=nt("x",xK),ZP=T.createContext(),H1=()=>T.useContext(ZP),vK=({children:e})=>{const[t,r]=T.useState(()=>{try{const i=localStorage.getItem("appSettings");return i?JSON.parse(i):{appName:"La Autentica",appSubtitle:"ERP System",logoColor1:"#00f2ff",logoColor2:"#ff9d00",sidebarWidth:"200px",isSidebarCollapsed:!1,masterPin:"0000"}}catch(i){return console.error("Error loading settings:",i),{appName:"La Autentica",appSubtitle:"ERP System",logoColor1:"#00f2ff",logoColor2:"#ff9d00",sidebarWidth:"200px",isSidebarCollapsed:!1,masterPin:"0000"}}}),n=i=>{r(s=>{const l={...s,...i};try{localStorage.setItem("appSettings",JSON.stringify(l))}catch(u){console.error("Error saving settings:",u)}return l})},a=()=>{r(i=>{const s={...i,isSidebarCollapsed:!i.isSidebarCollapsed};try{localStorage.setItem("appSettings",JSON.stringify(s))}catch(l){console.error("Error saving settings:",l)}return s})};return h.jsx(ZP.Provider,{value:{settings:t,updateSettings:n,toggleSidebar:a},children:e})},yK="462174468362-q22eqp43uflj9kapj1mf0krlst71ior1.apps.googleusercontent.com",bK=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],_K="https://www.googleapis.com/auth/drive.file";let Dg,wD=!1,ED=!1;const nf={isAuthenticated:!1,loadScripts:e=>{const t=document.createElement("script");t.src="https://apis.google.com/js/api.js",t.onload=()=>{window.gapi.load("client",async()=>{await window.gapi.client.init({discoveryDocs:bK}),wD=!0,ED&&e()})},document.body.appendChild(t);const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.onload=()=>{Dg=window.google.accounts.oauth2.initTokenClient({client_id:yK,scope:_K,callback:""}),ED=!0,wD&&e()},document.body.appendChild(r)},signIn:()=>new Promise((e,t)=>{Dg.callback=async r=>{r.error&&t(r),nf.isAuthenticated=!0,e(r)},window.gapi.client.getToken()===null?Dg.requestAccessToken({prompt:"consent"}):Dg.requestAccessToken({prompt:""})}),signOut:()=>{const e=window.gapi.client.getToken();e!==null&&(window.google.accounts.oauth2.revoke(e.access_token),window.gapi.client.setToken(""),nf.isAuthenticated=!1)},findOrCreateFolder:async e=>{try{const t=window.gapi.client.getToken().access_token,n=await(await fetch(`https://www.googleapis.com/drive/v3/files?q=mimeType='application/vnd.google-apps.folder' and name='${e}' and trashed=false`,{headers:{Authorization:"Bearer "+t}})).json();if(n.files&&n.files.length>0)return n.files[0].id;const a={name:e,mimeType:"application/vnd.google-apps.folder"};return(await(await fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify(a)})).json()).id}catch(t){throw console.error("Error finding/creating folder:",t),t}},uploadFile:async(e,t)=>{try{const r=await nf.findOrCreateFolder("ERP La Autentica"),n=window.gapi.client.getToken().access_token,i=await(await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${e}' and '${r}' in parents and trashed=false`,{headers:{Authorization:"Bearer "+n}})).json(),s=i.files&&i.files.length>0?i.files[0].id:null,l=new Blob([JSON.stringify(t)],{type:"application/json"}),u={name:e,mimeType:"application/json",parents:s?[]:[r]},f=new FormData;f.append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),f.append("file",l);let d="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",m="POST";return s&&(d=`https://www.googleapis.com/upload/drive/v3/files/${s}?uploadType=multipart`,m="PATCH"),await(await fetch(d,{method:m,headers:new Headers({Authorization:"Bearer "+n}),body:f})).json()}catch(r){throw console.error("Error uploading to Drive:",r),r}},uploadBinaryFile:async(e,t,r)=>{try{const n=await nf.findOrCreateFolder(t);let a=n;if(r){const f=window.gapi.client.getToken().access_token,m=await(await fetch(`https://www.googleapis.com/drive/v3/files?q=mimeType='application/vnd.google-apps.folder' and name='${r}' and '${n}' in parents and trashed=false`,{headers:{Authorization:"Bearer "+f}})).json();if(m.files&&m.files.length>0)a=m.files[0].id;else{const g={name:r,mimeType:"application/vnd.google-apps.folder",parents:[n]};a=(await(await fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:"Bearer "+f,"Content-Type":"application/json"},body:JSON.stringify(g)})).json()).id}}const i={name:e.name,mimeType:e.type,parents:[a]},s=window.gapi.client.getToken().access_token,l=new FormData;return l.append("metadata",new Blob([JSON.stringify(i)],{type:"application/json"})),l.append("file",e),await(await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,webViewLink",{method:"POST",headers:new Headers({Authorization:"Bearer "+s}),body:l})).json()}catch(n){throw console.error("Error uploading binary to Drive:",n),n}},findFile:async e=>{try{const t=window.gapi.client.getToken().access_token,n=await(await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${e}' and trashed=false`,{headers:{Authorization:"Bearer "+t}})).json();return n.files&&n.files.length>0?n.files[0].id:null}catch(t){throw console.error("Error finding file:",t),t}},downloadFile:async e=>{try{const t=window.gapi.client.getToken().access_token;return await(await fetch(`https://www.googleapis.com/drive/v3/files/${e}?alt=media`,{headers:{Authorization:"Bearer "+t}})).json()}catch(t){throw console.error("Error downloading file:",t),t}}},ho=Object.create(null);ho.open="0";ho.close="1";ho.ping="2";ho.pong="3";ho.message="4";ho.upgrade="5";ho.noop="6";const hx=Object.create(null);Object.keys(ho).forEach(e=>{hx[ho[e]]=e});const kE={type:"error",data:"parser error"},JP=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",eF=typeof ArrayBuffer=="function",tF=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,CA=({type:e,data:t},r,n)=>JP&&t instanceof Blob?r?n(t):SD(t,n):eF&&(t instanceof ArrayBuffer||tF(t))?r?n(t):SD(new Blob([t]),n):n(ho[e]+(t||"")),SD=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function AD(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let h_;function wK(e,t){if(JP&&e.data instanceof Blob)return e.data.arrayBuffer().then(AD).then(t);if(eF&&(e.data instanceof ArrayBuffer||tF(e.data)))return t(AD(e.data));CA(e,!1,r=>{h_||(h_=new TextEncoder),t(h_.encode(r))})}const CD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<CD.length;e++)fh[CD.charCodeAt(e)]=e;const EK=e=>{let t=e.length*.75,r=e.length,n,a=0,i,s,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),d=new Uint8Array(f);for(n=0;n<r;n+=4)i=fh[e.charCodeAt(n)],s=fh[e.charCodeAt(n+1)],l=fh[e.charCodeAt(n+2)],u=fh[e.charCodeAt(n+3)],d[a++]=i<<2|s>>4,d[a++]=(s&15)<<4|l>>2,d[a++]=(l&3)<<6|u&63;return f},SK=typeof ArrayBuffer=="function",TA=(e,t)=>{if(typeof e!="string")return{type:"message",data:rF(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:AK(e.substring(1),t)}:hx[r]?e.length>1?{type:hx[r],data:e.substring(1)}:{type:hx[r]}:kE},AK=(e,t)=>{if(SK){const r=EK(e);return rF(r,t)}else return{base64:!0,data:e}},rF=(e,t)=>t==="blob"?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,nF="",CK=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((i,s)=>{CA(i,!1,l=>{n[s]=l,++a===r&&t(n.join(nF))})})},TK=(e,t)=>{const r=e.split(nF),n=[];for(let a=0;a<r.length;a++){const i=TA(r[a],t);if(n.push(i),i.type==="error")break}return n};function kK(){return new TransformStream({transform(e,t){wK(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let p_;function Og(e){return e.reduce((t,r)=>t+r.length,0)}function jg(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function DK(e,t){p_||(p_=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(s,l){for(r.push(s);;){if(n===0){if(Og(r)<1)break;const u=jg(r,1);i=(u[0]&128)===128,a=u[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(Og(r)<2)break;const u=jg(r,2);a=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(Og(r)<8)break;const u=jg(r,8),f=new DataView(u.buffer,u.byteOffset,u.length),d=f.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(kE);break}a=d*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Og(r)<a)break;const u=jg(r,a);l.enqueue(TA(i?u:p_.decode(u),t)),n=0}if(a===0||a>e){l.enqueue(kE);break}}}})}const aF=4;function Fn(e){if(e)return OK(e)}function OK(e){for(var t in Fn.prototype)e[t]=Fn.prototype[t];return e}Fn.prototype.on=Fn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Fn.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Fn.prototype.off=Fn.prototype.removeListener=Fn.prototype.removeAllListeners=Fn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Fn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};Fn.prototype.emitReserved=Fn.prototype.emit;Fn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Fn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const q1=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),os=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),jK="arraybuffer";function iF(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const NK=os.setTimeout,IK=os.clearTimeout;function W1(e,t){t.useNativeTimers?(e.setTimeoutFn=NK.bind(os),e.clearTimeoutFn=IK.bind(os)):(e.setTimeoutFn=os.setTimeout.bind(os),e.clearTimeoutFn=os.clearTimeout.bind(os))}const RK=1.33;function PK(e){return typeof e=="string"?FK(e):Math.ceil((e.byteLength||e.size)*RK)}function FK(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function sF(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function BK(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function MK(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class LK extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class kA extends Fn{constructor(t){super(),this.writable=!1,W1(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new LK(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=TA(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=BK(t);return r.length?"?"+r:""}}class zK extends kA{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};TK(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,CK(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=sF()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let oF=!1;try{oF=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const UK=oF;function VK(){}class $K extends zK{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let uf=class px extends Fn{constructor(t,r,n){super(),this.createRequest=t,W1(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=iF(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=px.requestsCount++,px.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=VK,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete px.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};uf.requestsCount=0;uf.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",TD);else if(typeof addEventListener=="function"){const e="onpagehide"in os?"pagehide":"unload";addEventListener(e,TD,!1)}}function TD(){for(let e in uf.requests)uf.requests.hasOwnProperty(e)&&uf.requests[e].abort()}const HK=(function(){const e=lF({xdomain:!1});return e&&e.responseType!==null})();class qK extends $K{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=HK&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new uf(lF,this.uri(),t)}}function lF(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||UK))return new XMLHttpRequest}catch{}if(!t)try{return new os[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const cF=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WK extends kA{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=cF?{}:iF(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;CA(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&q1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=sF()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const m_=os.WebSocket||os.MozWebSocket;class GK extends WK{createSocket(t,r,n){return cF?new m_(t,r,n):r?new m_(t,r):new m_(t)}doWrite(t,r){this.ws.send(r)}}class KK extends kA{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=DK(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=kK();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),i())}).catch(l=>{})};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&q1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const XK={websocket:GK,webtransport:KK,polling:qK},YK=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,QK=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function DE(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=YK.exec(e||""),i={},s=14;for(;s--;)i[QK[s]]=a[s]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=ZK(i,i.path),i.queryKey=JK(i,i.query),i}function ZK(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function JK(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}const OE=typeof addEventListener=="function"&&typeof removeEventListener=="function",mx=[];OE&&addEventListener("offline",()=>{mx.forEach(e=>e())},!1);class oc extends Fn{constructor(t,r){if(super(),this.binaryType=jK,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=DE(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=DE(r.host).host);W1(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=MK(this.opts.query)),OE&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},mx.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=aF,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&oc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",oc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=PK(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,q1(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(oc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),OE&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=mx.indexOf(this._offlineEventListener);n!==-1&&mx.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}oc.protocol=aF;class eX extends oc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;oc.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;oc.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function i(){n||(n=!0,d(),r.close(),r=null)}const s=m=>{const g=new Error("probe error: "+m);g.transport=r.name,i(),this.emitReserved("upgradeError",g)};function l(){s("transport closed")}function u(){s("socket closed")}function f(m){r&&m.name!==r.name&&i()}const d=()=>{r.removeListener("open",a),r.removeListener("error",s),r.removeListener("close",l),this.off("close",u),this.off("upgrading",f)};r.once("open",a),r.once("error",s),r.once("close",l),this.once("close",u),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let tX=class extends eX{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>XK[a]).filter(a=>!!a)),super(t,n)}};function rX(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=DE(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const nX=typeof ArrayBuffer=="function",aX=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,uF=Object.prototype.toString,iX=typeof Blob=="function"||typeof Blob<"u"&&uF.call(Blob)==="[object BlobConstructor]",sX=typeof File=="function"||typeof File<"u"&&uF.call(File)==="[object FileConstructor]";function DA(e){return nX&&(e instanceof ArrayBuffer||aX(e))||iX&&e instanceof Blob||sX&&e instanceof File}function gx(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(gx(e[r]))return!0;return!1}if(DA(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return gx(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&gx(e[r]))return!0;return!1}function oX(e){const t=[],r=e.data,n=e;return n.data=jE(r,t),n.attachments=t.length,{packet:n,buffers:t}}function jE(e,t){if(!e)return e;if(DA(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=jE(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=jE(e[n],t));return r}return e}function lX(e,t){return e.data=NE(e.data,t),delete e.attachments,e}function NE(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=NE(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=NE(e[r],t));return e}const fF=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],cX=5;var Mt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Mt||(Mt={}));class uX{constructor(t){this.replacer=t}encode(t){return(t.type===Mt.EVENT||t.type===Mt.ACK)&&gx(t)?this.encodeAsBinary({type:t.type===Mt.EVENT?Mt.BINARY_EVENT:Mt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Mt.BINARY_EVENT||t.type===Mt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=oX(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}class OA extends Fn{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Mt.BINARY_EVENT;n||r.type===Mt.BINARY_ACK?(r.type=n?Mt.EVENT:Mt.ACK,this.reconstructor=new fX(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(DA(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Mt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Mt.BINARY_EVENT||n.type===Mt.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const s=t.substring(i,r);if(s!=Number(s)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const s=t.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(OA.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Mt.CONNECT:return pv(r);case Mt.DISCONNECT:return r===void 0;case Mt.CONNECT_ERROR:return typeof r=="string"||pv(r);case Mt.EVENT:case Mt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&fF.indexOf(r[0])===-1);case Mt.ACK:case Mt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class fX{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=lX(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function dX(e){return typeof e=="string"}const hX=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function pX(e){return e===void 0||hX(e)}function pv(e){return Object.prototype.toString.call(e)==="[object Object]"}function mX(e,t){switch(e){case Mt.CONNECT:return t===void 0||pv(t);case Mt.DISCONNECT:return t===void 0;case Mt.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&fF.indexOf(t[0])===-1);case Mt.ACK:return Array.isArray(t);case Mt.CONNECT_ERROR:return typeof t=="string"||pv(t);default:return!1}}function gX(e){return dX(e.nsp)&&pX(e.id)&&mX(e.type,e.data)}const xX=Object.freeze(Object.defineProperty({__proto__:null,Decoder:OA,Encoder:uX,get PacketType(){return Mt},isPacketValid:gX,protocol:cX},Symbol.toStringTag,{value:"Module"}));function Ds(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const vX=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class dF extends Fn{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ds(t,"open",this.onopen.bind(this)),Ds(t,"packet",this.onpacket.bind(this)),Ds(t,"error",this.onerror.bind(this)),Ds(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,i;if(vX.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const s={type:Mt.EVENT,data:r};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,m=r.pop();this._registerAckCallback(d,m),s.id=d}const l=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},a),s=(...l)=>{this.io.clearTimeoutFn(i),r.apply(this,l)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...r){return new Promise((n,a)=>{const i=(s,l)=>s?a(s):n(l);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Mt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Mt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Mt.EVENT:case Mt.BINARY_EVENT:this.onevent(t);break;case Mt.ACK:case Mt.BINARY_ACK:this.onack(t);break;case Mt.DISCONNECT:this.ondisconnect();break;case Mt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:Mt.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Mt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Uf(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Uf.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Uf.prototype.reset=function(){this.attempts=0};Uf.prototype.setMin=function(e){this.ms=e};Uf.prototype.setMax=function(e){this.max=e};Uf.prototype.setJitter=function(e){this.jitter=e};class IE extends Fn{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,W1(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Uf({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||xX;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new tX(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Ds(r,"open",function(){n.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},s=Ds(r,"error",i);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),r.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(a),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ds(t,"ping",this.onping.bind(this)),Ds(t,"data",this.ondata.bind(this)),Ds(t,"error",this.onerror.bind(this)),Ds(t,"close",this.onclose.bind(this)),Ds(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){q1(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new dF(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const eh={};function xx(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=rX(e,t.path||"/socket.io"),n=r.source,a=r.id,i=r.path,s=eh[a]&&i in eh[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let u;return l?u=new IE(n,t):(eh[a]||(eh[a]=new IE(n,t)),u=eh[a]),r.query&&!t.query&&(t.query=r.queryKey),u.socket(r.path,t)}Object.assign(xx,{Manager:IE,Socket:dF,io:xx,connect:xx});const mv=()=>{const e=localStorage.getItem("remote_server_ip");if(e)return`http://${e}:3001`;const t=localStorage.getItem("pos_server_url");if(t)return t;if(window.Capacitor?.isNative||window.location.protocol==="capacitor:"||window.location.protocol==="file:")return"http://127.0.0.1:3001";const n=window.location.protocol,a=window.location.hostname;return`${n}//${a}:3001`},yX=mv();class bX{constructor(){this.socket=null,this.isConnected=!1,this.subscribers=[],this.syncInterval=null,this.serverInfo=null}getSuggestedUrl(){return mv()}getServerInfo(){return this.serverInfo}connect(t){if(this.socket)return;const r=t||mv();console.log(" Connecting to Local Sync Server:",r),this.socket=xx(r,{reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,transports:["websocket","polling"],autoConnect:!0}),this.socket.on("connect_error",n=>{console.debug("Local sync server not found (using cloud only):",n.message)}),this.socket.on("connect",()=>{console.log(" Connected to Local Server"),this.isConnected=!0,this.notifySubscribers("connection_status",!0)}),this.socket.on("disconnect",()=>{console.log(" Disconnected from Local Server"),this.isConnected=!1,this.notifySubscribers("connection_status",!1)}),this.socket.on("server_info",n=>{console.log(" Server Info received:",n),this.serverInfo=n,this.notifySubscribers("server_info",n)}),this.socket.on("kitchen_order_received",n=>{this.notifySubscribers("kitchen_order",n)}),this.socket.on("sync_updated_needed",()=>{this.notifySubscribers("sync_needed",null)}),this.socket.on("sync_update",n=>{this.notifySubscribers("sync_update",n)}),this.socket.on("remote_cart_update",n=>{this.notifySubscribers("remote_cart_update",n)}),this.socket.on("encryption_required",n=>{console.log(" Server is LOCKED. Master Key required."),this.notifySubscribers("encryption_required",n)}),this.socket.on("encryption_unlock_success",()=>{this.notifySubscribers("encryption_unlock_success",null)}),this.socket.on("encryption_unlock_error",n=>{console.error(" Encryption error:",n.message),this.notifySubscribers("encryption_unlock_error",n)}),this.socket.on("encryption_key_accepted",()=>{this.notifySubscribers("encryption_key_accepted",null)}),this.socket.on("encryption_key_changed",()=>{this.notifySubscribers("encryption_key_changed",null)})}subscribe(t){return this.subscribers.push(t),()=>{this.subscribers=this.subscribers.filter(r=>r!==t)}}notifySubscribers(t,r){this.subscribers.forEach(n=>n(t,r))}sendActiveCartUpdate(t){return this.socket&&this.isConnected?(this.socket.emit("active_cart_update",t),!0):!1}sendExchangeRate(t){return this.socket&&this.isConnected?(this.socket.emit("update_exchange_rate",t),!0):!1}sendKitchenOrder(t){return this.socket&&this.isConnected?(this.socket.emit("new_kitchen_order",t),!0):!1}sendHeldOrder(t){return this.socket&&this.isConnected?(this.socket.emit("add_held_order",t),!0):!1}deleteHeldOrder(t){return this.socket&&this.isConnected?(this.socket.emit("delete_held_order",t),!0):!1}sendFullStateUpdate(t){return this.socket&&this.isConnected?(this.socket.emit("full_state_update",t),!0):!1}sendEncryptionKey(t){return this.socket&&this.isConnected?(this.socket.emit("provide_encryption_key",t),!0):!1}changeMasterKey(t,r){return this.socket&&this.isConnected?(this.socket.emit("change_master_key",{oldKey:t,newKey:r}),!0):!1}async syncData(t){if(!this.isConnected)return null;try{const n=await(await fetch(`${yX}/api/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientData:t,lastSyncTime:new Date().toISOString()})})).json();return n.success?n.serverData:null}catch(r){return console.error("Sync API Failed",r),null}}}const Ea=new bX;class _X{constructor(){this.isEnabled=localStorage.getItem("audioNotifications")!=="false",this.volume=parseFloat(localStorage.getItem("notificationVolume")||"0.7"),this.audioContext=null,typeof window<"u"&&(window.AudioContext||window.webkitAudioContext)&&(this.audioContext=new(window.AudioContext||window.webkitAudioContext))}playBeep(t=800,r=200,n=this.volume){if(!(!this.isEnabled||!this.audioContext))try{const a=this.audioContext.createOscillator(),i=this.audioContext.createGain();a.connect(i),i.connect(this.audioContext.destination),a.frequency.value=t,a.type="sine",i.gain.setValueAtTime(n,this.audioContext.currentTime),i.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+r/1e3),a.start(this.audioContext.currentTime),a.stop(this.audioContext.currentTime+r/1e3)}catch(a){console.error("Error playing beep:",a)}}playNewOrderSound(){this.isEnabled&&(this.playBeep(600,150),setTimeout(()=>this.playBeep(800,150),200),setTimeout(()=>this.playBeep(1e3,200),400))}playOrderReadySound(){this.isEnabled&&(this.playBeep(1200,200),setTimeout(()=>this.playBeep(1e3,250),300))}playSuccessSound(){this.isEnabled&&(this.playBeep(800,100),setTimeout(()=>this.playBeep(1e3,150),120))}playAlertSound(){this.isEnabled&&(this.playBeep(400,300),setTimeout(()=>this.playBeep(350,300),350))}setEnabled(t){this.isEnabled=t,localStorage.setItem("audioNotifications",t.toString())}setVolume(t){this.volume=Math.max(0,Math.min(1,t)),localStorage.setItem("notificationVolume",this.volume.toString())}testSound(){this.playBeep(800,200)}}const tc=new _X,wX=()=>{};var kD={};const hF=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},EX=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],l=e[r++],u=((a&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(u&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},pF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,l=s?e[a+1]:0,u=a+2<e.length,f=u?e[a+2]:0,d=i>>2,m=(i&3)<<4|l>>4;let g=(l&15)<<2|f>>6,x=f&63;u||(x=64,s||(g=64)),n.push(r[d],r[m],r[g],r[x])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hF(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):EX(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],l=a<e.length?r[e.charAt(a)]:0;++a;const f=a<e.length?r[e.charAt(a)]:64;++a;const m=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||l==null||f==null||m==null)throw new SX;const g=i<<2|l>>4;if(n.push(g),f!==64){const x=l<<4&240|f>>2;if(n.push(x),m!==64){const y=f<<6&192|m;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class SX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AX=function(e){const t=hF(e);return pF.encodeByteArray(t,!0)},gv=function(e){return AX(e).replace(/\./g,"")},CX=function(e){try{return pF.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function TX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kX=()=>TX().__FIREBASE_DEFAULTS__,DX=()=>{if(typeof process>"u"||typeof kD>"u")return;const e=kD.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},OX=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&CX(e[1]);return t&&JSON.parse(t)},jA=()=>{try{return wX()||kX()||DX()||OX()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},jX=e=>jA()?.emulatorHosts?.[e],NX=e=>{const t=jX(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},mF=()=>jA()?.config;class IX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function NA(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RX(e){return(await fetch(e,{credentials:"include"})).ok}function PX(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[gv(JSON.stringify(r)),gv(JSON.stringify(s)),""].join(".")}const wh={};function FX(){const e={prod:[],emulator:[]};for(const t of Object.keys(wh))wh[t]?e.emulator.push(t):e.prod.push(t);return e}function BX(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let DD=!1;function MX(e,t){if(typeof window>"u"||typeof document>"u"||!NA(window.location.host)||wh[e]===t||wh[e]||DD)return;wh[e]=t;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",i=FX().prod.length>0;function s(){const g=document.getElementById(n);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{DD=!0,s()},g}function d(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=BX(n),x=r("text"),y=document.getElementById(x)||document.createElement("span"),_=r("learnmore"),b=document.getElementById(_)||document.createElement("a"),w=r("preprendIcon"),C=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const S=g.element;l(S),d(b,_);const O=f();u(C,w),S.append(C,y,b,O),document.body.appendChild(S)}i?(y.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function LX(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zX(){const e=jA()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UX(){return!zX()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VX(){try{return typeof indexedDB=="object"}catch{return!1}}function $X(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(r){t(r)}})}const HX="FirebaseError";class Vf extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=HX,Object.setPrototypeOf(this,Vf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gF.prototype.create)}}class gF{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?qX(i,n):"Error",l=`${this.serviceName}: ${s} (${a}).`;return new Vf(a,l,n)}}function qX(e,t){return e.replace(WX,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const WX=/\{\$([^}]+)}/g;function xv(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(OD(i)&&OD(s)){if(!xv(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function OD(e){return e!==null&&typeof e=="object"}function bf(e){return e&&e._delegate?e._delegate:e}class Vh{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const cu="[DEFAULT]";let GX=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new IX;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),n=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XX(t))try{this.getOrInitializeService({instanceIdentifier:cu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=cu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=cu){return this.instances.has(t)}getOptions(t=cu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&s.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&t(i,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:KX(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=cu){return this.component?this.component.multipleInstances?t:cu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function KX(e){return e===cu?void 0:e}function XX(e){return e.instantiationMode==="EAGER"}class YX{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new GX(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var ar;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ar||(ar={}));const QX={debug:ar.DEBUG,verbose:ar.VERBOSE,info:ar.INFO,warn:ar.WARN,error:ar.ERROR,silent:ar.SILENT},ZX=ar.INFO,JX={[ar.DEBUG]:"log",[ar.VERBOSE]:"log",[ar.INFO]:"info",[ar.WARN]:"warn",[ar.ERROR]:"error"},eY=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=JX[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xF{constructor(t){this.name=t,this._logLevel=ZX,this._logHandler=eY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ar))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QX[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ar.DEBUG,...t),this._logHandler(this,ar.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ar.VERBOSE,...t),this._logHandler(this,ar.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ar.INFO,...t),this._logHandler(this,ar.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ar.WARN,...t),this._logHandler(this,ar.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ar.ERROR,...t),this._logHandler(this,ar.ERROR,...t)}}const tY=(e,t)=>t.some(r=>e instanceof r);let jD,ND;function rY(){return jD||(jD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nY(){return ND||(ND=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vF=new WeakMap,RE=new WeakMap,yF=new WeakMap,g_=new WeakMap,IA=new WeakMap;function aY(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(lc(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&vF.set(r,e)}).catch(()=>{}),IA.set(t,e),t}function iY(e){if(RE.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});RE.set(e,t)}let PE={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return RE.get(e);if(t==="objectStoreNames")return e.objectStoreNames||yF.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return lc(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sY(e){PE=e(PE)}function oY(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(x_(this),t,...r);return yF.set(n,t.sort?t.sort():[t]),lc(n)}:nY().includes(e)?function(...t){return e.apply(x_(this),t),lc(vF.get(this))}:function(...t){return lc(e.apply(x_(this),t))}}function lY(e){return typeof e=="function"?oY(e):(e instanceof IDBTransaction&&iY(e),tY(e,rY())?new Proxy(e,PE):e)}function lc(e){if(e instanceof IDBRequest)return aY(e);if(g_.has(e))return g_.get(e);const t=lY(e);return t!==e&&(g_.set(e,t),IA.set(t,e)),t}const x_=e=>IA.get(e);function cY(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),l=lc(s);return n&&s.addEventListener("upgradeneeded",u=>{n(lc(s.result),u.oldVersion,u.newVersion,lc(s.transaction),u)}),r&&s.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),a&&u.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const uY=["get","getKey","getAll","getAllKeys","count"],fY=["put","add","delete","clear"],v_=new Map;function ID(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(v_.get(t))return v_.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=fY.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||uY.includes(r)))return;const i=async function(s,...l){const u=this.transaction(s,a?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),a&&u.done]))[0]};return v_.set(t,i),i}sY(e=>({...e,get:(t,r,n)=>ID(t,r)||e.get(t,r,n),has:(t,r)=>!!ID(t,r)||e.has(t,r)}));class dY{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(hY(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function hY(e){return e.getComponent()?.type==="VERSION"}const FE="@firebase/app",RD="0.14.6";const tl=new xF("@firebase/app"),pY="@firebase/app-compat",mY="@firebase/analytics-compat",gY="@firebase/analytics",xY="@firebase/app-check-compat",vY="@firebase/app-check",yY="@firebase/auth",bY="@firebase/auth-compat",_Y="@firebase/database",wY="@firebase/data-connect",EY="@firebase/database-compat",SY="@firebase/functions",AY="@firebase/functions-compat",CY="@firebase/installations",TY="@firebase/installations-compat",kY="@firebase/messaging",DY="@firebase/messaging-compat",OY="@firebase/performance",jY="@firebase/performance-compat",NY="@firebase/remote-config",IY="@firebase/remote-config-compat",RY="@firebase/storage",PY="@firebase/storage-compat",FY="@firebase/firestore",BY="@firebase/ai",MY="@firebase/firestore-compat",LY="firebase",zY="12.6.0";const BE="[DEFAULT]",UY={[FE]:"fire-core",[pY]:"fire-core-compat",[gY]:"fire-analytics",[mY]:"fire-analytics-compat",[vY]:"fire-app-check",[xY]:"fire-app-check-compat",[yY]:"fire-auth",[bY]:"fire-auth-compat",[_Y]:"fire-rtdb",[wY]:"fire-data-connect",[EY]:"fire-rtdb-compat",[SY]:"fire-fn",[AY]:"fire-fn-compat",[CY]:"fire-iid",[TY]:"fire-iid-compat",[kY]:"fire-fcm",[DY]:"fire-fcm-compat",[OY]:"fire-perf",[jY]:"fire-perf-compat",[NY]:"fire-rc",[IY]:"fire-rc-compat",[RY]:"fire-gcs",[PY]:"fire-gcs-compat",[FY]:"fire-fst",[MY]:"fire-fst-compat",[BY]:"fire-vertex","fire-js":"fire-js",[LY]:"fire-js-all"};const vv=new Map,VY=new Map,ME=new Map;function PD(e,t){try{e.container.addComponent(t)}catch(r){tl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function yv(e){const t=e.name;if(ME.has(t))return tl.debug(`There were multiple attempts to register component ${t}.`),!1;ME.set(t,e);for(const r of vv.values())PD(r,e);for(const r of VY.values())PD(r,e);return!0}function $Y(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function HY(e){return e==null?!1:e.settings!==void 0}const qY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cc=new gF("app","Firebase",qY);class WY{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Vh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cc.create("app-deleted",{appName:this._name})}}const GY=zY;function bF(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:BE,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw cc.create("bad-app-name",{appName:String(a)});if(r||(r=mF()),!r)throw cc.create("no-options");const i=vv.get(a);if(i){if(xv(r,i.options)&&xv(n,i.config))return i;throw cc.create("duplicate-app",{appName:a})}const s=new YX(a);for(const u of ME.values())s.addComponent(u);const l=new WY(r,n,s);return vv.set(a,l),l}function KY(e=BE){const t=vv.get(e);if(!t&&e===BE&&mF())return bF();if(!t)throw cc.create("no-app",{appName:e});return t}function ff(e,t,r){let n=UY[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const s=[`Unable to register library "${n}" with version "${t}":`];a&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tl.warn(s.join(" "));return}yv(new Vh(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const XY="firebase-heartbeat-database",YY=1,$h="firebase-heartbeat-store";let y_=null;function _F(){return y_||(y_=cY(XY,YY,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore($h)}catch(r){console.warn(r)}}}}).catch(e=>{throw cc.create("idb-open",{originalErrorMessage:e.message})})),y_}async function QY(e){try{const r=(await _F()).transaction($h),n=await r.objectStore($h).get(wF(e));return await r.done,n}catch(t){if(t instanceof Vf)tl.warn(t.message);else{const r=cc.create("idb-get",{originalErrorMessage:t?.message});tl.warn(r.message)}}}async function FD(e,t){try{const n=(await _F()).transaction($h,"readwrite");await n.objectStore($h).put(t,wF(e)),await n.done}catch(r){if(r instanceof Vf)tl.warn(r.message);else{const n=cc.create("idb-set",{originalErrorMessage:r?.message});tl.warn(n.message)}}}function wF(e){return`${e.name}!${e.options.appId}`}const ZY=1024,JY=30;class eQ{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new rQ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=BD();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(a=>a.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>JY){const a=nQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){tl.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=BD(),{heartbeatsToSend:r,unsentEntries:n}=tQ(this._heartbeatsCache.heartbeats),a=gv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return tl.warn(t),""}}}function BD(){return new Date().toISOString().substring(0,10)}function tQ(e,t=ZY){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),MD(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),MD(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class rQ{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VX()?$X().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await QY(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return FD(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return FD(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function MD(e){return gv(JSON.stringify({version:2,heartbeats:e})).length}function nQ(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}function aQ(e){yv(new Vh("platform-logger",t=>new dY(t),"PRIVATE")),yv(new Vh("heartbeat",t=>new eQ(t),"PRIVATE")),ff(FE,RD,e),ff(FE,RD,"esm2020"),ff("fire-js","")}aQ("");var iQ="firebase",sQ="12.7.0";ff(iQ,sQ,"app");var LD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uc,EF;(function(){var e;function t(j,k){function P(){}P.prototype=k.prototype,j.F=k.prototype,j.prototype=new P,j.prototype.constructor=j,j.D=function(I,R,N){for(var M=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)M[ce-2]=arguments[ce];return k.prototype[R].apply(I,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,k,P){P||(P=0);const I=Array(16);if(typeof k=="string")for(var R=0;R<16;++R)I[R]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(R=0;R<16;++R)I[R]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=j.g[0],P=j.g[1],R=j.g[2];let N=j.g[3],M;M=k+(N^P&(R^N))+I[0]+3614090360&4294967295,k=P+(M<<7&4294967295|M>>>25),M=N+(R^k&(P^R))+I[1]+3905402710&4294967295,N=k+(M<<12&4294967295|M>>>20),M=R+(P^N&(k^P))+I[2]+606105819&4294967295,R=N+(M<<17&4294967295|M>>>15),M=P+(k^R&(N^k))+I[3]+3250441966&4294967295,P=R+(M<<22&4294967295|M>>>10),M=k+(N^P&(R^N))+I[4]+4118548399&4294967295,k=P+(M<<7&4294967295|M>>>25),M=N+(R^k&(P^R))+I[5]+1200080426&4294967295,N=k+(M<<12&4294967295|M>>>20),M=R+(P^N&(k^P))+I[6]+2821735955&4294967295,R=N+(M<<17&4294967295|M>>>15),M=P+(k^R&(N^k))+I[7]+4249261313&4294967295,P=R+(M<<22&4294967295|M>>>10),M=k+(N^P&(R^N))+I[8]+1770035416&4294967295,k=P+(M<<7&4294967295|M>>>25),M=N+(R^k&(P^R))+I[9]+2336552879&4294967295,N=k+(M<<12&4294967295|M>>>20),M=R+(P^N&(k^P))+I[10]+4294925233&4294967295,R=N+(M<<17&4294967295|M>>>15),M=P+(k^R&(N^k))+I[11]+2304563134&4294967295,P=R+(M<<22&4294967295|M>>>10),M=k+(N^P&(R^N))+I[12]+1804603682&4294967295,k=P+(M<<7&4294967295|M>>>25),M=N+(R^k&(P^R))+I[13]+4254626195&4294967295,N=k+(M<<12&4294967295|M>>>20),M=R+(P^N&(k^P))+I[14]+2792965006&4294967295,R=N+(M<<17&4294967295|M>>>15),M=P+(k^R&(N^k))+I[15]+1236535329&4294967295,P=R+(M<<22&4294967295|M>>>10),M=k+(R^N&(P^R))+I[1]+4129170786&4294967295,k=P+(M<<5&4294967295|M>>>27),M=N+(P^R&(k^P))+I[6]+3225465664&4294967295,N=k+(M<<9&4294967295|M>>>23),M=R+(k^P&(N^k))+I[11]+643717713&4294967295,R=N+(M<<14&4294967295|M>>>18),M=P+(N^k&(R^N))+I[0]+3921069994&4294967295,P=R+(M<<20&4294967295|M>>>12),M=k+(R^N&(P^R))+I[5]+3593408605&4294967295,k=P+(M<<5&4294967295|M>>>27),M=N+(P^R&(k^P))+I[10]+38016083&4294967295,N=k+(M<<9&4294967295|M>>>23),M=R+(k^P&(N^k))+I[15]+3634488961&4294967295,R=N+(M<<14&4294967295|M>>>18),M=P+(N^k&(R^N))+I[4]+3889429448&4294967295,P=R+(M<<20&4294967295|M>>>12),M=k+(R^N&(P^R))+I[9]+568446438&4294967295,k=P+(M<<5&4294967295|M>>>27),M=N+(P^R&(k^P))+I[14]+3275163606&4294967295,N=k+(M<<9&4294967295|M>>>23),M=R+(k^P&(N^k))+I[3]+4107603335&4294967295,R=N+(M<<14&4294967295|M>>>18),M=P+(N^k&(R^N))+I[8]+1163531501&4294967295,P=R+(M<<20&4294967295|M>>>12),M=k+(R^N&(P^R))+I[13]+2850285829&4294967295,k=P+(M<<5&4294967295|M>>>27),M=N+(P^R&(k^P))+I[2]+4243563512&4294967295,N=k+(M<<9&4294967295|M>>>23),M=R+(k^P&(N^k))+I[7]+1735328473&4294967295,R=N+(M<<14&4294967295|M>>>18),M=P+(N^k&(R^N))+I[12]+2368359562&4294967295,P=R+(M<<20&4294967295|M>>>12),M=k+(P^R^N)+I[5]+4294588738&4294967295,k=P+(M<<4&4294967295|M>>>28),M=N+(k^P^R)+I[8]+2272392833&4294967295,N=k+(M<<11&4294967295|M>>>21),M=R+(N^k^P)+I[11]+1839030562&4294967295,R=N+(M<<16&4294967295|M>>>16),M=P+(R^N^k)+I[14]+4259657740&4294967295,P=R+(M<<23&4294967295|M>>>9),M=k+(P^R^N)+I[1]+2763975236&4294967295,k=P+(M<<4&4294967295|M>>>28),M=N+(k^P^R)+I[4]+1272893353&4294967295,N=k+(M<<11&4294967295|M>>>21),M=R+(N^k^P)+I[7]+4139469664&4294967295,R=N+(M<<16&4294967295|M>>>16),M=P+(R^N^k)+I[10]+3200236656&4294967295,P=R+(M<<23&4294967295|M>>>9),M=k+(P^R^N)+I[13]+681279174&4294967295,k=P+(M<<4&4294967295|M>>>28),M=N+(k^P^R)+I[0]+3936430074&4294967295,N=k+(M<<11&4294967295|M>>>21),M=R+(N^k^P)+I[3]+3572445317&4294967295,R=N+(M<<16&4294967295|M>>>16),M=P+(R^N^k)+I[6]+76029189&4294967295,P=R+(M<<23&4294967295|M>>>9),M=k+(P^R^N)+I[9]+3654602809&4294967295,k=P+(M<<4&4294967295|M>>>28),M=N+(k^P^R)+I[12]+3873151461&4294967295,N=k+(M<<11&4294967295|M>>>21),M=R+(N^k^P)+I[15]+530742520&4294967295,R=N+(M<<16&4294967295|M>>>16),M=P+(R^N^k)+I[2]+3299628645&4294967295,P=R+(M<<23&4294967295|M>>>9),M=k+(R^(P|~N))+I[0]+4096336452&4294967295,k=P+(M<<6&4294967295|M>>>26),M=N+(P^(k|~R))+I[7]+1126891415&4294967295,N=k+(M<<10&4294967295|M>>>22),M=R+(k^(N|~P))+I[14]+2878612391&4294967295,R=N+(M<<15&4294967295|M>>>17),M=P+(N^(R|~k))+I[5]+4237533241&4294967295,P=R+(M<<21&4294967295|M>>>11),M=k+(R^(P|~N))+I[12]+1700485571&4294967295,k=P+(M<<6&4294967295|M>>>26),M=N+(P^(k|~R))+I[3]+2399980690&4294967295,N=k+(M<<10&4294967295|M>>>22),M=R+(k^(N|~P))+I[10]+4293915773&4294967295,R=N+(M<<15&4294967295|M>>>17),M=P+(N^(R|~k))+I[1]+2240044497&4294967295,P=R+(M<<21&4294967295|M>>>11),M=k+(R^(P|~N))+I[8]+1873313359&4294967295,k=P+(M<<6&4294967295|M>>>26),M=N+(P^(k|~R))+I[15]+4264355552&4294967295,N=k+(M<<10&4294967295|M>>>22),M=R+(k^(N|~P))+I[6]+2734768916&4294967295,R=N+(M<<15&4294967295|M>>>17),M=P+(N^(R|~k))+I[13]+1309151649&4294967295,P=R+(M<<21&4294967295|M>>>11),M=k+(R^(P|~N))+I[4]+4149444226&4294967295,k=P+(M<<6&4294967295|M>>>26),M=N+(P^(k|~R))+I[11]+3174756917&4294967295,N=k+(M<<10&4294967295|M>>>22),M=R+(k^(N|~P))+I[2]+718787259&4294967295,R=N+(M<<15&4294967295|M>>>17),M=P+(N^(R|~k))+I[9]+3951481745&4294967295,j.g[0]=j.g[0]+k&4294967295,j.g[1]=j.g[1]+(R+(M<<21&4294967295|M>>>11))&4294967295,j.g[2]=j.g[2]+R&4294967295,j.g[3]=j.g[3]+N&4294967295}n.prototype.v=function(j,k){k===void 0&&(k=j.length);const P=k-this.blockSize,I=this.C;let R=this.h,N=0;for(;N<k;){if(R==0)for(;N<=P;)a(this,j,N),N+=this.blockSize;if(typeof j=="string"){for(;N<k;)if(I[R++]=j.charCodeAt(N++),R==this.blockSize){a(this,I),R=0;break}}else for(;N<k;)if(I[R++]=j[N++],R==this.blockSize){a(this,I),R=0;break}}this.h=R,this.o+=k},n.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var k=1;k<j.length-8;++k)j[k]=0;k=this.o*8;for(var P=j.length-8;P<j.length;++P)j[P]=k&255,k/=256;for(this.v(j),j=Array(16),k=0,P=0;P<4;++P)for(let I=0;I<32;I+=8)j[k++]=this.g[P]>>>I&255;return j};function i(j,k){var P=l;return Object.prototype.hasOwnProperty.call(P,j)?P[j]:P[j]=k(j)}function s(j,k){this.h=k;const P=[];let I=!0;for(let R=j.length-1;R>=0;R--){const N=j[R]|0;I&&N==k||(P[R]=N,I=!1)}this.g=P}var l={};function u(j){return-128<=j&&j<128?i(j,function(k){return new s([k|0],k<0?-1:0)}):new s([j|0],j<0?-1:0)}function f(j){if(isNaN(j)||!isFinite(j))return m;if(j<0)return b(f(-j));const k=[];let P=1;for(let I=0;j>=P;I++)k[I]=j/P|0,P*=4294967296;return new s(k,0)}function d(j,k){if(j.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(j.charAt(0)=="-")return b(d(j.substring(1),k));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=f(Math.pow(k,8));let I=m;for(let N=0;N<j.length;N+=8){var R=Math.min(8,j.length-N);const M=parseInt(j.substring(N,N+R),k);R<8?(R=f(Math.pow(k,R)),I=I.j(R).add(f(M))):(I=I.j(P),I=I.add(f(M)))}return I}var m=u(0),g=u(1),x=u(16777216);e=s.prototype,e.m=function(){if(_(this))return-b(this).m();let j=0,k=1;for(let P=0;P<this.g.length;P++){const I=this.i(P);j+=(I>=0?I:4294967296+I)*k,k*=4294967296}return j},e.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(y(this))return"0";if(_(this))return"-"+b(this).toString(j);const k=f(Math.pow(j,6));var P=this;let I="";for(;;){const R=O(P,k).g;P=w(P,R.j(k));let N=((P.g.length>0?P.g[0]:P.h)>>>0).toString(j);if(P=R,y(P))return N+I;for(;N.length<6;)N="0"+N;I=N+I}},e.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function y(j){if(j.h!=0)return!1;for(let k=0;k<j.g.length;k++)if(j.g[k]!=0)return!1;return!0}function _(j){return j.h==-1}e.l=function(j){return j=w(this,j),_(j)?-1:y(j)?0:1};function b(j){const k=j.g.length,P=[];for(let I=0;I<k;I++)P[I]=~j.g[I];return new s(P,~j.h).add(g)}e.abs=function(){return _(this)?b(this):this},e.add=function(j){const k=Math.max(this.g.length,j.g.length),P=[];let I=0;for(let R=0;R<=k;R++){let N=I+(this.i(R)&65535)+(j.i(R)&65535),M=(N>>>16)+(this.i(R)>>>16)+(j.i(R)>>>16);I=M>>>16,N&=65535,M&=65535,P[R]=M<<16|N}return new s(P,P[P.length-1]&-2147483648?-1:0)};function w(j,k){return j.add(b(k))}e.j=function(j){if(y(this)||y(j))return m;if(_(this))return _(j)?b(this).j(b(j)):b(b(this).j(j));if(_(j))return b(this.j(b(j)));if(this.l(x)<0&&j.l(x)<0)return f(this.m()*j.m());const k=this.g.length+j.g.length,P=[];for(var I=0;I<2*k;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(let R=0;R<j.g.length;R++){const N=this.i(I)>>>16,M=this.i(I)&65535,ce=j.i(R)>>>16,fe=j.i(R)&65535;P[2*I+2*R]+=M*fe,C(P,2*I+2*R),P[2*I+2*R+1]+=N*fe,C(P,2*I+2*R+1),P[2*I+2*R+1]+=M*ce,C(P,2*I+2*R+1),P[2*I+2*R+2]+=N*ce,C(P,2*I+2*R+2)}for(j=0;j<k;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=k;j<2*k;j++)P[j]=0;return new s(P,0)};function C(j,k){for(;(j[k]&65535)!=j[k];)j[k+1]+=j[k]>>>16,j[k]&=65535,k++}function S(j,k){this.g=j,this.h=k}function O(j,k){if(y(k))throw Error("division by zero");if(y(j))return new S(m,m);if(_(j))return k=O(b(j),k),new S(b(k.g),b(k.h));if(_(k))return k=O(j,b(k)),new S(b(k.g),k.h);if(j.g.length>30){if(_(j)||_(k))throw Error("slowDivide_ only works with positive integers.");for(var P=g,I=k;I.l(j)<=0;)P=F(P),I=F(I);var R=B(P,1),N=B(I,1);for(I=B(I,2),P=B(P,2);!y(I);){var M=N.add(I);M.l(j)<=0&&(R=R.add(P),N=M),I=B(I,1),P=B(P,1)}return k=w(j,R.j(k)),new S(R,k)}for(R=m;j.l(k)>=0;){for(P=Math.max(1,Math.floor(j.m()/k.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),N=f(P),M=N.j(k);_(M)||M.l(j)>0;)P-=I,N=f(P),M=N.j(k);y(N)&&(N=g),R=R.add(N),j=w(j,M)}return new S(R,j)}e.B=function(j){return O(this,j).h},e.and=function(j){const k=Math.max(this.g.length,j.g.length),P=[];for(let I=0;I<k;I++)P[I]=this.i(I)&j.i(I);return new s(P,this.h&j.h)},e.or=function(j){const k=Math.max(this.g.length,j.g.length),P=[];for(let I=0;I<k;I++)P[I]=this.i(I)|j.i(I);return new s(P,this.h|j.h)},e.xor=function(j){const k=Math.max(this.g.length,j.g.length),P=[];for(let I=0;I<k;I++)P[I]=this.i(I)^j.i(I);return new s(P,this.h^j.h)};function F(j){const k=j.g.length+1,P=[];for(let I=0;I<k;I++)P[I]=j.i(I)<<1|j.i(I-1)>>>31;return new s(P,j.h)}function B(j,k){const P=k>>5;k%=32;const I=j.g.length-P,R=[];for(let N=0;N<I;N++)R[N]=k>0?j.i(N+P)>>>k|j.i(N+P+1)<<32-k:j.i(N+P);return new s(R,j.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,EF=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=d,uc=s}).apply(typeof LD<"u"?LD:typeof self<"u"?self:typeof window<"u"?window:{});var Ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var SF,dh,AF,vx,LE,CF,TF,kF;(function(){var e,t=Object.defineProperty;function r(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ng=="object"&&Ng];for(var L=0;L<E.length;++L){var V=E[L];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function a(E,L){if(L)e:{var V=n;E=E.split(".");for(var ne=0;ne<E.length-1;ne++){var ke=E[ne];if(!(ke in V))break e;V=V[ke]}E=E[E.length-1],ne=V[E],L=L(ne),L!=ne&&L!=null&&t(V,E,{configurable:!0,writable:!0,value:L})}}a("Symbol.dispose",function(E){return E||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(E){return E||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(E){return E||function(L){var V=[],ne;for(ne in L)Object.prototype.hasOwnProperty.call(L,ne)&&V.push([ne,L[ne]]);return V}});var i=i||{},s=this||self;function l(E){var L=typeof E;return L=="object"&&E!=null||L=="function"}function u(E,L,V){return E.call.apply(E.bind,arguments)}function f(E,L,V){return f=u,f.apply(null,arguments)}function d(E,L){var V=Array.prototype.slice.call(arguments,1);return function(){var ne=V.slice();return ne.push.apply(ne,arguments),E.apply(this,ne)}}function m(E,L){function V(){}V.prototype=L.prototype,E.Z=L.prototype,E.prototype=new V,E.prototype.constructor=E,E.Ob=function(ne,ke,Pe){for(var et=Array(arguments.length-2),It=2;It<arguments.length;It++)et[It-2]=arguments[It];return L.prototype[ke].apply(ne,et)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?E=>E&&AsyncContext.Snapshot.wrap(E):E=>E;function x(E){const L=E.length;if(L>0){const V=Array(L);for(let ne=0;ne<L;ne++)V[ne]=E[ne];return V}return[]}function y(E,L){for(let ne=1;ne<arguments.length;ne++){const ke=arguments[ne];var V=typeof ke;if(V=V!="object"?V:ke?Array.isArray(ke)?"array":V:"null",V=="array"||V=="object"&&typeof ke.length=="number"){V=E.length||0;const Pe=ke.length||0;E.length=V+Pe;for(let et=0;et<Pe;et++)E[V+et]=ke[et]}else E.push(ke)}}class _{constructor(L,V){this.i=L,this.j=V,this.h=0,this.g=null}get(){let L;return this.h>0?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function b(E){s.setTimeout(()=>{throw E},0)}function w(){var E=j;let L=null;return E.g&&(L=E.g,E.g=E.g.next,E.g||(E.h=null),L.next=null),L}class C{constructor(){this.h=this.g=null}add(L,V){const ne=S.get();ne.set(L,V),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var S=new _(()=>new O,E=>E.reset());class O{constructor(){this.next=this.g=this.h=null}set(L,V){this.h=L,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let F,B=!1,j=new C,k=()=>{const E=Promise.resolve(void 0);F=()=>{E.then(P)}};function P(){for(var E;E=w();){try{E.h.call(E.g)}catch(V){b(V)}var L=S;L.j(E),L.h<100&&(L.h++,E.next=L.g,L.g=E)}B=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(E,L){this.type=E,this.g=this.target=L,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var E=!1,L=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const V=()=>{};s.addEventListener("test",V,L),s.removeEventListener("test",V,L)}catch{}return E})();function M(E){return/^[\s\xa0]*$/.test(E)}function ce(E,L){R.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E&&this.init(E,L)}m(ce,R),ce.prototype.init=function(E,L){const V=this.type=E.type,ne=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;this.target=E.target||E.srcElement,this.g=L,L=E.relatedTarget,L||(V=="mouseover"?L=E.fromElement:V=="mouseout"&&(L=E.toElement)),this.relatedTarget=L,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=E.pointerType,this.state=E.state,this.i=E,E.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),ae=0;function ie(E,L,V,ne,ke){this.listener=E,this.proxy=null,this.src=L,this.type=V,this.capture=!!ne,this.ha=ke,this.key=++ae,this.da=this.fa=!1}function me(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function be(E,L,V){for(const ne in E)L.call(V,E[ne],ne,E)}function de(E,L){for(const V in E)L.call(void 0,E[V],V,E)}function U(E){const L={};for(const V in E)L[V]=E[V];return L}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(E,L){let V,ne;for(let ke=1;ke<arguments.length;ke++){ne=arguments[ke];for(V in ne)E[V]=ne[V];for(let Pe=0;Pe<Z.length;Pe++)V=Z[Pe],Object.prototype.hasOwnProperty.call(ne,V)&&(E[V]=ne[V])}}function W(E){this.src=E,this.g={},this.h=0}W.prototype.add=function(E,L,V,ne,ke){const Pe=E.toString();E=this.g[Pe],E||(E=this.g[Pe]=[],this.h++);const et=Te(E,L,ne,ke);return et>-1?(L=E[et],V||(L.fa=!1)):(L=new ie(L,this.src,Pe,!!ne,ke),L.fa=V,E.push(L)),L};function xe(E,L){const V=L.type;if(V in E.g){var ne=E.g[V],ke=Array.prototype.indexOf.call(ne,L,void 0),Pe;(Pe=ke>=0)&&Array.prototype.splice.call(ne,ke,1),Pe&&(me(L),E.g[V].length==0&&(delete E.g[V],E.h--))}}function Te(E,L,V,ne){for(let ke=0;ke<E.length;++ke){const Pe=E[ke];if(!Pe.da&&Pe.listener==L&&Pe.capture==!!V&&Pe.ha==ne)return ke}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),X={};function Q(E,L,V,ne,ke){if(Array.isArray(L)){for(let Pe=0;Pe<L.length;Pe++)Q(E,L[Pe],V,ne,ke);return null}return V=He(V),E&&E[fe]?E.J(L,V,l(ne)?!!ne.capture:!1,ke):ue(E,L,V,!1,ne,ke)}function ue(E,L,V,ne,ke,Pe){if(!L)throw Error("Invalid event type");const et=l(ke)?!!ke.capture:!!ke;let It=Se(E);if(It||(E[Ne]=It=new W(E)),V=It.add(L,V,ne,et,Pe),V.proxy)return V;if(ne=q(),V.proxy=ne,ne.src=E,ne.listener=V,E.addEventListener)N||(ke=et),ke===void 0&&(ke=!1),E.addEventListener(L.toString(),ne,ke);else if(E.attachEvent)E.attachEvent(ve(L.toString()),ne);else if(E.addListener&&E.removeListener)E.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return V}function q(){function E(V){return L.call(E.src,E.listener,V)}const L=Fe;return E}function K(E,L,V,ne,ke){if(Array.isArray(L))for(var Pe=0;Pe<L.length;Pe++)K(E,L[Pe],V,ne,ke);else ne=l(ne)?!!ne.capture:!!ne,V=He(V),E&&E[fe]?(E=E.i,Pe=String(L).toString(),Pe in E.g&&(L=E.g[Pe],V=Te(L,V,ne,ke),V>-1&&(me(L[V]),Array.prototype.splice.call(L,V,1),L.length==0&&(delete E.g[Pe],E.h--)))):E&&(E=Se(E))&&(L=E.g[L.toString()],E=-1,L&&(E=Te(L,V,ne,ke)),(V=E>-1?L[E]:null)&&H(V))}function H(E){if(typeof E!="number"&&E&&!E.da){var L=E.src;if(L&&L[fe])xe(L.i,E);else{var V=E.type,ne=E.proxy;L.removeEventListener?L.removeEventListener(V,ne,E.capture):L.detachEvent?L.detachEvent(ve(V),ne):L.addListener&&L.removeListener&&L.removeListener(ne),(V=Se(L))?(xe(V,E),V.h==0&&(V.src=null,L[Ne]=null)):me(E)}}}function ve(E){return E in X?X[E]:X[E]="on"+E}function Fe(E,L){if(E.da)E=!0;else{L=new ce(L,this);const V=E.listener,ne=E.ha||E.src;E.fa&&H(E),E=V.call(ne,L)}return E}function Se(E){return E=E[Ne],E instanceof W?E:null}var Ge="__closure_events_fn_"+(Math.random()*1e9>>>0);function He(E){return typeof E=="function"?E:(E[Ge]||(E[Ge]=function(L){return E.handleEvent(L)}),E[Ge])}function Je(){I.call(this),this.i=new W(this),this.M=this,this.G=null}m(Je,I),Je.prototype[fe]=!0,Je.prototype.removeEventListener=function(E,L,V,ne){K(this,E,L,V,ne)};function rt(E,L){var V,ne=E.G;if(ne)for(V=[];ne;ne=ne.G)V.push(ne);if(E=E.M,ne=L.type||L,typeof L=="string")L=new R(L,E);else if(L instanceof R)L.target=L.target||E;else{var ke=L;L=new R(ne,E),te(L,ke)}ke=!0;let Pe,et;if(V)for(et=V.length-1;et>=0;et--)Pe=L.g=V[et],ke=tt(Pe,ne,!0,L)&&ke;if(Pe=L.g=E,ke=tt(Pe,ne,!0,L)&&ke,ke=tt(Pe,ne,!1,L)&&ke,V)for(et=0;et<V.length;et++)Pe=L.g=V[et],ke=tt(Pe,ne,!1,L)&&ke}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var E=this.i;for(const L in E.g){const V=E.g[L];for(let ne=0;ne<V.length;ne++)me(V[ne]);delete E.g[L],E.h--}}this.G=null},Je.prototype.J=function(E,L,V,ne){return this.i.add(String(E),L,!1,V,ne)},Je.prototype.K=function(E,L,V,ne){return this.i.add(String(E),L,!0,V,ne)};function tt(E,L,V,ne){if(L=E.i.g[String(L)],!L)return!0;L=L.concat();let ke=!0;for(let Pe=0;Pe<L.length;++Pe){const et=L[Pe];if(et&&!et.da&&et.capture==V){const It=et.listener,xn=et.ha||et.src;et.fa&&xe(E.i,et),ke=It.call(xn,ne)!==!1&&ke}}return ke&&!ne.defaultPrevented}function le(E,L){if(typeof E!="function")if(E&&typeof E.handleEvent=="function")E=f(E.handleEvent,E);else throw Error("Invalid listener argument");return Number(L)>2147483647?-1:s.setTimeout(E,L||0)}function _e(E){E.g=le(()=>{E.g=null,E.i&&(E.i=!1,_e(E))},E.l);const L=E.h;E.h=null,E.m.apply(null,L)}class Qe extends I{constructor(L,V){super(),this.m=L,this.l=V,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(E){I.call(this),this.h=E,this.g={}}m(Le,I);var wt=[];function vt(E){be(E.g,function(L,V){this.g.hasOwnProperty(V)&&H(L)},E),E.g={}}Le.prototype.N=function(){Le.Z.N.call(this),vt(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=s.JSON.stringify,Tt=s.JSON.parse,Bt=class{stringify(E){return s.JSON.stringify(E,void 0)}parse(E){return s.JSON.parse(E,void 0)}};function Xe(){}function it(){}var bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ht(){R.call(this,"d")}m(ht,R);function Ot(){R.call(this,"c")}m(Ot,R);var mt={},pn=null;function qn(){return pn=pn||new Je}mt.Ia="serverreachability";function aa(E){R.call(this,mt.Ia,E)}m(aa,R);function An(E){const L=qn();rt(L,new aa(L))}mt.STAT_EVENT="statevent";function ia(E,L){R.call(this,mt.STAT_EVENT,E),this.stat=L}m(ia,R);function hr(E){const L=qn();rt(L,new ia(L,E))}mt.Ja="timingevent";function $r(E,L){R.call(this,mt.Ja,E),this.size=L}m($r,R);function nn(E,L){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){E()},L)}function Yr(){this.g=!0}Yr.prototype.ua=function(){this.g=!1};function sa(E,L,V,ne,ke,Pe){E.info(function(){if(E.g)if(Pe){var et="",It=Pe.split("&");for(let mr=0;mr<It.length;mr++){var xn=It[mr].split("=");if(xn.length>1){const Qr=xn[0];xn=xn[1];const qi=Qr.split("_");et=qi.length>=2&&qi[1]=="type"?et+(Qr+"="+xn+"&"):et+(Qr+"=redacted&")}}}else et=null;else et=Pe;return"XMLHTTP REQ ("+ne+") [attempt "+ke+"]: "+L+`
`+V+`
`+et})}function Vi(E,L,V,ne,ke,Pe,et){E.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+ke+"]: "+L+`
`+V+`
`+Pe+" "+et})}function mn(E,L,V,ne){E.info(function(){return"XMLHTTP TEXT ("+L+"): "+ai(E,V)+(ne?" "+ne:"")})}function Pt(E,L){E.info(function(){return"TIMEOUT: "+L})}Yr.prototype.info=function(){};function ai(E,L){if(!E.g)return L;if(!L)return null;try{const Pe=JSON.parse(L);if(Pe){for(E=0;E<Pe.length;E++)if(Array.isArray(Pe[E])){var V=Pe[E];if(!(V.length<2)){var ne=V[1];if(Array.isArray(ne)&&!(ne.length<1)){var ke=ne[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(let et=1;et<ne.length;et++)ne[et]=""}}}}return St(Pe)}catch{return L}}var gn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},an;function Wn(){}m(Wn,Xe),Wn.prototype.g=function(){return new XMLHttpRequest},an=new Wn;function Ar(E){return encodeURIComponent(String(E))}function G(E){var L=1;E=E.split(":");const V=[];for(;L>0&&E.length;)V.push(E.shift()),L--;return E.length&&V.push(E.join(":")),V}function oe(E,L,V,ne){this.j=E,this.i=L,this.l=V,this.S=ne||1,this.V=new Le(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ee}function ee(){this.i=null,this.g="",this.h=!1}var re={},se={};function he(E,L,V){E.M=1,E.A=Bc(zr(L)),E.u=V,E.R=!0,Ce(E,null)}function Ce(E,L){E.F=Date.now(),ye(E),E.B=zr(E.A);var V=E.B,ne=E.S;Array.isArray(ne)||(ne=[String(ne)]),u0(V.i,"t",ne),E.C=0,V=E.j.L,E.h=new ee,E.g=ym(E.j,V?L:null,!E.u),E.P>0&&(E.O=new Qe(f(E.Y,E,E.g),E.P)),L=E.V,V=E.g,ne=E.ba;var ke="readystatechange";Array.isArray(ke)||(ke&&(wt[0]=ke.toString()),ke=wt);for(let Pe=0;Pe<ke.length;Pe++){const et=Q(V,ke[Pe],ne||L.handleEvent,!1,L.h||L);if(!et)break;L.g[et.key]=et}L=E.J?U(E.J):{},E.u?(E.v||(E.v="POST"),L["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.B,E.v,E.u,L)):(E.v="GET",E.g.ea(E.B,E.v,null,L)),An(),sa(E.i,E.v,E.B,E.l,E.S,E.u)}oe.prototype.ba=function(E){E=E.target;const L=this.O;L&&ws(E)==3?L.j():this.Y(E)},oe.prototype.Y=function(E){try{if(E==this.g)e:{const It=ws(this.g),xn=this.g.ya(),mr=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||va(this.g)))){this.K||It!=4||xn==7||(xn==8||mr<=0?An(3):An(2)),$e(this);var L=this.g.ca();this.X=L;var V=Me(this);if(this.o=L==200,Vi(this.i,this.v,this.B,this.l,this.S,It,L),this.o){if(this.U&&!this.L){t:{if(this.g){var ne,ke=this.g;if((ne=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(ne)){var Pe=ne;break t}}Pe=null}if(E=Pe)mn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ye(this,E);else{this.o=!1,this.m=3,hr(12),We(this),Ze(this);break e}}if(this.R){E=!0;let Qr;for(;!this.K&&this.C<V.length;)if(Qr=pe(this,V),Qr==se){It==4&&(this.m=4,hr(14),E=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Qr==re){this.m=4,hr(15),mn(this.i,this.l,V,"[Invalid Chunk]"),E=!1;break}else mn(this.i,this.l,Qr,null),Ye(this,Qr);if(J(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||V.length!=0||this.h.h||(this.m=1,hr(16),E=!1),this.o=this.o&&E,!E)mn(this.i,this.l,V,"[Invalid Chunked Response]"),We(this),Ze(this);else if(V.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),pd(et),et.P=!0,hr(11))}}else mn(this.i,this.l,V,null),Ye(this,V);It==4&&We(this),this.o&&!this.K&&(It==4?mm(this.j,this):(this.o=!1,ye(this)))}else Eo(this.g),L==400&&V.indexOf("Unknown SID")>0?(this.m=3,hr(12)):(this.m=0,hr(13)),We(this),Ze(this)}}}catch{}};function Me(E){if(!J(E))return E.g.la();const L=va(E.g);if(L==="")return"";let V="";const ne=L.length,ke=ws(E.g)==4;if(!E.h.i){if(typeof TextDecoder>"u")return We(E),Ze(E),"";E.h.i=new s.TextDecoder}for(let Pe=0;Pe<ne;Pe++)E.h.h=!0,V+=E.h.i.decode(L[Pe],{stream:!(ke&&Pe==ne-1)});return L.length=0,E.h.g+=V,E.C=0,E.h.g}function J(E){return E.g?E.v=="GET"&&E.M!=2&&E.j.Aa:!1}function pe(E,L){var V=E.C,ne=L.indexOf(`
`,V);return ne==-1?se:(V=Number(L.substring(V,ne)),isNaN(V)?re:(ne+=1,ne+V>L.length?se:(L=L.slice(ne,ne+V),E.C=ne+V,L)))}oe.prototype.cancel=function(){this.K=!0,We(this)};function ye(E){E.T=Date.now()+E.H,Ie(E,E.H)}function Ie(E,L){if(E.D!=null)throw Error("WatchDog timer not null");E.D=nn(f(E.aa,E),L)}function $e(E){E.D&&(s.clearTimeout(E.D),E.D=null)}oe.prototype.aa=function(){this.D=null;const E=Date.now();E-this.T>=0?(Pt(this.i,this.B),this.M!=2&&(An(),hr(17)),We(this),this.m=2,Ze(this)):Ie(this,this.T-E)};function Ze(E){E.j.I==0||E.K||mm(E.j,E)}function We(E){$e(E);var L=E.O;L&&typeof L.dispose=="function"&&L.dispose(),E.O=null,vt(E.V),E.g&&(L=E.g,E.g=null,L.abort(),L.dispose())}function Ye(E,L){try{var V=E.j;if(V.I!=0&&(V.g==E||st(V.h,E))){if(!E.L&&st(V.h,E)&&V.I==3){try{var ne=V.Ba.g.parse(L)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var ke=ne;if(ke[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<E.F)m0(V),Tl(V);else break e;Hc(V),hr(18)}}else V.xa=ke[1],0<V.xa-V.K&&ke[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=nn(f(V.Va,V),6e3));we(V.h)<=1&&V.ta&&(V.ta=void 0)}else Ys(V,11)}else if((E.L||V.g==E)&&m0(V),!M(L))for(ke=V.Ba.g.parse(L),L=0;L<ke.length;L++){let mr=ke[L];const Qr=mr[0];if(!(Qr<=V.K))if(V.K=Qr,mr=mr[1],V.I==2)if(mr[0]=="c"){V.M=mr[1],V.ba=mr[2];const qi=mr[3];qi!=null&&(V.ka=qi,V.j.info("VER="+V.ka));const Qs=mr[4];Qs!=null&&(V.za=Qs,V.j.info("SVER="+V.za));const Es=mr[5];Es!=null&&typeof Es=="number"&&Es>0&&(ne=1.5*Es,V.O=ne,V.j.info("backChannelRequestTimeoutMs_="+ne)),ne=V;const Ss=E.g;if(Ss){const qc=Ss.g?Ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qc){var Pe=ne.h;Pe.g||qc.indexOf("spdy")==-1&&qc.indexOf("quic")==-1&&qc.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(At(Pe,Pe.h),Pe.h=null))}if(ne.G){const g0=Ss.g?Ss.g.getResponseHeader("X-HTTP-Session-Id"):null;g0&&(ne.wa=g0,rr(ne.J,ne.G,g0))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-E.F,V.j.info("Handshake RTT: "+V.T+"ms")),ne=V;var et=E;if(ne.na=vm(ne,ne.L?ne.ba:null,ne.W),et.L){xt(ne.h,et);var It=et,xn=ne.O;xn&&(It.H=xn),It.D&&($e(It),ye(It)),ne.g=et}else hm(ne);V.i.length>0&&Xs(V)}else mr[0]!="stop"&&mr[0]!="close"||Ys(V,7);else V.I==3&&(mr[0]=="stop"||mr[0]=="close"?mr[0]=="stop"?Ys(V,7):dd(V):mr[0]!="noop"&&V.l&&V.l.qa(mr),V.A=0)}}An(4)}catch{}}var ct=class{constructor(E,L){this.g=E,this.map=L}};function lr(E){this.l=E||10,s.PerformanceNavigationTiming?(E=s.performance.getEntriesByType("navigation"),E=E.length>0&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pr(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function we(E){return E.h?1:E.g?E.g.size:0}function st(E,L){return E.h?E.h==L:E.g?E.g.has(L):!1}function At(E,L){E.g?E.g.add(L):E.h=L}function xt(E,L){E.h&&E.h==L?E.h=null:E.g&&E.g.has(L)&&E.g.delete(L)}lr.prototype.cancel=function(){if(this.i=Lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function Lt(E){if(E.h!=null)return E.i.concat(E.h.G);if(E.g!=null&&E.g.size!==0){let L=E.i;for(const V of E.g.values())L=L.concat(V.G);return L}return x(E.i)}var Cr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ht(E,L){if(E){E=E.split("&");for(let V=0;V<E.length;V++){const ne=E[V].indexOf("=");let ke,Pe=null;ne>=0?(ke=E[V].substring(0,ne),Pe=E[V].substring(ne+1)):ke=E[V],L(ke,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function Lr(E){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let L;E instanceof Lr?(this.l=E.l,xr(this,E.j),this.o=E.o,this.g=E.g,Hs(this,E.u),this.h=E.h,Fc(this,fm(E.i)),this.m=E.m):E&&(L=String(E).match(Cr))?(this.l=!1,xr(this,L[1]||"",!0),this.o=qs(L[2]||""),this.g=qs(L[3]||"",!0),Hs(this,L[4]),this.h=qs(L[5]||"",!0),Fc(this,L[6]||"",!0),this.m=qs(L[7]||"")):(this.l=!1,this.i=new wl(null,this.l))}Lr.prototype.toString=function(){const E=[];var L=this.j;L&&E.push(Mc(L,c0,!0),":");var V=this.g;return(V||L=="file")&&(E.push("//"),(L=this.o)&&E.push(Mc(L,c0,!0),"@"),E.push(Ar(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&E.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&E.push("/"),E.push(Mc(V,V.charAt(0)=="/"?sd:lm,!0))),(V=this.i.toString())&&E.push("?",V),(V=this.m)&&E.push("#",Mc(V,cm)),E.join("")},Lr.prototype.resolve=function(E){const L=zr(this);let V=!!E.j;V?xr(L,E.j):V=!!E.o,V?L.o=E.o:V=!!E.g,V?L.g=E.g:V=E.u!=null;var ne=E.h;if(V)Hs(L,E.u);else if(V=!!E.h){if(ne.charAt(0)!="/")if(this.g&&!this.h)ne="/"+ne;else{var ke=L.h.lastIndexOf("/");ke!=-1&&(ne=L.h.slice(0,ke+1)+ne)}if(ke=ne,ke==".."||ke==".")ne="";else if(ke.indexOf("./")!=-1||ke.indexOf("/.")!=-1){ne=ke.lastIndexOf("/",0)==0,ke=ke.split("/");const Pe=[];for(let et=0;et<ke.length;){const It=ke[et++];It=="."?ne&&et==ke.length&&Pe.push(""):It==".."?((Pe.length>1||Pe.length==1&&Pe[0]!="")&&Pe.pop(),ne&&et==ke.length&&Pe.push("")):(Pe.push(It),ne=!0)}ne=Pe.join("/")}else ne=ke}return V?L.h=ne:V=E.i.toString()!=="",V?Fc(L,fm(E.i)):V=!!E.m,V&&(L.m=E.m),L};function zr(E){return new Lr(E)}function xr(E,L,V){E.j=V?qs(L,!0):L,E.j&&(E.j=E.j.replace(/:$/,""))}function Hs(E,L){if(L){if(L=Number(L),isNaN(L)||L<0)throw Error("Bad port number "+L);E.u=L}else E.u=null}function Fc(E,L,V){L instanceof wl?(E.i=L,f0(E.i,E.l)):(V||(L=Mc(L,_l)),E.i=new wl(L,E.l))}function rr(E,L,V){E.i.set(L,V)}function Bc(E){return rr(E,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),E}function qs(E,L){return E?L?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Mc(E,L,V){return typeof E=="string"?(E=encodeURI(E).replace(L,ii),V&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function ii(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var c0=/[#\/\?@]/g,lm=/[#\?:]/g,sd=/[#\?]/g,_l=/[#\?@]/g,cm=/#/g;function wl(E,L){this.h=this.g=null,this.i=E||null,this.j=!!L}function si(E){E.g||(E.g=new Map,E.h=0,E.i&&Ht(E.i,function(L,V){E.add(decodeURIComponent(L.replace(/\+/g," ")),V)}))}e=wl.prototype,e.add=function(E,L){si(this),this.i=null,E=El(this,E);let V=this.g.get(E);return V||this.g.set(E,V=[]),V.push(L),this.h+=1,this};function um(E,L){si(E),L=El(E,L),E.g.has(L)&&(E.i=null,E.h-=E.g.get(L).length,E.g.delete(L))}function od(E,L){return si(E),L=El(E,L),E.g.has(L)}e.forEach=function(E,L){si(this),this.g.forEach(function(V,ne){V.forEach(function(ke){E.call(L,ke,ne,this)},this)},this)};function ld(E,L){si(E);let V=[];if(typeof L=="string")od(E,L)&&(V=V.concat(E.g.get(El(E,L))));else for(E=Array.from(E.g.values()),L=0;L<E.length;L++)V=V.concat(E[L]);return V}e.set=function(E,L){return si(this),this.i=null,E=El(this,E),od(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[L]),this.h+=1,this},e.get=function(E,L){return E?(E=ld(this,E),E.length>0?String(E[0]):L):L};function u0(E,L,V){um(E,L),V.length>0&&(E.i=null,E.g.set(El(E,L),x(V)),E.h+=V.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],L=Array.from(this.g.keys());for(let ne=0;ne<L.length;ne++){var V=L[ne];const ke=Ar(V);V=ld(this,V);for(let Pe=0;Pe<V.length;Pe++){let et=ke;V[Pe]!==""&&(et+="="+Ar(V[Pe])),E.push(et)}}return this.i=E.join("&")};function fm(E){const L=new wl;return L.i=E.i,E.g&&(L.g=new Map(E.g),L.h=E.h),L}function El(E,L){return L=String(L),E.j&&(L=L.toLowerCase()),L}function f0(E,L){L&&!E.j&&(si(E),E.i=null,E.g.forEach(function(V,ne){const ke=ne.toLowerCase();ne!=ke&&(um(this,ne),u0(this,ke,V))},E)),E.j=L}function bs(E,L){const V=new Yr;if(s.Image){const ne=new Image;ne.onload=d($i,V,"TestLoadImage: loaded",!0,L,ne),ne.onerror=d($i,V,"TestLoadImage: error",!1,L,ne),ne.onabort=d($i,V,"TestLoadImage: abort",!1,L,ne),ne.ontimeout=d($i,V,"TestLoadImage: timeout",!1,L,ne),s.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=E}else L(!1)}function cd(E,L){const V=new Yr,ne=new AbortController,ke=setTimeout(()=>{ne.abort(),$i(V,"TestPingServer: timeout",!1,L)},1e4);fetch(E,{signal:ne.signal}).then(Pe=>{clearTimeout(ke),Pe.ok?$i(V,"TestPingServer: ok",!0,L):$i(V,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(ke),$i(V,"TestPingServer: error",!1,L)})}function $i(E,L,V,ne,ke){try{ke&&(ke.onload=null,ke.onerror=null,ke.onabort=null,ke.ontimeout=null),ne(V)}catch{}}function Sl(){this.g=new Bt}function Ws(E){this.i=E.Sb||null,this.h=E.ab||!1}m(Ws,Xe),Ws.prototype.g=function(){return new Lc(this.i,this.h)};function Lc(E,L){Je.call(this),this.H=E,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Lc,Je),e=Lc.prototype,e.open=function(E,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=E,this.D=L,this.readyState=1,_s(this)},e.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const L={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};E&&(L.body=E),(this.H||s).fetch(new Request(this.D,L)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Al(this)),this.readyState=0},e.Pa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;d0(this)}else E.text().then(this.Oa.bind(this),this.ga.bind(this))};function d0(E){E.j.read().then(E.Ma.bind(E)).catch(E.ga.bind(E))}e.Ma=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var L=E.value?E.value:new Uint8Array(0);(L=this.B.decode(L,{stream:!E.done}))&&(this.response=this.responseText+=L)}E.done?Al(this):_s(this),this.readyState==3&&d0(this)}},e.Oa=function(E){this.g&&(this.response=this.responseText=E,Al(this))},e.Na=function(E){this.g&&(this.response=E,Al(this))},e.ga=function(){this.g&&Al(this)};function Al(E){E.readyState=4,E.l=null,E.j=null,E.B=null,_s(E)}e.setRequestHeader=function(E,L){this.A.append(E,L)},e.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],L=this.h.entries();for(var V=L.next();!V.done;)V=V.value,E.push(V[0]+": "+V[1]),V=L.next();return E.join(`\r
`)};function _s(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function Hi(E){let L="";return be(E,function(V,ne){L+=ne,L+=":",L+=V,L+=`\r
`}),L}function zc(E,L,V){e:{for(ne in V){var ne=!1;break e}ne=!0}ne||(V=Hi(V),typeof E=="string"?V!=null&&Ar(V):rr(E,L,V))}function Tr(E){Je.call(this),this.headers=new Map,this.L=E||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Tr,Je);var Gs=/^https?$/i,ud=["POST","PUT"];e=Tr.prototype,e.Fa=function(E){this.H=E},e.ea=function(E,L,V,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);L=L?L.toUpperCase():"GET",this.D=E,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():an.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(L,String(E),!0),this.B=!1}catch(Pe){Uc(this,Pe);return}if(E=V||"",V=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var ke in ne)V.set(ke,ne[ke]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Pe of ne.keys())V.set(Pe,ne.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(V.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),ke=s.FormData&&E instanceof s.FormData,!(Array.prototype.indexOf.call(ud,L,void 0)>=0)||ne||ke||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,et]of V)this.g.setRequestHeader(Pe,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(E),this.v=!1}catch(Pe){Uc(this,Pe)}};function Uc(E,L){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=L,E.o=5,fd(E),wo(E)}function fd(E){E.A||(E.A=!0,rt(E,"complete"),rt(E,"error"))}e.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=E||7,rt(this,"complete"),rt(this,"abort"),wo(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wo(this,!0)),Tr.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Vc(this):this.Xa())},e.Xa=function(){Vc(this)};function Vc(E){if(E.h&&typeof i<"u"){if(E.v&&ws(E)==4)setTimeout(E.Ca.bind(E),0);else if(rt(E,"readystatechange"),ws(E)==4){E.h=!1;try{const Pe=E.ca();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var V;if(!(V=L)){var ne;if(ne=Pe===0){let et=String(E.D).match(Cr)[1]||null;!et&&s.self&&s.self.location&&(et=s.self.location.protocol.slice(0,-1)),ne=!Gs.test(et?et.toLowerCase():"")}V=ne}if(V)rt(E,"complete"),rt(E,"success");else{E.o=6;try{var ke=ws(E)>2?E.g.statusText:""}catch{ke=""}E.l=ke+" ["+E.ca()+"]",fd(E)}}finally{wo(E)}}}}function wo(E,L){if(E.g){E.m&&(clearTimeout(E.m),E.m=null);const V=E.g;E.g=null,L||rt(E,"ready");try{V.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ws(E){return E.g?E.g.readyState:0}e.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(E){if(this.g){var L=this.g.responseText;return E&&L.indexOf(E)==0&&(L=L.substring(E.length)),Tt(L)}};function va(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.F){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(E){const L={};E=(E.g&&ws(E)>=2&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<E.length;ne++){if(M(E[ne]))continue;var V=G(E[ne]);const ke=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Pe=L[ke]||[];L[ke]=Pe,Pe.push(V)}de(L,function(ne){return ne.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(E,L,V){return V&&V.internalChannelParams&&V.internalChannelParams[E]||L}function Cl(E){this.za=0,this.i=[],this.j=new Yr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ks("failFast",!1,E),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ks("baseRetryDelayMs",5e3,E),this.Za=Ks("retryDelaySeedMs",1e4,E),this.Ta=Ks("forwardChannelMaxRetries",2,E),this.va=Ks("forwardChannelRequestTimeoutMs",2e4,E),this.ma=E&&E.xmlHttpFactory||void 0,this.Ua=E&&E.Rb||void 0,this.Aa=E&&E.useFetchStreams||!1,this.O=void 0,this.L=E&&E.supportsCrossDomainXhr||!1,this.M="",this.h=new lr(E&&E.concurrentRequestLimit),this.Ba=new Sl,this.S=E&&E.fastHandshake||!1,this.R=E&&E.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=E&&E.Pb||!1,E&&E.ua&&this.j.ua(),E&&E.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&E&&E.detectBufferingProxy||!1,this.ia=void 0,E&&E.longPollingTimeout&&E.longPollingTimeout>0&&(this.ia=E.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Cl.prototype,e.ka=8,e.I=1,e.connect=function(E,L,V,ne){hr(0),this.W=E,this.H=L||{},V&&ne!==void 0&&(this.H.OSID=V,this.H.OAID=ne),this.F=this.X,this.J=vm(this,null,this.W),Xs(this)};function dd(E){if(h0(E),E.I==3){var L=E.V++,V=zr(E.J);if(rr(V,"SID",E.M),rr(V,"RID",L),rr(V,"TYPE","terminate"),$c(E,V),L=new oe(E,E.j,L),L.M=2,L.A=Bc(zr(V)),V=!1,s.navigator&&s.navigator.sendBeacon)try{V=s.navigator.sendBeacon(L.A.toString(),"")}catch{}!V&&s.Image&&(new Image().src=L.A,V=!0),V||(L.g=ym(L.j,null),L.g.ea(L.A)),L.F=Date.now(),ye(L)}xm(E)}function Tl(E){E.g&&(pd(E),E.g.cancel(),E.g=null)}function h0(E){Tl(E),E.v&&(s.clearTimeout(E.v),E.v=null),m0(E),E.h.cancel(),E.m&&(typeof E.m=="number"&&s.clearTimeout(E.m),E.m=null)}function Xs(E){if(!pr(E.h)&&!E.m){E.m=!0;var L=E.Ea;F||k(),B||(F(),B=!0),j.add(L,E),E.D=0}}function p0(E,L){return we(E.h)>=E.h.j-(E.m?1:0)?!1:E.m?(E.i=L.G.concat(E.i),!0):E.I==1||E.I==2||E.D>=(E.Sa?0:E.Ta)?!1:(E.m=nn(f(E.Ea,E,L),gm(E,E.D)),E.D++,!0)}e.Ea=function(E){if(this.m)if(this.m=null,this.I==1){if(!E){this.V=Math.floor(Math.random()*1e5),E=this.V++;const ke=new oe(this,this.j,E);let Pe=this.o;if(this.U&&(Pe?(Pe=U(Pe),te(Pe,this.U)):Pe=this.U),this.u!==null||this.R||(ke.J=Pe,Pe=null),this.S)e:{for(var L=0,V=0;V<this.i.length;V++){t:{var ne=this.i[V];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(L+=ne,L>4096){L=V;break e}if(L===4096||V===this.i.length-1){L=V+1;break e}}L=1e3}else L=1e3;L=dm(this,ke,L),V=zr(this.J),rr(V,"RID",E),rr(V,"CVER",22),this.G&&rr(V,"X-HTTP-Session-Id",this.G),$c(this,V),Pe&&(this.R?L="headers="+Ar(Hi(Pe))+"&"+L:this.u&&zc(V,this.u,Pe)),At(this.h,ke),this.Ra&&rr(V,"TYPE","init"),this.S?(rr(V,"$req",L),rr(V,"SID","null"),ke.U=!0,he(ke,V,null)):he(ke,V,L),this.I=2}}else this.I==3&&(E?hd(this,E):this.i.length==0||pr(this.h)||hd(this))};function hd(E,L){var V;L?V=L.l:V=E.V++;const ne=zr(E.J);rr(ne,"SID",E.M),rr(ne,"RID",V),rr(ne,"AID",E.K),$c(E,ne),E.u&&E.o&&zc(ne,E.u,E.o),V=new oe(E,E.j,V,E.D+1),E.u===null&&(V.J=E.o),L&&(E.i=L.G.concat(E.i)),L=dm(E,V,1e3),V.H=Math.round(E.va*.5)+Math.round(E.va*.5*Math.random()),At(E.h,V),he(V,ne,L)}function $c(E,L){E.H&&be(E.H,function(V,ne){rr(L,ne,V)}),E.l&&be({},function(V,ne){rr(L,ne,V)})}function dm(E,L,V){V=Math.min(E.i.length,V);const ne=E.l?f(E.l.Ka,E.l,E):null;e:{var ke=E.i;let It=-1;for(;;){const xn=["count="+V];It==-1?V>0?(It=ke[0].g,xn.push("ofs="+It)):It=0:xn.push("ofs="+It);let mr=!0;for(let Qr=0;Qr<V;Qr++){var Pe=ke[Qr].g;const qi=ke[Qr].map;if(Pe-=It,Pe<0)It=Math.max(0,ke[Qr].g-100),mr=!1;else try{Pe="req"+Pe+"_"||"";try{var et=qi instanceof Map?qi:Object.entries(qi);for(const[Qs,Es]of et){let Ss=Es;l(Es)&&(Ss=St(Es)),xn.push(Pe+Qs+"="+encodeURIComponent(Ss))}}catch(Qs){throw xn.push(Pe+"type="+encodeURIComponent("_badmap")),Qs}}catch{ne&&ne(qi)}}if(mr){et=xn.join("&");break e}}et=void 0}return E=E.i.splice(0,V),L.G=E,et}function hm(E){if(!E.g&&!E.v){E.Y=1;var L=E.Da;F||k(),B||(F(),B=!0),j.add(L,E),E.A=0}}function Hc(E){return E.g||E.v||E.A>=3?!1:(E.Y++,E.v=nn(f(E.Da,E),gm(E,E.A)),E.A++,!0)}e.Da=function(){if(this.v=null,pm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var E=4*this.T;this.j.info("BP detection timer enabled: "+E),this.B=nn(f(this.Wa,this),E)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,hr(10),Tl(this),pm(this))};function pd(E){E.B!=null&&(s.clearTimeout(E.B),E.B=null)}function pm(E){E.g=new oe(E,E.j,"rpc",E.Y),E.u===null&&(E.g.J=E.o),E.g.P=0;var L=zr(E.na);rr(L,"RID","rpc"),rr(L,"SID",E.M),rr(L,"AID",E.K),rr(L,"CI",E.F?"0":"1"),!E.F&&E.ia&&rr(L,"TO",E.ia),rr(L,"TYPE","xmlhttp"),$c(E,L),E.u&&E.o&&zc(L,E.u,E.o),E.O&&(E.g.H=E.O);var V=E.g;E=E.ba,V.M=1,V.A=Bc(zr(L)),V.u=null,V.R=!0,Ce(V,E)}e.Va=function(){this.C!=null&&(this.C=null,Tl(this),Hc(this),hr(19))};function m0(E){E.C!=null&&(s.clearTimeout(E.C),E.C=null)}function mm(E,L){var V=null;if(E.g==L){m0(E),pd(E),E.g=null;var ne=2}else if(st(E.h,L))V=L.G,xt(E.h,L),ne=1;else return;if(E.I!=0){if(L.o)if(ne==1){V=L.u?L.u.length:0,L=Date.now()-L.F;var ke=E.D;ne=qn(),rt(ne,new $r(ne,V)),Xs(E)}else hm(E);else if(ke=L.m,ke==3||ke==0&&L.X>0||!(ne==1&&p0(E,L)||ne==2&&Hc(E)))switch(V&&V.length>0&&(L=E.h,L.i=L.i.concat(V)),ke){case 1:Ys(E,5);break;case 4:Ys(E,10);break;case 3:Ys(E,6);break;default:Ys(E,2)}}}function gm(E,L){let V=E.Qa+Math.floor(Math.random()*E.Za);return E.isActive()||(V*=2),V*L}function Ys(E,L){if(E.j.info("Error code "+L),L==2){var V=f(E.bb,E),ne=E.Ua;const ke=!ne;ne=new Lr(ne||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||xr(ne,"https"),Bc(ne),ke?bs(ne.toString(),V):cd(ne.toString(),V)}else hr(2);E.I=0,E.l&&E.l.pa(L),xm(E),h0(E)}e.bb=function(E){E?(this.j.info("Successfully pinged google.com"),hr(2)):(this.j.info("Failed to ping google.com"),hr(1))};function xm(E){if(E.I=0,E.ja=[],E.l){const L=Lt(E.h);(L.length!=0||E.i.length!=0)&&(y(E.ja,L),y(E.ja,E.i),E.h.i.length=0,x(E.i),E.i.length=0),E.l.oa()}}function vm(E,L,V){var ne=V instanceof Lr?zr(V):new Lr(V);if(ne.g!="")L&&(ne.g=L+"."+ne.g),Hs(ne,ne.u);else{var ke=s.location;ne=ke.protocol,L=L?L+"."+ke.hostname:ke.hostname,ke=+ke.port;const Pe=new Lr(null);ne&&xr(Pe,ne),L&&(Pe.g=L),ke&&Hs(Pe,ke),V&&(Pe.h=V),ne=Pe}return V=E.G,L=E.wa,V&&L&&rr(ne,V,L),rr(ne,"VER",E.ka),$c(E,ne),ne}function ym(E,L,V){if(L&&!E.L)throw Error("Can't create secondary domain capable XhrIo object.");return L=E.Aa&&!E.ma?new Tr(new Ws({ab:V})):new Tr(E.ma),L.Fa(E.L),L}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function bm(){}e=bm.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function kl(){}kl.prototype.g=function(E,L){return new Ka(E,L)};function Ka(E,L){Je.call(this),this.g=new Cl(L),this.l=E,this.h=L&&L.messageUrlParams||null,E=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(E?E["X-WebChannel-Content-Type"]=L.messageContentType:E={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.sa&&(E?E["X-WebChannel-Client-Profile"]=L.sa:E={"X-WebChannel-Client-Profile":L.sa}),this.g.U=E,(E=L&&L.Qb)&&!M(E)&&(this.g.u=E),this.A=L&&L.supportsCrossDomainXhr||!1,this.v=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!M(L)&&(this.g.G=L,E=this.h,E!==null&&L in E&&(E=this.h,L in E&&delete E[L])),this.j=new So(this)}m(Ka,Je),Ka.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ka.prototype.close=function(){dd(this.g)},Ka.prototype.o=function(E){var L=this.g;if(typeof E=="string"){var V={};V.__data__=E,E=V}else this.v&&(V={},V.__data__=St(E),E=V);L.i.push(new ct(L.Ya++,E)),L.I==3&&Xs(L)},Ka.prototype.N=function(){this.g.l=null,delete this.j,dd(this.g),delete this.g,Ka.Z.N.call(this)};function _m(E){ht.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var L=E.__sm__;if(L){e:{for(const V in L){E=V;break e}E=void 0}(this.i=E)&&(E=this.i,L=L!==null&&E in L?L[E]:void 0),this.data=L}else this.data=E}m(_m,ht);function wm(){Ot.call(this),this.status=1}m(wm,Ot);function So(E){this.g=E}m(So,bm),So.prototype.ra=function(){rt(this.g,"a")},So.prototype.qa=function(E){rt(this.g,new _m(E))},So.prototype.pa=function(E){rt(this.g,new wm)},So.prototype.oa=function(){rt(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Ka.prototype.send=Ka.prototype.o,Ka.prototype.open=Ka.prototype.m,Ka.prototype.close=Ka.prototype.close,kF=function(){return new kl},TF=function(){return qn()},CF=mt,LE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gn.NO_ERROR=0,gn.TIMEOUT=8,gn.HTTP_ERROR=6,vx=gn,Sr.COMPLETE="complete",AF=Sr,it.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",Je.prototype.listen=Je.prototype.J,dh=it,Tr.prototype.listenOnce=Tr.prototype.K,Tr.prototype.getLastError=Tr.prototype.Ha,Tr.prototype.getLastErrorCode=Tr.prototype.ya,Tr.prototype.getStatus=Tr.prototype.ca,Tr.prototype.getResponseJson=Tr.prototype.La,Tr.prototype.getResponseText=Tr.prototype.la,Tr.prototype.send=Tr.prototype.ea,Tr.prototype.setWithCredentials=Tr.prototype.Fa,SF=Tr}).apply(typeof Ng<"u"?Ng:typeof self<"u"?self:typeof window<"u"?window:{});const zD="@firebase/firestore",UD="4.9.3";class Ba{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ba.UNAUTHENTICATED=new Ba(null),Ba.GOOGLE_CREDENTIALS=new Ba("google-credentials-uid"),Ba.FIRST_PARTY=new Ba("first-party-uid"),Ba.MOCK_USER=new Ba("mock-user");let $f="12.7.0";const Iu=new xF("@firebase/firestore");function Q0(){return Iu.logLevel}function ot(e,...t){if(Iu.logLevel<=ar.DEBUG){const r=t.map(RA);Iu.debug(`Firestore (${$f}): ${e}`,...r)}}function rl(e,...t){if(Iu.logLevel<=ar.ERROR){const r=t.map(RA);Iu.error(`Firestore (${$f}): ${e}`,...r)}}function _f(e,...t){if(Iu.logLevel<=ar.WARN){const r=t.map(RA);Iu.warn(`Firestore (${$f}): ${e}`,...r)}}function RA(e){if(typeof e=="string")return e;try{return(function(r){return JSON.stringify(r)})(e)}catch{return e}}function Ct(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,DF(e,n,r)}function DF(e,t,r){let n=`FIRESTORE (${$f}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw rl(n),new Error(n)}function br(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||DF(t,a,n)}function Nt(e,t){return e}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Vf{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fc{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class OF{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(Ba.UNAUTHENTICATED)))}shutdown(){}}class lQ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class cQ{constructor(t){this.t=t,this.currentUser=Ba.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){br(this.o===void 0,42304);let n=this.i;const a=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let i=new fc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fc,t.enqueueRetryable((()=>a(this.currentUser)))};const s=()=>{const u=i;t.enqueueRetryable((async()=>{await u.promise,await a(this.currentUser)}))},l=u=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fc)}}),0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(br(typeof n.accessToken=="string",31837,{l:n}),new OF(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return br(t===null||typeof t=="string",2055,{h:t}),new Ba(t)}}class uQ{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Ba.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fQ{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new uQ(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(Ba.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dQ{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,HY(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){br(this.o===void 0,3512);const n=i=>{i.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,ot("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>n(i)))};const a=i=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>a(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new VD(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(br(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new VD(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hQ(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}class PA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=hQ(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Gt(e,t){return e<t?-1:e>t?1:0}function zE(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const a=e.charAt(n),i=t.charAt(n);if(a!==i)return b_(a)===b_(i)?Gt(a,i):b_(a)?1:-1}return Gt(e.length,t.length)}const pQ=55296,mQ=57343;function b_(e){const t=e.charCodeAt(0);return t>=pQ&&t<=mQ}function wf(e,t,r){return e.length===t.length&&e.every(((n,a)=>r(n,t[a])))}const $D="__name__";class io{constructor(t,r,n){r===void 0?r=0:r>t.length&&Ct(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Ct(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return io.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof io?t.forEach((n=>{r.push(n)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=io.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Gt(t.length,r.length)}static compareSegments(t,r){const n=io.isNumericId(t),a=io.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?io.extractNumericId(t).compare(io.extractNumericId(r)):zE(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return uc.fromString(t.substring(4,t.length-2))}}class Kr extends io{construct(t,r,n){return new Kr(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((a=>a.length>0)))}return new Kr(r)}static emptyPath(){return new Kr([])}}const gQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ta extends io{construct(t,r,n){return new Ta(t,r,n)}static isValidIdentifier(t){return gQ.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ta.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$D}static keyField(){return new Ta([$D])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const l=t[a];if(l==="\\"){if(a+1===t.length)throw new gt(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new gt(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=u,a+=2}else l==="`"?(s=!s,a++):l!=="."||s?(n+=l,a++):(i(),a++)}if(i(),s)throw new gt(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ta(r)}static emptyPath(){return new Ta([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(Kr.fromString(t))}static fromName(t){return new _t(Kr.fromString(t).popFirst(5))}static empty(){return new _t(Kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Kr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Kr.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new Kr(t.slice()))}}function jF(e,t,r){if(!r)throw new gt(Ke.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function xQ(e,t,r,n){if(t===!0&&n===!0)throw new gt(Ke.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function HD(e){if(!_t.isDocumentKey(e))throw new gt(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qD(e){if(_t.isDocumentKey(e))throw new gt(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function NF(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function FA(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ct(12329,{type:typeof e})}function dc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gt(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=FA(e);throw new gt(Ke.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Bn(e,t){const r={typeString:e};return t&&(r.value=t),r}function Ap(e,t){if(!NF(e))throw new gt(Ke.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(a&&typeof s!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new gt(Ke.INVALID_ARGUMENT,r);return!0}const WD=-62135596800,GD=1e6;class Xr{static now(){return Xr.fromMillis(Date.now())}static fromDate(t){return Xr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*GD);return new Xr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<WD)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GD}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ap(t,Xr._jsonSchema))return new Xr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-WD;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xr._jsonSchemaVersion="firestore/timestamp/1.0",Xr._jsonSchema={type:Bn("string",Xr._jsonSchemaVersion),seconds:Bn("number"),nanoseconds:Bn("number")};class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Xr(0,0))}static max(){return new Dt(new Xr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hh=-1;function vQ(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=Dt.fromTimestamp(n===1e9?new Xr(r+1,0):new Xr(r,n));return new xc(a,_t.empty(),t)}function yQ(e){return new xc(e.readTime,e.key,Hh)}class xc{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new xc(Dt.min(),_t.empty(),Hh)}static max(){return new xc(Dt.max(),_t.empty(),Hh)}}function bQ(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=_t.comparator(e.documentKey,t.documentKey),r!==0?r:Gt(e.largestBatchId,t.largestBatchId))}const _Q="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Hf(e){if(e.code!==Ke.FAILED_PRECONDITION||e.message!==_Q)throw e;ot("LocalStore","Unexpectedly lost primary lease")}class qe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new qe(((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof qe?r:qe.resolve(r)}catch(r){return qe.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):qe.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):qe.reject(r)}static resolve(t){return new qe(((r,n)=>{r(t)}))}static reject(t){return new qe(((r,n)=>{n(t)}))}static waitFor(t){return new qe(((r,n)=>{let a=0,i=0,s=!1;t.forEach((l=>{++a,l.next((()=>{++i,s&&i===a&&r()}),(u=>n(u)))})),s=!0,i===a&&r()}))}static or(t){let r=qe.resolve(!1);for(const n of t)r=r.next((a=>a?qe.resolve(a):n()));return r}static forEach(t,r){const n=[];return t.forEach(((a,i)=>{n.push(r.call(this,a,i))})),this.waitFor(n)}static mapArray(t,r){return new qe(((n,a)=>{const i=t.length,s=new Array(i);let l=0;for(let u=0;u<i;u++){const f=u;r(t[f]).next((d=>{s[f]=d,++l,l===i&&n(s)}),(d=>a(d)))}}))}static doWhile(t,r){return new qe(((n,a)=>{const i=()=>{t()===!0?r().next((()=>{i()}),a):n()};i()}))}}function EQ(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function qf(e){return e.name==="IndexedDbTransactionError"}class G1{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}G1.ce=-1;const BA=-1;function K1(e){return e==null}function bv(e){return e===0&&1/e==-1/0}function SQ(e){return typeof e=="number"&&Number.isInteger(e)&&!bv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const IF="";function AQ(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=KD(t)),t=CQ(e.get(r),t);return KD(t)}function CQ(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case IF:r+="";break;default:r+=i}}return r}function KD(e){return e+IF+""}function XD(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Yu(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function RF(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class on{constructor(t,r){this.comparator=t,this.root=r||Ca.EMPTY}insert(t,r){return new on(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ca.BLACK,null,null))}remove(t){return new on(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ca.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,n)=>(t(r,n),!1)))}toString(){const t=[];return this.inorderTraversal(((r,n)=>(t.push(`${r}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ig(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ig(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ig(this.root,t,this.comparator,!0)}}class Ig{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ca{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??Ca.RED,this.left=a??Ca.EMPTY,this.right=i??Ca.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new Ca(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ca.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Ca.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ca.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ca.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ct(27949);return t+(this.isRed()?0:1)}}Ca.EMPTY=null,Ca.RED=!0,Ca.BLACK=!1;Ca.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new Ca(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(t){this.comparator=t,this.data=new on(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,n)=>(t(r),!1)))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new YD(this.data.getIterator())}getIteratorFrom(t){return new YD(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((n=>{r=r.add(n)})),r}isEqual(t){if(!(t instanceof Qn)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Qn(this.comparator);return r.data=t,r}}class YD{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Is{constructor(t){this.fields=t,t.sort(Ta.comparator)}static empty(){return new Is([])}unionWith(t){let r=new Qn(Ta.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Is(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return wf(this.fields,t.fields,((r,n)=>r.isEqual(n)))}}class PF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Oa{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new PF("Invalid base64 string: "+i):i}})(t);return new Oa(r)}static fromUint8Array(t){const r=(function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i})(t);return new Oa(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Oa.EMPTY_BYTE_STRING=new Oa("");const TQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vc(e){if(br(!!e,39018),typeof e=="string"){let t=0;const r=TQ.exec(e);if(br(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:wn(e.seconds),nanos:wn(e.nanos)}}function wn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function yc(e){return typeof e=="string"?Oa.fromBase64String(e):Oa.fromUint8Array(e)}const FF="server_timestamp",BF="__type__",MF="__previous_value__",LF="__local_write_time__";function MA(e){return(e?.mapValue?.fields||{})[BF]?.stringValue===FF}function X1(e){const t=e.mapValue.fields[MF];return MA(t)?X1(t):t}function qh(e){const t=vc(e.mapValue.fields[LF].timestampValue);return new Xr(t.seconds,t.nanos)}class kQ{constructor(t,r,n,a,i,s,l,u,f,d){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=d}}const _v="(default)";class Wh{constructor(t,r){this.projectId=t,this.database=r||_v}static empty(){return new Wh("","")}get isDefaultDatabase(){return this.database===_v}isEqual(t){return t instanceof Wh&&t.projectId===this.projectId&&t.database===this.database}}const zF="__type__",DQ="__max__",Rg={mapValue:{}},UF="__vector__",wv="value";function bc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?MA(e)?4:jQ(e)?9007199254740991:OQ(e)?10:11:Ct(28295,{value:e})}function po(e,t){if(e===t)return!0;const r=bc(e);if(r!==bc(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qh(e).isEqual(qh(t));case 3:return(function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=vc(a.timestampValue),l=vc(i.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,i){return yc(a.bytesValue).isEqual(yc(i.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,i){return wn(a.geoPointValue.latitude)===wn(i.geoPointValue.latitude)&&wn(a.geoPointValue.longitude)===wn(i.geoPointValue.longitude)})(e,t);case 2:return(function(a,i){if("integerValue"in a&&"integerValue"in i)return wn(a.integerValue)===wn(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=wn(a.doubleValue),l=wn(i.doubleValue);return s===l?bv(s)===bv(l):isNaN(s)&&isNaN(l)}return!1})(e,t);case 9:return wf(e.arrayValue.values||[],t.arrayValue.values||[],po);case 10:case 11:return(function(a,i){const s=a.mapValue.fields||{},l=i.mapValue.fields||{};if(XD(s)!==XD(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!po(s[u],l[u])))return!1;return!0})(e,t);default:return Ct(52216,{left:e})}}function Gh(e,t){return(e.values||[]).find((r=>po(r,t)))!==void 0}function Ef(e,t){if(e===t)return 0;const r=bc(e),n=bc(t);if(r!==n)return Gt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Gt(e.booleanValue,t.booleanValue);case 2:return(function(i,s){const l=wn(i.integerValue||i.doubleValue),u=wn(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(e,t);case 3:return QD(e.timestampValue,t.timestampValue);case 4:return QD(qh(e),qh(t));case 5:return zE(e.stringValue,t.stringValue);case 6:return(function(i,s){const l=yc(i),u=yc(s);return l.compareTo(u)})(e.bytesValue,t.bytesValue);case 7:return(function(i,s){const l=i.split("/"),u=s.split("/");for(let f=0;f<l.length&&f<u.length;f++){const d=Gt(l[f],u[f]);if(d!==0)return d}return Gt(l.length,u.length)})(e.referenceValue,t.referenceValue);case 8:return(function(i,s){const l=Gt(wn(i.latitude),wn(s.latitude));return l!==0?l:Gt(wn(i.longitude),wn(s.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return ZD(e.arrayValue,t.arrayValue);case 10:return(function(i,s){const l=i.fields||{},u=s.fields||{},f=l[wv]?.arrayValue,d=u[wv]?.arrayValue,m=Gt(f?.values?.length||0,d?.values?.length||0);return m!==0?m:ZD(f,d)})(e.mapValue,t.mapValue);case 11:return(function(i,s){if(i===Rg.mapValue&&s===Rg.mapValue)return 0;if(i===Rg.mapValue)return 1;if(s===Rg.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),f=s.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const g=zE(u[m],d[m]);if(g!==0)return g;const x=Ef(l[u[m]],f[d[m]]);if(x!==0)return x}return Gt(u.length,d.length)})(e.mapValue,t.mapValue);default:throw Ct(23264,{he:r})}}function QD(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Gt(e,t);const r=vc(e),n=vc(t),a=Gt(r.seconds,n.seconds);return a!==0?a:Gt(r.nanos,n.nanos)}function ZD(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=Ef(r[a],n[a]);if(i)return i}return Gt(r.length,n.length)}function Sf(e){return UE(e)}function UE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(r){const n=vc(r);return`time(${n.seconds},${n.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(r){return yc(r).toBase64()})(e.bytesValue):"referenceValue"in e?(function(r){return _t.fromName(r).toString()})(e.referenceValue):"geoPointValue"in e?(function(r){return`geo(${r.latitude},${r.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=UE(i);return n+"]"})(e.arrayValue):"mapValue"in e?(function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${UE(r.fields[s])}`;return a+"}"})(e.mapValue):Ct(61005,{value:e})}function yx(e){switch(bc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=X1(e);return t?16+yx(t):16;case 5:return 2*e.stringValue.length;case 6:return yc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((a,i)=>a+yx(i)),0)})(e.arrayValue);case 10:case 11:return(function(n){let a=0;return Yu(n.fields,((i,s)=>{a+=i.length+yx(s)})),a})(e.mapValue);default:throw Ct(13486,{value:e})}}function VE(e){return!!e&&"integerValue"in e}function LA(e){return!!e&&"arrayValue"in e}function JD(e){return!!e&&"nullValue"in e}function eO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bx(e){return!!e&&"mapValue"in e}function OQ(e){return(e?.mapValue?.fields||{})[zF]?.stringValue===UF}function Eh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Yu(e.mapValue.fields,((r,n)=>t.mapValue.fields[r]=Eh(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Eh(e.arrayValue.values[r]);return t}return{...e}}function jQ(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===DQ}class ls{constructor(t){this.value=t}static empty(){return new ls({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!bx(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eh(r)}setAll(t){let r=Ta.emptyPath(),n={},a=[];t.forEach(((s,l)=>{if(!r.isImmediateParentOf(l)){const u=this.getFieldsMap(r);this.applyChanges(u,n,a),n={},a=[],r=l.popLast()}s?n[l.lastSegment()]=Eh(s):a.push(l.lastSegment())}));const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());bx(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return po(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];bx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Yu(r,((a,i)=>t[a]=i));for(const a of n)delete t[a]}clone(){return new ls(Eh(this.value))}}function VF(e){const t=[];return Yu(e.fields,((r,n)=>{const a=new Ta([r]);if(bx(n)){const i=VF(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)})),new Is(t)}class La{constructor(t,r,n,a,i,s,l){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=l}static newInvalidDocument(t){return new La(t,0,Dt.min(),Dt.min(),Dt.min(),ls.empty(),0)}static newFoundDocument(t,r,n,a){return new La(t,1,r,Dt.min(),n,a,0)}static newNoDocument(t,r){return new La(t,2,r,Dt.min(),Dt.min(),ls.empty(),0)}static newUnknownDocument(t,r){return new La(t,3,r,Dt.min(),Dt.min(),ls.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof La&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new La(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ev{constructor(t,r){this.position=t,this.inclusive=r}}function tO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=_t.comparator(_t.fromName(s.referenceValue),r.key):n=Ef(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function rO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!po(e.position[r],t.position[r]))return!1;return!0}class Sv{constructor(t,r="asc"){this.field=t,this.dir=r}}function NQ(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class $F{}class Yn extends $F{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new RQ(t,r,n):r==="array-contains"?new BQ(t,n):r==="in"?new MQ(t,n):r==="not-in"?new LQ(t,n):r==="array-contains-any"?new zQ(t,n):new Yn(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new PQ(t,n):new FQ(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ef(r,this.value)):r!==null&&bc(this.value)===bc(r)&&this.matchesComparison(Ef(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mo extends $F{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new mo(t,r)}matches(t){return HF(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HF(e){return e.op==="and"}function qF(e){return IQ(e)&&HF(e)}function IQ(e){for(const t of e.filters)if(t instanceof mo)return!1;return!0}function $E(e){if(e instanceof Yn)return e.field.canonicalString()+e.op.toString()+Sf(e.value);if(qF(e))return e.filters.map((t=>$E(t))).join(",");{const t=e.filters.map((r=>$E(r))).join(",");return`${e.op}(${t})`}}function WF(e,t){return e instanceof Yn?(function(n,a){return a instanceof Yn&&n.op===a.op&&n.field.isEqual(a.field)&&po(n.value,a.value)})(e,t):e instanceof mo?(function(n,a){return a instanceof mo&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((i,s,l)=>i&&WF(s,a.filters[l])),!0):!1})(e,t):void Ct(19439)}function GF(e){return e instanceof Yn?(function(r){return`${r.field.canonicalString()} ${r.op} ${Sf(r.value)}`})(e):e instanceof mo?(function(r){return r.op.toString()+" {"+r.getFilters().map(GF).join(" ,")+"}"})(e):"Filter"}class RQ extends Yn{constructor(t,r,n){super(t,r,n),this.key=_t.fromName(n.referenceValue)}matches(t){const r=_t.comparator(t.key,this.key);return this.matchesComparison(r)}}class PQ extends Yn{constructor(t,r){super(t,"in",r),this.keys=KF("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class FQ extends Yn{constructor(t,r){super(t,"not-in",r),this.keys=KF("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function KF(e,t){return(t.arrayValue?.values||[]).map((r=>_t.fromName(r.referenceValue)))}class BQ extends Yn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return LA(r)&&Gh(r.arrayValue,this.value)}}class MQ extends Yn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Gh(this.value.arrayValue,r)}}class LQ extends Yn{constructor(t,r){super(t,"not-in",r)}matches(t){if(Gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Gh(this.value.arrayValue,r)}}class zQ extends Yn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!LA(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Gh(this.value.arrayValue,n)))}}class UQ{constructor(t,r=null,n=[],a=[],i=null,s=null,l=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=l,this.Te=null}}function nO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new UQ(e,t,r,n,a,i,s)}function zA(e){const t=Nt(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((n=>$E(n))).join(","),r+="|ob:",r+=t.orderBy.map((n=>(function(i){return i.field.canonicalString()+i.dir})(n))).join(","),K1(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((n=>Sf(n))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((n=>Sf(n))).join(",")),t.Te=r}return t.Te}function UA(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!NQ(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!WF(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rO(e.startAt,t.startAt)&&rO(e.endAt,t.endAt)}function HE(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Y1{constructor(t,r=null,n=[],a=[],i=null,s="F",l=null,u=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VQ(e,t,r,n,a,i,s,l){return new Y1(e,t,r,n,a,i,s,l)}function Q1(e){return new Y1(e)}function aO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $Q(e){return e.collectionGroup!==null}function Sh(e){const t=Nt(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Qn(Ta.comparator);return s.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(t).forEach((i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new Sv(i,n))})),r.has(Ta.keyField().canonicalString())||t.Ie.push(new Sv(Ta.keyField(),n))}return t.Ie}function oo(e){const t=Nt(e);return t.Ee||(t.Ee=HQ(t,Sh(e))),t.Ee}function HQ(e,t){if(e.limitType==="F")return nO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const i=a.dir==="desc"?"asc":"desc";return new Sv(a.field,i)}));const r=e.endAt?new Ev(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Ev(e.startAt.position,e.startAt.inclusive):null;return nO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function qE(e,t,r){return new Y1(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Z1(e,t){return UA(oo(e),oo(t))&&e.limitType===t.limitType}function XF(e){return`${zA(oo(e))}|lt:${e.limitType}`}function Z0(e){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((a=>GF(a))).join(", ")}]`),K1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((a=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(a))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((a=>Sf(a))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((a=>Sf(a))).join(",")),`Target(${n})`})(oo(e))}; limitType=${e.limitType})`}function J1(e,t){return t.isFoundDocument()&&(function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):_t.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(e,t)&&(function(n,a){for(const i of Sh(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0})(e,t)&&(function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0})(e,t)&&(function(n,a){return!(n.startAt&&!(function(s,l,u){const f=tO(s,l,u);return s.inclusive?f<=0:f<0})(n.startAt,Sh(n),a)||n.endAt&&!(function(s,l,u){const f=tO(s,l,u);return s.inclusive?f>=0:f>0})(n.endAt,Sh(n),a))})(e,t)}function qQ(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function YF(e){return(t,r)=>{let n=!1;for(const a of Sh(e)){const i=WQ(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function WQ(e,t,r){const n=e.field.isKeyField()?_t.comparator(t.key,r.key):(function(i,s,l){const u=s.data.field(i),f=l.data.field(i);return u!==null&&f!==null?Ef(u,f):Ct(42886)})(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Ct(19790,{direction:e.dir})}}class Qu{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Yu(this.inner,((r,n)=>{for(const[a,i]of n)t(a,i)}))}isEmpty(){return RF(this.inner)}size(){return this.innerSize}}const GQ=new on(_t.comparator);function nl(){return GQ}const QF=new on(_t.comparator);function hh(...e){let t=QF;for(const r of e)t=t.insert(r.key,r);return t}function ZF(e){let t=QF;return e.forEach(((r,n)=>t=t.insert(r,n.overlayedDocument))),t}function mu(){return Ah()}function JF(){return Ah()}function Ah(){return new Qu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const KQ=new on(_t.comparator),XQ=new Qn(_t.comparator);function Kt(...e){let t=XQ;for(const r of e)t=t.add(r);return t}const YQ=new Qn(Gt);function QQ(){return YQ}function VA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bv(t)?"-0":t}}function eB(e){return{integerValue:""+e}}function ZQ(e,t){return SQ(t)?eB(t):VA(e,t)}class ey{constructor(){this._=void 0}}function JQ(e,t,r){return e instanceof Av?(function(a,i){const s={fields:{[BF]:{stringValue:FF},[LF]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&MA(i)&&(i=X1(i)),i&&(s.fields[MF]=i),{mapValue:s}})(r,t):e instanceof Kh?rB(e,t):e instanceof Xh?nB(e,t):(function(a,i){const s=tB(a,i),l=iO(s)+iO(a.Ae);return VE(s)&&VE(a.Ae)?eB(l):VA(a.serializer,l)})(e,t)}function eZ(e,t,r){return e instanceof Kh?rB(e,t):e instanceof Xh?nB(e,t):r}function tB(e,t){return e instanceof Cv?(function(n){return VE(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(t)?t:{integerValue:0}:null}class Av extends ey{}class Kh extends ey{constructor(t){super(),this.elements=t}}function rB(e,t){const r=aB(t);for(const n of e.elements)r.some((a=>po(a,n)))||r.push(n);return{arrayValue:{values:r}}}class Xh extends ey{constructor(t){super(),this.elements=t}}function nB(e,t){let r=aB(t);for(const n of e.elements)r=r.filter((a=>!po(a,n)));return{arrayValue:{values:r}}}class Cv extends ey{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function iO(e){return wn(e.integerValue||e.doubleValue)}function aB(e){return LA(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function tZ(e,t){return e.field.isEqual(t.field)&&(function(n,a){return n instanceof Kh&&a instanceof Kh||n instanceof Xh&&a instanceof Xh?wf(n.elements,a.elements,po):n instanceof Cv&&a instanceof Cv?po(n.Ae,a.Ae):n instanceof Av&&a instanceof Av})(e.transform,t.transform)}class rZ{constructor(t,r){this.version=t,this.transformResults=r}}class Xo{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Xo}static exists(t){return new Xo(void 0,t)}static updateTime(t){return new Xo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _x(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ty{}function iB(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new oB(e.key,Xo.none()):new Cp(e.key,e.data,Xo.none());{const r=e.data,n=ls.empty();let a=new Qn(Ta.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new Zu(e.key,n,new Is(a.toArray()),Xo.none())}}function nZ(e,t,r){e instanceof Cp?(function(a,i,s){const l=a.value.clone(),u=oO(a.fieldTransforms,i,s.transformResults);l.setAll(u),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(e,t,r):e instanceof Zu?(function(a,i,s){if(!_x(a.precondition,i))return void i.convertToUnknownDocument(s.version);const l=oO(a.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(sB(a)),u.setAll(l),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(e,t,r):(function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()})(0,t,r)}function Ch(e,t,r,n){return e instanceof Cp?(function(i,s,l,u){if(!_x(i.precondition,s))return l;const f=i.value.clone(),d=lO(i.fieldTransforms,u,s);return f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(e,t,r,n):e instanceof Zu?(function(i,s,l,u){if(!_x(i.precondition,s))return l;const f=lO(i.fieldTransforms,u,s),d=s.data;return d.setAll(sB(i)),d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(e,t,r,n):(function(i,s,l){return _x(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(e,t,r)}function aZ(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=tB(n.transform,a||null);i!=null&&(r===null&&(r=ls.empty()),r.set(n.field,i))}return r||null}function sO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&wf(n,a,((i,s)=>tZ(i,s)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cp extends ty{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zu extends ty{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sB(e){const t=new Map;return e.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}})),t}function oO(e,t,r){const n=new Map;br(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,l=t.data.field(i.field);n.set(i.field,eZ(s,l,r[a]))}return n}function lO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,JQ(i,s,t))}return n}class oB extends ty{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iZ extends ty{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sZ{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&nZ(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Ch(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Ch(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=JF();return this.mutations.forEach((a=>{const i=t.get(a.key),s=i.overlayedDocument;let l=this.applyToLocalView(s,i.mutatedFields);l=r.has(a.key)?null:l;const u=iB(s,l);u!==null&&n.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(Dt.min())})),n}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Kt())}isEqual(t){return this.batchId===t.batchId&&wf(this.mutations,t.mutations,((r,n)=>sO(r,n)))&&wf(this.baseMutations,t.baseMutations,((r,n)=>sO(r,n)))}}class $A{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){br(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let a=(function(){return KQ})();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new $A(t,r,n,a)}}class oZ{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lZ{constructor(t,r){this.count=t,this.unchangedNames=r}}var jn,nr;function cZ(e){switch(e){case Ke.OK:return Ct(64938);case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0;default:return Ct(15467,{code:e})}}function lB(e){if(e===void 0)return rl("GRPC error has no .code"),Ke.UNKNOWN;switch(e){case jn.OK:return Ke.OK;case jn.CANCELLED:return Ke.CANCELLED;case jn.UNKNOWN:return Ke.UNKNOWN;case jn.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case jn.INTERNAL:return Ke.INTERNAL;case jn.UNAVAILABLE:return Ke.UNAVAILABLE;case jn.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case jn.NOT_FOUND:return Ke.NOT_FOUND;case jn.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case jn.ABORTED:return Ke.ABORTED;case jn.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case jn.DATA_LOSS:return Ke.DATA_LOSS;default:return Ct(39323,{code:e})}}(nr=jn||(jn={}))[nr.OK=0]="OK",nr[nr.CANCELLED=1]="CANCELLED",nr[nr.UNKNOWN=2]="UNKNOWN",nr[nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nr[nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nr[nr.NOT_FOUND=5]="NOT_FOUND",nr[nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",nr[nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",nr[nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",nr[nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nr[nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nr[nr.ABORTED=10]="ABORTED",nr[nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",nr[nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",nr[nr.INTERNAL=13]="INTERNAL",nr[nr.UNAVAILABLE=14]="UNAVAILABLE",nr[nr.DATA_LOSS=15]="DATA_LOSS";function uZ(){return new TextEncoder}const fZ=new uc([4294967295,4294967295],0);function cO(e){const t=uZ().encode(e),r=new EF;return r.update(t),new Uint8Array(r.digest())}function uO(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new uc([r,n],0),new uc([a,i],0)]}class HA{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ph(`Invalid padding: ${r}`);if(n<0)throw new ph(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new ph(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new ph(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=uc.fromNumber(this.ge)}ye(t,r,n){let a=t.add(r.multiply(uc.fromNumber(n)));return a.compare(fZ)===1&&(a=new uc([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=cO(t),[n,a]=uO(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);if(!this.we(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new HA(i,a,r);return n.forEach((l=>s.insert(l))),s}insert(t){if(this.ge===0)return;const r=cO(t),[n,a]=uO(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ry{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Tp.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new ry(Dt.min(),a,new on(Gt),nl(),Kt())}}class Tp{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Tp(n,r,Kt(),Kt(),Kt())}}class wx{constructor(t,r,n,a){this.be=t,this.removedTargetIds=r,this.key=n,this.De=a}}class cB{constructor(t,r){this.targetId=t,this.Ce=r}}class uB{constructor(t,r,n=Oa.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class fO{constructor(){this.ve=0,this.Fe=dO(),this.Me=Oa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Kt(),r=Kt(),n=Kt();return this.Fe.forEach(((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Ct(38017,{changeType:i})}})),new Tp(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=dO()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,br(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dZ{constructor(t){this.Ge=t,this.ze=new Map,this.je=nl(),this.Je=Pg(),this.He=Pg(),this.Ye=new on(Gt)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:Ct(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((n,a)=>{this.rt(a)&&r(a)}))}st(t){const r=t.targetId,n=t.Ce.count,a=this.ot(r);if(a){const i=a.target;if(HE(i))if(n===0){const s=new _t(i.path);this.et(r,s,La.newNoDocument(s,Dt.min()))}else br(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const l=this.ut(t),u=l?this.ct(l,t,s):1;if(u!==0){this.it(r);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,f)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,l;try{s=yc(n).toUint8Array()}catch(u){if(u instanceof PF)return _f("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new HA(s,a,i)}catch(u){return _f(u instanceof ph?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach((i=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(r,i,null),a++)})),a}Tt(t){const r=new Map;this.ze.forEach(((i,s)=>{const l=this.ot(s);if(l){if(i.current&&HE(l.target)){const u=new _t(l.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,La.newNoDocument(u,t))}i.Be&&(r.set(s,i.ke()),i.qe())}}));let n=Kt();this.He.forEach(((i,s)=>{let l=!0;s.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(i))})),this.je.forEach(((i,s)=>s.setReadTime(t)));const a=new ry(t,r,this.Ye,this.je,n);return this.je=nl(),this.Je=Pg(),this.He=Pg(),this.Ye=new on(Gt),a}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new fO,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Qn(Gt),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Qn(Gt),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||ot("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fO),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function Pg(){return new on(_t.comparator)}function dO(){return new on(_t.comparator)}const hZ={asc:"ASCENDING",desc:"DESCENDING"},pZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mZ={and:"AND",or:"OR"};class gZ{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function WE(e,t){return e.useProto3Json||K1(t)?t:{value:t}}function Tv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fB(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function xZ(e,t){return Tv(e,t.toTimestamp())}function lo(e){return br(!!e,49232),Dt.fromTimestamp((function(r){const n=vc(r);return new Xr(n.seconds,n.nanos)})(e))}function qA(e,t){return GE(e,t).canonicalString()}function GE(e,t){const r=(function(a){return new Kr(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?r:r.child(t)}function dB(e){const t=Kr.fromString(e);return br(xB(t),10190,{key:t.toString()}),t}function KE(e,t){return qA(e.databaseId,t.path)}function __(e,t){const r=dB(t);if(r.get(1)!==e.databaseId.projectId)throw new gt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new gt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new _t(pB(r))}function hB(e,t){return qA(e.databaseId,t)}function vZ(e){const t=dB(e);return t.length===4?Kr.emptyPath():pB(t)}function XE(e){return new Kr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pB(e){return br(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function hO(e,t,r){return{name:KE(e,t),fields:r.value.mapValue.fields}}function yZ(e,t){let r;if("targetChange"in t){t.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ct(39313,{state:f})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=(function(f,d){return f.useProto3Json?(br(d===void 0||typeof d=="string",58123),Oa.fromBase64String(d||"")):(br(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Oa.fromUint8Array(d||new Uint8Array))})(e,t.targetChange.resumeToken),s=t.targetChange.cause,l=s&&(function(f){const d=f.code===void 0?Ke.UNKNOWN:lB(f.code);return new gt(d,f.message||"")})(s);r=new uB(n,a,i,l||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=__(e,n.document.name),i=lo(n.document.updateTime),s=n.document.createTime?lo(n.document.createTime):Dt.min(),l=new ls({mapValue:{fields:n.document.fields}}),u=La.newFoundDocument(a,i,s,l),f=n.targetIds||[],d=n.removedTargetIds||[];r=new wx(f,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=__(e,n.document),i=n.readTime?lo(n.readTime):Dt.min(),s=La.newNoDocument(a,i),l=n.removedTargetIds||[];r=new wx([],l,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=__(e,n.document),i=n.removedTargetIds||[];r=new wx([],i,a,null)}else{if(!("filter"in t))return Ct(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new lZ(a,i),l=n.targetId;r=new cB(l,s)}}return r}function bZ(e,t){let r;if(t instanceof Cp)r={update:hO(e,t.key,t.value)};else if(t instanceof oB)r={delete:KE(e,t.key)};else if(t instanceof Zu)r={update:hO(e,t.key,t.data),updateMask:DZ(t.fieldMask)};else{if(!(t instanceof iZ))return Ct(16599,{Vt:t.type});r={verify:KE(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((n=>(function(i,s){const l=s.transform;if(l instanceof Av)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Kh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Cv)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Ct(20930,{transform:s.transform})})(0,n)))),t.precondition.isNone||(r.currentDocument=(function(a,i){return i.updateTime!==void 0?{updateTime:xZ(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ct(27497)})(e,t.precondition)),r}function _Z(e,t){return e&&e.length>0?(br(t!==void 0,14353),e.map((r=>(function(a,i){let s=a.updateTime?lo(a.updateTime):lo(i);return s.isEqual(Dt.min())&&(s=lo(i)),new rZ(s,a.transformResults||[])})(r,t)))):[]}function wZ(e,t){return{documents:[hB(e,t.path)]}}function EZ(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=hB(e,a);const i=(function(f){if(f.length!==0)return gB(mo.create(f,"and"))})(t.filters);i&&(r.structuredQuery.where=i);const s=(function(f){if(f.length!==0)return f.map((d=>(function(g){return{field:J0(g.field),direction:CZ(g.dir)}})(d)))})(t.orderBy);s&&(r.structuredQuery.orderBy=s);const l=WE(e,t.limit);return l!==null&&(r.structuredQuery.limit=l),t.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(t.endAt)),{ft:r,parent:a}}function SZ(e){let t=vZ(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){br(n===1,65062);const d=r.from[0];d.allDescendants?a=d.collectionId:t=t.child(d.collectionId)}let i=[];r.where&&(i=(function(m){const g=mB(m);return g instanceof mo&&qF(g)?g.getFilters():[g]})(r.where));let s=[];r.orderBy&&(s=(function(m){return m.map((g=>(function(y){return new Sv(ef(y.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(g)))})(r.orderBy));let l=null;r.limit&&(l=(function(m){let g;return g=typeof m=="object"?m.value:m,K1(g)?null:g})(r.limit));let u=null;r.startAt&&(u=(function(m){const g=!!m.before,x=m.values||[];return new Ev(x,g)})(r.startAt));let f=null;return r.endAt&&(f=(function(m){const g=!m.before,x=m.values||[];return new Ev(x,g)})(r.endAt)),VQ(t,a,s,i,l,"F",u,f)}function AZ(e,t){const r=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:a})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function mB(e){return e.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ef(r.unaryFilter.field);return Yn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=ef(r.unaryFilter.field);return Yn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ef(r.unaryFilter.field);return Yn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ef(r.unaryFilter.field);return Yn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(e):e.fieldFilter!==void 0?(function(r){return Yn.create(ef(r.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(r){return mo.create(r.compositeFilter.filters.map((n=>mB(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(r.compositeFilter.op))})(e):Ct(30097,{filter:e})}function CZ(e){return hZ[e]}function TZ(e){return pZ[e]}function kZ(e){return mZ[e]}function J0(e){return{fieldPath:e.canonicalString()}}function ef(e){return Ta.fromServerFormat(e.fieldPath)}function gB(e){return e instanceof Yn?(function(r){if(r.op==="=="){if(eO(r.value))return{unaryFilter:{field:J0(r.field),op:"IS_NAN"}};if(JD(r.value))return{unaryFilter:{field:J0(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(eO(r.value))return{unaryFilter:{field:J0(r.field),op:"IS_NOT_NAN"}};if(JD(r.value))return{unaryFilter:{field:J0(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:J0(r.field),op:TZ(r.op),value:r.value}}})(e):e instanceof mo?(function(r){const n=r.getFilters().map((a=>gB(a)));return n.length===1?n[0]:{compositeFilter:{op:kZ(r.op),filters:n}}})(e):Ct(54877,{filter:e})}function DZ(e){const t=[];return e.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function xB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class ac{constructor(t,r,n,a,i=Dt.min(),s=Dt.min(),l=Oa.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new ac(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class OZ{constructor(t){this.yt=t}}function jZ(e){const t=SZ({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?qE(t,t.limit,"L"):t}class NZ{constructor(){this.Cn=new IZ}addToCollectionParentIndex(t,r){return this.Cn.add(r),qe.resolve()}getCollectionParents(t,r){return qe.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return qe.resolve()}deleteFieldIndex(t,r){return qe.resolve()}deleteAllFieldIndexes(t){return qe.resolve()}createTargetIndexes(t,r){return qe.resolve()}getDocumentsMatchingTarget(t,r){return qe.resolve(null)}getIndexType(t,r){return qe.resolve(0)}getFieldIndexes(t,r){return qe.resolve([])}getNextCollectionGroupToUpdate(t){return qe.resolve(null)}getMinOffset(t,r){return qe.resolve(xc.min())}getMinOffsetFromCollectionGroup(t,r){return qe.resolve(xc.min())}updateCollectionGroup(t,r,n){return qe.resolve()}updateIndexEntries(t,r){return qe.resolve()}}class IZ{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Qn(Kr.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Qn(Kr.comparator)).toArray()}}const pO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vB=41943040;class mi{static withCacheSize(t){return new mi(t,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(vB,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);class Af{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Af(0)}static cr(){return new Af(-1)}}const mO="LruGarbageCollector",RZ=1048576;function gO([e,t],[r,n]){const a=Gt(e,r);return a===0?Gt(t,n):a}class PZ{constructor(t){this.Ir=t,this.buffer=new Qn(gO),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();gO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class FZ{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(mO,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){qf(r)?ot(mO,"Ignoring IndexedDB error during garbage collection: ",r):await Hf(r)}await this.Vr(3e5)}))}}class BZ{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(t,r){if(r===0)return qe.resolve(G1.ce);const n=new PZ(r);return this.mr.forEachTarget(t,(a=>n.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>n.Ar(a))))).next((()=>n.maxValue))}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(pO)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pO):this.yr(t,r)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,a,i,s,l,u,f;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),a=this.params.maximumSequenceNumbersToCollect):a=m,s=Date.now(),this.nthSequenceNumber(t,a)))).next((m=>(n=m,l=Date.now(),this.removeTargets(t,n,r)))).next((m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(t,n)))).next((m=>(f=Date.now(),Q0()<=ar.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${a} in `+(l-s)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(f-u)+`ms
Total Duration: ${f-d}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:m}))))}}function MZ(e,t){return new BZ(e,t)}class LZ{constructor(){this.changes=new Qu((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,La.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?qe.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class zZ{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class UZ{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next((a=>(n=a,this.remoteDocumentCache.getEntry(t,r)))).next((a=>(n!==null&&Ch(n.mutation,a,Is.empty(),Xr.now()),a)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.getLocalViewOfDocuments(t,n,Kt()).next((()=>n))))}getLocalViewOfDocuments(t,r,n=Kt()){const a=mu();return this.populateOverlays(t,a,r).next((()=>this.computeViews(t,r,a,n).next((i=>{let s=hh();return i.forEach(((l,u)=>{s=s.insert(l,u.overlayedDocument)})),s}))))}getOverlayedDocuments(t,r){const n=mu();return this.populateOverlays(t,n,r).next((()=>this.computeViews(t,r,n,Kt())))}populateOverlays(t,r,n){const a=[];return n.forEach((i=>{r.has(i)||a.push(i)})),this.documentOverlayCache.getOverlays(t,a).next((i=>{i.forEach(((s,l)=>{r.set(s,l)}))}))}computeViews(t,r,n,a){let i=nl();const s=Ah(),l=(function(){return Ah()})();return r.forEach(((u,f)=>{const d=n.get(f.key);a.has(f.key)&&(d===void 0||d.mutation instanceof Zu)?i=i.insert(f.key,f):d!==void 0?(s.set(f.key,d.mutation.getFieldMask()),Ch(d.mutation,f,d.mutation.getFieldMask(),Xr.now())):s.set(f.key,Is.empty())})),this.recalculateAndSaveOverlays(t,i).next((u=>(u.forEach(((f,d)=>s.set(f,d))),r.forEach(((f,d)=>l.set(f,new zZ(d,s.get(f)??null)))),l)))}recalculateAndSaveOverlays(t,r){const n=Ah();let a=new on(((s,l)=>s-l)),i=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((s=>{for(const l of s)l.keys().forEach((u=>{const f=r.get(u);if(f===null)return;let d=n.get(u)||Is.empty();d=l.applyToLocalView(f,d),n.set(u,d);const m=(a.get(l.batchId)||Kt()).add(u);a=a.insert(l.batchId,m)}))})).next((()=>{const s=[],l=a.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,d=u.value,m=JF();d.forEach((g=>{if(!i.has(g)){const x=iB(r.get(g),n.get(g));x!==null&&m.set(g,x),i=i.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(t,f,m))}return qe.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,r,n,a){return(function(s){return _t.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):$Q(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next((i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):qe.resolve(mu());let l=Hh,u=i;return s.next((f=>qe.forEach(f,((d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(d)?qe.resolve():this.remoteDocumentCache.getEntry(t,d).next((g=>{u=u.insert(d,g)}))))).next((()=>this.populateOverlays(t,f,i))).next((()=>this.computeViews(t,u,f,Kt()))).next((d=>({batchId:l,changes:ZF(d)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new _t(r)).next((n=>{let a=hh();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=hh();return this.indexManager.getCollectionParents(t,i).next((l=>qe.forEach(l,(u=>{const f=(function(m,g){return new Y1(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(r,u.child(i));return this.getDocumentsMatchingCollectionQuery(t,f,n,a).next((d=>{d.forEach(((m,g)=>{s=s.insert(m,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a)))).next((s=>{i.forEach(((u,f)=>{const d=f.getKey();s.get(d)===null&&(s=s.insert(d,La.newInvalidDocument(d)))}));let l=hh();return s.forEach(((u,f)=>{const d=i.get(u);d!==void 0&&Ch(d.mutation,f,Is.empty(),Xr.now()),J1(r,f)&&(l=l.insert(u,f))})),l}))}}class VZ{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return qe.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:lo(a.createTime)}})(r)),qe.resolve()}getNamedQuery(t,r){return qe.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,(function(a){return{name:a.name,query:jZ(a.bundledQuery),readTime:lo(a.readTime)}})(r)),qe.resolve()}}class $Z{constructor(){this.overlays=new on(_t.comparator),this.qr=new Map}getOverlay(t,r){return qe.resolve(this.overlays.get(r))}getOverlays(t,r){const n=mu();return qe.forEach(r,(a=>this.getOverlay(t,a).next((i=>{i!==null&&n.set(a,i)})))).next((()=>n))}saveOverlays(t,r,n){return n.forEach(((a,i)=>{this.St(t,r,i)})),qe.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(n)),qe.resolve()}getOverlaysForCollection(t,r,n){const a=mu(),i=r.length+1,s=new _t(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===i&&u.largestBatchId>n&&a.set(u.getKey(),u)}return qe.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new on(((f,d)=>f-d));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let d=i.get(f.largestBatchId);d===null&&(d=mu(),i=i.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=mu(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,d)=>l.set(f,d))),!(l.size()>=a)););return qe.resolve(l)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new oZ(r,n));let i=this.qr.get(r);i===void 0&&(i=Kt(),this.qr.set(r,i)),this.qr.set(r,i.add(n.key))}}class HZ{constructor(){this.sessionToken=Oa.EMPTY_BYTE_STRING}getSessionToken(t){return qe.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,qe.resolve()}}class WA{constructor(){this.Qr=new Qn(ua.$r),this.Ur=new Qn(ua.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new ua(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach((n=>this.addReference(n,r)))}removeReference(t,r){this.Gr(new ua(t,r))}zr(t,r){t.forEach((n=>this.removeReference(n,r)))}jr(t){const r=new _t(new Kr([])),n=new ua(r,t),a=new ua(r,t+1),i=[];return this.Ur.forEachInRange([n,a],(s=>{this.Gr(s),i.push(s.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new _t(new Kr([])),n=new ua(r,t),a=new ua(r,t+1);let i=Kt();return this.Ur.forEachInRange([n,a],(s=>{i=i.add(s.key)})),i}containsKey(t){const r=new ua(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class ua{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return _t.comparator(t.key,r.key)||Gt(t.Yr,r.Yr)}static Kr(t,r){return Gt(t.Yr,r.Yr)||_t.comparator(t.key,r.key)}}class qZ{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Qn(ua.$r)}checkEmpty(t){return qe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new sZ(i,r,n,a);this.mutationQueue.push(s);for(const l of a)this.Zr=this.Zr.add(new ua(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return qe.resolve(s)}lookupMutationBatch(t,r){return qe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.ei(n),i=a<0?0:a;return qe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(this.mutationQueue.length===0?BA:this.tr-1)}getAllMutationBatches(t){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new ua(r,0),a=new ua(r,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,a],(s=>{const l=this.Xr(s.Yr);i.push(l)})),qe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Qn(Gt);return r.forEach((a=>{const i=new ua(a,0),s=new ua(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],(l=>{n=n.add(l.Yr)}))})),qe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;_t.isDocumentKey(i)||(i=i.child(""));const s=new ua(new _t(i),0);let l=new Qn(Gt);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!n.isPrefixOf(f)&&(f.length===a&&(l=l.add(u.Yr)),!0)}),s),qe.resolve(this.ti(l))}ti(t){const r=[];return t.forEach((n=>{const a=this.Xr(n);a!==null&&r.push(a)})),r}removeMutationBatch(t,r){br(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return qe.forEach(r.mutations,(a=>{const i=new ua(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=n}))}ir(t){}containsKey(t,r){const n=new ua(r,0),a=this.Zr.firstAfterOrEqual(n);return qe.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,qe.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class WZ{constructor(t){this.ri=t,this.docs=(function(){return new on(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return qe.resolve(n?n.document.mutableCopy():La.newInvalidDocument(r))}getEntries(t,r){let n=nl();return r.forEach((a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():La.newInvalidDocument(a))})),qe.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=nl();const s=r.path,l=new _t(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||bQ(yQ(d),n)<=0||(a.has(d.key)||J1(r,d))&&(i=i.insert(d.key,d.mutableCopy()))}return qe.resolve(i)}getAllFromCollectionGroup(t,r,n,a){Ct(9500)}ii(t,r){return qe.forEach(this.docs,(n=>r(n)))}newChangeBuffer(t){return new GZ(this)}getSize(t){return qe.resolve(this.size)}}class GZ extends LZ{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(n)})),qe.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}class KZ{constructor(t){this.persistence=t,this.si=new Qu((r=>zA(r)),UA),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new WA,this.targetCount=0,this.ai=Af.ur()}forEachTarget(t,r){return this.si.forEach(((n,a)=>r(a))),qe.resolve()}getLastRemoteSnapshotVersion(t){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return qe.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),qe.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Af(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,qe.resolve()}updateTargetData(t,r){return this.Pr(r),qe.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,qe.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.si.forEach(((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),a++)})),qe.waitFor(i).next((()=>a))}getTargetCount(t){return qe.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return qe.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),qe.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach((s=>{i.push(a.markPotentiallyOrphaned(t,s))})),qe.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),qe.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return qe.resolve(n)}containsKey(t,r){return qe.resolve(this._i.containsKey(r))}}class yB{constructor(t,r){this.ui={},this.overlays={},this.ci=new G1(0),this.li=!1,this.li=!0,this.hi=new HZ,this.referenceDelegate=t(this),this.Pi=new KZ(this),this.indexManager=new NZ,this.remoteDocumentCache=(function(a){return new WZ(a)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new OZ(r),this.Ii=new VZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new $Z,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new qZ(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){ot("MemoryPersistence","Starting transaction:",t);const a=new XZ(this.ci.next());return this.referenceDelegate.Ei(),n(a).next((i=>this.referenceDelegate.di(a).next((()=>i)))).toPromise().then((i=>(a.raiseOnCommittedEvent(),i)))}Ai(t,r){return qe.or(Object.values(this.ui).map((n=>()=>n.containsKey(t,r))))}}class XZ extends wQ{constructor(t){super(),this.currentSequenceNumber=t}}class GA{constructor(t){this.persistence=t,this.Ri=new WA,this.Vi=null}static mi(t){return new GA(t)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),qe.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),qe.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),qe.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach((a=>this.fi.add(a.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next((a=>{a.forEach((i=>this.fi.add(i.toString())))})).next((()=>n.removeTargetData(t,r)))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.fi,(n=>{const a=_t.fromPath(n);return this.gi(t,a).next((i=>{i||r.removeEntry(a,Dt.min())}))})).next((()=>(this.Vi=null,r.apply(t))))}updateLimboDocument(t,r){return this.gi(t,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(t){return 0}gi(t,r){return qe.or([()=>qe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class kv{constructor(t,r){this.persistence=t,this.pi=new Qu((n=>AQ(n.path)),((n,a)=>n.isEqual(a))),this.garbageCollector=MZ(this,r)}static mi(t,r){return new kv(t,r)}Ei(){}di(t){return qe.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>r.next((a=>n+a))))}wr(t){let r=0;return this.pr(t,(n=>{r++})).next((()=>r))}pr(t,r){return qe.forEach(this.pi,((n,a)=>this.br(t,n,a).next((i=>i?qe.resolve():r(a)))))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(t,(s=>this.br(t,s,r).next((l=>{l||(n++,i.removeEntry(s,Dt.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),qe.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),qe.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),qe.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),qe.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=yx(t.data.value)),r}br(t,r,n){return qe.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.pi.get(r);return qe.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class KA{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=a}static As(t,r){let n=Kt(),a=Kt();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new KA(t,r.fromCache,n,a)}}class YZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class QZ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return UX()?8:EQ(LX())>0?6:4})()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.ys(t,r).next((s=>{i.result=s})).next((()=>{if(!i.result)return this.ws(t,r,a,n).next((s=>{i.result=s}))})).next((()=>{if(i.result)return;const s=new YZ;return this.Ss(t,r,s).next((l=>{if(i.result=l,this.Vs)return this.bs(t,r,s,l.size)}))})).next((()=>i.result))}bs(t,r,n,a){return n.documentReadCount<this.fs?(Q0()<=ar.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Z0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),qe.resolve()):(Q0()<=ar.DEBUG&&ot("QueryEngine","Query:",Z0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(Q0()<=ar.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Z0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oo(r))):qe.resolve())}ys(t,r){if(aO(r))return qe.resolve(null);let n=oo(r);return this.indexManager.getIndexType(t,n).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=qE(r,null,"F"),n=oo(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const s=Kt(...i);return this.ps.getDocuments(t,s).next((l=>this.indexManager.getMinOffset(t,n).next((u=>{const f=this.Ds(r,l);return this.Cs(r,f,s,u.readTime)?this.ys(t,qE(r,null,"F")):this.vs(t,f,r,u)}))))})))))}ws(t,r,n,a){return aO(r)||a.isEqual(Dt.min())?qe.resolve(null):this.ps.getDocuments(t,n).next((i=>{const s=this.Ds(r,i);return this.Cs(r,s,n,a)?qe.resolve(null):(Q0()<=ar.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Z0(r)),this.vs(t,s,r,vQ(a,Hh)).next((l=>l)))}))}Ds(t,r){let n=new Qn(YF(t));return r.forEach(((a,i)=>{J1(t,i)&&(n=n.add(i))})),n}Cs(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(t,r,n){return Q0()<=ar.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Z0(r)),this.ps.getDocumentsMatchingQuery(t,r,xc.min(),n)}vs(t,r,n,a){return this.ps.getDocumentsMatchingQuery(t,n,a).next((i=>(r.forEach((s=>{i=i.insert(s.key,s)})),i)))}}const XA="LocalStore",ZZ=3e8;class JZ{constructor(t,r,n,a){this.persistence=t,this.Fs=r,this.serializer=a,this.Ms=new on(Gt),this.xs=new Qu((i=>zA(i)),UA),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UZ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Ms)))}}function eJ(e,t,r,n){return new JZ(e,t,r,n)}async function bB(e,t){const r=Nt(e);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next((i=>(a=i,r.Bs(t),r.mutationQueue.getAllMutationBatches(n)))).next((i=>{const s=[],l=[];let u=Kt();for(const f of a){s.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of i){l.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return r.localDocuments.getDocuments(n,u).next((f=>({Ls:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function tJ(e,t){const r=Nt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const a=t.batch.keys(),i=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,f,d){const m=f.batch,g=m.keys();let x=qe.resolve();return g.forEach((y=>{x=x.next((()=>d.getEntry(u,y))).next((_=>{const b=f.docVersions.get(y);br(b!==null,48541),_.version.compareTo(b)<0&&(m.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),d.addEntry(_)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(u,m)))})(r,n,t,i).next((()=>i.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let u=Kt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u})(t)))).next((()=>r.localDocuments.getDocuments(n,a)))}))}function _B(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Pi.getLastRemoteSnapshotVersion(r)))}function rJ(e,t){const r=Nt(e),n=t.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const l=[];t.targetChanges.forEach(((d,m)=>{const g=a.get(m);if(!g)return;l.push(r.Pi.removeMatchingKeys(i,d.removedDocuments,m).next((()=>r.Pi.addMatchingKeys(i,d.addedDocuments,m))));let x=g.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(m)!==null?x=x.withResumeToken(Oa.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,n)),a=a.insert(m,x),(function(_,b,w){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=ZZ?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0})(g,x,d)&&l.push(r.Pi.updateTargetData(i,x))}));let u=nl(),f=Kt();if(t.documentUpdates.forEach((d=>{t.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(i,d))})),l.push(nJ(i,s,t.documentUpdates).next((d=>{u=d.ks,f=d.qs}))),!n.isEqual(Dt.min())){const d=r.Pi.getLastRemoteSnapshotVersion(i).next((m=>r.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n)));l.push(d)}return qe.waitFor(l).next((()=>s.apply(i))).next((()=>r.localDocuments.getLocalViewOfDocuments(i,u,f))).next((()=>u))})).then((i=>(r.Ms=a,i)))}function nJ(e,t,r){let n=Kt(),a=Kt();return r.forEach((i=>n=n.add(i))),t.getEntries(e,n).next((i=>{let s=nl();return r.forEach(((l,u)=>{const f=i.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(l)),u.isNoDocument()&&u.version.isEqual(Dt.min())?(t.removeEntry(l,u.readTime),s=s.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),s=s.insert(l,u)):ot(XA,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)})),{ks:s,qs:a}}))}function aJ(e,t){const r=Nt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=BA),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function iJ(e,t){const r=Nt(e);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return r.Pi.getTargetData(n,t).next((i=>i?(a=i,qe.resolve(a)):r.Pi.allocateTargetId(n).next((s=>(a=new ac(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next((()=>a)))))))})).then((n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n}))}async function YE(e,t,r){const n=Nt(e),a=n.Ms.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,(s=>n.persistence.referenceDelegate.removeTarget(s,a)))}catch(s){if(!qf(s))throw s;ot(XA,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(a.target)}function xO(e,t,r){const n=Nt(e);let a=Dt.min(),i=Kt();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(u,f,d){const m=Nt(u),g=m.xs.get(d);return g!==void 0?qe.resolve(m.Ms.get(g)):m.Pi.getTargetData(f,d)})(n,s,oo(t)).next((l=>{if(l)return a=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,l.targetId).next((u=>{i=u}))})).next((()=>n.Fs.getDocumentsMatchingQuery(s,t,r?a:Dt.min(),r?i:Kt()))).next((l=>(sJ(n,qQ(t),l),{documents:l,Qs:i})))))}function sJ(e,t,r){let n=e.Os.get(t)||Dt.min();r.forEach(((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)})),e.Os.set(t,n)}class vO{constructor(){this.activeTargetIds=QQ()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oJ{constructor(){this.Mo=new vO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new vO,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class lJ{Oo(t){}shutdown(){}}const yO="ConnectivityMonitor";class bO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(yO,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(yO,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fg=null;function QE(){return Fg===null?Fg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fg++,"0x"+Fg.toString(16)}const w_="RestConnection",cJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uJ{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===_v?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(t,r,n,a,i){const s=QE(),l=this.zo(t,r.toUriEncodedString());ot(w_,`Sending RPC '${t}' ${s}:`,l,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,i);const{host:f}=new URL(l),d=NA(f);return this.Jo(t,l,u,n,d).then((m=>(ot(w_,`Received RPC '${t}' ${s}: `,m),m)),(m=>{throw _f(w_,`RPC '${t}' ${s} failed with error: `,m,"url: ",l,"request:",n),m}))}Ho(t,r,n,a,i,s){return this.Go(t,r,n,a,i)}jo(t,r,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$f})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,i)=>t[i]=a)),n&&n.headers.forEach(((a,i)=>t[i]=a))}zo(t,r){const n=cJ[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}class fJ{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ra="WebChannelConnection";class dJ extends uJ{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,a,i){const s=QE();return new Promise(((l,u)=>{const f=new SF;f.setWithCredentials(!0),f.listenOnce(AF.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case vx.NO_ERROR:const m=f.getResponseJson();ot(Ra,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(m)),l(m);break;case vx.TIMEOUT:ot(Ra,`RPC '${t}' ${s} timed out`),u(new gt(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case vx.HTTP_ERROR:const g=f.getStatus();if(ot(Ra,`RPC '${t}' ${s} failed with status:`,g,"response text:",f.getResponseText()),g>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const y=x?.error;if(y&&y.status&&y.message){const _=(function(w){const C=w.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(C)>=0?C:Ke.UNKNOWN})(y.status);u(new gt(_,y.message))}else u(new gt(Ke.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new gt(Ke.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:t,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ot(Ra,`RPC '${t}' ${s} completed.`)}}));const d=JSON.stringify(a);ot(Ra,`RPC '${t}' ${s} sending request:`,a),f.send(r,"POST",d,n,15)}))}T_(t,r,n){const a=QE(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=kF(),l=TF(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const d=i.join("");ot(Ra,`Creating RPC '${t}' stream ${a}: ${d}`,u);const m=s.createWebChannel(d,u);this.I_(m);let g=!1,x=!1;const y=new fJ({Yo:b=>{x?ot(Ra,`Not sending because RPC '${t}' stream ${a} is closed:`,b):(g||(ot(Ra,`Opening RPC '${t}' stream ${a} transport.`),m.open(),g=!0),ot(Ra,`RPC '${t}' stream ${a} sending:`,b),m.send(b))},Zo:()=>m.close()}),_=(b,w,C)=>{b.listen(w,(S=>{try{C(S)}catch(O){setTimeout((()=>{throw O}),0)}}))};return _(m,dh.EventType.OPEN,(()=>{x||(ot(Ra,`RPC '${t}' stream ${a} transport opened.`),y.o_())})),_(m,dh.EventType.CLOSE,(()=>{x||(x=!0,ot(Ra,`RPC '${t}' stream ${a} transport closed`),y.a_(),this.E_(m))})),_(m,dh.EventType.ERROR,(b=>{x||(x=!0,_f(Ra,`RPC '${t}' stream ${a} transport errored. Name:`,b.name,"Message:",b.message),y.a_(new gt(Ke.UNAVAILABLE,"The operation could not be completed")))})),_(m,dh.EventType.MESSAGE,(b=>{if(!x){const w=b.data[0];br(!!w,16349);const C=w,S=C?.error||C[0]?.error;if(S){ot(Ra,`RPC '${t}' stream ${a} received error:`,S);const O=S.status;let F=(function(k){const P=jn[k];if(P!==void 0)return lB(P)})(O),B=S.message;F===void 0&&(F=Ke.INTERNAL,B="Unknown error status: "+O+" with message "+S.message),x=!0,y.a_(new gt(F,B)),m.close()}else ot(Ra,`RPC '${t}' stream ${a} received:`,w),y.u_(w)}})),_(l,CF.STAT_EVENT,(b=>{b.stat===LE.PROXY?ot(Ra,`RPC '${t}' stream ${a} detected buffering proxy`):b.stat===LE.NOPROXY&&ot(Ra,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{y.__()}),0),y}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((r=>r===t))}}function E_(){return typeof document<"u"?document:null}function ny(e){return new gZ(e,!0)}class wB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&ot("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _O="PersistentStream";class EB{constructor(t,r,n,a,i,s,l,u){this.Mi=t,this.S_=n,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wB(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===Ke.RESOURCE_EXHAUSTED?(rl(r.toString()),rl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.D_===r&&this.G_(n,a)}),(n=>{t((()=>{const a=new gt(Ke.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)}))}))}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{n((()=>this.z_(a)))})),this.stream.onMessage((a=>{n((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(_O,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget((()=>this.D_===t?r():(ot(_O,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hJ extends EB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=yZ(this.serializer,t),n=(function(i){if(!("targetChange"in i))return Dt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Dt.min():s.readTime?lo(s.readTime):Dt.min()})(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=XE(this.serializer),r.addTarget=(function(i,s){let l;const u=s.target;if(l=HE(u)?{documents:wZ(i,u)}:{query:EZ(i,u).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=fB(i,s.resumeToken);const f=WE(i,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Dt.min())>0){l.readTime=Tv(i,s.snapshotVersion.toTimestamp());const f=WE(i,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,t);const n=AZ(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=XE(this.serializer),r.removeTarget=t,this.q_(r)}}class pJ extends EB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return br(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,br(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){br(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=_Z(t.writeResults,t.commitTime),n=lo(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=XE(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((n=>bZ(this.serializer,n)))};this.q_(r)}}class mJ{}class gJ extends mJ{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new gt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Go(t,GE(r,n),a,i,s))).catch((i=>{throw i.name==="FirebaseError"?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new gt(Ke.UNKNOWN,i.toString())}))}Ho(t,r,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Ho(t,GE(r,n),a,s,l,i))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new gt(Ke.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xJ{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rl(r),this.aa=!1):ot("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ru="RemoteStore";class vJ{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((s=>{n.enqueueAndForget((async()=>{Ju(this)&&(ot(Ru,"Restarting streams for network reachability change."),await(async function(u){const f=Nt(u);f.Ea.add(4),await kp(f),f.Ra.set("Unknown"),f.Ea.delete(4),await ay(f)})(this))}))})),this.Ra=new xJ(n,a)}}async function ay(e){if(Ju(e))for(const t of e.da)await t(!0)}async function kp(e){for(const t of e.da)await t(!1)}function SB(e,t){const r=Nt(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),JA(r)?ZA(r):Wf(r).O_()&&QA(r,t))}function YA(e,t){const r=Nt(e),n=Wf(r);r.Ia.delete(t),n.O_()&&AB(r,t),r.Ia.size===0&&(n.O_()?n.L_():Ju(r)&&r.Ra.set("Unknown"))}function QA(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Wf(e).Y_(t)}function AB(e,t){e.Va.Ue(t),Wf(e).Z_(t)}function ZA(e){e.Va=new dZ({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Wf(e).start(),e.Ra.ua()}function JA(e){return Ju(e)&&!Wf(e).x_()&&e.Ia.size>0}function Ju(e){return Nt(e).Ea.size===0}function CB(e){e.Va=void 0}async function yJ(e){e.Ra.set("Online")}async function bJ(e){e.Ia.forEach(((t,r)=>{QA(e,t)}))}async function _J(e,t){CB(e),JA(e)?(e.Ra.ha(t),ZA(e)):e.Ra.set("Unknown")}async function wJ(e,t,r){if(e.Ra.set("Online"),t instanceof uB&&t.state===2&&t.cause)try{await(async function(a,i){const s=i.cause;for(const l of i.targetIds)a.Ia.has(l)&&(await a.remoteSyncer.rejectListen(l,s),a.Ia.delete(l),a.Va.removeTarget(l))})(e,t)}catch(n){ot(Ru,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Dv(e,n)}else if(t instanceof wx?e.Va.Ze(t):t instanceof cB?e.Va.st(t):e.Va.tt(t),!r.isEqual(Dt.min()))try{const n=await _B(e.localStore);r.compareTo(n)>=0&&await(function(i,s){const l=i.Va.Tt(s);return l.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(f);d&&i.Ia.set(f,d.withResumeToken(u.resumeToken,s))}})),l.targetMismatches.forEach(((u,f)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(Oa.EMPTY_BYTE_STRING,d.snapshotVersion)),AB(i,u);const m=new ac(d.target,u,f,d.sequenceNumber);QA(i,m)})),i.remoteSyncer.applyRemoteEvent(l)})(e,r)}catch(n){ot(Ru,"Failed to raise snapshot:",n),await Dv(e,n)}}async function Dv(e,t,r){if(!qf(t))throw t;e.Ea.add(1),await kp(e),e.Ra.set("Offline"),r||(r=()=>_B(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ot(Ru,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await ay(e)}))}function TB(e,t){return t().catch((r=>Dv(e,r,t)))}async function iy(e){const t=Nt(e),r=_c(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:BA;for(;EJ(t);)try{const a=await aJ(t.localStore,n);if(a===null){t.Ta.length===0&&r.L_();break}n=a.batchId,SJ(t,a)}catch(a){await Dv(t,a)}kB(t)&&DB(t)}function EJ(e){return Ju(e)&&e.Ta.length<10}function SJ(e,t){e.Ta.push(t);const r=_c(e);r.O_()&&r.X_&&r.ea(t.mutations)}function kB(e){return Ju(e)&&!_c(e).x_()&&e.Ta.length>0}function DB(e){_c(e).start()}async function AJ(e){_c(e).ra()}async function CJ(e){const t=_c(e);for(const r of e.Ta)t.ea(r.mutations)}async function TJ(e,t,r){const n=e.Ta.shift(),a=$A.from(n,t,r);await TB(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await iy(e)}async function kJ(e,t){t&&_c(e).X_&&await(async function(n,a){if((function(s){return cZ(s)&&s!==Ke.ABORTED})(a.code)){const i=n.Ta.shift();_c(n).B_(),await TB(n,(()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a))),await iy(n)}})(e,t),kB(e)&&DB(e)}async function wO(e,t){const r=Nt(e);r.asyncQueue.verifyOperationInProgress(),ot(Ru,"RemoteStore received new credentials");const n=Ju(r);r.Ea.add(3),await kp(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await ay(r)}async function DJ(e,t){const r=Nt(e);t?(r.Ea.delete(2),await ay(r)):t||(r.Ea.add(2),await kp(r),r.Ra.set("Unknown"))}function Wf(e){return e.ma||(e.ma=(function(r,n,a){const i=Nt(r);return i.sa(),new hJ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(e.datastore,e.asyncQueue,{Xo:yJ.bind(null,e),t_:bJ.bind(null,e),r_:_J.bind(null,e),H_:wJ.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),JA(e)?ZA(e):e.Ra.set("Unknown")):(await e.ma.stop(),CB(e))}))),e.ma}function _c(e){return e.fa||(e.fa=(function(r,n,a){const i=Nt(r);return i.sa(),new pJ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:AJ.bind(null,e),r_:kJ.bind(null,e),ta:CJ.bind(null,e),na:TJ.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await iy(e)):(await e.fa.stop(),e.Ta.length>0&&(ot(Ru,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class eC{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new fc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,l=new eC(t,r,s,a,i);return l.start(n),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(Ke.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tC(e,t){if(rl("AsyncQueue",`${t}: ${e}`),qf(e))return new gt(Ke.UNAVAILABLE,`${t}: ${e}`);throw e}class df{static emptySet(t){return new df(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||_t.comparator(r.key,n.key):(r,n)=>_t.comparator(r.key,n.key),this.keyedMap=hh(),this.sortedSet=new on(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,n)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof df)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new df;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}class EO{constructor(){this.ga=new on(_t.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Ct(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,n)=>{t.push(n)})),t}}class Cf{constructor(t,r,n,a,i,s,l,u,f){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach((l=>{s.push({type:0,doc:l})})),new Cf(t,r,df.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Z1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}class OJ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class jJ{constructor(){this.queries=SO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=Nt(r),i=a.queries;a.queries=SO(),i.forEach(((s,l)=>{for(const u of l.Sa)u.onError(n)}))})(this,new gt(Ke.ABORTED,"Firestore shutting down"))}}function SO(){return new Qu((e=>XF(e)),Z1)}async function OB(e,t){const r=Nt(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.ba()&&t.Da()&&(n=2):(i=new OJ,n=t.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const l=tC(s,`Initialization of query '${Z0(t.query)}' failed`);return void t.onError(l)}r.queries.set(a,i),i.Sa.push(t),t.va(r.onlineState),i.wa&&t.Fa(i.wa)&&rC(r)}async function jB(e,t){const r=Nt(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Sa.indexOf(t);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?a=t.Da()?0:1:!i.ba()&&t.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function NJ(e,t){const r=Nt(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const l of s.Sa)l.Fa(a)&&(n=!0);s.wa=a}}n&&rC(r)}function IJ(e,t,r){const n=Nt(e),a=n.queries.get(t);if(a)for(const i of a.Sa)i.onError(r);n.queries.delete(t)}function rC(e){e.Ca.forEach((t=>{t.next()}))}var ZE,AO;(AO=ZE||(ZE={})).Ma="default",AO.Cache="cache";class NB{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new Cf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=Cf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ZE.Cache}}class IB{constructor(t){this.key=t}}class RB{constructor(t){this.key=t}}class RJ{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=YF(t),this.tu=new df(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new EO,a=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,l=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((d,m)=>{const g=a.get(d),x=J1(this.query,m)?m:null,y=!!g&&this.mutatedKeys.has(g.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;g&&x?g.data.isEqual(x.data)?y!==_&&(n.track({type:3,doc:x}),b=!0):this.su(g,x)||(n.track({type:2,doc:x}),b=!0,(u&&this.eu(x,u)>0||f&&this.eu(x,f)<0)&&(l=!0)):!g&&x?(n.track({type:0,doc:x}),b=!0):g&&!x&&(n.track({type:1,doc:g}),b=!0,(u||f)&&(l=!0)),b&&(x?(s=s.add(x),i=_?i.add(d):i.delete(d)):(s=s.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),i=i.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Cs:l,mutatedKeys:i}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort(((d,m)=>(function(x,y){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:b})}};return _(x)-_(y)})(d.type,m.type)||this.eu(d.doc,m.doc))),this.ou(n),a=a??!1;const l=r&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,f=u!==this.Za;return this.Za=u,s.length!==0||f?{snapshot:new Cf(this.query,t.tu,i,s,t.mutatedKeys,u===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Kt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return t.forEach((n=>{this.Xa.has(n)||r.push(new RB(n))})),this.Xa.forEach((n=>{t.has(n)||r.push(new IB(n))})),r}cu(t){this.Ya=t.Qs,this.Xa=Kt();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return Cf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nC="SyncEngine";class PJ{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class FJ{constructor(t){this.key=t,this.hu=!1}}class BJ{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Qu((l=>XF(l)),Z1),this.Iu=new Map,this.Eu=new Set,this.du=new on(_t.comparator),this.Au=new Map,this.Ru=new WA,this.Vu={},this.mu=new Map,this.fu=Af.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MJ(e,t,r=!0){const n=zB(e);let a;const i=n.Tu.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await PB(n,t,r,!0),a}async function LJ(e,t){const r=zB(e);await PB(r,t,!0,!1)}async function PB(e,t,r,n){const a=await iJ(e.localStore,oo(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let l;return n&&(l=await zJ(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&SB(e.remoteStore,a),l}async function zJ(e,t,r,n,a){e.pu=(m,g,x)=>(async function(_,b,w,C){let S=b.view.ru(w);S.Cs&&(S=await xO(_.localStore,b.query,!1).then((({documents:j})=>b.view.ru(j,S))));const O=C&&C.targetChanges.get(b.targetId),F=C&&C.targetMismatches.get(b.targetId)!=null,B=b.view.applyChanges(S,_.isPrimaryClient,O,F);return TO(_,b.targetId,B.au),B.snapshot})(e,m,g,x);const i=await xO(e.localStore,t,!0),s=new RJ(t,i.Qs),l=s.ru(i.documents),u=Tp.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),f=s.applyChanges(l,e.isPrimaryClient,u);TO(e,r,f.au);const d=new PJ(t,r,s);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),f.snapshot}async function UJ(e,t,r){const n=Nt(e),a=n.Tu.get(t),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter((s=>!Z1(s,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await YE(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),r&&YA(n.remoteStore,a.targetId),JE(n,a.targetId)})).catch(Hf)):(JE(n,a.targetId),await YE(n.localStore,a.targetId,!0))}async function VJ(e,t){const r=Nt(e),n=r.Tu.get(t),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),YA(r.remoteStore,n.targetId))}async function $J(e,t,r){const n=YJ(e);try{const a=await(function(s,l){const u=Nt(s),f=Xr.now(),d=l.reduce(((x,y)=>x.add(y.key)),Kt());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let y=nl(),_=Kt();return u.Ns.getEntries(x,d).next((b=>{y=b,y.forEach(((w,C)=>{C.isValidDocument()||(_=_.add(w))}))})).next((()=>u.localDocuments.getOverlayedDocuments(x,y))).next((b=>{m=b;const w=[];for(const C of l){const S=aZ(C,m.get(C.key).overlayedDocument);S!=null&&w.push(new Zu(C.key,S,VF(S.value.mapValue),Xo.exists(!0)))}return u.mutationQueue.addMutationBatch(x,f,w,l)})).next((b=>{g=b;const w=b.applyToLocalDocumentSet(m,_);return u.documentOverlayCache.saveOverlays(x,b.batchId,w)}))})).then((()=>({batchId:g.batchId,changes:ZF(m)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),(function(s,l,u){let f=s.Vu[s.currentUser.toKey()];f||(f=new on(Gt)),f=f.insert(l,u),s.Vu[s.currentUser.toKey()]=f})(n,a.batchId,r),await Dp(n,a.changes),await iy(n.remoteStore)}catch(a){const i=tC(a,"Failed to persist write");r.reject(i)}}async function FB(e,t){const r=Nt(e);try{const n=await rJ(r.localStore,t);t.targetChanges.forEach(((a,i)=>{const s=r.Au.get(i);s&&(br(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?br(s.hu,14607):a.removedDocuments.size>0&&(br(s.hu,42227),s.hu=!1))})),await Dp(r,n,t)}catch(n){await Hf(n)}}function CO(e,t,r){const n=Nt(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach(((i,s)=>{const l=s.view.va(t);l.snapshot&&a.push(l.snapshot)})),(function(s,l){const u=Nt(s);u.onlineState=l;let f=!1;u.queries.forEach(((d,m)=>{for(const g of m.Sa)g.va(l)&&(f=!0)})),f&&rC(u)})(n.eventManager,t),a.length&&n.Pu.H_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function HJ(e,t,r){const n=Nt(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Au.get(t),i=a&&a.key;if(i){let s=new on(_t.comparator);s=s.insert(i,La.newNoDocument(i,Dt.min()));const l=Kt().add(i),u=new ry(Dt.min(),new Map,new on(Gt),s,l);await FB(n,u),n.du=n.du.remove(i),n.Au.delete(t),aC(n)}else await YE(n.localStore,t,!1).then((()=>JE(n,t,r))).catch(Hf)}async function qJ(e,t){const r=Nt(e),n=t.batch.batchId;try{const a=await tJ(r.localStore,t);MB(r,n,null),BB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Dp(r,a)}catch(a){await Hf(a)}}async function WJ(e,t,r){const n=Nt(e);try{const a=await(function(s,l){const u=Nt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return u.mutationQueue.lookupMutationBatch(f,l).next((m=>(br(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(f,m)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,d,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>u.localDocuments.getDocuments(f,d)))}))})(n.localStore,t);MB(n,t,r),BB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Dp(n,a)}catch(a){await Hf(a)}}function BB(e,t){(e.mu.get(t)||[]).forEach((r=>{r.resolve()})),e.mu.delete(t)}function MB(e,t,r){const n=Nt(e);let a=n.Vu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.Vu[n.currentUser.toKey()]=a}}function JE(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((n=>{e.Ru.containsKey(n)||LB(e,n)}))}function LB(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(YA(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),aC(e))}function TO(e,t,r){for(const n of r)n instanceof IB?(e.Ru.addReference(n.key,t),GJ(e,n)):n instanceof RB?(ot(nC,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||LB(e,n.key)):Ct(19791,{wu:n})}function GJ(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(ot(nC,"New document in limbo: "+r),e.Eu.add(n),aC(e))}function aC(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new _t(Kr.fromString(t)),n=e.fu.next();e.Au.set(n,new FJ(r)),e.du=e.du.insert(r,n),SB(e.remoteStore,new ac(oo(Q1(r.path)),n,"TargetPurposeLimboResolution",G1.ce))}}async function Dp(e,t,r){const n=Nt(e),a=[],i=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,u)=>{s.push(n.pu(u,t,r).then((f=>{if((f||r)&&n.isPrimaryClient){const d=f?!f.fromCache:r?.targetChanges.get(u.targetId)?.current;n.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(f){a.push(f);const d=KA.As(u.targetId,f);i.push(d)}})))})),await Promise.all(s),n.Pu.H_(a),await(async function(u,f){const d=Nt(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>qe.forEach(f,(g=>qe.forEach(g.Es,(x=>d.persistence.referenceDelegate.addReference(m,g.targetId,x))).next((()=>qe.forEach(g.ds,(x=>d.persistence.referenceDelegate.removeReference(m,g.targetId,x)))))))))}catch(m){if(!qf(m))throw m;ot(XA,"Failed to update sequence numbers: "+m)}for(const m of f){const g=m.targetId;if(!m.fromCache){const x=d.Ms.get(g),y=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(g,_)}}})(n.localStore,i))}async function KJ(e,t){const r=Nt(e);if(!r.currentUser.isEqual(t)){ot(nC,"User change. New user:",t.toKey());const n=await bB(r.localStore,t);r.currentUser=t,(function(i,s){i.mu.forEach((l=>{l.forEach((u=>{u.reject(new gt(Ke.CANCELLED,s))}))})),i.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Dp(r,n.Ls)}}function XJ(e,t){const r=Nt(e),n=r.Au.get(t);if(n&&n.hu)return Kt().add(n.key);{let a=Kt();const i=r.Iu.get(t);if(!i)return a;for(const s of i){const l=r.Tu.get(s);a=a.unionWith(l.view.nu)}return a}}function zB(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=FB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XJ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HJ.bind(null,t),t.Pu.H_=NJ.bind(null,t.eventManager),t.Pu.yu=IJ.bind(null,t.eventManager),t}function YJ(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qJ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WJ.bind(null,t),t}class Ov{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ny(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return eJ(this.persistence,new QZ,t.initialUser,this.serializer)}Cu(t){return new yB(GA.mi,this.serializer)}Du(t){return new oJ}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ov.provider={build:()=>new Ov};class QJ extends Ov{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){br(this.persistence.referenceDelegate instanceof kv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new FZ(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new yB((n=>kv.mi(n,r)),this.serializer)}}class eS{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>CO(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=KJ.bind(null,this.syncEngine),await DJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jJ})()}createDatastore(t){const r=ny(t.databaseInfo.databaseId),n=(function(i){return new dJ(i)})(t.databaseInfo);return(function(i,s,l,u){return new gJ(i,s,l,u)})(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return(function(n,a,i,s,l){return new vJ(n,a,i,s,l)})(this.localStore,this.datastore,t.asyncQueue,(r=>CO(this.syncEngine,r,0)),(function(){return bO.v()?new bO:new lJ})())}createSyncEngine(t,r){return(function(a,i,s,l,u,f,d){const m=new BJ(a,i,s,l,u,f);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Nt(r);ot(Ru,"RemoteStore shutting down."),n.Ea.add(5),await kp(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}eS.provider={build:()=>new eS};class UB{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}const wc="FirestoreClient";class ZJ{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Ba.UNAUTHENTICATED,this.clientId=PA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async s=>{ot(wc,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(ot(wc,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=tC(r,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function S_(e,t){e.asyncQueue.verifyOperationInProgress(),ot(wc,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener((async a=>{n.isEqual(a)||(await bB(t.localStore,a),n=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function kO(e,t){e.asyncQueue.verifyOperationInProgress();const r=await JJ(e);ot(wc,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener((n=>wO(t.remoteStore,n))),e.setAppCheckTokenChangeListener(((n,a)=>wO(t.remoteStore,a))),e._onlineComponents=t}async function JJ(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ot(wc,"Using user provided OfflineComponentProvider");try{await S_(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Ke.FAILED_PRECONDITION||a.code===Ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;_f("Error using user provided cache. Falling back to memory cache: "+r),await S_(e,new Ov)}}else ot(wc,"Using default OfflineComponentProvider"),await S_(e,new QJ(void 0));return e._offlineComponents}async function VB(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ot(wc,"Using user provided OnlineComponentProvider"),await kO(e,e._uninitializedComponentsProvider._online)):(ot(wc,"Using default OnlineComponentProvider"),await kO(e,new eS))),e._onlineComponents}function eee(e){return VB(e).then((t=>t.syncEngine))}async function tS(e){const t=await VB(e),r=t.eventManager;return r.onListen=MJ.bind(null,t.syncEngine),r.onUnlisten=UJ.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=LJ.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=VJ.bind(null,t.syncEngine),r}function tee(e,t,r={}){const n=new fc;return e.asyncQueue.enqueueAndForget((async()=>(function(i,s,l,u,f){const d=new UB({next:g=>{d.Nu(),s.enqueueAndForget((()=>jB(i,m)));const x=g.docs.has(l);!x&&g.fromCache?f.reject(new gt(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&u&&u.source==="server"?f.reject(new gt(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),m=new NB(Q1(l.path),d,{includeMetadataChanges:!0,qa:!0});return OB(i,m)})(await tS(e),e.asyncQueue,t,r,n))),n.promise}function $B(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const DO=new Map;const HB="firestore.googleapis.com",OO=!0;class jO{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HB,this.ssl=OO}else this.host=t.host,this.ssl=t.ssl??OO;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<RZ)throw new gt(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xQ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$B(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new gt(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new gt(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new gt(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sy{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jO(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new oQ;switch(n.type){case"firstParty":return new fQ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new gt(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=DO.get(r);n&&(ot("ComponentProvider","Removing Datastore"),DO.delete(r),n.terminate())})(this),Promise.resolve()}}function ree(e,t,r,n={}){e=dc(e,sy);const a=NA(t),i=e._getSettings(),s={...i,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${r}`;a&&(RX(`https://${l}`),MX("Firestore",!0)),i.host!==HB&&i.host!==l&&_f("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:a,emulatorOptions:n};if(!xv(u,s)&&(e._setSettings(u),n.mockUserToken)){let f,d;if(typeof n.mockUserToken=="string")f=n.mockUserToken,d=Ba.MOCK_USER;else{f=PX(n.mockUserToken,e._app?.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new gt(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ba(m)}e._authCredentials=new lQ(new OF(f,d))}}class oy{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new oy(this.firestore,t,this._query)}}class Mn{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Mn(this.firestore,t,this._key)}toJSON(){return{type:Mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Ap(r,Mn._jsonSchema))return new Mn(t,n||null,new _t(Kr.fromString(r.referencePath)))}}Mn._jsonSchemaVersion="firestore/documentReference/1.0",Mn._jsonSchema={type:Bn("string",Mn._jsonSchemaVersion),referencePath:Bn("string")};class hc extends oy{constructor(t,r,n){super(t,r,Q1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Mn(this.firestore,null,new _t(t))}withConverter(t){return new hc(this.firestore,t,this._path)}}function nee(e,t,...r){if(e=bf(e),jF("collection","path",t),e instanceof sy){const n=Kr.fromString(t,...r);return qD(n),new hc(e,null,n)}{if(!(e instanceof Mn||e instanceof hc))throw new gt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Kr.fromString(t,...r));return qD(n),new hc(e.firestore,null,n)}}function th(e,t,...r){if(e=bf(e),arguments.length===1&&(t=PA.newId()),jF("doc","path",t),e instanceof sy){const n=Kr.fromString(t,...r);return HD(n),new Mn(e,null,new _t(n))}{if(!(e instanceof Mn||e instanceof hc))throw new gt(Ke.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Kr.fromString(t,...r));return HD(n),new Mn(e.firestore,e instanceof hc?e.converter:null,new _t(n))}}const NO="AsyncQueue";class IO{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wB(this,"async_queue_retry"),this._c=()=>{const n=E_();n&&ot(NO,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=E_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=E_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new fc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!qf(t))throw t;ot(NO,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,rl("INTERNAL UNHANDLED ERROR: ",RO(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=eC.createAndSchedule(this,t,r,n,(i=>this.hc(i)));return this.tc.push(a),a}uc(){this.nc&&Ct(47125,{Pc:RO(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function RO(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function PO(e){return(function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1})(e,["next","error","complete"])}class Yh extends sy{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new IO,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new IO(t),this._firestoreClient=void 0,await t}}}function aee(e,t){const r=typeof e=="object"?e:KY(),n=typeof e=="string"?e:_v,a=$Y(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=NX("firestore");i&&ree(a,...i)}return a}function iC(e){if(e._terminated)throw new gt(Ke.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||iee(e),e._firestoreClient}function iee(e){const t=e._freezeSettings(),r=(function(a,i,s,l){return new kQ(a,i,s,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,$B(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new ZJ(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&(function(a){const i=a?._online.build();return{_offline:a?._offline.build(i),_online:i}})(e._componentsProvider))}class cs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cs(Oa.fromBase64String(t))}catch(r){throw new gt(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new cs(Oa.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ap(t,cs._jsonSchema))return cs.fromBase64String(t.bytes)}}cs._jsonSchemaVersion="firestore/bytes/1.0",cs._jsonSchema={type:Bn("string",cs._jsonSchemaVersion),bytes:Bn("string")};class sC{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new gt(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ta(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qB{constructor(t){this._methodName=t}}class co{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new gt(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new gt(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:co._jsonSchemaVersion}}static fromJSON(t){if(Ap(t,co._jsonSchema))return new co(t.latitude,t.longitude)}}co._jsonSchemaVersion="firestore/geoPoint/1.0",co._jsonSchema={type:Bn("string",co._jsonSchemaVersion),latitude:Bn("number"),longitude:Bn("number")};class uo{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:uo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ap(t,uo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new uo(t.vectorValues);throw new gt(Ke.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uo._jsonSchemaVersion="firestore/vectorValue/1.0",uo._jsonSchema={type:Bn("string",uo._jsonSchemaVersion),vectorValues:Bn("object")};const see=/^__.*__$/;class oee{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Zu(t,this.data,this.fieldMask,r,this.fieldTransforms):new Cp(t,this.data,r,this.fieldTransforms)}}function WB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ac:e})}}class oC{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new oC({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){const r=this.path?.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return jv(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(WB(this.Ac)&&see.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class lee{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||ny(t)}Cc(t,r,n,a=!1){return new oC({Ac:t,methodName:r,Dc:n,path:Ta.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cee(e){const t=e._freezeSettings(),r=ny(e._databaseId);return new lee(e._databaseId,!!t.ignoreUndefinedProperties,r)}function uee(e,t,r,n,a,i={}){const s=e.Cc(i.merge||i.mergeFields?2:0,t,r,a);YB("Data must be an object, but it was:",s,n);const l=KB(n,s);let u,f;if(i.merge)u=new Is(s.fieldMask),f=s.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const g=fee(t,m,r);if(!s.contains(g))throw new gt(Ke.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);hee(d,g)||d.push(g)}u=new Is(d),f=s.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,f=s.fieldTransforms;return new oee(new ls(l),u,f)}function GB(e,t){if(XB(e=bf(e)))return YB("Unsupported field value:",t,e),KB(e,t);if(e instanceof qB)return(function(n,a){if(!WB(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(n,a){const i=[];let s=0;for(const l of n){let u=GB(l,a.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}})(e,t)}return(function(n,a){if((n=bf(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ZQ(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Xr.fromDate(n);return{timestampValue:Tv(a.serializer,i)}}if(n instanceof Xr){const i=new Xr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tv(a.serializer,i)}}if(n instanceof co)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof cs)return{bytesValue:fB(a.serializer,n._byteString)};if(n instanceof Mn){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qA(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof uo)return(function(s,l){return{mapValue:{fields:{[zF]:{stringValue:UF},[wv]:{arrayValue:{values:s.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return VA(l.serializer,f)}))}}}}}})(n,a);throw a.Sc(`Unsupported field value: ${FA(n)}`)})(e,t)}function KB(e,t){const r={};return RF(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yu(e,((n,a)=>{const i=GB(a,t.mc(n));i!=null&&(r[n]=i)})),{mapValue:{fields:r}}}function XB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xr||e instanceof co||e instanceof cs||e instanceof Mn||e instanceof qB||e instanceof uo)}function YB(e,t,r){if(!XB(r)||!NF(r)){const n=FA(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function fee(e,t,r){if((t=bf(t))instanceof sC)return t._internalPath;if(typeof t=="string")return QB(e,t);throw jv("Field path arguments must be of type string or ",e,!1,void 0,r)}const dee=new RegExp("[~\\*/\\[\\]]");function QB(e,t,r){if(t.search(dee)>=0)throw jv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new sC(...t.split("."))._internalPath}catch{throw jv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function jv(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let l=`Function ${t}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||s)&&(u+=" (found",i&&(u+=` in field ${n}`),s&&(u+=` in document ${a}`),u+=")"),new gt(Ke.INVALID_ARGUMENT,l+e+u)}function hee(e,t){return e.some((r=>r.isEqual(t)))}class ZB{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(JB("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class pee extends ZB{data(){return super.data()}}function JB(e,t){return typeof t=="string"?QB(e,t):t instanceof sC?t._internalPath:t._delegate._internalPath}function mee(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new gt(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gee{convertValue(t,r="none"){switch(bc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(yc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Yu(t,((a,i)=>{n[a]=this.convertValue(i,r)})),n}convertVectorValue(t){const r=t.fields?.[wv].arrayValue?.values?.map((n=>wn(n.doubleValue)));return new uo(r)}convertGeoPoint(t){return new co(wn(t.latitude),wn(t.longitude))}convertArray(t,r){return(t.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const n=X1(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(qh(t));default:return null}}convertTimestamp(t){const r=vc(t);return new Xr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Kr.fromString(t);br(xB(n),9688,{name:t});const a=new Wh(n.get(1),n.get(3)),i=new _t(n.popFirst(5));return a.isEqual(r)||rl(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}function xee(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class mh{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wu extends ZB{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ex(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(JB("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(Ke.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=wu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}wu._jsonSchemaVersion="firestore/documentSnapshot/1.0",wu._jsonSchema={type:Bn("string",wu._jsonSchemaVersion),bundleSource:Bn("string","DocumentSnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class Ex extends wu{data(t={}){return super.data(t)}}class hf{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new mh(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((n=>{t.call(r,new Ex(this._firestore,this._userDataWriter,n.key,n,new mh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new gt(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map((l=>{const u=new Ex(a._firestore,a._userDataWriter,l.doc.key,l.doc,new mh(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}}))}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new Ex(a._firestore,a._userDataWriter,l.doc.key,l.doc,new mh(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,d=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:vee(l.type),doc:u,oldIndex:f,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(Ke.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=hf._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=PA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach((i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function vee(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:e})}}function yee(e){e=dc(e,Mn);const t=dc(e.firestore,Yh);return tee(iC(t),e._key).then((r=>tM(t,e,r)))}hf._jsonSchemaVersion="firestore/querySnapshot/1.0",hf._jsonSchema={type:Bn("string",hf._jsonSchemaVersion),bundleSource:Bn("string","QuerySnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class eM extends gee{constructor(t){super(),this.firestore=t}convertBytes(t){return new cs(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Mn(this.firestore,null,r)}}function A_(e,t,r){e=dc(e,Mn);const n=dc(e.firestore,Yh),a=xee(e.converter,t,r);return bee(n,[uee(cee(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Xo.none())])}function FO(e,...t){e=bf(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||PO(t[n])||(r=t[n++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(PO(t[n])){const u=t[n];t[n]=u.next?.bind(u),t[n+1]=u.error?.bind(u),t[n+2]=u.complete?.bind(u)}let i,s,l;if(e instanceof Mn)s=dc(e.firestore,Yh),l=Q1(e._key.path),i={next:u=>{t[n]&&t[n](tM(s,e,u))},error:t[n+1],complete:t[n+2]};else{const u=dc(e,oy);s=dc(u.firestore,Yh),l=u._query;const f=new eM(s);i={next:d=>{t[n]&&t[n](new hf(s,f,u,d))},error:t[n+1],complete:t[n+2]},mee(e._query)}return(function(f,d,m,g){const x=new UB(g),y=new NB(d,x,m);return f.asyncQueue.enqueueAndForget((async()=>OB(await tS(f),y))),()=>{x.Nu(),f.asyncQueue.enqueueAndForget((async()=>jB(await tS(f),y)))}})(iC(s),l,a,i)}function bee(e,t){return(function(n,a){const i=new fc;return n.asyncQueue.enqueueAndForget((async()=>$J(await eee(n),a,i))),i.promise})(iC(e),t)}function tM(e,t,r){const n=r.docs.get(t._key),a=new eM(e);return new wu(e,a,t._key,n,new mh(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(a){$f=a})(GY),yv(new Vh("firestore",((n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),l=new Yh(new cQ(n.getProvider("auth-internal")),new dQ(s,n.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new gt(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wh(f.options.projectId,d)})(s,a),s);return i={useFetchStreams:r,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),ff(zD,UD,t),ff(zD,UD,"esm2020")})();var Sx={exports:{}};function _ee(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ax={exports:{}};const wee={},Eee=Object.freeze(Object.defineProperty({__proto__:null,default:wee},Symbol.toStringTag,{value:"Module"})),See=NH(Eee);var Aee=Ax.exports,BO;function er(){return BO||(BO=1,(function(e,t){(function(r,n){e.exports=n()})(Aee,function(){var r=r||(function(n,a){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof t_<"u"&&t_.crypto&&(i=t_.crypto),!i&&typeof _ee=="function")try{i=See}catch{}var s=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||(function(){function C(){}return function(S){var O;return C.prototype=S,O=new C,C.prototype=null,O}})(),u={},f=u.lib={},d=f.Base=(function(){return{extend:function(C){var S=l(this);return C&&S.mixIn(C),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var S in C)C.hasOwnProperty(S)&&(this[S]=C[S]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),m=f.WordArray=d.extend({init:function(C,S){C=this.words=C||[],S!=a?this.sigBytes=S:this.sigBytes=C.length*4},toString:function(C){return(C||x).stringify(this)},concat:function(C){var S=this.words,O=C.words,F=this.sigBytes,B=C.sigBytes;if(this.clamp(),F%4)for(var j=0;j<B;j++){var k=O[j>>>2]>>>24-j%4*8&255;S[F+j>>>2]|=k<<24-(F+j)%4*8}else for(var P=0;P<B;P+=4)S[F+P>>>2]=O[P>>>2];return this.sigBytes+=B,this},clamp:function(){var C=this.words,S=this.sigBytes;C[S>>>2]&=4294967295<<32-S%4*8,C.length=n.ceil(S/4)},clone:function(){var C=d.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var S=[],O=0;O<C;O+=4)S.push(s());return new m.init(S,C)}}),g=u.enc={},x=g.Hex={stringify:function(C){for(var S=C.words,O=C.sigBytes,F=[],B=0;B<O;B++){var j=S[B>>>2]>>>24-B%4*8&255;F.push((j>>>4).toString(16)),F.push((j&15).toString(16))}return F.join("")},parse:function(C){for(var S=C.length,O=[],F=0;F<S;F+=2)O[F>>>3]|=parseInt(C.substr(F,2),16)<<24-F%8*4;return new m.init(O,S/2)}},y=g.Latin1={stringify:function(C){for(var S=C.words,O=C.sigBytes,F=[],B=0;B<O;B++){var j=S[B>>>2]>>>24-B%4*8&255;F.push(String.fromCharCode(j))}return F.join("")},parse:function(C){for(var S=C.length,O=[],F=0;F<S;F++)O[F>>>2]|=(C.charCodeAt(F)&255)<<24-F%4*8;return new m.init(O,S)}},_=g.Utf8={stringify:function(C){try{return decodeURIComponent(escape(y.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return y.parse(unescape(encodeURIComponent(C)))}},b=f.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=_.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var S,O=this._data,F=O.words,B=O.sigBytes,j=this.blockSize,k=j*4,P=B/k;C?P=n.ceil(P):P=n.max((P|0)-this._minBufferSize,0);var I=P*j,R=n.min(I*4,B);if(I){for(var N=0;N<I;N+=j)this._doProcessBlock(F,N);S=F.splice(0,I),O.sigBytes-=R}return new m.init(S,R)},clone:function(){var C=d.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});f.Hasher=b.extend({cfg:d.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var S=this._doFinalize();return S},blockSize:16,_createHelper:function(C){return function(S,O){return new C.init(O).finalize(S)}},_createHmacHelper:function(C){return function(S,O){return new w.HMAC.init(C,O).finalize(S)}}});var w=u.algo={};return u})(Math);return r})})(Ax)),Ax.exports}var Cx={exports:{}},Cee=Cx.exports,MO;function ly(){return MO||(MO=1,(function(e,t){(function(r,n){e.exports=n(er())})(Cee,function(r){return(function(n){var a=r,i=a.lib,s=i.Base,l=i.WordArray,u=a.x64={};u.Word=s.extend({init:function(f,d){this.high=f,this.low=d}}),u.WordArray=s.extend({init:function(f,d){f=this.words=f||[],d!=n?this.sigBytes=d:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,d=f.length,m=[],g=0;g<d;g++){var x=f[g];m.push(x.high),m.push(x.low)}return l.create(m,this.sigBytes)},clone:function(){for(var f=s.clone.call(this),d=f.words=this.words.slice(0),m=d.length,g=0;g<m;g++)d[g]=d[g].clone();return f}})})(),r})})(Cx)),Cx.exports}var Tx={exports:{}},Tee=Tx.exports,LO;function kee(){return LO||(LO=1,(function(e,t){(function(r,n){e.exports=n(er())})(Tee,function(r){return(function(){if(typeof ArrayBuffer=="function"){var n=r,a=n.lib,i=a.WordArray,s=i.init,l=i.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var f=u.byteLength,d=[],m=0;m<f;m++)d[m>>>2]|=u[m]<<24-m%4*8;s.call(this,d,f)}else s.apply(this,arguments)};l.prototype=i}})(),r.lib.WordArray})})(Tx)),Tx.exports}var kx={exports:{}},Dee=kx.exports,zO;function Oee(){return zO||(zO=1,(function(e,t){(function(r,n){e.exports=n(er())})(Dee,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=n.enc;s.Utf16=s.Utf16BE={stringify:function(u){for(var f=u.words,d=u.sigBytes,m=[],g=0;g<d;g+=2){var x=f[g>>>2]>>>16-g%4*8&65535;m.push(String.fromCharCode(x))}return m.join("")},parse:function(u){for(var f=u.length,d=[],m=0;m<f;m++)d[m>>>1]|=u.charCodeAt(m)<<16-m%2*16;return i.create(d,f*2)}},s.Utf16LE={stringify:function(u){for(var f=u.words,d=u.sigBytes,m=[],g=0;g<d;g+=2){var x=l(f[g>>>2]>>>16-g%4*8&65535);m.push(String.fromCharCode(x))}return m.join("")},parse:function(u){for(var f=u.length,d=[],m=0;m<f;m++)d[m>>>1]|=l(u.charCodeAt(m)<<16-m%2*16);return i.create(d,f*2)}};function l(u){return u<<8&4278255360|u>>>8&16711935}})(),r.enc.Utf16})})(kx)),kx.exports}var Dx={exports:{}},jee=Dx.exports,UO;function e0(){return UO||(UO=1,(function(e,t){(function(r,n){e.exports=n(er())})(jee,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=n.enc;s.Base64={stringify:function(u){var f=u.words,d=u.sigBytes,m=this._map;u.clamp();for(var g=[],x=0;x<d;x+=3)for(var y=f[x>>>2]>>>24-x%4*8&255,_=f[x+1>>>2]>>>24-(x+1)%4*8&255,b=f[x+2>>>2]>>>24-(x+2)%4*8&255,w=y<<16|_<<8|b,C=0;C<4&&x+C*.75<d;C++)g.push(m.charAt(w>>>6*(3-C)&63));var S=m.charAt(64);if(S)for(;g.length%4;)g.push(S);return g.join("")},parse:function(u){var f=u.length,d=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var g=0;g<d.length;g++)m[d.charCodeAt(g)]=g}var x=d.charAt(64);if(x){var y=u.indexOf(x);y!==-1&&(f=y)}return l(u,f,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(u,f,d){for(var m=[],g=0,x=0;x<f;x++)if(x%4){var y=d[u.charCodeAt(x-1)]<<x%4*2,_=d[u.charCodeAt(x)]>>>6-x%4*2,b=y|_;m[g>>>2]|=b<<24-g%4*8,g++}return i.create(m,g)}})(),r.enc.Base64})})(Dx)),Dx.exports}var Ox={exports:{}},Nee=Ox.exports,VO;function Iee(){return VO||(VO=1,(function(e,t){(function(r,n){e.exports=n(er())})(Nee,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=n.enc;s.Base64url={stringify:function(u,f){f===void 0&&(f=!0);var d=u.words,m=u.sigBytes,g=f?this._safe_map:this._map;u.clamp();for(var x=[],y=0;y<m;y+=3)for(var _=d[y>>>2]>>>24-y%4*8&255,b=d[y+1>>>2]>>>24-(y+1)%4*8&255,w=d[y+2>>>2]>>>24-(y+2)%4*8&255,C=_<<16|b<<8|w,S=0;S<4&&y+S*.75<m;S++)x.push(g.charAt(C>>>6*(3-S)&63));var O=g.charAt(64);if(O)for(;x.length%4;)x.push(O);return x.join("")},parse:function(u,f){f===void 0&&(f=!0);var d=u.length,m=f?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var x=0;x<m.length;x++)g[m.charCodeAt(x)]=x}var y=m.charAt(64);if(y){var _=u.indexOf(y);_!==-1&&(d=_)}return l(u,d,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(u,f,d){for(var m=[],g=0,x=0;x<f;x++)if(x%4){var y=d[u.charCodeAt(x-1)]<<x%4*2,_=d[u.charCodeAt(x)]>>>6-x%4*2,b=y|_;m[g>>>2]|=b<<24-g%4*8,g++}return i.create(m,g)}})(),r.enc.Base64url})})(Ox)),Ox.exports}var jx={exports:{}},Ree=jx.exports,$O;function t0(){return $O||($O=1,(function(e,t){(function(r,n){e.exports=n(er())})(Ree,function(r){return(function(n){var a=r,i=a.lib,s=i.WordArray,l=i.Hasher,u=a.algo,f=[];(function(){for(var _=0;_<64;_++)f[_]=n.abs(n.sin(_+1))*4294967296|0})();var d=u.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(_,b){for(var w=0;w<16;w++){var C=b+w,S=_[C];_[C]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var O=this._hash.words,F=_[b+0],B=_[b+1],j=_[b+2],k=_[b+3],P=_[b+4],I=_[b+5],R=_[b+6],N=_[b+7],M=_[b+8],ce=_[b+9],fe=_[b+10],ae=_[b+11],ie=_[b+12],me=_[b+13],be=_[b+14],de=_[b+15],U=O[0],Z=O[1],te=O[2],W=O[3];U=m(U,Z,te,W,F,7,f[0]),W=m(W,U,Z,te,B,12,f[1]),te=m(te,W,U,Z,j,17,f[2]),Z=m(Z,te,W,U,k,22,f[3]),U=m(U,Z,te,W,P,7,f[4]),W=m(W,U,Z,te,I,12,f[5]),te=m(te,W,U,Z,R,17,f[6]),Z=m(Z,te,W,U,N,22,f[7]),U=m(U,Z,te,W,M,7,f[8]),W=m(W,U,Z,te,ce,12,f[9]),te=m(te,W,U,Z,fe,17,f[10]),Z=m(Z,te,W,U,ae,22,f[11]),U=m(U,Z,te,W,ie,7,f[12]),W=m(W,U,Z,te,me,12,f[13]),te=m(te,W,U,Z,be,17,f[14]),Z=m(Z,te,W,U,de,22,f[15]),U=g(U,Z,te,W,B,5,f[16]),W=g(W,U,Z,te,R,9,f[17]),te=g(te,W,U,Z,ae,14,f[18]),Z=g(Z,te,W,U,F,20,f[19]),U=g(U,Z,te,W,I,5,f[20]),W=g(W,U,Z,te,fe,9,f[21]),te=g(te,W,U,Z,de,14,f[22]),Z=g(Z,te,W,U,P,20,f[23]),U=g(U,Z,te,W,ce,5,f[24]),W=g(W,U,Z,te,be,9,f[25]),te=g(te,W,U,Z,k,14,f[26]),Z=g(Z,te,W,U,M,20,f[27]),U=g(U,Z,te,W,me,5,f[28]),W=g(W,U,Z,te,j,9,f[29]),te=g(te,W,U,Z,N,14,f[30]),Z=g(Z,te,W,U,ie,20,f[31]),U=x(U,Z,te,W,I,4,f[32]),W=x(W,U,Z,te,M,11,f[33]),te=x(te,W,U,Z,ae,16,f[34]),Z=x(Z,te,W,U,be,23,f[35]),U=x(U,Z,te,W,B,4,f[36]),W=x(W,U,Z,te,P,11,f[37]),te=x(te,W,U,Z,N,16,f[38]),Z=x(Z,te,W,U,fe,23,f[39]),U=x(U,Z,te,W,me,4,f[40]),W=x(W,U,Z,te,F,11,f[41]),te=x(te,W,U,Z,k,16,f[42]),Z=x(Z,te,W,U,R,23,f[43]),U=x(U,Z,te,W,ce,4,f[44]),W=x(W,U,Z,te,ie,11,f[45]),te=x(te,W,U,Z,de,16,f[46]),Z=x(Z,te,W,U,j,23,f[47]),U=y(U,Z,te,W,F,6,f[48]),W=y(W,U,Z,te,N,10,f[49]),te=y(te,W,U,Z,be,15,f[50]),Z=y(Z,te,W,U,I,21,f[51]),U=y(U,Z,te,W,ie,6,f[52]),W=y(W,U,Z,te,k,10,f[53]),te=y(te,W,U,Z,fe,15,f[54]),Z=y(Z,te,W,U,B,21,f[55]),U=y(U,Z,te,W,M,6,f[56]),W=y(W,U,Z,te,de,10,f[57]),te=y(te,W,U,Z,R,15,f[58]),Z=y(Z,te,W,U,me,21,f[59]),U=y(U,Z,te,W,P,6,f[60]),W=y(W,U,Z,te,ae,10,f[61]),te=y(te,W,U,Z,j,15,f[62]),Z=y(Z,te,W,U,ce,21,f[63]),O[0]=O[0]+U|0,O[1]=O[1]+Z|0,O[2]=O[2]+te|0,O[3]=O[3]+W|0},_doFinalize:function(){var _=this._data,b=_.words,w=this._nDataBytes*8,C=_.sigBytes*8;b[C>>>5]|=128<<24-C%32;var S=n.floor(w/4294967296),O=w;b[(C+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,b[(C+64>>>9<<4)+14]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,_.sigBytes=(b.length+1)*4,this._process();for(var F=this._hash,B=F.words,j=0;j<4;j++){var k=B[j];B[j]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return F},clone:function(){var _=l.clone.call(this);return _._hash=this._hash.clone(),_}});function m(_,b,w,C,S,O,F){var B=_+(b&w|~b&C)+S+F;return(B<<O|B>>>32-O)+b}function g(_,b,w,C,S,O,F){var B=_+(b&C|w&~C)+S+F;return(B<<O|B>>>32-O)+b}function x(_,b,w,C,S,O,F){var B=_+(b^w^C)+S+F;return(B<<O|B>>>32-O)+b}function y(_,b,w,C,S,O,F){var B=_+(w^(b|~C))+S+F;return(B<<O|B>>>32-O)+b}a.MD5=l._createHelper(d),a.HmacMD5=l._createHmacHelper(d)})(Math),r.MD5})})(jx)),jx.exports}var Nx={exports:{}},Pee=Nx.exports,HO;function rM(){return HO||(HO=1,(function(e,t){(function(r,n){e.exports=n(er())})(Pee,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=a.Hasher,l=n.algo,u=[],f=l.SHA1=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,m){for(var g=this._hash.words,x=g[0],y=g[1],_=g[2],b=g[3],w=g[4],C=0;C<80;C++){if(C<16)u[C]=d[m+C]|0;else{var S=u[C-3]^u[C-8]^u[C-14]^u[C-16];u[C]=S<<1|S>>>31}var O=(x<<5|x>>>27)+w+u[C];C<20?O+=(y&_|~y&b)+1518500249:C<40?O+=(y^_^b)+1859775393:C<60?O+=(y&_|y&b|_&b)-1894007588:O+=(y^_^b)-899497514,w=b,b=_,_=y<<30|y>>>2,y=x,x=O}g[0]=g[0]+x|0,g[1]=g[1]+y|0,g[2]=g[2]+_|0,g[3]=g[3]+b|0,g[4]=g[4]+w|0},_doFinalize:function(){var d=this._data,m=d.words,g=this._nDataBytes*8,x=d.sigBytes*8;return m[x>>>5]|=128<<24-x%32,m[(x+64>>>9<<4)+14]=Math.floor(g/4294967296),m[(x+64>>>9<<4)+15]=g,d.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA1=s._createHelper(f),n.HmacSHA1=s._createHmacHelper(f)})(),r.SHA1})})(Nx)),Nx.exports}var Ix={exports:{}},Fee=Ix.exports,qO;function lC(){return qO||(qO=1,(function(e,t){(function(r,n){e.exports=n(er())})(Fee,function(r){return(function(n){var a=r,i=a.lib,s=i.WordArray,l=i.Hasher,u=a.algo,f=[],d=[];(function(){function x(w){for(var C=n.sqrt(w),S=2;S<=C;S++)if(!(w%S))return!1;return!0}function y(w){return(w-(w|0))*4294967296|0}for(var _=2,b=0;b<64;)x(_)&&(b<8&&(f[b]=y(n.pow(_,1/2))),d[b]=y(n.pow(_,1/3)),b++),_++})();var m=[],g=u.SHA256=l.extend({_doReset:function(){this._hash=new s.init(f.slice(0))},_doProcessBlock:function(x,y){for(var _=this._hash.words,b=_[0],w=_[1],C=_[2],S=_[3],O=_[4],F=_[5],B=_[6],j=_[7],k=0;k<64;k++){if(k<16)m[k]=x[y+k]|0;else{var P=m[k-15],I=(P<<25|P>>>7)^(P<<14|P>>>18)^P>>>3,R=m[k-2],N=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;m[k]=I+m[k-7]+N+m[k-16]}var M=O&F^~O&B,ce=b&w^b&C^w&C,fe=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),ae=(O<<26|O>>>6)^(O<<21|O>>>11)^(O<<7|O>>>25),ie=j+ae+M+d[k]+m[k],me=fe+ce;j=B,B=F,F=O,O=S+ie|0,S=C,C=w,w=b,b=ie+me|0}_[0]=_[0]+b|0,_[1]=_[1]+w|0,_[2]=_[2]+C|0,_[3]=_[3]+S|0,_[4]=_[4]+O|0,_[5]=_[5]+F|0,_[6]=_[6]+B|0,_[7]=_[7]+j|0},_doFinalize:function(){var x=this._data,y=x.words,_=this._nDataBytes*8,b=x.sigBytes*8;return y[b>>>5]|=128<<24-b%32,y[(b+64>>>9<<4)+14]=n.floor(_/4294967296),y[(b+64>>>9<<4)+15]=_,x.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var x=l.clone.call(this);return x._hash=this._hash.clone(),x}});a.SHA256=l._createHelper(g),a.HmacSHA256=l._createHmacHelper(g)})(Math),r.SHA256})})(Ix)),Ix.exports}var Rx={exports:{}},Bee=Rx.exports,WO;function Mee(){return WO||(WO=1,(function(e,t){(function(r,n,a){e.exports=n(er(),lC())})(Bee,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=n.algo,l=s.SHA256,u=s.SHA224=l.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=l._doFinalize.call(this);return f.sigBytes-=4,f}});n.SHA224=l._createHelper(u),n.HmacSHA224=l._createHmacHelper(u)})(),r.SHA224})})(Rx)),Rx.exports}var Px={exports:{}},Lee=Px.exports,GO;function nM(){return GO||(GO=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ly())})(Lee,function(r){return(function(){var n=r,a=n.lib,i=a.Hasher,s=n.x64,l=s.Word,u=s.WordArray,f=n.algo;function d(){return l.create.apply(l,arguments)}var m=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],g=[];(function(){for(var y=0;y<80;y++)g[y]=d()})();var x=f.SHA512=i.extend({_doReset:function(){this._hash=new u.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(y,_){for(var b=this._hash.words,w=b[0],C=b[1],S=b[2],O=b[3],F=b[4],B=b[5],j=b[6],k=b[7],P=w.high,I=w.low,R=C.high,N=C.low,M=S.high,ce=S.low,fe=O.high,ae=O.low,ie=F.high,me=F.low,be=B.high,de=B.low,U=j.high,Z=j.low,te=k.high,W=k.low,xe=P,Te=I,Ne=R,X=N,Q=M,ue=ce,q=fe,K=ae,H=ie,ve=me,Fe=be,Se=de,Ge=U,He=Z,Je=te,rt=W,tt=0;tt<80;tt++){var le,_e,Qe=g[tt];if(tt<16)_e=Qe.high=y[_+tt*2]|0,le=Qe.low=y[_+tt*2+1]|0;else{var Le=g[tt-15],wt=Le.high,vt=Le.low,St=(wt>>>1|vt<<31)^(wt>>>8|vt<<24)^wt>>>7,Tt=(vt>>>1|wt<<31)^(vt>>>8|wt<<24)^(vt>>>7|wt<<25),Bt=g[tt-2],Xe=Bt.high,it=Bt.low,bt=(Xe>>>19|it<<13)^(Xe<<3|it>>>29)^Xe>>>6,ht=(it>>>19|Xe<<13)^(it<<3|Xe>>>29)^(it>>>6|Xe<<26),Ot=g[tt-7],mt=Ot.high,pn=Ot.low,qn=g[tt-16],aa=qn.high,An=qn.low;le=Tt+pn,_e=St+mt+(le>>>0<Tt>>>0?1:0),le=le+ht,_e=_e+bt+(le>>>0<ht>>>0?1:0),le=le+An,_e=_e+aa+(le>>>0<An>>>0?1:0),Qe.high=_e,Qe.low=le}var ia=H&Fe^~H&Ge,hr=ve&Se^~ve&He,$r=xe&Ne^xe&Q^Ne&Q,nn=Te&X^Te&ue^X&ue,Yr=(xe>>>28|Te<<4)^(xe<<30|Te>>>2)^(xe<<25|Te>>>7),sa=(Te>>>28|xe<<4)^(Te<<30|xe>>>2)^(Te<<25|xe>>>7),Vi=(H>>>14|ve<<18)^(H>>>18|ve<<14)^(H<<23|ve>>>9),mn=(ve>>>14|H<<18)^(ve>>>18|H<<14)^(ve<<23|H>>>9),Pt=m[tt],ai=Pt.high,gn=Pt.low,Sr=rt+mn,an=Je+Vi+(Sr>>>0<rt>>>0?1:0),Sr=Sr+hr,an=an+ia+(Sr>>>0<hr>>>0?1:0),Sr=Sr+gn,an=an+ai+(Sr>>>0<gn>>>0?1:0),Sr=Sr+le,an=an+_e+(Sr>>>0<le>>>0?1:0),Wn=sa+nn,Ar=Yr+$r+(Wn>>>0<sa>>>0?1:0);Je=Ge,rt=He,Ge=Fe,He=Se,Fe=H,Se=ve,ve=K+Sr|0,H=q+an+(ve>>>0<K>>>0?1:0)|0,q=Q,K=ue,Q=Ne,ue=X,Ne=xe,X=Te,Te=Sr+Wn|0,xe=an+Ar+(Te>>>0<Sr>>>0?1:0)|0}I=w.low=I+Te,w.high=P+xe+(I>>>0<Te>>>0?1:0),N=C.low=N+X,C.high=R+Ne+(N>>>0<X>>>0?1:0),ce=S.low=ce+ue,S.high=M+Q+(ce>>>0<ue>>>0?1:0),ae=O.low=ae+K,O.high=fe+q+(ae>>>0<K>>>0?1:0),me=F.low=me+ve,F.high=ie+H+(me>>>0<ve>>>0?1:0),de=B.low=de+Se,B.high=be+Fe+(de>>>0<Se>>>0?1:0),Z=j.low=Z+He,j.high=U+Ge+(Z>>>0<He>>>0?1:0),W=k.low=W+rt,k.high=te+Je+(W>>>0<rt>>>0?1:0)},_doFinalize:function(){var y=this._data,_=y.words,b=this._nDataBytes*8,w=y.sigBytes*8;_[w>>>5]|=128<<24-w%32,_[(w+128>>>10<<5)+30]=Math.floor(b/4294967296),_[(w+128>>>10<<5)+31]=b,y.sigBytes=_.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var y=i.clone.call(this);return y._hash=this._hash.clone(),y},blockSize:1024/32});n.SHA512=i._createHelper(x),n.HmacSHA512=i._createHmacHelper(x)})(),r.SHA512})})(Px)),Px.exports}var Fx={exports:{}},zee=Fx.exports,KO;function Uee(){return KO||(KO=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ly(),nM())})(zee,function(r){return(function(){var n=r,a=n.x64,i=a.Word,s=a.WordArray,l=n.algo,u=l.SHA512,f=l.SHA384=u.extend({_doReset:function(){this._hash=new s.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var d=u._doFinalize.call(this);return d.sigBytes-=16,d}});n.SHA384=u._createHelper(f),n.HmacSHA384=u._createHmacHelper(f)})(),r.SHA384})})(Fx)),Fx.exports}var Bx={exports:{}},Vee=Bx.exports,XO;function $ee(){return XO||(XO=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ly())})(Vee,function(r){return(function(n){var a=r,i=a.lib,s=i.WordArray,l=i.Hasher,u=a.x64,f=u.Word,d=a.algo,m=[],g=[],x=[];(function(){for(var b=1,w=0,C=0;C<24;C++){m[b+5*w]=(C+1)*(C+2)/2%64;var S=w%5,O=(2*b+3*w)%5;b=S,w=O}for(var b=0;b<5;b++)for(var w=0;w<5;w++)g[b+5*w]=w+(2*b+3*w)%5*5;for(var F=1,B=0;B<24;B++){for(var j=0,k=0,P=0;P<7;P++){if(F&1){var I=(1<<P)-1;I<32?k^=1<<I:j^=1<<I-32}F&128?F=F<<1^113:F<<=1}x[B]=f.create(j,k)}})();var y=[];(function(){for(var b=0;b<25;b++)y[b]=f.create()})();var _=d.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var b=this._state=[],w=0;w<25;w++)b[w]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(b,w){for(var C=this._state,S=this.blockSize/2,O=0;O<S;O++){var F=b[w+2*O],B=b[w+2*O+1];F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360;var j=C[O];j.high^=B,j.low^=F}for(var k=0;k<24;k++){for(var P=0;P<5;P++){for(var I=0,R=0,N=0;N<5;N++){var j=C[P+5*N];I^=j.high,R^=j.low}var M=y[P];M.high=I,M.low=R}for(var P=0;P<5;P++)for(var ce=y[(P+4)%5],fe=y[(P+1)%5],ae=fe.high,ie=fe.low,I=ce.high^(ae<<1|ie>>>31),R=ce.low^(ie<<1|ae>>>31),N=0;N<5;N++){var j=C[P+5*N];j.high^=I,j.low^=R}for(var me=1;me<25;me++){var I,R,j=C[me],be=j.high,de=j.low,U=m[me];U<32?(I=be<<U|de>>>32-U,R=de<<U|be>>>32-U):(I=de<<U-32|be>>>64-U,R=be<<U-32|de>>>64-U);var Z=y[g[me]];Z.high=I,Z.low=R}var te=y[0],W=C[0];te.high=W.high,te.low=W.low;for(var P=0;P<5;P++)for(var N=0;N<5;N++){var me=P+5*N,j=C[me],xe=y[me],Te=y[(P+1)%5+5*N],Ne=y[(P+2)%5+5*N];j.high=xe.high^~Te.high&Ne.high,j.low=xe.low^~Te.low&Ne.low}var j=C[0],X=x[k];j.high^=X.high,j.low^=X.low}},_doFinalize:function(){var b=this._data,w=b.words;this._nDataBytes*8;var C=b.sigBytes*8,S=this.blockSize*32;w[C>>>5]|=1<<24-C%32,w[(n.ceil((C+1)/S)*S>>>5)-1]|=128,b.sigBytes=w.length*4,this._process();for(var O=this._state,F=this.cfg.outputLength/8,B=F/8,j=[],k=0;k<B;k++){var P=O[k],I=P.high,R=P.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,j.push(R),j.push(I)}return new s.init(j,F)},clone:function(){for(var b=l.clone.call(this),w=b._state=this._state.slice(0),C=0;C<25;C++)w[C]=w[C].clone();return b}});a.SHA3=l._createHelper(_),a.HmacSHA3=l._createHmacHelper(_)})(Math),r.SHA3})})(Bx)),Bx.exports}var Mx={exports:{}},Hee=Mx.exports,YO;function qee(){return YO||(YO=1,(function(e,t){(function(r,n){e.exports=n(er())})(Hee,function(r){return(function(n){var a=r,i=a.lib,s=i.WordArray,l=i.Hasher,u=a.algo,f=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=s.create([0,1518500249,1859775393,2400959708,2840853838]),y=s.create([1352829926,1548603684,1836072691,2053994217,0]),_=u.RIPEMD160=l.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(B,j){for(var k=0;k<16;k++){var P=j+k,I=B[P];B[P]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var R=this._hash.words,N=x.words,M=y.words,ce=f.words,fe=d.words,ae=m.words,ie=g.words,me,be,de,U,Z,te,W,xe,Te,Ne;te=me=R[0],W=be=R[1],xe=de=R[2],Te=U=R[3],Ne=Z=R[4];for(var X,k=0;k<80;k+=1)X=me+B[j+ce[k]]|0,k<16?X+=b(be,de,U)+N[0]:k<32?X+=w(be,de,U)+N[1]:k<48?X+=C(be,de,U)+N[2]:k<64?X+=S(be,de,U)+N[3]:X+=O(be,de,U)+N[4],X=X|0,X=F(X,ae[k]),X=X+Z|0,me=Z,Z=U,U=F(de,10),de=be,be=X,X=te+B[j+fe[k]]|0,k<16?X+=O(W,xe,Te)+M[0]:k<32?X+=S(W,xe,Te)+M[1]:k<48?X+=C(W,xe,Te)+M[2]:k<64?X+=w(W,xe,Te)+M[3]:X+=b(W,xe,Te)+M[4],X=X|0,X=F(X,ie[k]),X=X+Ne|0,te=Ne,Ne=Te,Te=F(xe,10),xe=W,W=X;X=R[1]+de+Te|0,R[1]=R[2]+U+Ne|0,R[2]=R[3]+Z+te|0,R[3]=R[4]+me+W|0,R[4]=R[0]+be+xe|0,R[0]=X},_doFinalize:function(){var B=this._data,j=B.words,k=this._nDataBytes*8,P=B.sigBytes*8;j[P>>>5]|=128<<24-P%32,j[(P+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,B.sigBytes=(j.length+1)*4,this._process();for(var I=this._hash,R=I.words,N=0;N<5;N++){var M=R[N];R[N]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return I},clone:function(){var B=l.clone.call(this);return B._hash=this._hash.clone(),B}});function b(B,j,k){return B^j^k}function w(B,j,k){return B&j|~B&k}function C(B,j,k){return(B|~j)^k}function S(B,j,k){return B&k|j&~k}function O(B,j,k){return B^(j|~k)}function F(B,j){return B<<j|B>>>32-j}a.RIPEMD160=l._createHelper(_),a.HmacRIPEMD160=l._createHmacHelper(_)})(),r.RIPEMD160})})(Mx)),Mx.exports}var Lx={exports:{}},Wee=Lx.exports,QO;function cC(){return QO||(QO=1,(function(e,t){(function(r,n){e.exports=n(er())})(Wee,function(r){(function(){var n=r,a=n.lib,i=a.Base,s=n.enc,l=s.Utf8,u=n.algo;u.HMAC=i.extend({init:function(f,d){f=this._hasher=new f.init,typeof d=="string"&&(d=l.parse(d));var m=f.blockSize,g=m*4;d.sigBytes>g&&(d=f.finalize(d)),d.clamp();for(var x=this._oKey=d.clone(),y=this._iKey=d.clone(),_=x.words,b=y.words,w=0;w<m;w++)_[w]^=1549556828,b[w]^=909522486;x.sigBytes=y.sigBytes=g,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var d=this._hasher,m=d.finalize(f);d.reset();var g=d.finalize(this._oKey.clone().concat(m));return g}})})()})})(Lx)),Lx.exports}var zx={exports:{}},Gee=zx.exports,ZO;function Kee(){return ZO||(ZO=1,(function(e,t){(function(r,n,a){e.exports=n(er(),lC(),cC())})(Gee,function(r){return(function(){var n=r,a=n.lib,i=a.Base,s=a.WordArray,l=n.algo,u=l.SHA256,f=l.HMAC,d=l.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,g){for(var x=this.cfg,y=f.create(x.hasher,m),_=s.create(),b=s.create([1]),w=_.words,C=b.words,S=x.keySize,O=x.iterations;w.length<S;){var F=y.update(g).finalize(b);y.reset();for(var B=F.words,j=B.length,k=F,P=1;P<O;P++){k=y.finalize(k),y.reset();for(var I=k.words,R=0;R<j;R++)B[R]^=I[R]}_.concat(F),C[0]++}return _.sigBytes=S*4,_}});n.PBKDF2=function(m,g,x){return d.create(x).compute(m,g)}})(),r.PBKDF2})})(zx)),zx.exports}var Ux={exports:{}},Xee=Ux.exports,JO;function jc(){return JO||(JO=1,(function(e,t){(function(r,n,a){e.exports=n(er(),rM(),cC())})(Xee,function(r){return(function(){var n=r,a=n.lib,i=a.Base,s=a.WordArray,l=n.algo,u=l.MD5,f=l.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:u,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,m){for(var g,x=this.cfg,y=x.hasher.create(),_=s.create(),b=_.words,w=x.keySize,C=x.iterations;b.length<w;){g&&y.update(g),g=y.update(d).finalize(m),y.reset();for(var S=1;S<C;S++)g=y.finalize(g),y.reset();_.concat(g)}return _.sigBytes=w*4,_}});n.EvpKDF=function(d,m,g){return f.create(g).compute(d,m)}})(),r.EvpKDF})})(Ux)),Ux.exports}var Vx={exports:{}},Yee=Vx.exports,e6;function ga(){return e6||(e6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),jc())})(Yee,function(r){r.lib.Cipher||(function(n){var a=r,i=a.lib,s=i.Base,l=i.WordArray,u=i.BufferedBlockAlgorithm,f=a.enc;f.Utf8;var d=f.Base64,m=a.algo,g=m.EvpKDF,x=i.Cipher=u.extend({cfg:s.extend(),createEncryptor:function(I,R){return this.create(this._ENC_XFORM_MODE,I,R)},createDecryptor:function(I,R){return this.create(this._DEC_XFORM_MODE,I,R)},init:function(I,R,N){this.cfg=this.cfg.extend(N),this._xformMode=I,this._key=R,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function I(R){return typeof R=="string"?P:B}return function(R){return{encrypt:function(N,M,ce){return I(M).encrypt(R,N,M,ce)},decrypt:function(N,M,ce){return I(M).decrypt(R,N,M,ce)}}}})()});i.StreamCipher=x.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var y=a.mode={},_=i.BlockCipherMode=s.extend({createEncryptor:function(I,R){return this.Encryptor.create(I,R)},createDecryptor:function(I,R){return this.Decryptor.create(I,R)},init:function(I,R){this._cipher=I,this._iv=R}}),b=y.CBC=(function(){var I=_.extend();I.Encryptor=I.extend({processBlock:function(N,M){var ce=this._cipher,fe=ce.blockSize;R.call(this,N,M,fe),ce.encryptBlock(N,M),this._prevBlock=N.slice(M,M+fe)}}),I.Decryptor=I.extend({processBlock:function(N,M){var ce=this._cipher,fe=ce.blockSize,ae=N.slice(M,M+fe);ce.decryptBlock(N,M),R.call(this,N,M,fe),this._prevBlock=ae}});function R(N,M,ce){var fe,ae=this._iv;ae?(fe=ae,this._iv=n):fe=this._prevBlock;for(var ie=0;ie<ce;ie++)N[M+ie]^=fe[ie]}return I})(),w=a.pad={},C=w.Pkcs7={pad:function(I,R){for(var N=R*4,M=N-I.sigBytes%N,ce=M<<24|M<<16|M<<8|M,fe=[],ae=0;ae<M;ae+=4)fe.push(ce);var ie=l.create(fe,M);I.concat(ie)},unpad:function(I){var R=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=R}};i.BlockCipher=x.extend({cfg:x.cfg.extend({mode:b,padding:C}),reset:function(){var I;x.reset.call(this);var R=this.cfg,N=R.iv,M=R.mode;this._xformMode==this._ENC_XFORM_MODE?I=M.createEncryptor:(I=M.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,N&&N.words):(this._mode=I.call(M,this,N&&N.words),this._mode.__creator=I)},_doProcessBlock:function(I,R){this._mode.processBlock(I,R)},_doFinalize:function(){var I,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),R.unpad(I)),I},blockSize:128/32});var S=i.CipherParams=s.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),O=a.format={},F=O.OpenSSL={stringify:function(I){var R,N=I.ciphertext,M=I.salt;return M?R=l.create([1398893684,1701076831]).concat(M).concat(N):R=N,R.toString(d)},parse:function(I){var R,N=d.parse(I),M=N.words;return M[0]==1398893684&&M[1]==1701076831&&(R=l.create(M.slice(2,4)),M.splice(0,4),N.sigBytes-=16),S.create({ciphertext:N,salt:R})}},B=i.SerializableCipher=s.extend({cfg:s.extend({format:F}),encrypt:function(I,R,N,M){M=this.cfg.extend(M);var ce=I.createEncryptor(N,M),fe=ce.finalize(R),ae=ce.cfg;return S.create({ciphertext:fe,key:N,iv:ae.iv,algorithm:I,mode:ae.mode,padding:ae.padding,blockSize:I.blockSize,formatter:M.format})},decrypt:function(I,R,N,M){M=this.cfg.extend(M),R=this._parse(R,M.format);var ce=I.createDecryptor(N,M).finalize(R.ciphertext);return ce},_parse:function(I,R){return typeof I=="string"?R.parse(I,this):I}}),j=a.kdf={},k=j.OpenSSL={execute:function(I,R,N,M,ce){if(M||(M=l.random(64/8)),ce)var fe=g.create({keySize:R+N,hasher:ce}).compute(I,M);else var fe=g.create({keySize:R+N}).compute(I,M);var ae=l.create(fe.words.slice(R),N*4);return fe.sigBytes=R*4,S.create({key:fe,iv:ae,salt:M})}},P=i.PasswordBasedCipher=B.extend({cfg:B.cfg.extend({kdf:k}),encrypt:function(I,R,N,M){M=this.cfg.extend(M);var ce=M.kdf.execute(N,I.keySize,I.ivSize,M.salt,M.hasher);M.iv=ce.iv;var fe=B.encrypt.call(this,I,R,ce.key,M);return fe.mixIn(ce),fe},decrypt:function(I,R,N,M){M=this.cfg.extend(M),R=this._parse(R,M.format);var ce=M.kdf.execute(N,I.keySize,I.ivSize,R.salt,M.hasher);M.iv=ce.iv;var fe=B.decrypt.call(this,I,R,ce.key,M);return fe}})})()})})(Vx)),Vx.exports}var $x={exports:{}},Qee=$x.exports,t6;function Zee(){return t6||(t6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(Qee,function(r){return r.mode.CFB=(function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,s){var l=this._cipher,u=l.blockSize;a.call(this,i,s,u,l),this._prevBlock=i.slice(s,s+u)}}),n.Decryptor=n.extend({processBlock:function(i,s){var l=this._cipher,u=l.blockSize,f=i.slice(s,s+u);a.call(this,i,s,u,l),this._prevBlock=f}});function a(i,s,l,u){var f,d=this._iv;d?(f=d.slice(0),this._iv=void 0):f=this._prevBlock,u.encryptBlock(f,0);for(var m=0;m<l;m++)i[s+m]^=f[m]}return n})(),r.mode.CFB})})($x)),$x.exports}var Hx={exports:{}},Jee=Hx.exports,r6;function ete(){return r6||(r6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(Jee,function(r){return r.mode.CTR=(function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,s){var l=this._cipher,u=l.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0);var m=d.slice(0);l.encryptBlock(m,0),d[u-1]=d[u-1]+1|0;for(var g=0;g<u;g++)i[s+g]^=m[g]}});return n.Decryptor=a,n})(),r.mode.CTR})})(Hx)),Hx.exports}var qx={exports:{}},tte=qx.exports,n6;function rte(){return n6||(n6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(tte,function(r){return r.mode.CTRGladman=(function(){var n=r.lib.BlockCipherMode.extend();function a(l){if((l>>24&255)===255){var u=l>>16&255,f=l>>8&255,d=l&255;u===255?(u=0,f===255?(f=0,d===255?d=0:++d):++f):++u,l=0,l+=u<<16,l+=f<<8,l+=d}else l+=1<<24;return l}function i(l){return(l[0]=a(l[0]))===0&&(l[1]=a(l[1])),l}var s=n.Encryptor=n.extend({processBlock:function(l,u){var f=this._cipher,d=f.blockSize,m=this._iv,g=this._counter;m&&(g=this._counter=m.slice(0),this._iv=void 0),i(g);var x=g.slice(0);f.encryptBlock(x,0);for(var y=0;y<d;y++)l[u+y]^=x[y]}});return n.Decryptor=s,n})(),r.mode.CTRGladman})})(qx)),qx.exports}var Wx={exports:{}},nte=Wx.exports,a6;function ate(){return a6||(a6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(nte,function(r){return r.mode.OFB=(function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,s){var l=this._cipher,u=l.blockSize,f=this._iv,d=this._keystream;f&&(d=this._keystream=f.slice(0),this._iv=void 0),l.encryptBlock(d,0);for(var m=0;m<u;m++)i[s+m]^=d[m]}});return n.Decryptor=a,n})(),r.mode.OFB})})(Wx)),Wx.exports}var Gx={exports:{}},ite=Gx.exports,i6;function ste(){return i6||(i6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(ite,function(r){return r.mode.ECB=(function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,i){this._cipher.encryptBlock(a,i)}}),n.Decryptor=n.extend({processBlock:function(a,i){this._cipher.decryptBlock(a,i)}}),n})(),r.mode.ECB})})(Gx)),Gx.exports}var Kx={exports:{}},ote=Kx.exports,s6;function lte(){return s6||(s6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(ote,function(r){return r.pad.AnsiX923={pad:function(n,a){var i=n.sigBytes,s=a*4,l=s-i%s,u=i+l-1;n.clamp(),n.words[u>>>2]|=l<<24-u%4*8,n.sigBytes+=l},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Ansix923})})(Kx)),Kx.exports}var Xx={exports:{}},cte=Xx.exports,o6;function ute(){return o6||(o6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(cte,function(r){return r.pad.Iso10126={pad:function(n,a){var i=a*4,s=i-n.sigBytes%i;n.concat(r.lib.WordArray.random(s-1)).concat(r.lib.WordArray.create([s<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Iso10126})})(Xx)),Xx.exports}var Yx={exports:{}},fte=Yx.exports,l6;function dte(){return l6||(l6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(fte,function(r){return r.pad.Iso97971={pad:function(n,a){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,a)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})})(Yx)),Yx.exports}var Qx={exports:{}},hte=Qx.exports,c6;function pte(){return c6||(c6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(hte,function(r){return r.pad.ZeroPadding={pad:function(n,a){var i=a*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var a=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(a[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},r.pad.ZeroPadding})})(Qx)),Qx.exports}var Zx={exports:{}},mte=Zx.exports,u6;function gte(){return u6||(u6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(mte,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})})(Zx)),Zx.exports}var Jx={exports:{}},xte=Jx.exports,f6;function vte(){return f6||(f6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ga())})(xte,function(r){return(function(n){var a=r,i=a.lib,s=i.CipherParams,l=a.enc,u=l.Hex,f=a.format;f.Hex={stringify:function(d){return d.ciphertext.toString(u)},parse:function(d){var m=u.parse(d);return s.create({ciphertext:m})}}})(),r.format.Hex})})(Jx)),Jx.exports}var ev={exports:{}},yte=ev.exports,d6;function bte(){return d6||(d6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),e0(),t0(),jc(),ga())})(yte,function(r){return(function(){var n=r,a=n.lib,i=a.BlockCipher,s=n.algo,l=[],u=[],f=[],d=[],m=[],g=[],x=[],y=[],_=[],b=[];(function(){for(var S=[],O=0;O<256;O++)O<128?S[O]=O<<1:S[O]=O<<1^283;for(var F=0,B=0,O=0;O<256;O++){var j=B^B<<1^B<<2^B<<3^B<<4;j=j>>>8^j&255^99,l[F]=j,u[j]=F;var k=S[F],P=S[k],I=S[P],R=S[j]*257^j*16843008;f[F]=R<<24|R>>>8,d[F]=R<<16|R>>>16,m[F]=R<<8|R>>>24,g[F]=R;var R=I*16843009^P*65537^k*257^F*16843008;x[j]=R<<24|R>>>8,y[j]=R<<16|R>>>16,_[j]=R<<8|R>>>24,b[j]=R,F?(F=k^S[S[S[I^k]]],B^=S[S[B]]):F=B=1}})();var w=[0,1,2,4,8,16,32,64,128,27,54],C=s.AES=i.extend({_doReset:function(){var S;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var O=this._keyPriorReset=this._key,F=O.words,B=O.sigBytes/4,j=this._nRounds=B+6,k=(j+1)*4,P=this._keySchedule=[],I=0;I<k;I++)I<B?P[I]=F[I]:(S=P[I-1],I%B?B>6&&I%B==4&&(S=l[S>>>24]<<24|l[S>>>16&255]<<16|l[S>>>8&255]<<8|l[S&255]):(S=S<<8|S>>>24,S=l[S>>>24]<<24|l[S>>>16&255]<<16|l[S>>>8&255]<<8|l[S&255],S^=w[I/B|0]<<24),P[I]=P[I-B]^S);for(var R=this._invKeySchedule=[],N=0;N<k;N++){var I=k-N;if(N%4)var S=P[I];else var S=P[I-4];N<4||I<=4?R[N]=S:R[N]=x[l[S>>>24]]^y[l[S>>>16&255]]^_[l[S>>>8&255]]^b[l[S&255]]}}},encryptBlock:function(S,O){this._doCryptBlock(S,O,this._keySchedule,f,d,m,g,l)},decryptBlock:function(S,O){var F=S[O+1];S[O+1]=S[O+3],S[O+3]=F,this._doCryptBlock(S,O,this._invKeySchedule,x,y,_,b,u);var F=S[O+1];S[O+1]=S[O+3],S[O+3]=F},_doCryptBlock:function(S,O,F,B,j,k,P,I){for(var R=this._nRounds,N=S[O]^F[0],M=S[O+1]^F[1],ce=S[O+2]^F[2],fe=S[O+3]^F[3],ae=4,ie=1;ie<R;ie++){var me=B[N>>>24]^j[M>>>16&255]^k[ce>>>8&255]^P[fe&255]^F[ae++],be=B[M>>>24]^j[ce>>>16&255]^k[fe>>>8&255]^P[N&255]^F[ae++],de=B[ce>>>24]^j[fe>>>16&255]^k[N>>>8&255]^P[M&255]^F[ae++],U=B[fe>>>24]^j[N>>>16&255]^k[M>>>8&255]^P[ce&255]^F[ae++];N=me,M=be,ce=de,fe=U}var me=(I[N>>>24]<<24|I[M>>>16&255]<<16|I[ce>>>8&255]<<8|I[fe&255])^F[ae++],be=(I[M>>>24]<<24|I[ce>>>16&255]<<16|I[fe>>>8&255]<<8|I[N&255])^F[ae++],de=(I[ce>>>24]<<24|I[fe>>>16&255]<<16|I[N>>>8&255]<<8|I[M&255])^F[ae++],U=(I[fe>>>24]<<24|I[N>>>16&255]<<16|I[M>>>8&255]<<8|I[ce&255])^F[ae++];S[O]=me,S[O+1]=be,S[O+2]=de,S[O+3]=U},keySize:256/32});n.AES=i._createHelper(C)})(),r.AES})})(ev)),ev.exports}var tv={exports:{}},_te=tv.exports,h6;function wte(){return h6||(h6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),e0(),t0(),jc(),ga())})(_te,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=a.BlockCipher,l=n.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=l.DES=s.extend({_doReset:function(){for(var w=this._key,C=w.words,S=[],O=0;O<56;O++){var F=u[O]-1;S[O]=C[F>>>5]>>>31-F%32&1}for(var B=this._subKeys=[],j=0;j<16;j++){for(var k=B[j]=[],P=d[j],O=0;O<24;O++)k[O/6|0]|=S[(f[O]-1+P)%28]<<31-O%6,k[4+(O/6|0)]|=S[28+(f[O+24]-1+P)%28]<<31-O%6;k[0]=k[0]<<1|k[0]>>>31;for(var O=1;O<7;O++)k[O]=k[O]>>>(O-1)*4+3;k[7]=k[7]<<5|k[7]>>>27}for(var I=this._invSubKeys=[],O=0;O<16;O++)I[O]=B[15-O]},encryptBlock:function(w,C){this._doCryptBlock(w,C,this._subKeys)},decryptBlock:function(w,C){this._doCryptBlock(w,C,this._invSubKeys)},_doCryptBlock:function(w,C,S){this._lBlock=w[C],this._rBlock=w[C+1],y.call(this,4,252645135),y.call(this,16,65535),_.call(this,2,858993459),_.call(this,8,16711935),y.call(this,1,1431655765);for(var O=0;O<16;O++){for(var F=S[O],B=this._lBlock,j=this._rBlock,k=0,P=0;P<8;P++)k|=m[P][((j^F[P])&g[P])>>>0];this._lBlock=j,this._rBlock=B^k}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,y.call(this,1,1431655765),_.call(this,8,16711935),_.call(this,2,858993459),y.call(this,16,65535),y.call(this,4,252645135),w[C]=this._lBlock,w[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function y(w,C){var S=(this._lBlock>>>w^this._rBlock)&C;this._rBlock^=S,this._lBlock^=S<<w}function _(w,C){var S=(this._rBlock>>>w^this._lBlock)&C;this._lBlock^=S,this._rBlock^=S<<w}n.DES=s._createHelper(x);var b=l.TripleDES=s.extend({_doReset:function(){var w=this._key,C=w.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var S=C.slice(0,2),O=C.length<4?C.slice(0,2):C.slice(2,4),F=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=x.createEncryptor(i.create(S)),this._des2=x.createEncryptor(i.create(O)),this._des3=x.createEncryptor(i.create(F))},encryptBlock:function(w,C){this._des1.encryptBlock(w,C),this._des2.decryptBlock(w,C),this._des3.encryptBlock(w,C)},decryptBlock:function(w,C){this._des3.decryptBlock(w,C),this._des2.encryptBlock(w,C),this._des1.decryptBlock(w,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=s._createHelper(b)})(),r.TripleDES})})(tv)),tv.exports}var rv={exports:{}},Ete=rv.exports,p6;function Ste(){return p6||(p6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),e0(),t0(),jc(),ga())})(Ete,function(r){return(function(){var n=r,a=n.lib,i=a.StreamCipher,s=n.algo,l=s.RC4=i.extend({_doReset:function(){for(var d=this._key,m=d.words,g=d.sigBytes,x=this._S=[],y=0;y<256;y++)x[y]=y;for(var y=0,_=0;y<256;y++){var b=y%g,w=m[b>>>2]>>>24-b%4*8&255;_=(_+x[y]+w)%256;var C=x[y];x[y]=x[_],x[_]=C}this._i=this._j=0},_doProcessBlock:function(d,m){d[m]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var d=this._S,m=this._i,g=this._j,x=0,y=0;y<4;y++){m=(m+1)%256,g=(g+d[m])%256;var _=d[m];d[m]=d[g],d[g]=_,x|=d[(d[m]+d[g])%256]<<24-y*8}return this._i=m,this._j=g,x}n.RC4=i._createHelper(l);var f=s.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)u.call(this)}});n.RC4Drop=i._createHelper(f)})(),r.RC4})})(rv)),rv.exports}var nv={exports:{}},Ate=nv.exports,m6;function Cte(){return m6||(m6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),e0(),t0(),jc(),ga())})(Ate,function(r){return(function(){var n=r,a=n.lib,i=a.StreamCipher,s=n.algo,l=[],u=[],f=[],d=s.Rabbit=i.extend({_doReset:function(){for(var g=this._key.words,x=this.cfg.iv,y=0;y<4;y++)g[y]=(g[y]<<8|g[y]>>>24)&16711935|(g[y]<<24|g[y]>>>8)&4278255360;var _=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],b=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var y=0;y<4;y++)m.call(this);for(var y=0;y<8;y++)b[y]^=_[y+4&7];if(x){var w=x.words,C=w[0],S=w[1],O=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,F=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,B=O>>>16|F&4294901760,j=F<<16|O&65535;b[0]^=O,b[1]^=B,b[2]^=F,b[3]^=j,b[4]^=O,b[5]^=B,b[6]^=F,b[7]^=j;for(var y=0;y<4;y++)m.call(this)}},_doProcessBlock:function(g,x){var y=this._X;m.call(this),l[0]=y[0]^y[5]>>>16^y[3]<<16,l[1]=y[2]^y[7]>>>16^y[5]<<16,l[2]=y[4]^y[1]>>>16^y[7]<<16,l[3]=y[6]^y[3]>>>16^y[1]<<16;for(var _=0;_<4;_++)l[_]=(l[_]<<8|l[_]>>>24)&16711935|(l[_]<<24|l[_]>>>8)&4278255360,g[x+_]^=l[_]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,y=0;y<8;y++)u[y]=x[y];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<u[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<u[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<u[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<u[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<u[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<u[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<u[6]>>>0?1:0)|0,this._b=x[7]>>>0<u[7]>>>0?1:0;for(var y=0;y<8;y++){var _=g[y]+x[y],b=_&65535,w=_>>>16,C=((b*b>>>17)+b*w>>>15)+w*w,S=((_&4294901760)*_|0)+((_&65535)*_|0);f[y]=C^S}g[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,g[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,g[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,g[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,g[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,g[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,g[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,g[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}n.Rabbit=i._createHelper(d)})(),r.Rabbit})})(nv)),nv.exports}var av={exports:{}},Tte=av.exports,g6;function kte(){return g6||(g6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),e0(),t0(),jc(),ga())})(Tte,function(r){return(function(){var n=r,a=n.lib,i=a.StreamCipher,s=n.algo,l=[],u=[],f=[],d=s.RabbitLegacy=i.extend({_doReset:function(){var g=this._key.words,x=this.cfg.iv,y=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],_=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var b=0;b<4;b++)m.call(this);for(var b=0;b<8;b++)_[b]^=y[b+4&7];if(x){var w=x.words,C=w[0],S=w[1],O=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,F=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,B=O>>>16|F&4294901760,j=F<<16|O&65535;_[0]^=O,_[1]^=B,_[2]^=F,_[3]^=j,_[4]^=O,_[5]^=B,_[6]^=F,_[7]^=j;for(var b=0;b<4;b++)m.call(this)}},_doProcessBlock:function(g,x){var y=this._X;m.call(this),l[0]=y[0]^y[5]>>>16^y[3]<<16,l[1]=y[2]^y[7]>>>16^y[5]<<16,l[2]=y[4]^y[1]>>>16^y[7]<<16,l[3]=y[6]^y[3]>>>16^y[1]<<16;for(var _=0;_<4;_++)l[_]=(l[_]<<8|l[_]>>>24)&16711935|(l[_]<<24|l[_]>>>8)&4278255360,g[x+_]^=l[_]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,y=0;y<8;y++)u[y]=x[y];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<u[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<u[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<u[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<u[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<u[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<u[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<u[6]>>>0?1:0)|0,this._b=x[7]>>>0<u[7]>>>0?1:0;for(var y=0;y<8;y++){var _=g[y]+x[y],b=_&65535,w=_>>>16,C=((b*b>>>17)+b*w>>>15)+w*w,S=((_&4294901760)*_|0)+((_&65535)*_|0);f[y]=C^S}g[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,g[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,g[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,g[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,g[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,g[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,g[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,g[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}n.RabbitLegacy=i._createHelper(d)})(),r.RabbitLegacy})})(av)),av.exports}var iv={exports:{}},Dte=iv.exports,x6;function Ote(){return x6||(x6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),e0(),t0(),jc(),ga())})(Dte,function(r){return(function(){var n=r,a=n.lib,i=a.BlockCipher,s=n.algo;const l=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function m(b,w){let C=w>>24&255,S=w>>16&255,O=w>>8&255,F=w&255,B=b.sbox[0][C]+b.sbox[1][S];return B=B^b.sbox[2][O],B=B+b.sbox[3][F],B}function g(b,w,C){let S=w,O=C,F;for(let B=0;B<l;++B)S=S^b.pbox[B],O=m(b,S)^O,F=S,S=O,O=F;return F=S,S=O,O=F,O=O^b.pbox[l],S=S^b.pbox[l+1],{left:S,right:O}}function x(b,w,C){let S=w,O=C,F;for(let B=l+1;B>1;--B)S=S^b.pbox[B],O=m(b,S)^O,F=S,S=O,O=F;return F=S,S=O,O=F,O=O^b.pbox[1],S=S^b.pbox[0],{left:S,right:O}}function y(b,w,C){for(let j=0;j<4;j++){b.sbox[j]=[];for(let k=0;k<256;k++)b.sbox[j][k]=f[j][k]}let S=0;for(let j=0;j<l+2;j++)b.pbox[j]=u[j]^w[S],S++,S>=C&&(S=0);let O=0,F=0,B=0;for(let j=0;j<l+2;j+=2)B=g(b,O,F),O=B.left,F=B.right,b.pbox[j]=O,b.pbox[j+1]=F;for(let j=0;j<4;j++)for(let k=0;k<256;k+=2)B=g(b,O,F),O=B.left,F=B.right,b.sbox[j][k]=O,b.sbox[j][k+1]=F;return!0}var _=s.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var b=this._keyPriorReset=this._key,w=b.words,C=b.sigBytes/4;y(d,w,C)}},encryptBlock:function(b,w){var C=g(d,b[w],b[w+1]);b[w]=C.left,b[w+1]=C.right},decryptBlock:function(b,w){var C=x(d,b[w],b[w+1]);b[w]=C.left,b[w+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=i._createHelper(_)})(),r.Blowfish})})(iv)),iv.exports}var jte=Sx.exports,v6;function Nte(){return v6||(v6=1,(function(e,t){(function(r,n,a){e.exports=n(er(),ly(),kee(),Oee(),e0(),Iee(),t0(),rM(),lC(),Mee(),nM(),Uee(),$ee(),qee(),cC(),Kee(),jc(),ga(),Zee(),ete(),rte(),ate(),ste(),lte(),ute(),dte(),pte(),gte(),vte(),bte(),wte(),Ste(),Cte(),kte(),Ote())})(jte,function(r){return r})})(Sx)),Sx.exports}var Ite=Nte();const rS=yo(Ite),Rte={apiKey:"AIzaSyDEV4p3NYy8c2fDlvCyICqHF5rOJgGax_s",authDomain:"sistema-pos-la-autentica-96610.firebaseapp.com",projectId:"sistema-pos-la-autentica-96610",storageBucket:"sistema-pos-la-autentica-96610.firebasestorage.app",messagingSenderId:"475856195440",appId:"1:475856195440:web:af653663b1487c662cc9b5"};let y6,hi;try{y6=bF(Rte),hi=aee(y6),console.log(" Firebase initialized globally")}catch(e){console.error(" Error initializing Firebase:",e)}let Qh=null;const nS=e=>{Qh=e,console.log(" Encryption Key Set for Cloud Sync")},b6=e=>{if(!Qh)return null;try{const t=JSON.stringify(e);return rS.AES.encrypt(t,Qh).toString()}catch(t){return console.error("Encryption failed:",t),null}},_6=e=>{if(!Qh||!e)return null;try{const r=rS.AES.decrypt(e,Qh).toString(rS.enc.Utf8);return r?JSON.parse(r):null}catch(t){return console.error("Decryption failed:",t),null}},rh={async syncFullState(e,t="primary_pos"){if(!hi)return!1;try{const r=b6(e);return r?(await A_(th(hi,"backups",t),{payload:r,lastModified:e.lastModified||new Date().toISOString(),_syncedAt:new Date().toISOString(),_isFullBackup:!0}),console.log(` Full state synced to Cloud (${t})`),!0):!1}catch(r){return console.error(" Cloud Full Sync failed:",r),!1}},async fetchFullState(e="primary_pos"){if(!hi)return null;try{const t=th(hi,"backups",e),r=await yee(t);if(r.exists()){const n=r.data();return _6(n.payload)}return null}catch(t){return console.error(" Cloud Fetch failed:",t),null}},async uploadSale(e){if(!hi)return!1;try{const t=b6(e);return t?(await A_(th(hi,"sales",String(e.id)),{payload:t,_syncedAt:new Date().toISOString(),_encrypted:!0}),!0):!1}catch{return!1}},subscribeToFullState(e="primary_pos",t){if(!hi)return()=>{};const r=th(hi,"backups",e);return FO(r,n=>{if(n.exists()){const a=n.data(),i=_6(a.payload);i&&t(i)}},n=>{console.error(" Cloud Subscription failed:",n)})},async syncActiveCarts(e,t="primary_pos"){if(!hi)return!1;try{return await A_(th(hi,"live_status",t),{activeCarts:e,updatedAt:new Date().toISOString()},{merge:!0}),!0}catch(r){return console.error(" Sync Active Carts failed:",r),!1}},subscribeToCloudCarts(e){if(!hi)return()=>{};const t=nee(hi,"live_status");return FO(t,r=>{const n={};r.forEach(a=>{const i=a.data();i.activeCarts&&Object.assign(n,i.activeCarts)}),e(n)})},async checkConnection(){return hi?navigator.onLine:!1}},aM=T.createContext(),$n=()=>{const e=T.useContext(aM);if(!e)throw new Error("useDialog must be used within a DialogProvider");return e},Pte=({children:e})=>{const[t,r]=T.useState(null),n=T.useCallback(({title:u="Confirmar",message:f,confirmText:d="Aceptar",cancelText:m="Cancelar",type:g="confirm"})=>new Promise(x=>{r({title:u,message:f,confirmText:d,cancelText:m,type:g,onConfirm:()=>{r(null),x(!0)},onCancel:()=>{r(null),x(!1)}})}),[]),a=T.useCallback(({title:u="Aviso",message:f,confirmText:d="Aceptar",type:m="alert"})=>new Promise(g=>{r({title:u,message:f,confirmText:d,type:m,onConfirm:()=>{r(null),g(!0)},onCancel:()=>{r(null),g(!0)}})}),[]),i=T.useCallback(({title:u="Entrada",message:f,defaultValue:d="",confirmText:m="Aceptar",cancelText:g="Cancelar"})=>new Promise(x=>{r({title:u,message:f,confirmText:m,cancelText:g,type:"prompt",defaultValue:d,onConfirm:y=>{r(null),x(y)},onCancel:()=>{r(null),x(null)}})}),[]),[s,l]=T.useState("");return Nr.useEffect(()=>{t?.type==="prompt"&&l(t.defaultValue||"")},[t]),h.jsxs(aM.Provider,{value:{confirm:n,alert:a,prompt:i},children:[e,t&&h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(8px)",zIndex:2e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",animation:"fadeIn 0.2s ease-out"},children:h.jsxs("div",{className:"glass-panel",style:{width:"100%",maxWidth:"400px",background:"var(--bg-dark)",border:"1px solid var(--accent-blue)",boxShadow:"0 0 30px rgba(0, 242, 255, 0.2)",overflow:"hidden",animation:"slideUp 0.3s ease-out"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)"},children:[h.jsxs("div",{style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:t.type==="alert"?"rgba(0,212,255,0.1)":t.type==="confirm"?"rgba(255,165,0,0.1)":"rgba(0,212,255,0.1)",color:t.type==="alert"?"var(--accent-blue)":t.type==="confirm"?"var(--accent-orange)":"var(--accent-blue)"},children:[t.type==="alert"&&h.jsx(zh,{size:18}),t.type==="confirm"&&h.jsx(KW,{size:18}),t.type==="prompt"&&h.jsx(Ep,{size:18})]}),h.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:"bold"},children:t.title})]}),h.jsxs("div",{style:{padding:"1.5rem"},children:[h.jsx("p",{style:{margin:0,fontSize:"1rem",color:"rgba(255,255,255,0.9)",lineHeight:"1.5",whiteSpace:"pre-wrap"},children:t.message}),t.type==="prompt"&&h.jsx("input",{type:"text",className:"glass-input",autoFocus:!0,style:{width:"100%",marginTop:"1rem"},value:s,onChange:u=>l(u.target.value),onKeyDown:u=>{u.key==="Enter"&&t.onConfirm(s),u.key==="Escape"&&t.onCancel()}})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",padding:"1rem",background:"rgba(0,0,0,0.2)",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[t.type!=="alert"&&h.jsx("button",{className:"glass-button",onClick:t.onCancel,style:{flex:1,padding:"0.75rem"},children:t.cancelText||"Cancelar"}),h.jsx("button",{className:"glass-button primary",onClick:()=>t.onConfirm(t.type==="prompt"?s:!0),style:{flex:1,padding:"0.75rem"},children:t.confirmText||"Aceptar"})]})]})}),h.jsx("style",{jsx:!0,children:`
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `})]})},iM=T.createContext(),Jn=()=>T.useContext(iM);let Fte=0;const sM=()=>{const e=Date.now(),t=Fte++%1e3;return e*1e3+t},Ya=(e,t="USD",r=2)=>{const n=parseFloat(e)||0,i=(Math.round(n*100)/100).toFixed(r).split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),i.join(",")},Bte=({children:e})=>{const{alert:t,confirm:r}=$n(),{settings:n}=H1();T.useEffect(()=>{const q=n?.masterPin||"0000";nS(q),console.log(" Firebase encryption key configured"),localStorage.getItem("cloud_sync_enabled")===null&&localStorage.setItem("cloud_sync_enabled","true");const K="v2.1.8_force_sync";localStorage.getItem(K)||(console.warn(" Version 2.1.8: Forcing server sync to apply ID fixes..."),localStorage.setItem(K,"true"),localStorage.setItem("force_server_sync","true")),(async()=>{const ve=localStorage.getItem("remote_server_ip");if(!ve&&sessionStorage.getItem("discovery_done"))return;sessionStorage.setItem("discovery_done","true");let Fe=!1;if(ve)try{const Se=new AbortController,Ge=setTimeout(()=>Se.abort(),2e3);await fetch(`http://${ve}:3001/api/server-info-ping`,{method:"HEAD",signal:Se.signal,mode:"no-cors"}),clearTimeout(Ge),console.log(" Servidor actual responde correctamente:",ve);return}catch{console.warn(` Servidor guardado (${ve}) NO responde. Iniciando auto-reparacin...`),Fe=!0}else Fe=!0;if(Fe)try{await new Promise(tt=>setTimeout(tt,1500));const Se=new AbortController,Ge=setTimeout(()=>Se.abort(),3e3),He=await fetch("http://localhost:3001/api/scan-servers",{signal:Se.signal});clearTimeout(Ge);const rt=((await He.json()).servers||[]).filter(tt=>!tt.isSelf);if(rt.length>0){if(ve){const _e=rt[0];console.log(" Auto-Healing: Servidor re-ubicado en",_e.ip),localStorage.setItem("remote_server_ip",_e.ip),localStorage.setItem("pos_server_url",`http://${_e.ip}:${_e.port||3001}`),window.location.reload();return}const tt=JSON.parse(localStorage.getItem("sales")||"[]"),le=JSON.parse(localStorage.getItem("products")||"[]");if(tt.length<5&&le.length<10){const _e=rt[0];console.log(" Auto-Connecting valid new device to:",_e.ip),localStorage.setItem("remote_server_ip",_e.ip),localStorage.setItem("pos_server_url",`http://${_e.ip}:3000`),window.location.reload()}}else ve&&console.error(" Auto-repair fall: No se encontraron servidores en la red.")}catch(Se){console.log("Discovery failed:",Se.message)}})()},[]);const a=(q,K)=>{try{const H=localStorage.getItem(q);if(H!==null){const ve=JSON.parse(H);return Array.isArray(ve)&&ve.length===0&&Array.isArray(K)&&K.length>0?K:ve}return K}catch(H){return console.error(` Error loading ${q}:`,H),K}},i=async()=>{await t({title:"Rescate de Emergencia",message:"Si reinstalaste la App, el servidor intentar cargar automticamente tus datos desde la carpeta Documentos. Deseas forzar una comprobacin ahora?",confirmText:"S, forzar",cancelText:"No"})&&(S?(Ea.socket.emit("force_external_recovery"),await t({title:"Rescate",message:"Se ha enviado la seal de recuperacin al servidor. Verifica si tus datos aparecen en unos segundos."})):await t({title:"Sin Conexin",message:"El servidor local no responde. Asegrate de que el servicio POS est activo en las notificaciones."}))},s=async(q="primary_pos")=>{_("syncing");const K=await rh.syncFullState(m,q);return _(K?"success":"error"),K&&setTimeout(()=>_("idle"),3e3),K},l=async(q="primary_pos")=>{if(!await r({title:"Restaurar desde la Nube",message:"Ests seguro? Los datos locales actuales sern REEMPLAZADOS por los de la nube."}))return!1;_("syncing");const H=await rh.fetchFullState(q);return H?(g({...H,lastModified:new Date().toISOString()}),localStorage.setItem("force_server_sync","true"),_("success"),setTimeout(()=>_("idle"),3e3),await t({title:"xito",message:"Datos restaurados correctamente desde la nube."}),!0):(_("error"),await t({title:"Error",message:"No se encontr respaldo en la nube o la clave de cifrado es incorrecta."}),!1)},u=[{id:"cheeses",label:"Quesos",department:"Quesera",keywords:["queso","cheese","cheddar","mozzarella","parmesano","gouda","mano","telita","guayanes","fundido","gratinado"]},{id:"cachapas",label:"Cachapas",department:"Restaurante",keywords:["cachapa","queso","carne","pollo","jamon","mixta"]},{id:"carne_en_vara",label:"Carne en Vara",department:"Restaurante",keywords:["carne","vara","res","brasa","parrilla"]},{id:"chichas",label:"Chichas",department:"Restaurante",keywords:["chicha","morichal","cremoso","arroz","maiz","canela","leche"]},{id:"drinks",label:"Bebidas",department:"Restaurante",keywords:["bebida","refresco","jugo","agua","energizante","cola","pepsi","fanta","sprite","malta","te","cafe","limonada","naranja","manzana","batido","smoothie","soda","polar","tercio","cerveza","licor"]},{id:"sides",label:"Contornos",department:"Restaurante",keywords:["contorno","papas","fritas","yuca","aros","cebolla","pure","arroz","platano","tostones","tajadas","arepas"]},{id:"soups",label:"Sopas",department:"Restaurante",keywords:["sopa","caldo","consom","crema","sancocho","mondongo","hervido","fosforera","pollo","res","gallina","pescado","mariscos","asopado"]},{id:"pasta",label:"Pasta",department:"Restaurante",keywords:["pasta","espagueti","spaghetti","fettuccine","lasagna","ravioli","macarrones","penne","tallarines","carbonara","bolognesa","alfredo"]},{id:"salads",label:"Ensaladas",department:"Restaurante",keywords:["ensalada","verde","cesar","mixta","lechuga","tomate","vegetales","verduras","fresca"]},{id:"desserts",label:"Postres",department:"Restaurante",keywords:["postre","dulce","helado","torta","pastel","cake","flan","gelatina","brownie","pie","mousse","quesillo","tres leches","marquesa","tiramisu","alfajores","miel","chocolate","bombones"]},{id:"snacks",label:"Snacks",department:"Restaurante",keywords:["snack","aperitivo","tequeo","empanada","pastelito","arepa","deditos","nuggets","alitas","wings","nachos","galleta","confiteria","papas","doritos","chispas"]},{id:"groceries",label:"Vveres/Bodega",department:"Venta",keywords:["aceite","arroz","harina","leche","azucar","sal","vinagre","mayonesa","salsa","viveres","grano","enlatado","atun"]},{id:"hygiene",label:"Higiene/Aseo",department:"Venta",keywords:["desodorante","jabon","shampoo","crema","dental","colgate","cepillo","aseo","higiene","papel","toalla","detergente","limpieza"]},{id:"burgers",label:"Hamburguesas",department:"Restaurante",keywords:["hamburguesa","burger","carne","doble","triple","bacon","queso","bbq","angus","wagyu","cheeseburger"]}],f=[{id:"u1",name:"Administrador",role:"admin",pin:"123"},{id:"u2",name:"Cajero",role:"cashier",pin:"123"},{id:"u3",name:"Cocina",role:"kitchen",pin:"123"},{id:"u4",name:"Barra",role:"bar",pin:"123"},{id:"u5",name:"Mesero",role:"waiter",pin:"123"}],d=[{id:"pm_1",name:"Efectivo $",currency:"USD",color:"#22c55e",native:!0},{id:"pm_2",name:"Efectivo Bs",currency:"Bs",color:"#4ade80",native:!0},{id:"pm_3",name:"Zelle",currency:"USD",color:"#a78bfa",native:!0},{id:"pm_4",name:"Punto Banesco",currency:"Bs",color:"#1d6335",native:!0},{id:"pm_5",name:"Punto Bancaribe",currency:"Bs",color:"#0054a6",native:!0},{id:"pm_6",name:"Punto Banplus",currency:"Bs",color:"#8dc63f",native:!0},{id:"pm_7",name:"Pago Mvil Banesco",currency:"Bs",color:"#1d6335",native:!0},{id:"pm_8",name:"Pago Mvil BDV",currency:"Bs",color:"#e74c3c",native:!0},{id:"pm_9",name:"Pago Mvil Banplus",currency:"Bs",color:"#8dc63f",native:!0}],[m,g]=T.useState({inventory:a("inventory",[]),suppliers:a("suppliers",[]),personnel:a("personnel",[]),users:a("users",f),products:a("products",[]),categories:a("categories",u),sales:a("sales",[]),heldOrders:a("heldOrders",[]),cancelledOrders:a("cancelledOrders",[]),tips:a("tips",0),tipHistory:a("tipHistory",[]),tipDistributions:a("tipDistributions",[]),tables:a("tables",Array.from({length:12},(q,K)=>({id:K+1,name:K<10?`Mesa ${K+1}`:K===10?"Quesera":"Barra",status:"available",area:K<10?"Restaurante":K===10?"Quesera":"Restaurante",department:K<10?"Restaurante":K===10?"Quesera":"Restaurante"}))),customers:a("customers",[]),kitchenOrders:a("kitchenOrders",[]),barOrders:a("barOrders",[]),paymentMethods:a("paymentMethods",d),cancelledKitchenOrders:a("cancelledKitchenOrders",[]),cancelledBarOrders:a("cancelledBarOrders",[]),pendingPayment:a("pendingPayment",[]),inventoryEntries:a("inventoryEntries",[]),exchangeRate:a("exchangeRate",60),rateHistory:a("rateHistory",[]),cashRegister:a("cashRegister",{isOpen:!1,status:"closed",openingBalanceBs:0,openingBalanceUsd:0,openingBreakdownBs:[],openingBreakdownUsd:[],closingBreakdownBs:[],closingBreakdownUsd:[]}),expenses:a("expenses",[]),debts:a("debts",[]),accountsReceivable:a("accountsReceivable",[]),cashRegisterHistory:a("cashRegisterHistory",[]),defaultForeignCurrencyDiscountPercent:a("defaultForeignCurrencyDiscountPercent",0),lastModified:new Date().toISOString(),serverInfo:null}),[x]=T.useState(!1);T.useEffect(()=>{const q=[{id:"groceries",label:"Vveres/Bodega",department:"Venta",keywords:["aceite","arroz","harina","leche","azucar","sal","vinagre","mayonesa","salsa","viveres","grano","enlatado","atun"]},{id:"hygiene",label:"Higiene/Aseo",department:"Venta",keywords:["desodorante","jabon","shampoo","crema","dental","colgate","cepillo","aseo","higiene","papel","toalla","detergente","limpieza"]}];let K=!1;const H=[...m.categories||[]];q.forEach(ve=>{H.find(Fe=>Fe.id===ve.id)||(H.push(ve),K=!0)}),K&&g(ve=>({...ve,categories:H}))},[m.categories]);const[y,_]=T.useState("idle"),[b,w]=T.useState(!1),C=T.useRef(!1),[S,O]=T.useState(!1),[F,B]=T.useState(!1),[j,k]=T.useState(localStorage.getItem("monitor_mode_enabled")==="true"),P=T.useRef(0);T.useEffect(()=>{const q="cat_migration_v2_comida_fix";if(localStorage.getItem(q))return;console.log(" Starting Category Migration...");const K=u;let H=0;const Fe=(m.products||[]).map(Se=>{const He=(Je=>Je?.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")||"")(Se.name);return He.includes("alfajor")&&Se.category==="soups"?(H++,{...Se,category:"desserts"}):He.includes("viveres")&&Se.category==="soups"?(H++,{...Se,category:"varios"}):(He.includes("polar")||He.includes("cerveza"))&&Se.category==="soups"?(H++,{...Se,category:"drinks"}):He.includes("miel")&&Se.category==="soups"?(H++,{...Se,category:"desserts"}):He.includes("flores")&&Se.category==="soups"?(H++,{...Se,category:"varios"}):(He.includes("bollo")||He.includes("cachapa"))&&Se.category!=="comida"?(H++,{...Se,category:"comida"}):He.includes("casabe")&&Se.category!=="sides"?(H++,{...Se,category:"sides"}):He.includes("racion")&&He.includes("queso")&&(He.includes("bollito")||He.includes("arepa")||He.includes("cachapa"))&&Se.category==="cheeses"?(H++,{...Se,category:"comida"}):He.includes("calamares")&&Se.category==="soups"&&!He.includes("sopa")&&!He.includes("asopado")?(H++,{...Se,category:"comida"}):Se});(H>0||JSON.stringify(m.categories)!==JSON.stringify(K))&&(console.log(` Migration Applied: Fixed ${H} products.`),g(Se=>({...Se,categories:K,products:Fe,lastModified:new Date().toISOString()})),localStorage.setItem("categories",JSON.stringify(K)),localStorage.setItem("products",JSON.stringify(Fe))),localStorage.setItem(q,"true")},[]),T.useEffect(()=>{if(Object.keys(m).forEach(q=>{q!=="serverInfo"&&localStorage.setItem(q,JSON.stringify(m[q]))}),x&&!C.current){const q=setTimeout(async()=>{_("syncing");try{await nf.uploadFile("erp_la_autentica_backup_auto.json",{timestamp:new Date().toISOString(),data:m}),_("success"),setTimeout(()=>_("idle"),3e3)}catch{_("error")}},3e3);return()=>clearTimeout(q)}},[m,x]),T.useEffect(()=>{Ea.connect();const q=Ea.subscribe((K,H)=>{if(K==="connection_status"&&O(H),K==="sync_update"){const ve=new Date(H.lastModified||0).getTime(),Fe=new Date(m.lastModified||0).getTime(),Se=localStorage.getItem("force_server_sync")==="true";ve>Fe||Se?(console.log(" Accepting server data (Force/Newer)"),g(Ge=>({...Ge,...H})),Se&&localStorage.removeItem("force_server_sync")):Fe>ve&&Ea.sendFullStateUpdate(m)}if(K==="encryption_required"){B(!0);const ve=localStorage.getItem("pos_encryption_key")||sessionStorage.getItem("pos_encryption_key");ve&&(console.log(" Auto-providing encryption key to local server..."),Ea.sendEncryptionKey(ve))}K==="encryption_unlock_success"&&(console.log(" Local server UNLOCKED successfully"),B(!1),localStorage.setItem("force_server_sync","true")),K==="encryption_unlock_error"&&(console.error(" Local server unlock FAILED:",H),B(!0)),K==="server_info"&&g(ve=>({...ve,serverInfo:H}))});return()=>q()},[m.lastModified]),T.useEffect(()=>{const q=m.heldOrders?.filter(K=>K.status==="ready")||[];q.length>P.current&&tc.playNotification(),P.current=q.length},[m.heldOrders]);const[I,R]=T.useState({});T.useEffect(()=>{if(!(localStorage.getItem("cloud_sync_enabled")==="true"))return;const K=rh.subscribeToCloudCarts(H=>{R(ve=>({...ve,...H}))});return()=>K()},[]),T.useEffect(()=>{const q=Ea.subscribe((K,H)=>{K==="remote_cart_update"&&R(ve=>{const Fe={...ve};return H.cart.length===0?delete Fe[H.userId]:Fe[H.userId]=H,Fe})});return()=>q()},[]);const N=(q,K)=>{const H={userId:q?.id||"unknown",username:q?.username||q?.name||"Anon",cart:K,timestamp:new Date().toISOString()};S&&Ea.sendActiveCartUpdate(H),localStorage.getItem("cloud_sync_enabled")==="true"&&rh.syncActiveCarts({[H.userId]:H})};T.useEffect(()=>{if(S){const q=setTimeout(()=>{console.log(" Throttled Full Sync (15s)..."),Ea.sendFullStateUpdate(m)},15e3);return()=>clearTimeout(q)}},[m,S]),T.useEffect(()=>{if(!(localStorage.getItem("cloud_sync_enabled")==="true"))return;console.log(" Cloud Listener: Watching for remote management updates...");const K=rh.subscribeToFullState("primary_pos",H=>{const ve=new Date(H.lastModified||0).getTime(),Fe=new Date(m.lastModified||0).getTime();ve>Fe&&(console.log(" Cloud Update: Adopting newer data from remote management"),g(Se=>H.exchangeRate===344.51?(console.warn("  Cloud tried to revert rate to 344.51. Blocked."),{...Se,...H,exchangeRate:Se.exchangeRate}):{...Se,...H}))});return()=>K()},[m.lastModified]),T.useEffect(()=>{!m.lastModified||j||S&&(async()=>{try{(await fetch(`${Ea.serverUrl}/save-external-backup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok&&console.log(" IMMEDIATE backup saved to /sdcard/Documents")}catch(q){console.error(" Failed to save immediate backup:",q)}})()},[m.lastModified,j,S]),T.useEffect(()=>{if(!m.lastModified||j||!(localStorage.getItem("cloud_sync_enabled")==="true"))return;const K=setTimeout(async()=>{console.log(" Syncing to Firebase Cloud..."),await s()},2e3);return()=>clearTimeout(K)},[m.lastModified,j]);const M=(q,K)=>g(H=>({...H,[q]:K,lastModified:new Date().toISOString()})),ce=(q,K)=>g(H=>({...H,[q]:[...H[q]||[],{...K,id:K.id||sM()}],lastModified:new Date().toISOString()})),fe=(q,K,H)=>g(ve=>({...ve,[q]:ve[q].map(Fe=>{if(Fe.id===K){const Se=typeof H=="function"?H(Fe):H;return{...Fe,...Se}}return Fe}),lastModified:new Date().toISOString()})),ae=(q,K)=>g(H=>({...H,[q]:H[q].filter(ve=>ve.id!==K),lastModified:new Date().toISOString()})),ie=(q,K="",H={})=>{const ve={id:Date.now(),items:q,note:K,timestamp:new Date().toISOString(),total:q.reduce((Fe,Se)=>Fe+Se.price*(Se.quantity||1),0),status:"active",isWaitList:H.isWaitList||!1,...H};return ce("heldOrders",ve),H.tableId&&fe("tables",H.tableId,{status:"occupied",currentOrderId:ve.id}),S&&Ea.sendHeldOrder(ve),ve.id},me=(q,K="",H={})=>{const ve=ie(q,K,{...H,isWaitList:!1}),Fe={id:Date.now()+1,items:q,type:"kitchen",sourceOrderId:ve,...H,status:"pending"};return ce("kitchenOrders",Fe),S&&Ea.sendKitchenOrder(Fe),ve},be=q=>{const K=m.heldOrders.find(H=>H.id===q);K?.tableId&&fe("tables",K.tableId,{status:"available",currentOrderId:null}),ae("heldOrders",q),S&&Ea.deleteHeldOrder(q)},de=q=>{const K=m.heldOrders.find(H=>H.id===q);K&&(K.tableId&&fe("tables",K.tableId,{status:"available",currentOrderId:null}),g(H=>({...H,heldOrders:H.heldOrders.filter(ve=>ve.id!==q),cancelledOrders:[...H.cancelledOrders,{...K,cancelledAt:new Date().toISOString()}],lastModified:new Date().toISOString()})))},U=q=>{const K=m.cancelledOrders.find(H=>H.id===q);K&&g(H=>({...H,cancelledOrders:H.cancelledOrders.filter(ve=>ve.id!==q),heldOrders:[...H.heldOrders,{...K,status:"active",cancelledAt:void 0}],lastModified:new Date().toISOString()}))},Z=q=>{ae("cancelledOrders",q)},te=q=>{const K=parseFloat(q);K>0&&(g(H=>({...H,exchangeRate:K,rateHistory:[{id:Date.now(),rate:K,date:new Date().toISOString()},...H.rateHistory||[]],lastModified:new Date().toISOString()})),Ea.isConnected&&Ea.sendExchangeRate(K))},W=async(q=!0)=>{const K=new Date,H=K.getHours();w(!0);try{if(!navigator.onLine){w(!1);return}if(!q){const He=H>=16&&H<=19?900*1e3:14400*1e3,Je=localStorage.getItem("last_bcv_check")||0;if(K.getTime()-Je<He){w(!1);return}}localStorage.setItem("last_bcv_check",K.getTime().toString());const ve=mv(),Fe=await fetch(`${ve}/api/bcv-rate`);if(!Fe.ok)throw new Error("Server response not ok");const Se=await Fe.json();if(Se&&Se.promedio){const Ge=parseFloat(Se.promedio),He=parseFloat(m.exchangeRate);if(Ge>0&&Math.abs(Ge-He)>.005)return console.log(` [Auto-BCV] Detectado cambio de tasa real: ${He} -> ${Ge}`),te(Ge.toString()),Ge}}catch(ve){console.warn("[Auto-BCV] Fall chequeo de tasa:",ve)}finally{w(!1)}};T.useEffect(()=>{W(!1);const q=setInterval(()=>W(!1),300*1e3);return()=>clearInterval(q)},[m.exchangeRate]);const xe=(q,K=!0)=>{K?localStorage.setItem("pos_encryption_key",q):sessionStorage.setItem("pos_encryption_key",q),S&&Ea.sendEncryptionKey(q)},Te=(q,K)=>S?Ea.changeMasterKey(q,K):!1,Ne=(q,K="Venta POS")=>{const H=parseFloat(q);H>0&&g(ve=>({...ve,tips:ve.tips+H,tipHistory:[{id:Date.now(),amount:H,source:K,timestamp:new Date().toISOString()},...ve.tipHistory],lastModified:new Date().toISOString()}))},X=()=>{g({inventory:[],suppliers:[],personnel:[],users:[],products:[],categories:u,sales:[],heldOrders:[],cancelledOrders:[],tips:0,tipHistory:[],tipDistributions:[],tables:Array.from({length:12},(q,K)=>({id:K+1,name:K<10?`Mesa ${K+1}`:K===10?"Quesera":"Barra",status:"available",area:K<10?"Restaurante":K===10?"Quesera":"Restaurante",department:K<10?"Restaurante":K===10?"Quesera":"Restaurante"})),customers:[],kitchenOrders:[],barOrders:[],cancelledKitchenOrders:[],cancelledBarOrders:[],pendingPayment:[],inventoryEntries:[],exchangeRate:60,rateHistory:[],cashRegister:{isOpen:!1,status:"closed"},paymentMethods:d,defaultForeignCurrencyDiscountPercent:0,lastModified:new Date().toISOString(),serverInfo:null})},Q=()=>{const q=new Blob([JSON.stringify({timestamp:new Date().toISOString(),data:m},null,2)],{type:"application/json"}),K=URL.createObjectURL(q),H=document.createElement("a");H.href=K,H.download=`backup_${new Date().toISOString().split("T")[0]}.json`,H.click()},ue=q=>{const K=new FileReader;K.onload=async H=>{try{const ve=JSON.parse(H.target.result);ve.data&&(C.current=!0,g(ve.data),await t({title:"Restauracin",message:"Datos restaurados exitosamente."}))}catch{await t({title:"Error",message:"Error al procesar el archivo de respaldo."})}},K.readAsText(q)};return h.jsx(iM.Provider,{value:{data:m,updateData:M,addItem:ce,updateItem:fe,deleteItem:ae,clearAllData:X,exportData:Q,importData:ue,isDriveConnected:x,syncStatus:y,holdOrder:ie,deleteHeldOrder:be,cancelHeldOrder:de,restoreCancelledOrder:U,permanentlyDeleteOrder:Z,addTip:Ne,sendOrderToProduction:me,updateExchangeRate:te,refreshBcvRate:W,loadingBcv:b,isLocalServerConnected:S,isServerLocked:F,setMasterKey:xe,changeMasterKey:Te,rescueFromExternalBackup:i,serverInfo:m.serverInfo,activeCarts:I,sendLiveCartUpdate:N,formatAmount:Ya,uploadToDrive:nf.uploadBinaryFile,backupToCloud:s,restoreFromCloud:l,isMonitorMode:j,setIsMonitorMode:q=>{localStorage.setItem("monitor_mode_enabled",q.toString()),k(q),q&&window.location.reload()}},children:e})},oM=T.createContext(),Gf=()=>T.useContext(oM),Mte=({children:e})=>{const{data:t}=Jn(),{settings:r}=H1(),[n,a]=T.useState(()=>{const f=localStorage.getItem("currentUser");return f?JSON.parse(f):null}),[i]=T.useState(!1),s=(f,d)=>{const g=[...t.users||[],...t.personnel||[]].find(x=>(x.username?.toLowerCase()===f?.toLowerCase()||x.name?.toLowerCase()===f?.toLowerCase())&&(x.password===d||x.pin===d));if(g)return a(g),localStorage.setItem("currentUser",JSON.stringify(g)),{success:!0};if(f==="admin"&&(d==="0000"||d===r?.masterPin)){const x={id:"admin_sys",name:"Super Admin",role:"admin",permissions:["all"],username:"admin"};return a(x),localStorage.setItem("currentUser",JSON.stringify(x)),{success:!0}}return{success:!1,message:"Credenciales invlidas"}},l=()=>{a(null),localStorage.removeItem("currentUser")},u=f=>n?n.role==="admin"||f==="any"||f==="manager"&&n.role==="manager"||f==="cashier"&&(n.role==="manager"||n.role==="cashier")?!0:n.role===f:!1;return h.jsx(oM.Provider,{value:{currentUser:n,login:s,logout:l,hasPermission:u,loading:i},children:e})},Lte=()=>{const{settings:e,toggleSidebar:t}=H1(),{serverInfo:r,isLocalServerConnected:n}=Jn(),a=Ea.getSuggestedUrl(),i=e.isSidebarCollapsed,[s,l]=Nr.useState(window.innerWidth<=768),[u,f]=Nr.useState(!1);Nr.useEffect(()=>{const S=()=>l(window.innerWidth<=768);return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),Nr.useEffect(()=>{s&&!i&&t()},[s,i,t]);const{currentUser:d,logout:m}=Gf(),{confirm:g}=$n(),y=[{path:"/tables",icon:_A,label:"Pedidos/Mesas",roles:["admin","manager","waiter","cashier"]},{path:"/kitchen",icon:bA,label:"Cocina",roles:["admin","manager","kitchen"]},{path:"/",icon:YG,label:"Ventas (POS)",roles:["admin","manager","waiter","cashier"]},{path:"/cash-register",icon:hu,label:"Caja",roles:["admin","manager","cashier"]},{path:"/customers",icon:dx,label:"Clientes",roles:["admin","manager","waiter","cashier"]},{path:"/inventory",icon:KP,label:"Inventario",roles:["admin","manager"]},{path:"/products",icon:CE,label:"Productos",roles:["admin","manager"]},{path:"/suppliers",icon:oK,label:"Proveedores",roles:["admin","manager"]},{path:"/personnel",icon:hv,label:"Personal",roles:["admin"]},{path:"/reports",icon:BW,label:"Reportes",roles:["admin","manager"]},{path:"/settings",icon:wA,label:"Configuracin",roles:["admin"]}].filter(S=>d?d.role==="admin"?!0:S.roles.includes(d.role):!1),_=5,b=s?y.slice(0,_):y,w=s?y.slice(_):[],C=(S,O=!1)=>h.jsxs(MP,{to:S.path,onClick:()=>O&&f(!1),className:({isActive:F})=>`
              glass-button
              ${F?"primary":""}
              ${O?"mobile-overflow-item":""}
            `,style:s?{display:"flex",alignItems:"center",justifyContent:"center",flex:O?"0 0 auto":"1",padding:"0.75rem",minWidth:O?"100%":"0",width:O?"100%":"auto",marginBottom:O?"0.25rem":"0"}:{display:"flex",alignItems:"center",gap:"0.75rem",padding:i&&!O?"0.5rem 0":"0.5rem 0.75rem",justifyContent:i&&!O?"center":"flex-start",width:O?"100%":"auto",marginBottom:O?"0.25rem":"0"},title:i?S.label:"",children:[h.jsx(S.icon,{size:s?18:20}),(!i||s)&&h.jsx("span",{className:"sidebar-label",style:{fontSize:"0.85rem",display:s&&!O?"none":"block"},children:S.label})]},S.path);return h.jsxs("aside",{className:`glass-panel sidebar ${i?"collapsed":""}`,style:{width:s?"100%":i?"50px":e.sidebarWidth,height:s?"50px":"100vh",padding:0,borderRadius:0,borderLeft:"none",borderTop:s?"1px solid var(--glass-border)":"none",borderBottom:"none",display:"flex",flexDirection:s?"row":"column",background:s?"rgba(15, 15, 15, 0.95)":void 0,backdropFilter:s?"blur(10px)":void 0,position:s?"fixed":"relative",bottom:s?0:"auto",left:s?0:"auto",zIndex:40},children:[!s&&!i&&d?.role==="admin"&&(d.pin==="123"||d.pin==="0000")&&h.jsxs("div",{style:{padding:"0.75rem",background:"rgba(255, 68, 68, 0.2)",borderBottom:"1px solid rgba(255, 68, 68, 0.5)",color:"#ff6b6b",fontSize:"0.75rem",display:"flex",flexDirection:"column",gap:"0.4rem",animation:"pulse 2s infinite"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"bold"},children:[h.jsx(zh,{size:16}),"ALERTA DE SEGURIDAD"]}),h.jsxs("p",{style:{margin:0,opacity:.9},children:["Ests usando el PIN por defecto (",h.jsx("b",{children:d.pin}),"). Cualquiera puede borrar los datos.",h.jsx("b",{children:" Cambia el PIN en Gestin de Usuarios."})]})]}),s&&u&&h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:199},onClick:()=>f(!1)}),h.jsxs("div",{className:"glass-panel",style:{position:"absolute",bottom:"60px",right:"10px",display:"flex",flexDirection:"column",gap:"0.5rem",padding:"1rem",zIndex:200,background:"#1a1a1a",border:"1px solid var(--glass-border)",minWidth:"280px",boxShadow:"0 -5px 20px rgba(0,0,0,0.5)",left:"auto"},children:[h.jsxs("div",{style:{padding:"0.75rem",borderRadius:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--glass-border)",marginBottom:"0.5rem",fontSize:"0.75rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.4rem"},children:[h.jsx($1,{size:14,color:n?"var(--accent-green)":"var(--accent-red)"}),h.jsxs("span",{style:{fontWeight:"600"},children:["Servidor Local: ",n?"Activo":"Offline"]})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:1,color:"var(--accent-blue)",fontWeight:"bold"},children:[h.jsx(SE,{size:14}),h.jsx("span",{children:r?`${r.ip}:${r.port}`:a.replace("http://","").replace("/","")})]})]}),w.map(S=>C(S,!0)),!i&&h.jsx("div",{style:{height:"1px",background:"var(--glass-border)",margin:"0.5rem 0"}}),h.jsxs("button",{className:"glass-button",onClick:async()=>{f(!1),await g({title:"Cerrar Sesin",message:"Ests seguro que deseas cerrar sesin?"})&&m()},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",justifyContent:"flex-start",color:"var(--accent-red)",width:"100%",marginBottom:"0.5rem"},children:[h.jsx(SG,{size:22}),h.jsx("span",{style:{fontSize:"1rem",fontWeight:"bold"},children:"Cerrar Sesin"})]}),h.jsxs("div",{style:{marginTop:"0.5rem",padding:"1rem 0.5rem",fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",borderTop:"1px solid var(--glass-border)",opacity:.9},children:[h.jsxs("p",{style:{margin:"0 0 0.5rem 0",fontWeight:"bold"},children:["ERP La Autntica v",wE]}),h.jsxs("p",{style:{fontWeight:"500",color:"var(--accent-blue)",lineHeight:"1.4"},children:["Desarrollado con las ltimas tecnologas por ",h.jsx("br",{}),h.jsx("span",{style:{fontWeight:"700",fontSize:"0.95rem"},children:"Luvin Rafael Bustillos"})]})]})]})]}),h.jsxs("nav",{className:"no-scrollbar",style:{display:"flex",flexDirection:"column",gap:s?0:"0.25rem",overflowY:"auto",flex:1},children:[b.map(S=>C(S)),s&&w.length>0&&h.jsx("button",{className:`glass-button ${u?"active":""}`,onClick:()=>f(!u),style:s?{display:"flex",alignItems:"center",justifyContent:"center",flex:"0.5",padding:"0.75rem"}:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem",flex:"0 0 auto",minWidth:"32px"},children:h.jsx(nG,{size:20})})]}),!s&&!i&&h.jsxs("div",{style:{padding:"0.75rem",fontSize:"0.7rem",borderTop:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.1)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.25rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:n?"var(--accent-green)":"var(--accent-red)"}}),h.jsx("span",{style:{fontWeight:"600"},children:"POS Server"})]}),!n&&h.jsx("div",{title:"Este servidor debe estar encendido para que otros dispositivos se conecten.",children:h.jsx(zh,{size:12,color:"var(--text-secondary)"})})]}),r?h.jsxs("p",{style:{margin:0,opacity:.9,color:"var(--accent-blue)"},children:[r.ip,":",r.port]}):h.jsxs("p",{style:{margin:0,opacity:.6,fontSize:"0.65rem"},children:[a.replace("http://","").replace("https://","").split(":")[0],":3001"]})]}),!s&&!i&&h.jsxs("div",{style:{padding:"0.75rem",fontSize:"0.65rem",color:"var(--text-secondary)",textAlign:"center",borderTop:"1px solid var(--glass-border)",marginTop:i?"0":"auto",opacity:.7},children:[h.jsxs("p",{style:{margin:0},children:["ERP La Autntica v",wE]}),h.jsxs("p",{style:{fontWeight:"500",color:"var(--accent-blue)",marginTop:"0.2rem"},children:["Desarrollado con las ltimas tecnologas por ",h.jsx("br",{}),h.jsx("span",{style:{fontWeight:"700"},children:"Luvin Rafael Bustillos"})]})]}),!s&&h.jsxs(h.Fragment,{children:[i&&h.jsx("div",{style:{marginTop:"auto"}}),!i&&i===void 0&&h.jsx("div",{style:{height:"1px",background:"var(--glass-border)",margin:"0.5rem 0"}}),h.jsx("button",{className:"glass-button",onClick:t,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",width:"100%",color:"var(--text-secondary)",marginTop:i?"auto":"0"},title:i?"Expandir":"Contraer",children:i?h.jsx(HP,{size:20}):h.jsx($P,{size:20})})]})]})},zte=()=>h.jsxs("div",{className:"app-container",children:[h.jsx(Lte,{}),h.jsx("main",{className:"main-content",children:h.jsx(zq,{})})]}),lM=T.createContext(),Ute=()=>{const e=T.useContext(lM);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Vte=({children:e})=>{const[t,r]=T.useState([]),n=T.useCallback((i,s="info",l=3e3)=>{const u=Date.now();r(f=>[...f,{id:u,message:i,type:s,duration:l}]),l>0&&setTimeout(()=>{a(u)},l)},[]),a=T.useCallback(i=>{r(s=>s.filter(l=>l.id!==i))},[]);return h.jsxs(lM.Provider,{value:{addToast:n,removeToast:a},children:[e,h.jsx("div",{className:"toast-container",children:t.map(i=>h.jsxs("div",{className:`toast toast-${i.type} glass-panel`,children:[h.jsxs("div",{className:"toast-icon",children:[i.type==="success"&&h.jsx(Ep,{size:20}),i.type==="error"&&h.jsx(EE,{size:20}),i.type==="warning"&&h.jsx(EA,{size:20}),i.type==="info"&&h.jsx(zh,{size:20})]}),h.jsx("span",{className:"toast-message",children:i.message}),h.jsx("button",{onClick:()=>a(i.id),className:"toast-close",children:h.jsx(Fs,{size:16})})]},i.id))})]})},$te=Nr.memo(({product:e,onAdd:t,onRemove:r,onLongPress:n,priceDisplay:a})=>{const i=Nr.useMemo(()=>e.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),[e.name]),[s,l]=Nr.useState(e.image||`/products/${i}.jpg`),u=Nr.useRef(null),[f,d]=Nr.useState(!1),m=Nr.useRef({x:0,y:0});Nr.useEffect(()=>{const b=e.image||`/products/${i}.jpg`;l(w=>w!==b?b:w)},[e.image,i]);const g=Nr.useCallback(b=>{b.button!==0&&b.pointerType==="mouse"||(m.current={x:b.clientX,y:b.clientY},d(!0),u.current=setTimeout(()=>{n&&(n(e),d(!1))},500))},[n,e]),x=Nr.useCallback(b=>{u.current&&(clearTimeout(u.current),u.current=null,f&&t(e)),d(!1)},[f,t,e]),y=Nr.useCallback(b=>{if(!f)return;const w=Math.abs(b.clientX-m.current.x),C=Math.abs(b.clientY-m.current.y);(w>15||C>15)&&(u.current&&(clearTimeout(u.current),u.current=null),d(!1))},[f]),_=Nr.useCallback(()=>{u.current&&(clearTimeout(u.current),u.current=null),d(!1)},[]);return h.jsxs("div",{className:`glass-panel group ProductCard ${f?"scale-95":""}`,onPointerDown:g,onPointerUp:x,onPointerMove:y,onPointerCancel:_,style:{padding:"0.4rem",cursor:"pointer",transition:"transform 0.1s ease-out, border 0.2s ease, background 0.2s ease",display:"flex",flexDirection:"column",gap:"0.4rem",position:"relative",overflow:"hidden",border:e.quantity>0?"2px solid #fb923c":"1px solid rgba(255, 255, 255, 0.1)",background:e.quantity>0?"rgba(251, 146, 60, 0.1)":void 0,touchAction:"pan-y",userSelect:"none",WebkitUserSelect:"none"},title:e.name,children:[e.quantity>0&&h.jsx("div",{style:{position:"absolute",top:"6px",right:"6px",background:"#fb923c",color:"white",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",fontWeight:"950",zIndex:10,boxShadow:"0 4px 12px rgba(0,0,0,0.5)",border:"2px solid rgba(255,255,255,0.4)"},children:e.quantity}),h.jsxs("div",{style:{width:"100%",height:"80px",borderRadius:"8px",overflow:"hidden",position:"relative",flexShrink:0,backgroundColor:"rgba(0,0,0,0.2)"},children:[s?h.jsx("img",{src:s,alt:e.name,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover",opacity:e.quantity>0?.7:1,transition:"opacity 0.2s ease"},onError:b=>{b.target.style.display="none",b.currentTarget.parentElement.classList.add("image-error")}}):null,h.jsx("div",{className:"fallback-placeholder",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:-1,display:"flex",alignItems:"center",justifyContent:"center",background:`hsl(${e.name.charCodeAt(0)*15%360}, 40%, 15%)`},children:h.jsx("div",{style:{opacity:.2,fontSize:"2rem"},children:""})})]}),h.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"0px",textAlign:"center",justifyContent:"center"},children:[h.jsx("h3",{style:{fontSize:"0.75rem",fontWeight:"800",color:"white",lineHeight:"1.1",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",margin:0,padding:"0 2px"},children:e.name}),h.jsx("p",{style:{color:"#fb923c",fontWeight:"950",fontSize:"1.1rem",margin:0,marginTop:"2px"},children:a||`$${e.price.toFixed(2)}`})]})]})}),w6=({cart:e,onRemove:t,onAdd:r,onClear:n,onPay:a,total:i,onHold:s,onSendToKitchen:l,onToggleExpand:u,isExpanded:f,currentTable:d,formatPrice:m,onUpdatePriority:g,onToggleTakeaway:x})=>{const y=[{id:"normal",label:"Normal",color:"#94a3b8"},{id:"priority",label:"Prioridad",color:"#f59e0b"},{id:"high",label:"Alta",color:"#ef4444"}],_=b=>y.find(w=>w.id===b)?.color||"#94a3b8";return h.jsxs("div",{className:"glass-panel",style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",padding:"1rem",boxSizing:"border-box"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx("button",{onClick:n,className:"glass-button",style:{padding:"0.4rem",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--accent-red)",borderColor:"var(--accent-red)",marginRight:"0.5rem"},title:"Vaciar Carrito",disabled:e.length===0,children:h.jsx(qa,{size:18})}),h.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:"Orden Actual"})]}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("button",{onClick:s,className:"glass-button",style:{padding:"0.4rem",display:"flex",alignItems:"center",justifyContent:"center"},title:"Poner en Espera / Guardar Borrador",disabled:e.length===0,children:h.jsx(bu,{size:18})}),h.jsx("button",{onClick:l,className:`glass-button ${d?"active-table-btn":""}`,style:{padding:"0.4rem",display:"flex",alignItems:"center",justifyContent:"center",borderColor:d?"var(--accent-orange)":void 0,color:d?"var(--accent-orange)":"inherit"},title:d?"Enviar a Cocina":"Enviar a Cocina / Barra",disabled:e.length===0,children:h.jsx(bA,{size:18,color:d&&e.length>0?"var(--accent-orange)":"currentColor"})}),h.jsx("button",{onClick:u,className:"glass-button",style:{padding:"0.4rem",display:"flex",alignItems:"center",justifyContent:"center"},title:f?"Contraer":"Expandir",children:f?h.jsx(IG,{size:18}):h.jsx(DG,{size:18})})]})]}),h.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem"},className:"no-scrollbar",children:e.length===0?h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",opacity:.5},children:[h.jsx(_u,{size:48,style:{marginBottom:"1rem"}}),h.jsx("p",{children:"Carrito vaco"})]}):e.map((b,w)=>h.jsx("div",{className:"glass-panel",style:{padding:"0.75rem",display:"flex",flexDirection:"column",gap:"0.5rem",background:"rgba(255,255,255,0.03)",borderLeftWidth:"3px",borderLeftColor:_(b.priority||"normal")},children:h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[h.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",overflow:"hidden",flexShrink:0,background:b.image?"transparent":`hsl(${b.name.charCodeAt(0)*5%360}, 70%, 30%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"0.9rem"},children:b.image?h.jsx("img",{src:b.image,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):b.name.substring(0,2).toUpperCase()}),h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsx("h4",{style:{fontSize:"0.9rem",margin:0,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:b.name}),h.jsxs("div",{style:{display:"flex",gap:"0.4rem",alignItems:"center",marginTop:"0.2rem"},children:[h.jsx("p",{style:{fontSize:"0.8rem",color:"var(--accent-orange)",margin:0,fontWeight:"700"},children:m?m(b.price*(b.quantity||1)):`$${(b.price*(b.quantity||1)).toFixed(2)}`}),b.isTakeaway&&h.jsx("span",{onClick:()=>x&&x(w),style:{fontSize:"0.6rem",background:"#818cf8",color:"white",padding:"0.05rem 0.3rem",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"LLEVAR"}),b.priority&&b.priority!=="normal"&&h.jsx("span",{onClick:()=>g&&g(w,"normal"),style:{fontSize:"0.6rem",background:_(b.priority),color:"black",padding:"0.05rem 0.3rem",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:b.priority.toUpperCase()})]})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.6rem"},children:[h.jsx("button",{onClick:()=>t(b.id),className:"glass-button",style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"-"}),h.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",minWidth:"1.2rem",textAlign:"center"},children:b.quantity||1}),h.jsx("button",{onClick:()=>r(b),className:"glass-button primary",style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"+"})]})]})},`${b.id}-${w}`))}),h.jsxs("div",{style:{marginTop:"auto",paddingTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.75rem",fontSize:"1.1rem",fontWeight:"bold"},children:[h.jsx("span",{children:"Total"}),h.jsx("span",{style:{color:"var(--accent-orange)"},children:m?m(i):`$${i.toFixed(2)}`})]}),h.jsxs("button",{className:"glass-button primary",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},onClick:a,disabled:e.length===0,children:[h.jsx(zf,{size:20}),"PAGAR AHORA"]})]})]})},Ir=({isOpen:e,onClose:t,title:r,children:n,footer:a,fullscreen:i=!1})=>e?V1.createPortal(h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(4px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:i?"0":"1rem"},children:h.jsxs("div",{className:"glass-panel",style:{width:"100%",maxWidth:i?"100%":"540px",height:i?"100%":"auto",maxHeight:i?"100%":"90vh",display:"flex",flexDirection:"column",background:"var(--bg-dark)",border:i?"none":"1px solid rgba(255,255,255,0.1)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)",borderRadius:i?"0":"16px",overflow:"hidden"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",flexShrink:0},children:[h.jsx("h2",{style:{fontSize:"1.1rem",fontWeight:"bold",flex:1,margin:0},children:r}),h.jsx("button",{onClick:t,className:"glass-button",style:{padding:"0.25rem",border:"none"},children:h.jsx(Fs,{size:18})})]}),h.jsx("div",{style:{padding:"1rem",overflowY:"auto",flex:1,display:"flex",flexDirection:"column"},className:"no-scrollbar",children:n}),a&&h.jsx("div",{style:{padding:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)",background:"rgba(0,0,0,0.2)",flexShrink:0},children:a})]})}),document.body):null,cM=({isOpen:e,onClose:t,onConfirm:r,amount:n,currency:a,denominationsConfig:i,debtAmount:s,isAuditMode:l=!1})=>{const[u,f]=T.useState({}),[d,m]=T.useState(""),g=T.useMemo(()=>a==="BS"?[500,200,100,50,20,10]:[100,50,20,10,5,2,1],[a]),x=i||g;T.useEffect(()=>{e&&(f({}),m(a==="BS"?"Efectivo Bs":"Efectivo USD"))},[e,a]);const y=Object.entries(u).reduce((F,[B,j])=>F+parseFloat(B)*(parseInt(j)||0),0),_=n&&n>0?n:s||0,b=s||_,w=y-_,C=l?!0:y>=_-.009,S=(F,B)=>{const j=u[F]||0,k=Math.max(0,j+B);f({...u,[F]:k})},O=()=>{if(!C)return;const F=Object.entries(u).filter(([B,j])=>j>0).map(([B,j])=>({denomination:parseFloat(B),count:j}));r(F,y,w,d)};return h.jsx(Ir,{isOpen:e,onClose:t,title:l?`Arqueo de Billetes (${a})`:`Desglose de Efectivo (${a})`,children:h.jsxs("div",{className:"flex flex-col gap-6 p-2",children:[!l&&h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("div",{className:"flex-1 glass-panel p-3 bg-white/5 border-white/10 text-center",children:[h.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Saldo Pendiente"}),h.jsxs("h2",{className:"text-xl font-black text-white",children:[a==="BS"?"Bs ":"$ ",b.toFixed(2)]})]}),Math.abs(n-b)>.01&&n>0&&h.jsxs("div",{className:"flex-1 glass-panel p-3 bg-blue-500/10 border-blue-500/30 text-center",children:[h.jsx("span",{className:"text-[10px] text-blue-400 font-bold uppercase tracking-widest",children:"A Desglosar"}),h.jsxs("h2",{className:"text-xl font-black text-white",children:[a==="BS"?"Bs ":"$ ",n.toFixed(2)]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[50vh] overflow-y-auto pr-1 no-scrollbar",children:x.map(F=>h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border border-white/5 bg-white/5 hover:bg-white/10 transition-all",children:[h.jsxs("span",{className:"text-sm font-black text-gray-400 w-auto",children:[a==="BS"?"Bs":"$"," ",F]}),h.jsxs("div",{className:"flex items-center gap-1 bg-black/40 rounded-lg p-1 border border-white/10",children:[h.jsx("button",{className:"w-9 h-9 rounded-md bg-red-400/20 text-red-400 flex items-center justify-center active:scale-90 transition-transform hover:bg-red-400/30 shrink-0",onClick:()=>S(F,-1),children:h.jsx(PG,{size:14})}),h.jsx("input",{type:"number",className:"w-16 bg-transparent text-center font-black text-lg outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none text-white px-1",value:u[F]===0||u[F]===void 0?"":u[F],onChange:B=>{const j=B.target.value===""?0:parseInt(B.target.value);isNaN(j)||f({...u,[F]:Math.max(0,j)})},onFocus:B=>{B.target.select()}}),h.jsx("button",{className:"w-9 h-9 rounded-md bg-green-400/20 text-green-400 flex items-center justify-center active:scale-90 transition-transform hover:bg-green-400/30 shrink-0",onClick:()=>S(F,1),children:h.jsx(fs,{size:14})})]})]},F))}),h.jsxs("div",{className:"border-t border-white/10 pt-4 mt-auto",children:[!l&&w>.01&&h.jsxs("div",{className:"glass-panel p-3 border-green-500/20 bg-green-500/5 mb-4 animate-in fade-in slide-in-from-bottom-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-green-500 uppercase block mb-2",children:"Mtodo para entregar el vuelto"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:["Efectivo BS","Pago Mvil","Efectivo USD"].map(F=>h.jsx("button",{className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${d===F?"bg-green-600 border-green-500 text-white shadow-lg shadow-green-900/20 scale-105":"bg-white/5 border-white/10 text-gray-400"}`,onClick:()=>m(F),children:F},F))})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6 px-2",children:[h.jsxs("div",{className:"text-center sm:text-left",children:[h.jsx("span",{className:"text-[11px] text-gray-400 font-bold uppercase tracking-wider block mb-1",children:l?"TOTAL CONTADO":"TOTAL RECIBIDO"}),h.jsxs("span",{className:"text-2xl font-black text-orange-400",children:[a==="BS"?"Bs ":"$ ",y.toFixed(2)]})]}),!l&&h.jsxs("div",{className:"text-center sm:text-right",children:[h.jsx("span",{className:`text-[11px] font-bold uppercase tracking-wider block mb-1 ${w>=-.01?"text-green-500":"text-red-500"}`,children:w>=-.01?"CAMBIO / VUELTO":"FALTA POR COBRAR"}),h.jsxs("span",{className:`text-2xl font-black ${w>=-.01?"text-green-400":"text-red-400"}`,children:[a==="BS"?"Bs ":"$ ",Math.abs(w).toFixed(2)]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{className:"glass-button flex-1 py-4 text-gray-500 font-bold flex items-center justify-center gap-2 border-white/5",onClick:t,children:[h.jsx(Fs,{size:20})," CANCELAR"]}),h.jsxs("button",{className:`primary-button flex-[2] py-4 text-lg font-black flex items-center justify-center gap-3 shadow-lg ${C?"shadow-orange-600/20":"opacity-30 grayscale pointer-events-none"}`,onClick:O,style:{backgroundColor:"var(--primary-color)"},children:[h.jsx(VP,{size:22})," ",l?"CONFIRMAR CONTEO":"CONFIRMAR PAGO"]})]}),!C&&!l&&h.jsxs("p",{className:"text-[10px] text-center text-red-400/70 mt-3 animate-pulse",children:["Debes completar el desglose exacto de ",a==="BS"?"Bs ":"$ ",_.toFixed(2)," para continuar."]})]})]})})},Hte=({isOpen:e,onClose:t,onSelectClient:r})=>{const{data:n,addItem:a}=Jn(),[i,s]=T.useState(""),[l,u]=T.useState("search"),[f,d]=T.useState({name:"",identificacion:"",phone:"",address:""}),m=T.useMemo(()=>{if(!i)return n.customers||[];const x=i.toLowerCase();return(n.customers||[]).filter(y=>y.name.toLowerCase().includes(x)||y.identificacion&&y.identificacion.toLowerCase().includes(x)||y.phone&&y.phone.includes(x))},[n.customers,i]),g=x=>{if(x.preventDefault(),!f.name.trim())return;const _={id:Date.now(),...f,balance:0,createdAt:new Date().toISOString()};a("customers",_),r(_),t()};return h.jsx(Ir,{isOpen:e,onClose:t,title:l==="create"?"Nuevo Cliente":"Buscar Cliente",children:l==="search"?h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%",minHeight:"400px"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[h.jsxs("div",{className:"glass-panel",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1rem",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)"},children:[h.jsx("input",{type:"text",autoFocus:!0,placeholder:"Buscar por Nombre, Cdula o RIF...",style:{border:"none",background:"transparent",flex:1,fontSize:"1.1rem",color:"white",outline:"none",width:"100%"},value:i,onChange:x=>s(x.target.value)}),h.jsx(Nu,{size:22,style:{color:"var(--text-secondary)"}})]}),h.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",paddingLeft:"0.5rem"},children:"Presiona Enter para seleccionar si hay un solo resultado"})]}),h.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"200px",paddingRight:"0.5rem"},children:m.length>0?m.map(x=>h.jsxs("button",{className:"glass-button",onClick:()=>{r(x),t()},style:{justifyContent:"space-between",padding:"1rem",textAlign:"left",width:"100%",border:"1px solid rgba(255,255,255,0.05)",background:"rgba(255,255,255,0.02)"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[h.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:x.name}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",fontSize:"0.85rem",color:"var(--text-secondary)"},children:[h.jsx("span",{style:{background:"rgba(255,255,255,0.1)",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:x.identificacion||"Sin ID"}),h.jsx("span",{children:x.phone||""})]})]}),x.balance!==0&&h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},children:[h.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Saldo"}),h.jsx("span",{style:{color:x.balance>0?"var(--accent-red)":"var(--accent-green)",fontWeight:"bold",fontSize:"1rem"},children:x.balance>0?`-$${x.balance.toFixed(2)}`:`+$${Math.abs(x.balance).toFixed(2)}`})]})]},x.id)):h.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",gap:"1rem",opacity:.6},children:h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"0.25rem"},children:i?"No se encontraron clientes":"Empieza a escribir para buscar"}),h.jsx("p",{style:{fontSize:"0.9rem"},children:"Busca por nombre, cdula o telfono"})]})})}),h.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1rem"},children:h.jsxs("button",{className:"glass-button primary",style:{width:"100%",justifyContent:"center",gap:"0.75rem",padding:"1rem",fontSize:"1rem",fontWeight:"bold"},onClick:()=>u("create"),children:[h.jsx(AA,{size:20}),"Crear Nuevo Cliente"]})})]}):h.jsxs("form",{onSubmit:g,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Nombre Completo *"}),h.jsx("input",{type:"text",className:"glass-input",required:!0,autoFocus:!0,value:f.name,onChange:x=>d({...f,name:x.target.value})})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Cdula / RIF"}),h.jsx("input",{type:"text",className:"glass-input",value:f.identificacion,onChange:x=>d({...f,identificacion:x.target.value}),placeholder:"V-12345678 / J-12345678-0"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Telfono"}),h.jsx("input",{type:"tel",className:"glass-input",value:f.phone,onChange:x=>d({...f,phone:x.target.value}),placeholder:"0414-1234567"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Direccin"}),h.jsx("textarea",{className:"glass-input",value:f.address,onChange:x=>d({...f,address:x.target.value}),style:{minHeight:"80px",resize:"vertical"}})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[h.jsx("button",{type:"button",className:"glass-button",style:{flex:1,justifyContent:"center"},onClick:()=>u("search"),children:"Cancelar"}),h.jsx("button",{type:"submit",className:"glass-button primary",style:{flex:1,justifyContent:"center"},children:"Guardar Cliente"})]})]})})},qte=()=>{const{holdOrder:e,data:t,deleteHeldOrder:r,cancelHeldOrder:n,restoreCancelledOrder:a,permanentlyDeleteOrder:i,addTip:s,addItem:l,updateItem:u,sendOrderToProduction:f,updateExchangeRate:d,refreshBcvRate:m,loadingBcv:g,formatAmount:x,sendLiveCartUpdate:y}=Jn(),{currentUser:_}=Gf(),{addToast:b}=Ute(),{confirm:w,alert:C,prompt:S}=$n(),[O,F]=T.useState(()=>{try{const we=localStorage.getItem("pos_cart");return we?JSON.parse(we):[]}catch(we){return console.error("Error loading cart from localStorage:",we),[]}});T.useEffect(()=>{localStorage.setItem("pos_cart",JSON.stringify(O))},[O]);const[B,j]=T.useState("all"),k=t.categories||[],[P,I]=T.useState(""),[R,N]=T.useState(!1),[M,ce]=T.useState(!1),[fe,ae]=T.useState("USD"),[ie,me]=T.useState(!1),[be,de]=T.useState(window.innerWidth<=768);T.useEffect(()=>{const we=()=>de(window.innerWidth<=768);return window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]);const[U,Z]=T.useState(!1),[te,W]=T.useState(""),[xe,Te]=T.useState(""),[Ne,X]=T.useState("USD"),[Q,ue]=T.useState([]),[q,K]=T.useState(""),[H,ve]=T.useState(!1),[Fe,Se]=T.useState(""),[Ge,He]=T.useState(""),[Je,rt]=T.useState(""),[tt,le]=T.useState(!1),[_e,Qe]=T.useState(null),[Le,wt]=T.useState(""),[vt,St]=T.useState("USD"),[Tt,Bt]=T.useState("");T.useEffect(()=>{if(typeof y=="function"){const we=setTimeout(()=>{y(_,O)},500);return()=>clearTimeout(we)}},[O,_,y]);const[Xe,it]=T.useState(!1),[bt,ht]=T.useState(!1),[Ot,mt]=T.useState("active"),[pn,qn]=T.useState(!1),[aa,An]=T.useState(!1),[ia,hr]=T.useState(!1),[$r,nn]=T.useState("normal"),[Yr,sa]=T.useState(!1),[Vi,mn]=T.useState("USD"),Pt=t.heldOrders||[],ai=t.cancelledOrders||[],gn=we=>{if(Vi==="BS"){const st=t.exchangeRate||1;return`Bs. ${(we*st).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})}`}return`$ ${we.toFixed(2)}`},Sr=Us(),an=Xu(),Wn=new URLSearchParams(Sr.search),Ar=Wn.get("tableId"),G=Wn.get("orderId"),[oe,ee]=T.useState(null),re=t.tables||[],se=Ar?re.find(we=>we.id===parseInt(Ar)):null;T.useEffect(()=>{if(se&&se.status==="occupied"&&se.currentOrderId){const we=t.heldOrders.find(st=>st.id===se.currentOrderId);we&&(F(we.items),ee(we),Bt(we.note||""),sa(we.takeaway||!1),nn(we.priority||"normal"))}},[Ar,se,t.heldOrders]),T.useEffect(()=>{if(G&&!Ar){const we=t.heldOrders.find(st=>st.id===parseInt(G)||st.id===G);we&&(F(we.items),ee(we),Bt(we.note||""),sa(we.takeaway||!1),nn(we.priority||"normal"),we.customerId&&rt(we.customerId))}},[G,t.heldOrders,Ar]);const he=we=>{F(st=>{const At=st.findIndex(xt=>xt.id===we.id);if(At>=0){const xt=[...st];return xt[At]={...xt[At],quantity:(xt[At].quantity||1)+1},xt}return[...st,{...we,quantity:1}]})},Ce=we=>{F(st=>{const At=st.findIndex(xt=>xt.id===we);if(At>=0){const xt=[...st];return xt[At].quantity>1?(xt[At]={...xt[At],quantity:xt[At].quantity-1},xt):(xt.splice(At,1),xt)}return st})},Me=async()=>{if(O.length===0)return;await w({title:"Vaciar Carrito",message:"Ests seguro de que deseas vaciar el carrito?"})&&(F([]),ee(null),Bt(""),sa(!1),nn("normal"))},J=O.reduce((we,st)=>we+st.price*(st.quantity||1),0),pe=async()=>{if(O.length===0)return;const we=await S({title:"Poner en Espera",message:"Nota para el pedido:",defaultValue:Tt});if(we!==null){const st={isWaitList:!0,takeaway:Yr,priority:$r,customerId:Je,createdBy:oe?.createdBy||_?.username||"Cajero"};e(O,we||"Sin nota",st),F([]),Bt(""),me(!1),b("Orden en espera","info"),(Ar||G)&&an("/")}},ye=()=>{O.length!==0&&hr(!0)},Ie=()=>{const we={priority:$r,takeaway:Yr,customerId:Je,tableId:se?.id,tableName:se?.name};f(O,Tt||(se?`Mesa ${se.name}`:"Pedido Rpido"),we),F([]),hr(!1),me(!1),b("Pedido enviado a produccin","success"),Ar&&an("/tables")},$e=async()=>{g||await m(!0)},Ze=()=>{const we=parseFloat(Fe);we>0&&(d(we),ve(!1))},We=async()=>{if(Q.length===0){await C({title:"Error",message:"Debe agregar al menos un pago."});return}const we=parseFloat(Le)||0,st=vt==="percent"?J*(we/100):we,At=J-st,xt=Q.reduce((Cr,Ht)=>Cr+(Ht.currency==="USD"?Ht.amount:Ht.amount/Ht.rate),0);if(xt<At-.01&&!await w({title:"Saldo Incompleto",message:`El monto pagado ($${xt.toFixed(2)}) es menor al total ($${At.toFixed(2)}). Desea procesar como venta parcial o crdito?`}))return;const Lt={id:Date.now(),items:O,subtotal:J,total:At,discount:{type:vt,value:we,amount:st},payments:Q,tip:parseFloat(xe)||0,date:new Date().toISOString(),cashier:_?.username||"Cajero",customerId:Je,tableId:se?.id};l("sales",Lt),oe&&r(oe.id),F([]),ue([]),wt(""),Te(""),Z(!1),me(!1),b("Venta completada","success"),Ar&&an("/tables")},Ye=[{id:"efectivo_usd",label:"Efectivo $",color:"#27ae60"},{id:"efectivo_bs",label:"Efectivo Bs",color:"#7f8c8d"},{id:"zelle",label:"Zelle",color:"#582c83"},{id:"pm_banesco",label:"P.Moro Banesco",color:"#209e33"},{id:"punto",label:"Punto Venta",color:"#2980b9"},{id:"credito",label:"Crdito",color:"#e67e22"}],ct=T.useMemo(()=>{let we=t.products||[];return B!=="all"&&(we=we.filter(st=>st.category===B)),P&&(we=we.filter(st=>st.name.toLowerCase().includes(P.toLowerCase()))),we},[t.products,B,P]),lr=async we=>{const st=O.find(xt=>xt.id===we.id)?.quantity||0,At=await S({title:"Ingresar Cantidad",message:`Cantidad para "${we.name}":`,defaultValue:st>0?st.toString():"1",type:"number"});if(At!==null){const xt=parseInt(At);isNaN(xt)||F(Lt=>{const Cr=Lt.findIndex(Lr=>Lr.id===we.id),Ht=[...Lt];return xt<=0?Cr>=0?(Ht.splice(Cr,1),Ht):Lt:Cr>=0?(Ht[Cr]={...Ht[Cr],quantity:xt},Ht):[...Lt,{...we,quantity:xt}]})}},pr=we=>{F(we.items),ee(we),Bt(we.note||""),r(we.id),ht(!1),me(!0)};return h.jsxs("div",{className:"pos-container",style:{height:"100vh",display:"flex",flexDirection:"column",background:"#0a0a0a",color:"white",overflow:"hidden"},children:[h.jsxs("header",{style:{padding:be?"0.4rem 0.5rem":"0.5rem 1rem",background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",gap:be?"0.5rem":"1rem",flexShrink:0,width:"100%",overflow:"hidden"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1,minWidth:0},children:[h.jsx("div",{style:{position:"relative",flex:R?1:"initial",flexShrink:0},children:R?h.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"20px",display:"flex",alignItems:"center",padding:"0 8px",border:"1px solid var(--accent-blue)",minWidth:be?"120px":"200px"},children:[h.jsx(Nu,{size:14}),h.jsx("input",{autoFocus:!0,className:"glass-input",style:{border:"none",background:"transparent",width:"100%",padding:"6px",fontSize:"0.8rem"},placeholder:"Buscar...",value:P,onChange:we=>I(we.target.value),onBlur:()=>!P&&N(!1)}),h.jsx(Fs,{size:14,onClick:()=>{N(!1),I("")},style:{cursor:"pointer"}})]}):h.jsx("button",{className:"glass-button",onClick:()=>N(!0),style:{borderRadius:"50%",width:"36px",height:"36px",padding:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:h.jsx(Nu,{size:18})})}),!R&&h.jsxs("div",{className:`no-scrollbar ${be?"grid grid-rows-2 grid-flow-col":"flex"}`,style:{gap:"0.3rem",overflowX:"auto",padding:"2px 0",flex:1,minWidth:0},children:[h.jsx("button",{className:`glass-button ${B==="all"?"primary":""}`,onClick:()=>j("all"),style:{whiteSpace:"nowrap",borderRadius:"20px",padding:"3px 10px",fontSize:"0.8rem"},children:"Todos"}),k.map(we=>h.jsx("button",{className:`glass-button ${B===we.id?"primary":""}`,onClick:()=>j(we.id),style:{whiteSpace:"nowrap",borderRadius:"20px",padding:"3px 10px",fontSize:"0.8rem"},children:we.label},we.id))]})]}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexShrink:0},children:[h.jsxs("button",{className:"glass-button",onClick:()=>ht(!0),style:{position:"relative",padding:be?"8px":"0.5rem 1rem"},children:[h.jsx(bu,{size:20}),Pt.length>0&&h.jsx("span",{style:{position:"absolute",top:-5,right:-5,background:"var(--accent-orange)",borderRadius:"50%",width:"18px",height:"18px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:Pt.length})]}),h.jsx("button",{className:"glass-button",onClick:()=>qn(!0),style:{padding:be?"8px":"0.5rem 1rem"},children:h.jsx(WP,{size:20})}),be&&h.jsxs("button",{className:"primary-button",onClick:()=>me(!0),style:{gap:"5px",padding:"8px 12px"},children:[h.jsx(_u,{size:18}),h.jsx("span",{className:"font-bold",children:gn(J)})]})]})]}),h.jsxs("main",{style:{flex:1,display:"flex",overflow:"hidden"},children:[h.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1rem"},className:"no-scrollbar",children:h.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${be?"130px":"160px"}, 1fr))`,gap:"1rem",gridAutoRows:"min-content",alignContent:"start"},children:ct.map(we=>h.jsx($te,{product:{...we,quantity:O.find(st=>st.id===we.id)?.quantity||0},onAdd:he,onRemove:Ce,onLongPress:lr,priceDisplay:gn(we.price)},we.id))})}),!be&&h.jsx("aside",{style:{width:"350px",background:"rgba(0,0,0,0.2)",borderLeft:"1px solid rgba(255,255,255,0.1)",display:"flex",flexDirection:"column"},children:h.jsx(w6,{cart:O,onRemove:Ce,onAdd:he,onClear:Me,onPay:()=>Z(!0),total:J,onHold:pe,onSendToKitchen:ye,currentTable:se,formatPrice:gn})})]}),be&&ie&&h.jsx("div",{style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(10px)"},children:h.jsxs("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:"90%",background:"#121212",display:"flex",flexDirection:"column",overflow:"hidden"},children:[h.jsxs("div",{style:{padding:"1rem",display:"flex",justifyContent:"space-between",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[h.jsxs("h2",{style:{fontWeight:"bold"},children:["Carrito (",O.length,")"]}),h.jsx(Fs,{size:24,onClick:()=>me(!1)})]}),h.jsx("div",{style:{flex:1,minHeight:0},children:h.jsx(w6,{cart:O,onRemove:Ce,onAdd:he,onClear:Me,onPay:()=>Z(!0),total:J,onHold:pe,onSendToKitchen:ye,currentTable:se,formatPrice:gn})})]})}),h.jsx(Ir,{isOpen:U,onClose:()=>Z(!1),title:h.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[h.jsx("span",{className:"text-lg font-black tracking-tight",children:"Procesar Pago"}),h.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full border transition-all duration-300 ${g?"bg-orange-500/20 border-orange-500/50 animate-pulse":"bg-orange-500/10 border-orange-500/20 hover:border-orange-500/40"} shadow-sm cursor-pointer`,children:[h.jsx("span",{className:"text-[9px] text-orange-400 font-extrabold uppercase tracking-widest hover:text-orange-300 transition-colors",onClick:we=>{we.stopPropagation(),$e()},title:"Actualizar desde BCV",children:g?"Cargando...":"Tasa"}),H?h.jsx("input",{autoFocus:!0,className:"bg-transparent text-lg font-black text-white font-mono w-24 outline-none border-b border-orange-500/50 text-center",value:Fe,onChange:we=>Se(we.target.value),onBlur:Ze,onKeyDown:we=>{we.key==="Enter"&&Ze(),we.key==="Escape"&&ve(!1)}}):h.jsx("span",{className:"text-lg font-black text-white font-mono hover:scale-105 transition-transform",onClick:()=>{Se(t.exchangeRate.toString()),ve(!0)},title:"Clic para editar manual",children:x(t.exchangeRate,"Bs",2)}),h.jsx("span",{className:"text-[9px] text-orange-400/60 font-bold uppercase",children:"Bs"})]})]}),fullscreen:be,footer:h.jsxs("button",{className:`primary-button w-full py-4 text-xl font-black flex items-center justify-center gap-3 shadow-xl ${Q.length===0?"opacity-50 grayscale":"shadow-orange-600/20"}`,style:{borderRadius:"12px"},disabled:Q.length===0,onClick:We,children:[h.jsx(_u,{size:24}),"FINALIZAR VENTA"]}),children:h.jsx("div",{className:"animate-fade-in text-white h-full flex flex-col no-scrollbar",children:h.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[h.jsxs("div",{className:"glass-panel p-5 text-center border-orange-500/40 bg-orange-500/10 relative overflow-hidden cursor-pointer active:scale-95 transition-transform",style:{borderRadius:"18px"},onClick:()=>ae(we=>we==="USD"?"BS":"USD"),children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 -mr-12 -mt-12 rounded-full"}),h.jsxs("span",{className:"text-[10px] text-orange-400 font-black uppercase tracking-[0.2em] block mb-2",children:["SALDO PENDIENTE (",fe,")"]}),(()=>{const we=parseFloat(Le)||0,st=parseFloat(xe)||0,At=t.exchangeRate||1;let xt=0;vt==="percent"?xt=J*(we/100):vt==="USD"?xt=we:vt==="BS"&&(xt=we/At);let Lt=0;Ne==="percent"?Lt=J*(st/100):Ne==="USD"?Lt=st:Ne==="BS"&&(Lt=st/At);const Cr=J-xt+Lt,Ht=Q.reduce((zr,xr)=>zr+(xr.currency==="USD"?xr.amount:xr.amount/xr.rate),0),Lr=Math.max(0,Cr-Ht);return h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-5xl font-black text-white flex items-center justify-center gap-2",children:fe==="USD"?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-2xl text-orange-500/60",children:"$"}),Lr.toFixed(2)]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-2xl text-orange-500/60 font-mono",children:"Bs"}),x(Lr*At,"Bs",2)]})}),h.jsxs("div",{className:"flex flex-col items-center gap-1 mt-4 pt-3 border-t border-white/5",children:[h.jsxs("div",{className:"text-xs flex items-center gap-2",children:[h.jsx("span",{className:"text-orange-400 font-bold uppercase tracking-widest",children:"Base:"}),h.jsxs("span",{className:"text-white font-bold",children:["$",J.toFixed(2)," / Bs ",x(J*At,"Bs",2)]})]}),xt>0&&h.jsxs("div",{className:"text-xs flex items-center gap-2",children:[h.jsx("span",{className:"text-red-400 font-bold uppercase tracking-widest",children:"Descuento:"}),h.jsxs("span",{className:"text-white font-bold",children:["-$",xt.toFixed(2)," / -Bs ",x(xt*At,"Bs",2)]})]}),Lt>0&&h.jsxs("div",{className:"text-xs flex items-center gap-2",children:[h.jsx("span",{className:"text-green-400 font-bold uppercase tracking-widest",children:"Propina:"}),h.jsxs("span",{className:"text-white font-bold",children:["$",Lt.toFixed(2)," / Bs ",x(Lt*At,"Bs",2)]})]}),h.jsxs("div",{className:"text-xs flex items-center gap-2",children:[h.jsx("span",{className:"text-orange-400 font-bold uppercase tracking-widest",children:"Total Neto:"}),h.jsxs("span",{className:"text-white font-black",children:["$",Cr.toFixed(2)," / Bs ",x(Cr*At,"Bs",2)]})]})]})]})})()]}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 min-h-0",children:[h.jsxs("div",{className:"flex-[1.2] flex flex-col gap-4",children:[h.jsxs("div",{className:"glass-panel p-4 border-orange-500/20 bg-orange-500/5 relative overflow-hidden",style:{borderRadius:"16px"},children:[h.jsx("label",{className:"text-[10px] font-bold text-orange-400 mb-3 block uppercase tracking-widest",children:"Registrar Pago"}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("input",{type:"number",className:"glass-input w-full text-3xl font-black p-4 text-center ring-inset focus:ring-1 ring-orange-500/50",style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px"},value:q,onChange:we=>K(we.target.value),placeholder:"0.00"}),h.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-black text-lg",children:(()=>{const we=Ye.find(st=>st.label===Ge);return we?.label.toLowerCase().includes("bs")||we?.label.toLowerCase().includes("punto")||we?.label.toLowerCase().includes("movil")?"Bs":"$"})()})]}),h.jsxs("select",{className:"glass-input h-auto px-4 text-sm font-bold sm:w-44 bg-white/5",style:{borderRadius:"12px"},value:Ge,onChange:we=>He(we.target.value),children:[h.jsx("option",{value:"",children:"Mtodo..."}),Ye.map(we=>h.jsx("option",{value:we.label,children:we.label},we.id))]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"glass-button flex-1 text-[10px] font-bold py-3 border-green-500/30 text-green-400 bg-green-500/5",style:{borderRadius:"10px"},onClick:()=>{const we=parseFloat(Le)||0,st=parseFloat(xe)||0,At=t.exchangeRate||1;let xt=0;vt==="percent"?xt=J*(we/100):vt==="USD"?xt=we:vt==="BS"&&(xt=we/At);let Lt=0;Ne==="percent"?Lt=J*(st/100):Ne==="USD"?Lt=st:Ne==="BS"&&(Lt=st/At);const Cr=J-xt+Lt,Ht=Q.reduce((zr,xr)=>zr+(xr.currency==="USD"?xr.amount:xr.amount/xr.rate),0),Lr=Math.max(0,Cr-Ht);K(fe==="BS"?(Lr*At).toFixed(2):Lr.toFixed(2))},children:"Monto Pendiente"}),h.jsxs("button",{className:"primary-button flex-[2] p-3 text-lg font-black flex items-center justify-center gap-2 shadow-lg",style:{borderRadius:"10px"},onClick:()=>{if(!q||!Ge)return;const we=Ge,st=we.toLowerCase().includes("bs")||we.toLowerCase().includes("punto")||we.toLowerCase().includes("pago movil"),At=parseFloat(q);if(we.toLowerCase().includes("efectivo")){const xt=parseFloat(Le)||0,Lt=parseFloat(xe)||0,Cr=t.exchangeRate||1;let Ht=0;vt==="percent"?Ht=J*(xt/100):vt==="USD"?Ht=xt:vt==="BS"&&(Ht=xt/Cr);let Lr=0;Ne==="percent"?Lr=J*(Lt/100):Ne==="USD"?Lr=Lt:Ne==="BS"&&(Lr=Lt/Cr);const zr=J-Ht+Lr,xr=Q.reduce((Fc,rr)=>Fc+(rr.currency==="USD"?rr.amount:rr.amount/rr.rate),0),Hs=Math.max(0,zr-xr);Qe({method:we,amount:At,debtAmount:Hs,currency:st?"BS":"USD",rate:t.exchangeRate}),le(!0)}else ue([...Q,{id:Date.now(),method:we,amount:At,currency:st?"BS":"USD",rate:t.exchangeRate}]),K("")},children:["AGREGAR PAGO ",h.jsx(VP,{size:20})]})]})]})]}),h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 lg:grid-cols-6 gap-3 py-2",children:[1,5,10,20,50,100].map(we=>h.jsxs("button",{className:"glass-panel py-3 text-sm font-black border-white/5 bg-white/5 hover:bg-orange-600/20 hover:border-orange-500/40 active:scale-95 transition-all text-gray-400 hover:text-white",style:{borderRadius:"14px"},onClick:()=>K(we.toString()),children:["+$",we]},we))}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[h.jsxs("div",{className:"glass-panel p-4 border-white/10 bg-white/5 flex flex-col",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-2 block tracking-widest",children:"Descuento"}),h.jsxs("div",{className:"flex gap-2 mt-auto",children:[h.jsx("input",{type:"number",className:"glass-input p-2 flex-1 text-base font-black text-center bg-transparent border-b border-white/10",style:{border:"none",borderBottom:"2px solid rgba(255,255,255,0.05)",borderRadius:0},value:Le,onChange:we=>wt(we.target.value),placeholder:"0"}),h.jsx("div",{className:"flex bg-black/20 rounded-xl p-1 border border-white/5",children:["percent","USD","BS"].map(we=>h.jsx("button",{className:`w-9 h-9 flex items-center justify-center rounded-lg font-black text-[10px] transition-all duration-200 active:scale-95 ${vt===we?"bg-orange-600 text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,onClick:()=>St(we),children:we==="percent"?"%":we==="USD"?"$":"Bs"},we))})]})]}),h.jsxs("div",{className:"glass-panel p-4 border-white/10 bg-white/5 flex flex-col",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-2 block tracking-widest",children:"Propina"}),h.jsxs("div",{className:"flex gap-2 mt-auto",children:[h.jsx("input",{type:"number",className:"glass-input p-2 flex-1 text-base font-black text-center bg-transparent border-b border-white/10",style:{border:"none",borderBottom:"2px solid rgba(255,255,255,0.05)",borderRadius:0},value:xe,onChange:we=>Te(we.target.value),placeholder:"0.00"}),h.jsx("div",{className:"flex bg-black/20 rounded-xl p-1 border border-white/5",children:["percent","USD","BS"].map(we=>h.jsx("button",{className:`w-9 h-9 flex items-center justify-center rounded-lg font-black text-[10px] transition-all duration-200 active:scale-95 ${Ne===we?"bg-orange-600 text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,onClick:()=>X(we),children:we==="percent"?"%":we==="USD"?"$":"Bs"},we))})]})]})]})]}),h.jsxs("div",{className:"flex-1 flex flex-col gap-3 min-h-[300px]",children:[h.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest px-1",children:["Pagos Registrados (",Q.length,")"]}),h.jsx("div",{className:"flex-1 overflow-y-auto flex flex-col gap-2 no-scrollbar p-1",children:Q.length===0?h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-700 border-2 border-dashed border-white/5 rounded-2xl opacity-40",children:[h.jsx(TE,{size:40,className:"mb-2"}),h.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin pagos registrados"})]}):Q.map(we=>h.jsxs("div",{className:"glass-panel p-3 flex justify-between items-center bg-white/5 border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-xl text-orange-400",children:we.method.toLowerCase().includes("efectivo")?h.jsx(UP,{size:20}):h.jsx(zf,{size:20})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase block tracking-tighter",children:we.method}),h.jsxs("span",{className:"text-lg font-black text-white italic",children:[we.currency==="BS"?"Bs":"$"," ",x(we.amount,we.currency,2)]})]})]}),h.jsx("button",{className:"w-10 h-10 flex items-center justify-center text-red-400 bg-red-400/0 hover:bg-red-400/10 rounded-full",onClick:()=>ue(st=>st.filter(At=>At.id!==we.id)),children:h.jsx(qa,{size:18})})]},we.id))})]})]}),h.jsx("div",{className:"mt-2",children:h.jsx("button",{className:"glass-button w-full py-3.5 text-sm font-black uppercase tracking-widest text-gray-500 hover:text-gray-300 border-white/5 hover:bg-white/5",style:{borderRadius:"14px"},onClick:()=>Z(!1),children:"VOLVER AL CARRITO"})})]})})}),h.jsx(Ir,{isOpen:bt,onClose:()=>ht(!1),title:"rdenes en Espera",fullscreen:be,children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",height:"100%"},children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:`glass-button flex-1 ${Ot==="active"?"primary":""}`,onClick:()=>mt("active"),children:"Activas"}),h.jsx("button",{className:`glass-button flex-1 ${Ot==="trash"?"primary":""}`,onClick:()=>mt("trash"),children:"Papelera"})]}),h.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.75rem"},children:Ot==="active"?Pt.length===0?h.jsx("p",{className:"text-center text-gray-500 py-10",children:"No hay rdenes pendientes"}):Pt.map(we=>h.jsxs("div",{className:"glass-panel p-4 flex justify-between items-center bg-white/5",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-lg",children:we.note||"Sin Nota"}),h.jsxs("span",{className:"text-xs text-gray-400",children:[new Date(we.timestamp).toLocaleTimeString()," - ",we.items.length," items"]}),h.jsxs("p",{className:"text-green-400 font-bold mt-1",children:["Total: $",we.total.toFixed(2)]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"primary-button p-2 px-4 text-sm",onClick:()=>pr(we),children:"Recobrar"}),h.jsx("button",{className:"glass-button p-2 text-red-500",onClick:()=>n(we.id),children:h.jsx(Fs,{size:20})})]})]},we.id)):ai.length===0?h.jsx("p",{className:"text-center text-gray-500 py-10",children:"Papelera vaca"}):ai.map(we=>h.jsxs("div",{className:"glass-panel p-4 flex justify-between items-center opacity-70",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold",children:we.note||"Sin Nota"}),h.jsxs("span",{className:"text-[10px] text-gray-400",children:["Cancelado: ",new Date(we.cancelledAt).toLocaleTimeString()]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"glass-button text-xs py-1 px-2",onClick:()=>a(we.id),children:"Restaurar"}),h.jsx("button",{className:"glass-button text-red-600 border-red-600/30 py-1 px-2",onClick:()=>i(we.id),children:h.jsx(qa,{size:16})})]})]},we.id))})]})}),h.jsx(Ir,{isOpen:pn,onClose:()=>qn(!1),title:"Historial de Ventas",fullscreen:be,children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",height:"100%"},children:[_?.role!=="cashier"&&h.jsxs("div",{className:"glass-panel p-4 bg-green-500/10 border-green-500/30 text-center",children:[h.jsx("span",{className:"text-xs text-green-400 font-bold",children:"VENTAS TOTALES (HOY)"}),h.jsxs("h2",{className:"text-3xl font-black text-green-500",children:["$",(t.sales||[]).reduce((we,st)=>we+st.total,0).toFixed(2)]})]}),h.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem"},children:(t.sales||[]).slice().reverse().slice(0,_?.role==="cashier"?4:void 0).map(we=>h.jsxs("div",{className:"glass-panel p-3 text-xs bg-white/5 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("span",{className:"font-bold block",children:[new Date(we.date).toLocaleTimeString()," - ",we.cashier]}),h.jsxs("span",{className:"text-gray-400",children:[we.items.length," productos | ",we.paymentMethod]})]}),h.jsxs("span",{className:"text-lg font-black text-blue-400",children:["$",we.total.toFixed(2)]})]},we.id))})]})}),h.jsx(Ir,{isOpen:ia,onClose:()=>hr(!1),title:"Enviar a Produccin",children:h.jsxs("div",{className:"flex flex-col gap-5 p-2",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Prioridad de la Orden"}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:["normal","priority","high"].map(we=>h.jsx("button",{className:`p-3 rounded-lg text-xs font-bold border ${$r===we?"bg-blue-600 border-blue-400":"bg-white/5 border-white/10"}`,onClick:()=>nn(we),children:we.toUpperCase()},we))})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Tipo de Entrega"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{className:`p-4 rounded-xl flex flex-col items-center gap-2 border ${Yr?"bg-white/5 border-white/10":"bg-orange-600 border-orange-400"}`,onClick:()=>sa(!1),children:[h.jsx(_A,{size:24})," ",h.jsx("span",{className:"font-bold",children:"PARA AQU"})]}),h.jsxs("button",{className:`p-4 rounded-xl flex flex-col items-center gap-2 border ${Yr?"bg-indigo-600 border-indigo-400":"bg-white/5 border-white/10"}`,onClick:()=>sa(!0),children:[h.jsx(_u,{size:24})," ",h.jsx("span",{className:"font-bold",children:"PARA LLEVAR"})]})]})]}),h.jsx("button",{className:"primary-button p-4 text-xl font-black mt-2",onClick:Ie,children:"CONFIRMAR Y ENVIAR"})]})}),h.jsx(cM,{isOpen:tt,onClose:()=>le(!1),amount:_e?.amount||0,debtAmount:_e?.currency==="BS"?_e.debtAmount*_e.rate:_e?.debtAmount,currency:_e?.currency,denominationsConfig:_e?.currency==="BS"?t.denominationsBS:t.denominationsUSD,onConfirm:(we,st,At,xt)=>{const Lt=_e?.amount||0,Cr=Math.min(st,Lt);ue([...Q,{..._e,id:Date.now(),amount:Cr,denominations:we,received:st,change:At,changeMethod:xt}]),le(!1),Qe(null),K("")}}),h.jsx(Hte,{isOpen:Xe,onClose:()=>it(!1),onSelectClient:we=>{rt(we.id),it(!1)}}),be&&ie&&h.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm",onClick:()=>me(!1)})]})},Kf=({columns:e,data:t,actions:r,onRowClick:n})=>h.jsxs("div",{className:"glass-panel no-scrollbar",style:{overflowX:"auto"},children:[h.jsxs("table",{className:"desktop-table",style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[h.jsx("thead",{children:h.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)",background:"rgba(0,0,0,0.2)"},children:[e.map((a,i)=>h.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"var(--text-secondary)",fontWeight:"600",whiteSpace:"nowrap"},children:a.header},i)),r&&h.jsx("th",{style:{padding:"0.75rem"}})]})}),h.jsx("tbody",{children:t.map((a,i)=>h.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:n?"pointer":"default",transition:"background 0.2s"},className:n?"row-clickable":"",onClick:s=>{n&&!s.target.closest("button")&&!s.target.closest("a")&&n(a)},children:[e.map((s,l)=>h.jsx("td",{style:{padding:"0.75rem",whiteSpace:"nowrap"},children:s.render?s.render(a):a[s.accessor]},l)),r&&h.jsx("td",{style:{padding:"0.75rem",textAlign:"right",whiteSpace:"nowrap"},children:r(a)})]},a.id||i))})]}),h.jsx("div",{className:"mobile-cards",style:{display:"none",flexDirection:"column",gap:"1rem"},children:t.map((a,i)=>h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255,255,255,0.03)",cursor:n?"pointer":"default"},onClick:s=>{n&&!s.target.closest("button")&&!s.target.closest("a")&&n(a)},children:[e.map((s,l)=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.05)",paddingBottom:"0.5rem"},children:[h.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:[s.header,":"]}),h.jsx("span",{style:{textAlign:"right",fontWeight:"500"},children:s.render?s.render(a):a[s.accessor]})]},l)),r&&h.jsx("div",{style:{marginTop:"1rem",display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:r(a)})]},a.id||i))}),h.jsx("style",{children:`
                @media (max-width: 768px) {
                    .desktop-table { display: none !important; }
                    .mobile-cards { display: flex !important; }
                }
                .row-clickable:hover {
                    background: rgba(255, 255, 255, 0.03) !important;
                }
            `})]}),Wte=()=>{const{data:e,addItem:t,deleteItem:r,updateItem:n,uploadToDrive:a}=Jn();e.inventory;const{confirm:i,alert:s}=$n(),[l,u]=T.useState(!1),[f,d]=T.useState(null),[m,g]=T.useState(!1),[x,y]=T.useState({supplierId:"",paymentCondition:"Contado",invoiceNumber:"",date:new Date().toISOString().split("T")[0]}),[_,b]=T.useState([]),[w,C]=T.useState({name:"",quantity:"",unit:"Litros",costPrice:"",hasIVA:!1}),S=async N=>{await i({title:"Eliminar tem",message:"Ests seguro de eliminar este tem?"})&&r("inventory",N)},O=async()=>{if(!w.name||!w.quantity||!w.costPrice)return await s({title:"Datos incompletos",message:"Completa nombre, cantidad y precio"});const N={id:Date.now(),name:w.name,quantity:parseFloat(w.quantity),unit:w.unit,costPrice:parseFloat(w.costPrice),hasIVA:w.hasIVA};b([..._,N]),C({name:"",quantity:"",unit:"Litros",costPrice:"",hasIVA:!1})},F=N=>{b(_.filter(M=>M.id!==N))},B=N=>N.quantity*N.costPrice,j=N=>N.hasIVA?B(N)*.16:0,k=N=>B(N)+j(N),P={subtotal:_.reduce((N,M)=>N+B(M),0),iva:_.reduce((N,M)=>N+j(M),0),total:_.reduce((N,M)=>N+k(M),0)},I=async()=>{if(!x.supplierId)return await s({title:"Error",message:"Debes seleccionar un proveedor"});if(_.length===0)return await s({title:"Error",message:"Debes agregar al menos un producto"});if(!f)return await s({title:"Foto requerida",message:" La foto de la factura es OBLIGATORIA"});g(!0);const N=await a(f,"Facturas Inventario");if(g(!1),!N||!N.webViewLink)return await s({title:"Error de carga",message:"Error al subir la foto. Intenta de nuevo."});const M=N.webViewLink,ce={...x,items:_,totals:P,photo:M,timestamp:new Date().toISOString()};if(t("inventoryEntries",ce),_.forEach(fe=>{const ae=e.inventory.find(ie=>ie.name.toLowerCase()===fe.name.toLowerCase());if(ae){const ie=ae.stock+fe.quantity,me=ie<10?"low":"ok";n("inventory",ae.id,{stock:ie,status:me})}else{const ie=fe.quantity<10?"low":"ok";t("inventory",{name:fe.name,category:"Materia Prima",stock:fe.quantity,unit:fe.unit,status:ie,cost:fe.costPrice})}}),x.paymentCondition==="Credito"){const fe=e.suppliers.find(ae=>ae.id===parseInt(x.supplierId));if(fe){const ae=(fe.debt||0)+P.total;n("suppliers",fe.id,{debt:ae})}}u(!1),y({supplierId:"",paymentCondition:"Contado",invoiceNumber:"",date:new Date().toISOString().split("T")[0]}),b([]),d(null),await s({title:"xito",message:" Entrada registrada exitosamente"})},R=[{header:"Nombre",accessor:"name"},{header:"Categora",accessor:"category"},{header:"Stock",accessor:"stock",render:N=>h.jsxs("span",{style:{fontWeight:"bold",color:N.status==="low"?"var(--accent-red)":"var(--text-primary)"},children:[N.stock," ",N.unit]})},{header:"Estado",accessor:"status",render:N=>h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.status==="ok"?h.jsx(Ep,{size:16,color:"var(--accent-green)"}):h.jsx(EA,{size:16,color:"var(--accent-red)"}),h.jsx("span",{style:{color:N.status==="ok"?"var(--accent-green)":"var(--accent-red)"},children:N.status==="ok"?"Normal":"Bajo"})]})}];return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx("h1",{style:{fontSize:"2rem"},children:"Inventario"}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},onClick:()=>u(!0),children:[h.jsx(fs,{size:20}),"Registrar Entrada"]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.5rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Total Leche"}),h.jsxs("p",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:[e.inventory.find(N=>N.name.includes("Leche"))?.stock||0," L"]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Bajos de Stock"}),h.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--accent-red)"},children:e.inventory.filter(N=>N.status==="low").length})]})]}),h.jsx(Kf,{columns:R,data:e.inventory,actions:N=>h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-red)"},onClick:()=>S(N.id),title:"Eliminar",children:h.jsx(qa,{size:18})})}),h.jsx(Ir,{isOpen:l,onClose:()=>{u(!1),b([]),d(null)},title:"Registrar Entrada de Inventario",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxHeight:"70vh",overflowY:"auto"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0, 242, 255, 0.05)"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.75rem",color:"var(--accent-blue)"},children:"Datos de la Factura"}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Proveedor *"}),h.jsxs("select",{className:"glass-input",value:x.supplierId,onChange:N=>y({...x,supplierId:N.target.value}),style:{fontSize:"0.9rem",padding:"0.5rem"},children:[h.jsx("option",{value:"",children:"Seleccionar..."}),e.suppliers.map(N=>h.jsx("option",{value:N.id,children:N.name},N.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Nro. Factura"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"opcional",value:x.invoiceNumber,onChange:N=>y({...x,invoiceNumber:N.target.value}),style:{fontSize:"0.9rem",padding:"0.5rem"}})]})]}),h.jsxs("div",{style:{marginTop:"0.75rem"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Condicin de Pago"}),h.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[h.jsx("input",{type:"radio",checked:x.paymentCondition==="Contado",onChange:()=>y({...x,paymentCondition:"Contado"})}),"Contado"]}),h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[h.jsx("input",{type:"radio",checked:x.paymentCondition==="Credito",onChange:()=>y({...x,paymentCondition:"Credito"})}),"Crdito"]})]})]}),h.jsxs("div",{style:{marginTop:"0.75rem"},children:[h.jsxs("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Foto de Factura ",h.jsx("span",{style:{color:"var(--accent-red)"},children:"* OBLIGATORIA"})]}),h.jsxs("label",{className:"glass-button",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"center",width:"100%",padding:"0.75rem"},children:[h.jsx(dv,{size:18}),f?" Foto Cargada - Cambiar":" Tomar/Subir Foto",h.jsx("input",{type:"file",accept:"image/*",capture:"environment",style:{display:"none"},onChange:N=>d(N.target.files[0])})]}),f&&h.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--accent-green)",marginTop:"0.25rem",textAlign:"center"},children:[" ",f.name]})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0,0,0,0.3)"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.75rem",color:"var(--accent-orange)"},children:"Productos de la Entrada"}),_.length>0&&h.jsx("div",{style:{marginBottom:"1rem",maxHeight:"200px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem"},children:_.map(N=>h.jsxs("div",{className:"glass-panel",style:{padding:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255,255,255,0.03)"},children:[h.jsxs("div",{style:{flex:1},children:[h.jsxs("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:"bold"},children:[N.name," ",N.hasIVA&&h.jsx("span",{style:{fontSize:"0.7rem",color:"var(--accent-orange)"},children:"(+IVA)"})]}),h.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-secondary)"},children:[N.quantity," ",N.unit,"  $",N.costPrice.toFixed(2)," =",h.jsxs("span",{style:{color:"var(--accent-green)",fontWeight:"bold"},children:[" $",k(N).toFixed(2)]})]})]}),h.jsx("button",{onClick:()=>F(N.id),className:"glass-button",style:{padding:"0.25rem",color:"var(--accent-red)"},children:h.jsx(Fs,{size:14})})]},N.id))}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[h.jsxs("div",{children:[h.jsx("input",{type:"text",list:"existing-products",className:"glass-input",placeholder:"Nombre del producto (escribe o selecciona) *",value:w.name,onChange:N=>{const M=N.target.value;C({...w,name:M});const ce=e.products.find(fe=>fe.name.toLowerCase()===M.toLowerCase());ce&&ce.unit&&C({...w,name:M,unit:ce.unit})},style:{fontSize:"0.9rem",padding:"0.5rem"}}),h.jsxs("datalist",{id:"existing-products",children:[e.products.map((N,M)=>h.jsx("option",{value:N.name,children:N.category},M)),e.inventory.map((N,M)=>h.jsx("option",{value:N.name,children:"Inventario"},`inv-${M}`))]}),h.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",margin:"0.25rem 0 0 0"},children:" Empieza a escribir para ver sugerencias"})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.5rem"},children:[h.jsx("input",{type:"number",className:"glass-input",placeholder:"Cantidad *",value:w.quantity,onChange:N=>C({...w,quantity:N.target.value}),style:{fontSize:"0.9rem",padding:"0.5rem"}}),h.jsxs("select",{className:"glass-input",value:w.unit,onChange:N=>C({...w,unit:N.target.value}),style:{fontSize:"0.9rem",padding:"0.5rem"},children:[h.jsx("option",{children:"Litros"}),h.jsx("option",{children:"Kilos"}),h.jsx("option",{children:"Unidades"}),h.jsx("option",{children:"Galones"})]}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"Costo ($) *",value:w.costPrice,onChange:N=>C({...w,costPrice:N.target.value}),style:{fontSize:"0.9rem",padding:"0.5rem"}})]}),h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.85rem"},children:[h.jsx("input",{type:"checkbox",checked:w.hasIVA,onChange:N=>C({...w,hasIVA:N.target.checked})}),"Este producto tiene IVA (16%)"]}),h.jsx("button",{onClick:O,className:"glass-button accent",style:{fontSize:"0.85rem",padding:"0.5rem",width:"100%"},children:"+ Agregar a la Lista"})]})]}),_.length>0&&h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0, 255, 0, 0.05)",border:"1px solid rgba(0, 255, 0, 0.2)"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",color:"var(--accent-green)"},children:"Resumen de Costos"}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.85rem",marginBottom:"0.25rem"},children:[h.jsx("span",{children:"Subtotal:"}),h.jsxs("span",{children:["$",P.subtotal.toFixed(2)]})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.85rem",marginBottom:"0.25rem",color:"var(--accent-orange)"},children:[h.jsx("span",{children:"IVA (16%):"}),h.jsxs("span",{children:["$",P.iva.toFixed(2)]})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.1rem",fontWeight:"bold",paddingTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[h.jsx("span",{children:"TOTAL:"}),h.jsxs("span",{style:{color:"var(--accent-green)"},children:["$",P.total.toFixed(2)]})]}),h.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem",marginBottom:0},children:[_.length," producto(s) en esta entrada"]})]}),h.jsx("button",{className:"glass-button primary",style:{width:"100%",padding:"0.75rem",fontSize:"1rem",fontWeight:"bold"},onClick:I,disabled:m||_.length===0||!f||!x.supplierId,children:m?"Subiendo Foto...":" Guardar Entrada Completa"}),(!f||_.length===0||!x.supplierId)&&h.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent-orange)",textAlign:"center"},children:[!x.supplierId&&h.jsx("p",{style:{margin:"0.25rem 0"},children:" Selecciona un proveedor"}),_.length===0&&h.jsx("p",{style:{margin:"0.25rem 0"},children:" Agrega al menos un producto"}),!f&&h.jsx("p",{style:{margin:"0.25rem 0"},children:" La foto es obligatoria"})]})]})})]})},E6=({products:e,onSelect:t,placeholder:r="Buscar producto..."})=>{const[n,a]=T.useState(""),[i,s]=T.useState(!1),l=e.filter(u=>u.name.toLowerCase().includes(n.toLowerCase())).slice(0,10);return h.jsxs("div",{style:{position:"relative",width:"100%"},children:[h.jsxs("div",{style:{position:"relative"},children:[h.jsx("input",{type:"text",className:"glass-input",placeholder:r,value:n,onChange:u=>{a(u.target.value),s(!0)},onFocus:()=>s(!0),style:{paddingRight:"2.5rem"}}),h.jsx("div",{style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",opacity:.5},children:h.jsx(Nu,{size:18})})]}),i&&n.length>0&&h.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:100,background:"#1a1a1a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 10px 25px rgba(0,0,0,0.5)"},children:[l.map(u=>h.jsxs("div",{onClick:()=>{t(u),a(""),s(!1)},style:{padding:"0.75rem",borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:"pointer",transition:"background 0.2s"},className:"hover-card",children:[h.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:u.name}),h.jsxs("div",{style:{fontSize:"0.75rem",opacity:.7},children:["Costo: $",u.costPrice?.toFixed(2)||"0.00"," | Venta: $",u.price?.toFixed(2)||"0.00"]})]},u.id)),l.length===0&&h.jsx("div",{style:{padding:"1rem",textAlign:"center",opacity:.5,fontSize:"0.85rem"},children:"No se encontraron productos"})]})]})},Gte=()=>{const{data:e,addItem:t,deleteItem:r,updateItem:n,uploadToDrive:a}=Jn();e.suppliers;const{confirm:i,alert:s}=$n(),[l,u]=T.useState(!1),[f,d]=T.useState(!1),[m,g]=T.useState(null),[x,y]=T.useState(!1),[_,b]=T.useState(!1),[w,C]=T.useState(!1),[S,O]=T.useState(null),[F,B]=T.useState(!1),[j,k]=T.useState(null),[P,I]=T.useState(null),R=e.suppliers.find(le=>le.id===j),N=R?.transactions?.find(le=>le.id===S),[M,ce]=T.useState(!1),[fe,ae]=T.useState(null),[ie,me]=T.useState("recent"),[be,de]=T.useState({name:"",contact:"",phone:"",products:[],debt:0,lastDelivery:new Date().toLocaleDateString(),paymentMethod:"Efectivo",bankName:"",reference:""}),[U,Z]=T.useState({name:"",costPrice:"",salePrice:""}),[te,W]=T.useState({supplierId:null,amount:"",source:"Caja Chica",reference:"",proof:null}),[xe,Te]=T.useState({supplierId:null,productId:"",quantity:"",costPrice:0}),Ne=async le=>{const _e=e.suppliers.find(Le=>Le.id===le);if(_e&&(_e.debt||0)>0)return await s({title:"Accin Bloqueada",message:`No se puede eliminar al proveedor "${_e.name}" porque tiene una deuda pendiente de $${_e.debt.toFixed(2)}. Primero debes saldar la cuenta.`});await i({title:"Eliminar Proveedor",message:"Ests seguro de eliminar este proveedor?"})&&r("suppliers",le)},X=le=>{de({name:le.name||"",contact:le.contact||"",phone:le.phone||"",products:le.products||[],debt:le.debt||0,lastDelivery:le.lastDelivery||new Date().toLocaleDateString(),paymentMethod:le.paymentMethod||"Efectivo",bankName:le.bankName||"",reference:le.reference||""}),ae(le.id),ce(!0),u(!0)},Q=()=>{if(U.productId){const le=(e.products||[]).find(Qe=>Qe.id==U.productId);if(!le||be.products.some(Qe=>Qe.id==le.id))return;const _e={id:le.id,name:le.name,costPrice:parseFloat(U.costPrice||le.costPrice||0),salePrice:parseFloat(U.salePrice||le.price||0),isNewInInventory:!1};de({...be,products:[...be.products,_e]})}else if(U.name){const le={id:Date.now(),name:U.name,costPrice:parseFloat(U.costPrice||0),salePrice:parseFloat(U.salePrice||0),isNewInInventory:!0};de({...be,products:[...be.products,le]})}else return;Z({productId:"",name:"",costPrice:"",salePrice:""})},ue=le=>{de({...be,products:be.products.filter(_e=>_e.id!==le)})},q=async()=>{if(!be.name)return await s({title:"Error",message:"El nombre es obligatorio"});let le=fe;if(M&&fe)n("suppliers",fe,be);else{const _e=Date.now();le=_e,t("suppliers",{...be,id:_e})}be.products&&be.products.length>0&&be.products.forEach(_e=>{_e.isNewInInventory?t("products",{id:_e.id,name:_e.name,costPrice:_e.costPrice,price:_e.salePrice||0,stock:0,category:e.categories&&e.categories[0]?.id||"sin_categoria",supplierId:le,showInPOS:!0}):n("products",_e.id,{supplierId:le})}),u(!1),ce(!1),ae(null),de({name:"",contact:"",phone:"",products:[],debt:0,lastDelivery:new Date().toLocaleDateString(),paymentMethod:"Efectivo",bankName:"",reference:""}),Z({name:"",costPrice:"",salePrice:""})},K=le=>{W({supplierId:le.id,amount:"",inputCurrency:"USD",source:"Caja Chica",reference:"",note:"",proof:null}),d(!0)},H=(le,_e,Qe)=>{const Le=le.exchangeRate||e.exchangeRate||1,wt=le.originalCurrency==="Bs"?le.originalAmount:le.amount*Le,vt=le.originalCurrency==="USD"?le.originalAmount:le.amount,St=`*Confirmacin de Pago - La Autntica POS*

 *Fecha:* ${new Date(le.date).toLocaleDateString()}
 *Proveedor:* ${_e}
`+(le.originalCurrency==="Bs"?` *Monto:* ${wt.toLocaleString("es-VE",{minimumFractionDigits:2})} Bs ($${vt.toFixed(2)})
`:` *Monto:* $${vt.toFixed(2)} (${wt.toLocaleString("es-VE",{minimumFractionDigits:2})} Bs)
`)+` *Tasa:* ${Le.toFixed(2)} Bs/$
 *Mtodo:* ${le.source}
`+(le.reference?` *Ref:* ${le.reference}
`:"")+(le.note?` *Nota:* ${le.note}
`:"")+(le.proof&&!le.proof.includes("Subiendo")&&!le.proof.includes("Fall")||le.localProof?` *Comprobante:* ${le.proof?.startsWith("http")?le.proof:le.localProof}

`:`
`)+"Gracias por su confianza!",Tt=encodeURIComponent(St),Bt=Qe?.replace(/\D/g,"")||"";window.open(`https://wa.me/${Bt}?text=${Tt}`,"_blank")},ve=le=>{const _e=le.exchangeRate||e.exchangeRate,Qe=R?.name||"Proveedor",Le=le.originalCurrency==="Bs"?le.originalAmount:le.amount*_e,wt=le.originalCurrency==="USD"?le.originalAmount:le.amount,vt=le.proof?.startsWith("http")&&!le.proof.includes("Subiendo")?le.proof:le.localProof,St=encodeURIComponent(`Comprobante de Pago - ${Qe}`),Tt=encodeURIComponent(`Confirmacin de Pago - La Autntica POS

Fecha: ${new Date(le.date).toLocaleDateString()}
Proveedor: ${Qe}
Monto: ${le.originalCurrency==="Bs"?`${Le.toLocaleString()} Bs ($${wt.toFixed(2)})`:`$${wt.toFixed(2)} (${Le.toLocaleString()} Bs)`}
Mtodo: ${le.source}
`+(le.reference?`Referencia: ${le.reference}
`:"")+(le.note?`Nota: ${le.note}
`:"")+(vt?`Comprobante: ${vt}
`:"")+"Gracias!");window.location.href=`mailto:?subject=${St}&body=${Tt}`},Fe=async()=>{if(!te.amount||te.amount<=0)return await s({title:"Error",message:"El monto debe ser mayor a 0"});if(!te.source)return await s({title:"Error",message:"Selecciona una fuente de pago"});if(!m)return await s({title:"Comprobante Obligatorio",message:"Debes adjuntar una foto del comprobante para registrar el pago."});const le=e.suppliers.find(it=>it.id===te.supplierId);if(!le)return;const _e=e.exchangeRate||1,Qe=te.inputCurrency==="Bs"?parseFloat(te.amount)/_e:parseFloat(te.amount);if(Qe>le.debt+.01)return await s({title:"Error",message:"El monto no puede ser mayor a la deuda actual"});const Le=Math.max(0,le.debt-Qe),wt=Date.now(),vt=m,St=URL.createObjectURL(vt),Tt={id:wt,date:new Date().toISOString(),type:"Pago",amount:Qe,originalAmount:parseFloat(te.amount),originalCurrency:te.inputCurrency,source:te.source,reference:te.reference,note:te.note,proof:" Subiendo...",localProof:St,exchangeRate:_e,balanceAfter:Le};n("suppliers",le.id,it=>({debt:Le,transactions:[Tt,...it.transactions||[]]})),d(!1),g(null),W(it=>({...it,amount:"",reference:"",note:""}));const Bt=wt+100;t("expenses",{id:Bt,date:new Date().toISOString(),description:`Pago a Proveedor: ${le.name} ${te.note?`- ${te.note}`:""}`,category:"Pagos Proveedores",amount:Qe,method:te.source,proof:m?" Subiendo...":"N/A",localProof:St,supplierId:le.id,transactionId:wt}),(async()=>{let it=null,bt=null;try{const ht=new FormData;ht.append("proof",vt);const Ot=localStorage.getItem("pos_server_url")||`${window.location.protocol}//${window.location.hostname}:3001`;console.log(" Subiendo comprobante a:",`${Ot}/api/upload-proof`);const pn=await(await fetch(`${Ot}/api/upload-proof`,{method:"POST",body:ht})).json();pn.success&&(it=pn.url,n("suppliers",le.id,qn=>({transactions:(qn.transactions||[]).map(aa=>aa.id===wt?{...aa,localProof:it,proof:aa.proof===" Subiendo..."?it:aa.proof}:aa)})),n("expenses",Bt,{proof:it}))}catch(ht){console.error("Local upload failed:",ht)}try{const ht=await a(vt,"ERP La Autentica","Comprobantes Pago");ht&&ht.webViewLink?(bt=ht.webViewLink,n("suppliers",le.id,Ot=>({transactions:(Ot.transactions||[]).map(mt=>mt.id===wt?{...mt,proof:bt,localProof:it||mt.localProof}:mt)})),n("expenses",Bt,{proof:bt})):it?n("suppliers",le.id,Ot=>({transactions:(Ot.transactions||[]).map(mt=>mt.id===wt?{...mt,proof:it}:mt)})):(n("suppliers",le.id,Ot=>({transactions:(Ot.transactions||[]).map(mt=>mt.id===wt?{...mt,proof:" Fall subida"}:mt)})),n("expenses",Bt,{proof:" Fall subida"}))}catch(ht){console.error("Cloud upload failed:",ht),it||n("suppliers",le.id,Ot=>({transactions:(Ot.transactions||[]).map(mt=>mt.id===wt?{...mt,proof:" Fall subida"}:mt)}))}})(),await i({title:"Pago Registrado",message:"Deseas enviar el comprobante por WhatsApp al proveedor?",confirmText:"Enviar WhatsApp",cancelText:"Cerrar"})&&H(Tt,le.name,le.phone)},Se=le=>{const _e=(e.products||[]).filter(Qe=>Qe.supplierId==le.id);if(_e.length===0)return s({title:"Sin Productos",message:"No hay productos vinculados a este proveedor en el Inventario. Primero debes asignar al menos un producto a este proveedor."});Te({supplierId:le.id,productId:_e[0].id,quantity:"",costPrice:_e[0].costPrice||0}),b(!0)},Ge=async()=>{if(!xe.quantity||xe.quantity<=0)return await s({title:"Error",message:"Ingresa una cantidad vlida"});if(!P)return await s({title:"Foto Obligatoria",message:"Debes capturar o subir una foto de la mercanca recibida para continuar."});const le=e.suppliers.find(Tt=>Tt.id===xe.supplierId),_e=(e.products||[]).find(Tt=>Tt.id==xe.productId);if(!_e)return await s({title:"Error",message:"Producto no encontrado en el inventario global."});const Qe=parseFloat(xe.quantity),Le=Qe*(_e.costPrice||0),wt=Date.now(),vt=URL.createObjectURL(P),St=P;I(null),n("suppliers",le.id,Tt=>({debt:(Tt.debt||0)+Le,transactions:[{id:wt,date:new Date().toISOString(),type:"Entrega",productId:_e.id,productName:_e.name,quantity:Qe,amount:Le,balanceAfter:(Tt.debt||0)+Le,proof:" Subiendo...",localProof:vt},...Tt.transactions||[]]})),n("products",_e.id,Tt=>({stock:(Tt.stock||0)+Qe})),b(!1),(async()=>{let Tt="",Bt="";try{const Xe=new FormData;Xe.append("proof",St);const it=localStorage.getItem("pos_server_url")||`${window.location.protocol}//${window.location.hostname}:3001`,ht=await(await fetch(`${it}/api/upload-proof`,{method:"POST",body:Xe})).json();ht.success&&(Tt=ht.url,n("suppliers",le.id,Ot=>({transactions:(Ot.transactions||[]).map(mt=>mt.id===wt?{...mt,localProof:Tt,proof:mt.proof===" Subiendo..."?Tt:mt.proof}:mt)})))}catch(Xe){console.error("Local delivery photo upload failed:",Xe)}try{const Xe=await a(St,"ERP La Autentica","Comprobantes Entrega");Xe&&Xe.webViewLink?(Bt=Xe.webViewLink,n("suppliers",le.id,it=>({transactions:(it.transactions||[]).map(bt=>bt.id===wt?{...bt,proof:Bt,localProof:Tt||bt.localProof}:bt)}))):Tt||n("suppliers",le.id,it=>({transactions:(it.transactions||[]).map(bt=>bt.id===wt?{...bt,proof:" Fall subida"}:bt)}))}catch(Xe){console.error("Drive delivery photo upload failed:",Xe)}})(),await s({title:"Entrega Registrada",message:`Se han aadido ${Qe} unidades de "${_e.name}" al inventario y se sumaron $${Le.toFixed(2)} a la deuda del proveedor.`})},He=le=>{k(le.id),C(!0)},Je=[...e.suppliers].sort((le,_e)=>ie==="debtHigh"?_e.debt-le.debt:ie==="debtLow"?le.debt-_e.debt:ie==="recent"?_e.id-le.id:ie==="old"?le.id-_e.id:0),rt=[{header:"Proveedor",accessor:"name",render:le=>h.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold"},children:le.name})},{header:"Contacto",accessor:"contact"},{header:"Productos",accessor:"products",render:le=>h.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:[(le.products||[]).length>0?le.products.slice(0,2).map((_e,Qe)=>h.jsx("span",{style:{background:"rgba(0, 242, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",border:"1px solid rgba(0, 242, 255, 0.3)",color:"var(--accent-blue)"},children:_e.name},Qe)):h.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Sin productos"}),(le.products||[]).length>2&&h.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["+",le.products.length-2," ms"]})]})},{header:"ltima Entrega",accessor:"lastDelivery"},{header:"Deuda ($)",accessor:"debt",render:le=>h.jsxs("span",{style:{fontWeight:"bold",color:le.debt>0?"var(--accent-red)":"var(--accent-green)"},children:["$",le.debt.toFixed(2)]})}],tt=le=>h.jsxs("div",{style:{display:"flex",gap:"0.4rem",justifyContent:"flex-end"},children:[h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-orange)"},title:"Registrar Entrega",onClick:()=>Se(le),children:h.jsx(NW,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-green)"},title:"Ver Libro Mayor",onClick:()=>He(le),children:h.jsx(OW,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},title:"Llamar",children:h.jsx(YP,{size:16})}),h.jsx("button",{className:"glass-button accent",style:{padding:"0.5rem"},title:"Registrar Pago",onClick:()=>K(le),children:h.jsx(_h,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-blue)"},title:"Editar",onClick:()=>X(le),children:h.jsx(Sp,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-red)"},title:"Eliminar",onClick:()=>Ne(le.id),children:h.jsx(qa,{size:16})})]});return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx("h1",{style:{fontSize:"2rem"},children:"Proveedores"}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},onClick:()=>u(!0),children:[h.jsx(fs,{size:20}),"Nuevo Proveedor"]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.5rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Deuda Total"}),h.jsxs("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--accent-red)"},children:["$",e.suppliers.reduce((le,_e)=>le+_e.debt,0).toFixed(2)]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Proveedores"}),h.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:e.suppliers.length})]})]}),h.jsx("div",{style:{display:"flex",gap:"0.5rem",overflowX:"auto",paddingBottom:"0.5rem"},children:[{id:"recent",label:"Ms Reciente"},{id:"old",label:"Ms Antiguo"},{id:"debtHigh",label:"Mayor Deuda"},{id:"debtLow",label:"Menor Deuda"}].map(le=>h.jsx("button",{className:`glass-button ${ie===le.id?"active":""}`,onClick:()=>me(le.id),style:{fontSize:"0.85rem",background:ie===le.id?"rgba(255,255,255,0.15)":"transparent",borderColor:ie===le.id?"var(--accent-blue)":"rgba(255,255,255,0.1)"},children:le.label},le.id))}),h.jsx(Kf,{columns:rt,data:Je,actions:tt,onRowClick:He}),h.jsx(Ir,{isOpen:f,onClose:()=>d(!1),title:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",paddingRight:"1rem"},children:[h.jsx("span",{children:"Registrar Pago a Proveedor"}),h.jsxs("div",{style:{fontSize:"0.75rem",background:"rgba(255,165,0,0.1)",color:"var(--accent-orange)",padding:"0.2rem 0.6rem",borderRadius:"20px",border:"1px solid rgba(255,165,0,0.2)",fontWeight:"bold"},children:["Tasa: ",e.exchangeRate.toFixed(2)," Bs/$"]})]}),children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[h.jsxs("label",{style:{color:"var(--text-secondary)"},children:["Monto a Pagar (",te.inputCurrency==="USD"?"$":"Bs",")"]}),h.jsxs("div",{style:{display:"flex",background:"rgba(255,255,255,0.05)",borderRadius:"8px",padding:"2px"},children:[h.jsx("button",{className:`glass-button ${te.inputCurrency==="USD"?"active":""}`,style:{padding:"0.2rem 0.6rem",fontSize:"0.7rem",border:"none",background:te.inputCurrency==="USD"?"var(--accent-blue)":"transparent",color:te.inputCurrency==="USD"?"#000":"#fff"},onClick:()=>W({...te,inputCurrency:"USD"}),children:"$"}),h.jsx("button",{className:`glass-button ${te.inputCurrency==="Bs"?"active":""}`,style:{padding:"0.2rem 0.6rem",fontSize:"0.7rem",border:"none",background:te.inputCurrency==="Bs"?"var(--accent-blue)":"transparent",color:te.inputCurrency==="Bs"?"#000":"#fff"},onClick:()=>W({...te,inputCurrency:"Bs"}),children:"Bs"})]})]}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"0.00",value:te.amount,onChange:le=>W({...te,amount:le.target.value})}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",marginTop:"0.25rem"},children:[h.jsxs("span",{style:{color:"var(--text-secondary)"},children:[te.inputCurrency==="USD"?"Equiv. Bs: ":"Equiv. USD: ",h.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold"},children:te.inputCurrency==="USD"?`${((parseFloat(te.amount)||0)*(e.exchangeRate||1)).toLocaleString("es-VE",{minimumFractionDigits:2})} Bs`:`$${((parseFloat(te.amount)||0)/(e.exchangeRate||1)).toFixed(2)}`})]}),h.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Deuda: ",h.jsxs("span",{style:{color:"var(--accent-red)",fontWeight:"bold"},children:["$",e.suppliers.find(le=>le.id===te.supplierId)?.debt.toFixed(2),h.jsxs("span",{style:{fontSize:"0.7rem",marginLeft:"0.25rem"},children:["(",((e.suppliers.find(le=>le.id===te.supplierId)?.debt||0)*(e.exchangeRate||1)).toLocaleString("es-VE",{minimumFractionDigits:0})," Bs)"]})]})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Fuente de Pago"}),h.jsxs("select",{className:"glass-input",value:te.source,onChange:le=>W({...te,source:le.target.value}),children:[h.jsx("option",{value:"",children:"-- Seleccionar --"}),(e.paymentMethods||[]).map(le=>h.jsx("option",{value:le.name,children:le.name},le.id))]})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[h.jsxs("div",{style:{flex:1},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Referencia"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ref...",value:te.reference,onChange:le=>W({...te,reference:le.target.value})})]}),h.jsxs("div",{style:{flex:2},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nota / Observacin"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"...",value:te.note||"",onChange:le=>W({...te,note:le.target.value})})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Comprobante (Obligatorio) "}),h.jsx("input",{type:"file",accept:"image/*",onChange:le=>g(le.target.files[0]),style:{color:"var(--text-secondary)"}})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:Fe,disabled:x,children:x?"Subiendo...":"Confirmar Pago"})]})}),h.jsx(Ir,{isOpen:l,onClose:()=>{u(!1),ce(!1),ae(null),de({name:"",contact:"",phone:"",products:[],debt:0,lastDelivery:new Date().toLocaleDateString(),paymentMethod:"Efectivo",bankName:"",reference:""}),Z({name:"",costPrice:"",salePrice:""})},title:M?"Editar Proveedor":"Registrar Nuevo Proveedor",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nombre del Proveedor"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej: Distribuidora, Lcteos, etc.",value:be.name,onChange:le=>de({...be,name:le.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Persona de Contacto"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Nombre y Apellido",value:be.contact,onChange:le=>de({...be,contact:le.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Telfono"}),h.jsx("input",{type:"tel",className:"glass-input",placeholder:"0414-XXXXXXX",value:be.phone,onChange:le=>de({...be,phone:le.target.value})})]}),h.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"1rem",background:"rgba(0,0,0,0.2)"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.75rem",color:"var(--accent-blue)"},children:"Productos que Suministra"}),be.products.length>0&&h.jsx("div",{style:{marginBottom:"1rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:be.products.map(le=>h.jsxs("div",{className:"glass-panel",style:{padding:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255,255,255,0.03)"},children:[h.jsxs("div",{style:{flex:1},children:[h.jsx("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:"bold"},children:le.name}),h.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-secondary)"},children:["Costo: ",h.jsxs("span",{style:{color:"var(--accent-orange)"},children:["$",le.costPrice.toFixed(2)]}),le.salePrice>0&&h.jsxs("span",{style:{marginLeft:"1rem"},children:["| Venta: ",h.jsxs("span",{style:{color:"var(--accent-green)"},children:["$",le.salePrice.toFixed(2)]})]})]})]}),h.jsx("button",{onClick:()=>ue(le.id),className:"glass-button",style:{padding:"0.25rem 0.5rem",color:"var(--accent-red)"},children:h.jsx(qa,{size:14})})]},le.id))}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[h.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:h.jsxs("select",{className:"glass-input",value:U.productId,onChange:le=>{const _e=(e.products||[]).find(Qe=>Qe.id==le.target.value);Z({...U,productId:le.target.value,name:_e?.name||"",costPrice:_e?.costPrice||"",salePrice:_e?.price||""})},style:{flex:1,fontSize:"0.9rem"},children:[h.jsx("option",{value:"",children:"-- Vincular Producto del Inventario --"}),(e.products||[]).filter(le=>!le.supplierId||le.supplierId==(fe||"")).sort((le,_e)=>le.name.localeCompare(_e.name)).map(le=>h.jsxs("option",{value:le.id,children:[le.name," ($",(le.costPrice||0).toFixed(2),")"]},le.id))]})}),h.jsxs("div",{style:{marginBottom:"0.5rem"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.85rem"},children:"O escribe un nuevo nombre:"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Nombre de producto nuevo...",value:U.name,onChange:le=>Z({...U,name:le.target.value,productId:""}),style:{fontSize:"0.9rem"}})]}),h.jsxs("div",{style:{marginBottom:"1rem"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Buscador de Productos"}),h.jsx(E6,{products:(e.products||[]).filter(le=>!le.supplierId||le.supplierId==(fe||"")),onSelect:le=>{Z({...U,productId:le.id,name:le.name,costPrice:le.costPrice||"",salePrice:le.price||""})},placeholder:"Escribe para buscar..."})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[h.jsx("input",{type:"number",className:"glass-input",placeholder:"Confirmar Costo ($)",value:U.costPrice,onChange:le=>Z({...U,costPrice:le.target.value}),style:{fontSize:"0.85rem"}}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"Confirmar Venta ($)",value:U.salePrice,onChange:le=>Z({...U,salePrice:le.target.value}),style:{fontSize:"0.85rem"}})]}),h.jsx("button",{onClick:Q,className:"glass-button primary",style:{fontSize:"0.85rem",padding:"0.5rem"},children:"+ Agregar Producto"})]})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:q,disabled:be.products.length===0,children:M?"Actualizar Proveedor":"Guardar Proveedor"}),be.products.length===0&&h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--accent-orange)",textAlign:"center",margin:"0.5rem 0 0 0"},children:" Debes agregar al menos un producto"})]})}),h.jsx(Ir,{isOpen:_,onClose:()=>b(!1),title:"Registrar Entrega de Producto",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Seleccionar Producto"}),h.jsx("div",{style:{marginBottom:"0.5rem"},children:h.jsx(E6,{products:(e.products||[]).filter(le=>le.supplierId==xe.supplierId),onSelect:le=>{Te({...xe,productId:le.id,costPrice:le.costPrice||0})},placeholder:"Buscar en productos de este proveedor..."})}),h.jsxs("select",{className:"glass-input",value:xe.productId,onChange:le=>{const _e=(e.products||[]).find(Qe=>Qe.id==le.target.value);Te({...xe,productId:le.target.value,costPrice:_e?.costPrice||0})},children:[h.jsx("option",{value:"",children:"-- Seleccionar --"}),(e.products||[]).filter(le=>le.supplierId==xe.supplierId).map(le=>h.jsxs("option",{value:le.id,children:[le.name," ($",(le.costPrice||0).toFixed(2),")"]},le.id))]}),(e.products||[]).filter(le=>le.supplierId==xe.supplierId).length===0&&h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--accent-orange)",marginTop:"0.5rem"},children:"Nota: Este proveedor no tiene productos asignados en el inventario."})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Cantidad (Unidades / Litros / Kg)"}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"0.00",value:xe.quantity,onChange:le=>Te({...xe,quantity:le.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Foto de Mercanca (Obligatoria)"}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",overflow:"hidden",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",border:`2px ${P?"solid var(--accent-green)":"dashed rgba(255,255,255,0.2)"}`},children:P?h.jsx("img",{src:URL.createObjectURL(P),alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):h.jsx(dv,{size:24,color:"var(--text-secondary)"})}),h.jsxs("label",{className:"glass-button",style:{cursor:"pointer",flex:1,textAlign:"center",borderColor:"var(--accent-blue)"},children:[P?"Cambiar Foto":"Tomar/Subir Foto",h.jsx("input",{type:"file",accept:"image/*",capture:"environment",style:{display:"none"},onChange:le=>I(le.target.files[0])})]})]})]}),h.jsx("div",{className:"glass-panel",style:{padding:"0.75rem",background:"rgba(255,165,0,0.05)",border:"1px solid rgba(255,165,0,0.1)"},children:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.85rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Total a sumar a deuda:"}),h.jsxs("span",{style:{fontWeight:"bold",color:"var(--accent-orange)"},children:["$",((parseFloat(xe.quantity)||0)*(xe.costPrice||0)).toFixed(2)]})]})}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"0.5rem"},onClick:Ge,children:"Confirmar Entrega"})]})}),h.jsx(Ir,{isOpen:w,onClose:()=>C(!1),title:`Libro Mayor: ${e.suppliers.find(le=>le.id===j)?.name}`,children:e.suppliers.find(le=>le.id===j)&&(()=>{const le=e.suppliers.find(_e=>_e.id===j);return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%",overflowX:"hidden"},children:[h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Deuda Actual"}),h.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--accent-red)"},children:["$",le.debt.toFixed(2)]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Ultima Entrega"}),h.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:le.lastDelivery})]})]}),h.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",overflowX:"hidden",width:"100%",display:"block"},children:h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.85rem",tableLayout:"fixed"},children:[h.jsx("thead",{style:{position:"sticky",top:0,background:"#111",zIndex:1},children:h.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[h.jsx("th",{style:{padding:"0.75rem"},children:"Fecha"}),h.jsx("th",{style:{padding:"0.75rem"},children:"Tipo"}),h.jsx("th",{style:{padding:"0.75rem"},children:"Detalle"}),h.jsx("th",{style:{padding:"0.75rem",textAlign:"right"},children:"Monto"}),h.jsx("th",{style:{padding:"0.75rem",textAlign:"right"},children:"Saldo"})]})}),h.jsx("tbody",{children:(le.transactions||[]).length>0?le.transactions.map((_e,Qe)=>h.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:"pointer"},onClick:()=>{O(_e.id),B(!0)},children:[h.jsx("td",{style:{padding:"0.75rem",opacity:.7},children:new Date(_e.date).toLocaleDateString()}),h.jsx("td",{style:{padding:"0.75rem"},children:h.jsx("span",{style:{padding:"0.15rem 0.4rem",borderRadius:"4px",fontSize:"0.7rem",background:_e.type==="Entrega"?"rgba(255,165,0,0.1)":"rgba(0,255,0,0.1)",color:_e.type==="Entrega"?"var(--accent-orange)":"var(--accent-green)"},children:_e.type})}),h.jsx("td",{style:{padding:"0.75rem"},children:_e.type==="Entrega"?h.jsxs("div",{style:{fontSize:"0.8rem"},children:[_e.quantity," x ",_e.productName]}):h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[h.jsx("div",{style:{fontSize:"0.8rem",fontWeight:"500"},children:_e.source}),_e.note&&h.jsx("div",{style:{fontSize:"0.7rem",color:"var(--accent-orange)",fontStyle:"italic"},children:_e.note}),h.jsxs("div",{style:{display:"flex",gap:"0.4rem",marginTop:"0.2rem",flexWrap:"wrap"},children:[(_e.proof||_e.localProof)&&_e.proof!=="N/A"&&(_e.proof?.includes("Subiendo")&&!_e.localProof?h.jsx("span",{style:{fontSize:"0.7rem",color:"var(--accent-orange)"},children:_e.proof}):_e.proof?.includes("Fall")&&!_e.localProof?h.jsx("span",{style:{fontSize:"0.7rem",color:"var(--accent-red)"},children:_e.proof}):h.jsx("a",{href:_e.proof?.startsWith("http")&&!_e.proof.includes("Subiendo")?_e.proof:_e.localProof,target:"_blank",rel:"noreferrer",className:"glass-button",style:{padding:"0.2rem 0.4rem",fontSize:"0.65rem",textDecoration:"none",color:"var(--accent-blue)"},onClick:Le=>Le.stopPropagation(),children:" Ver Comprobante"})),h.jsxs("button",{className:"glass-button",style:{padding:"0.2rem 0.5rem",fontSize:"0.65rem",color:"var(--accent-green)",display:"flex",alignItems:"center",gap:"0.25rem"},onClick:Le=>{Le.stopPropagation(),H(_e,le.name,le.phone)},children:[h.jsx(jG,{size:12})," WhatsApp"]}),h.jsxs("button",{className:"glass-button",style:{padding:"0.2rem 0.5rem",fontSize:"0.65rem",color:"#fff",display:"flex",alignItems:"center",gap:"0.25rem"},onClick:Le=>{Le.stopPropagation(),ve(_e,le.name)},children:[h.jsx(GP,{size:12})," Correo"]})]})]})}),h.jsxs("td",{style:{padding:"0.75rem",textAlign:"right"},children:[h.jsx("div",{style:{fontWeight:"bold"},children:_e.type==="Entrega"?`+$${_e.amount.toFixed(2)}`:`-$${_e.amount.toFixed(2)}`}),_e.originalCurrency==="Bs"&&h.jsxs("div",{style:{fontSize:"0.65rem",opacity:.6},children:["(",_e.originalAmount.toLocaleString("es-VE")," Bs)"]})]}),h.jsxs("td",{style:{padding:"0.75rem",textAlign:"right",opacity:.8},children:["$",_e.balanceAfter?.toFixed(2)||"---"]})]},Qe)):h.jsx("tr",{children:h.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:"No hay transacciones registradas."})})})]})})]})})()}),h.jsx(Ir,{isOpen:F,onClose:()=>B(!1),title:"Detalle de Transaccin",children:N&&h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Fecha:"}),h.jsx("span",{children:new Date(N.date).toLocaleString()})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Monto:"}),h.jsxs("div",{style:{textAlign:"right"},children:[h.jsxs("div",{style:{fontWeight:"bold",color:N.type==="Entrega"?"var(--accent-orange)":"var(--accent-green)"},children:[N.type==="Entrega"?"+":"-","$",N.amount.toFixed(2)]}),(N.originalCurrency==="Bs"||N.exchangeRate)&&h.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8,color:"var(--accent-blue)"},children:[" ",(N.originalCurrency==="Bs"?N.originalAmount:N.amount*(N.exchangeRate||e.exchangeRate)).toLocaleString("es-VE",{minimumFractionDigits:2})," Bs"]})]})]}),N.note&&h.jsxs("div",{style:{marginBottom:"1rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)",display:"block",marginBottom:"0.25rem"},children:"Nota:"}),h.jsx("div",{style:{background:"rgba(255,255,255,0.05)",padding:"0.75rem",borderRadius:"8px",fontStyle:"italic"},children:N.note})]}),N.reference&&h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Referencia:"}),h.jsx("code",{children:N.reference})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Deuda Restante:"}),h.jsxs("div",{style:{textAlign:"right"},children:[h.jsxs("div",{style:{fontWeight:"bold",color:"var(--text-primary)"},children:["$",N.balanceAfter?.toFixed(2)||"0.00"]}),h.jsxs("div",{style:{fontSize:"0.75rem",opacity:.6},children:[" ",(N.balanceAfter*(N.exchangeRate||e.exchangeRate)).toLocaleString("es-VE",{minimumFractionDigits:2})," Bs"]})]})]})]}),(N.proof||N.localProof)&&h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.5rem"},children:"Comprobante:"}),(N.proof?.includes("Subiendo")||N.proof?.includes("Fall"))&&!N.localProof?h.jsx("p",{style:{color:"var(--accent-orange)"},children:N.proof}):h.jsxs("div",{style:{position:"relative"},children:[h.jsx("img",{src:N.proof?.startsWith("http")&&!N.proof.includes("Subiendo")?N.proof:N.localProof,alt:"Comprobante",style:{maxWidth:"100%",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",cursor:"zoom-in"},onClick:()=>window.open(N.proof?.startsWith("http")&&!N.proof.includes("Subiendo")?N.proof:N.localProof,"_blank"),onError:le=>{N.localProof&&le.target.src!==N.localProof&&(console.log("Falla link prioridad, intentando backup local..."),le.target.src=N.localProof)}}),N.proof?.includes("Fall")&&N.localProof&&h.jsx("div",{style:{position:"absolute",bottom:"10px",right:"10px",background:"rgba(0,0,0,0.7)",color:"var(--accent-orange)",padding:"2px 8px",borderRadius:"4px",fontSize:"0.6rem"},children:"Respaldo Local"})]})]})]})})]})};var us=1200,Kte=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],uC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},fC=function(e){Kte.indexOf(e)!=-1&&(uC[0]=e)};function Xte(){fC(1252)}var Rs=function(e){us=e,fC(e)};function uM(){Rs(1200),Xte()}function S6(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function fM(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Yte(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e[2*r]+(e[2*r+1]<<8));return t.join("")}function dM(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var gh=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?fM(e.slice(2)):t==254&&r==255?dM(e.slice(2)):t==65279?e.slice(1):e},Bg=function(t){return String.fromCharCode(t)},A6=function(t){return String.fromCharCode(t)},Qte=null,ic="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function C6(e){for(var t="",r=0,n=0,a=0,i=0,s=0,l=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,n=e.charCodeAt(f++),s=(r&3)<<4|n>>4,a=e.charCodeAt(f++),l=(n&15)<<2|a>>6,u=a&63,isNaN(n)?l=u=64:isNaN(a)&&(u=64),t+=ic.charAt(i)+ic.charAt(s)+ic.charAt(l)+ic.charAt(u);return t}function Mi(e){var t="",r=0,n=0,a=0,i=0,s=0,l=0,u=0;if(e.slice(0,5)=="data:"){var f=e.slice(0,1024).indexOf(";base64,");f>-1&&(e=e.slice(f+8))}e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=ic.indexOf(e.charAt(f++)),s=ic.indexOf(e.charAt(f++)),r=i<<2|s>>4,t+=String.fromCharCode(r),l=ic.indexOf(e.charAt(f++)),n=(s&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),u=ic.indexOf(e.charAt(f++)),a=(l&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var $t=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Nc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})(),Zh=(function(){if(typeof Buffer>"u")return!1;var e=Nc([65,0]);if(!e)return!1;var t=e.toString("utf16le");return t.length==1})();function Ec(e){return $t?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function T6(e){return $t?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ji=function(t){return $t?Nc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function al(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function dC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return dC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var rc=$t?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Nc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)a=e[t].length,e[t]instanceof Uint8Array?n.set(e[t],r):typeof e[t]=="string"?n.set(new Uint8Array(ji(e[t])),r):n.set(new Uint8Array(e[t]),r);return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Zte(e){for(var t=[],r=0,n=e.length+250,a=Ec(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|l>>6&15|(s&3)<<4,a[r++]=128|l&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ec(65535),n=65530)}return t.push(a.slice(0,r)),rc(t)}var xi=/\u0000/g,xh=/[\u0001-\u0006]/g;function pf(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ps(e,t){var r=""+e;return r.length>=t?r:Zt("0",t-r.length)+r}function hC(e,t){var r=""+e;return r.length>=t?r:Zt(" ",t-r.length)+r}function Nv(e,t){var r=""+e;return r.length>=t?r:r+Zt(" ",t-r.length)}function Jte(e,t){var r=""+Math.round(e);return r.length>=t?r:Zt("0",t-r.length)+r}function ere(e,t){var r=""+e;return r.length>=t?r:Zt("0",t-r.length)+r}var k6=Math.pow(2,32);function W0(e,t){if(e>k6||e<-k6)return Jte(e,t);var r=Math.round(e);return ere(r,t)}function Iv(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var D6=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],C_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function tre(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var kt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},O6={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},rre={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Rv(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,l=0,u=1,f=0,d=0,m=Math.floor(a);f<t&&(m=Math.floor(a),l=m*s+i,d=m*f+u,!(a-m<5e-8));)a=1/(a-m),i=s,s=l,u=f,f=d;if(d>t&&(f>t?(d=u,l=i):(d=f,l=s)),!r)return[0,n*l,d];var g=Math.floor(n*l/d);return[g,n*l-g*d,d]}function nre(e){var t=e.toPrecision(16);if(t.indexOf("e")>-1){var r=t.slice(0,t.indexOf("e"));return r=r.indexOf(".")>-1?r.slice(0,r.slice(0,2)=="0."?17:16):r.slice(0,15)+Zt("0",r.length-15),r+t.slice(t.indexOf("e"))}var n=t.indexOf(".")>-1?t.slice(0,t.slice(0,2)=="0."?17:16):t.slice(0,15)+Zt("0",t.length-15);return Number(n)}function zo(e,t,r){if(e>2958465||e<0)return null;e=nre(e);var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),n<60&&(i=(i+6)%7),r&&(i=ore(u,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}function pC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function are(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ire(e){var t=e<0?12:11,r=pC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function sre(e){var t=pC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Jh(e){if(!isFinite(e))return isNaN(e)?"#NUM!":"#DIV/0!";var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ire(e):t===10?r=e.toFixed(10).substr(0,12):r=sre(e),pC(are(r.toUpperCase()))}function Pu(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Jh(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Li(14,Zn(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function ore(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function lre(e,t,r,n){var a="",i=0,s=0,l=r.y,u,f=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:u=l%100,f=2;break;default:u=l%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return C_[r.m-1][1];case 5:return C_[r.m-1][0];default:return C_[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return D6[r.q][0];default:return D6[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ps(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Ps(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+(n==0?Math.round(r.S+r.u):r.S);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=l,f=1;break}var d=f>0?Ps(u,f):"";return d}function Ho(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var hM=/%/g;function cre(e,t,r){var n=t.replace(hM,""),a=t.length-n.length;return Yo(e,n,r*Math.pow(10,2*a))+Zt("%",a)}function ure(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Yo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function pM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+pM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,d){return u+f+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var mM=/# (\?+)( ?)\/( ?)(\d+)/;function fre(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(s===0?Zt(" ",e[1].length+1+e[4].length):hC(s,e[1].length)+e[2]+"/"+e[3]+Ps(l,e[4].length))}function dre(e,t,r){return r+(t===0?"":""+t)+Zt(" ",e[1].length+2+e[4].length)}var gM=/^#*0*\.([0#]+)/,xM=/\)[^)]*[0#]/,vM=/\(###\) ###\\?-####/;function Qa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function j6(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function N6(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function hre(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function pre(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ns(e,t,r){if(e.charCodeAt(0)===40&&!t.match(xM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ns("n",n,r):"("+ns("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return ure(e,t,r);if(t.indexOf("%")!==-1)return cre(e,t,r);if(t.indexOf("E")!==-1)return pM(t,r);if(t.charCodeAt(0)===36)return"$"+ns(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,l,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+W0(u,t.length);if(t.match(/^[#?]+$/))return a=W0(r,0),a==="0"&&(a=""),a.length>t.length?a:Qa(t.substr(0,t.length-a.length))+a;if(i=t.match(mM))return fre(i,u,f);if(t.match(/^#+0+$/))return f+W0(u,t.length-t.indexOf("0"));if(i=t.match(gM))return a=j6(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Qa(i[1])).replace(/\.$/,"."+Qa(i[1])).replace(/\.(\d*)$/,function(y,_){return"."+_+Zt("0",Qa(i[1]).length-_.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+j6(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+Ho(W0(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ns(e,t,-r):Ho(""+(Math.floor(r)+hre(r,i[1].length)))+"."+Ps(N6(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ns(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=pf(ns(e,t.replace(/[\\-]/g,""),r)),s=0,pf(pf(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<a.length?a.charAt(s++):y==="0"?"0":""}));if(t.match(vM))return a=ns(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=Rv(u,Math.pow(10,s)-1,!1),a=""+f,d=Yo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Nv(l[2],s),d.length<i[4].length&&(d=Qa(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=Rv(u,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?hC(l[1],s)+i[2]+"/"+i[3]+Nv(l[2],s):Zt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=W0(r,0),t.length<=a.length?a:Qa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var m=t.indexOf(".")-s,g=t.length-a.length-m;return Qa(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=N6(r,i[1].length),r<0?"-"+ns(e,t,-r):Ho(pre(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Ps(0,3-y.length):"")+y})+"."+Ps(s,i[1].length);switch(t){case"###,##0.00":return ns(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=Ho(W0(u,0));return x!=="0"?f+x:"";case"###,###.00":return ns(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ns(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function mre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Yo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function gre(e,t,r){var n=t.replace(hM,""),a=t.length-n.length;return Yo(e,n,r*Math.pow(10,2*a))+Zt("%",a)}function yM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+yM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,d){return u+f+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ao(e,t,r){if(e.charCodeAt(0)===40&&!t.match(xM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ao("n",n,r):"("+ao("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return mre(e,t,r);if(t.indexOf("%")!==-1)return gre(e,t,r);if(t.indexOf("E")!==-1)return yM(t,r);if(t.charCodeAt(0)===36)return"$"+ao(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,l,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Ps(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Qa(t.substr(0,t.length-a.length))+a;if(i=t.match(mM))return dre(i,u,f);if(t.match(/^#+0+$/))return f+Ps(u,t.length-t.indexOf("0"));if(i=t.match(gM))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Qa(i[1])).replace(/\.$/,"."+Qa(i[1])),a=a.replace(/\.(\d*)$/,function(y,_){return"."+_+Zt("0",Qa(i[1]).length-_.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+Ho(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ao(e,t,-r):Ho(""+r)+"."+Zt("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ao(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=pf(ao(e,t.replace(/[\\-]/g,""),r)),s=0,pf(pf(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<a.length?a.charAt(s++):y==="0"?"0":""}));if(t.match(vM))return a=ao(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=Rv(u,Math.pow(10,s)-1,!1),a=""+f,d=Yo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Nv(l[2],s),d.length<i[4].length&&(d=Qa(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=Rv(u,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?hC(l[1],s)+i[2]+"/"+i[3]+Nv(l[2],s):Zt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Qa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var m=t.indexOf(".")-s,g=t.length-a.length-m;return Qa(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ao(e,t,-r):Ho(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Ps(0,3-y.length):"")+y})+"."+Ps(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=Ho(""+u);return x!=="0"?f+x:"";default:if(t.match(/\.[0#?]*$/))return ao(e,t.slice(0,t.lastIndexOf(".")),r)+Qa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Yo(e,t,r){return(r|0)===r?ao(e,t,r):ns(e,t,r)}function xre(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var bM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ms(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Iv(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(bM))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function vre(e,t,r,n){for(var a=[],i="",s=0,l="",u="t",f,d,m,g="H";s<e.length;)switch(l=e.charAt(s)){case"G":if(!Iv(e,s))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(m=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(m);a[a.length]={t:"t",v:i},++s;break;case"\\":var x=e.charAt(++s),y=x==="("||x===")"?x:"t";a[a.length]={t:y,v:x},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(f==null&&(f=zo(t,r,e.charAt(s+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},u=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=zo(t,r),f==null))return"";for(i=l;++s<e.length&&e.charAt(s).toLowerCase()===l;)i+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=g),a[a.length]={t:l,v:i},u=l;break;case"A":case"a":case"":var _={t:l,v:l};if(f==null&&(f=zo(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(f!=null&&(_.v=f.H>=12?e.charAt(s+2):l),_.t="T",g="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(f!=null&&(_.v=f.H>=12?"PM":"AM"),_.t="T",s+=5,g="h"):e.substr(s,5).toUpperCase()==="/"?(f!=null&&(_.v=f.H>=12?"":""),_.t="T",s+=5,g="h"):(_.t="t",++s),f==null&&_.t==="T")return"";a[a.length]=_,u=l;break;case"[":for(i=l;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(bM)){if(f==null&&(f=zo(t,r),f==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ms(e)||(a[a.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=l;++s<e.length&&(l=e.charAt(s))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++s<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(s))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++s)===l;)i+=l;a[a.length]={t:l,v:i},u=l;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++s;break}var b=0,w=0,C;for(s=a.length-1,u="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=g,u="h",b<1&&(b=1);break;case"s":(C=a[s].v.match(/\.0+$/))&&(w=Math.max(w,C[0].length-1),b=4),b<3&&(b=3);case"d":case"y":case"e":u=a[s].t;break;case"M":u=a[s].t,b<2&&(b=2);break;case"m":u==="s"&&(a[s].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[s].v.match(/[Hh]/)&&(b=1),b<2&&a[s].v.match(/[Mm]/)&&(b=2),b<3&&a[s].v.match(/[Ss]/)&&(b=3)}var S;switch(b){case 0:break;case 1:case 2:case 3:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H),f.H>=24&&(f.H=0,++f.D,S=zo(f.D),S.u=f.u,S.S=f.S,S.M=f.M,S.H=f.H,f=S);break;case 4:switch(w){case 1:f.u=Math.round(f.u*10)/10;break;case 2:f.u=Math.round(f.u*100)/100;break;case 3:f.u=Math.round(f.u*1e3)/1e3;break}f.u>=1&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H),f.H>=24&&(f.H=0,++f.D,S=zo(f.D),S.u=f.u,S.S=f.S,S.M=f.M,S.H=f.H,f=S);break}var O="",F;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=lre(a[s].t.charCodeAt(0),a[s].v,f,w),a[s].t="t";break;case"n":case"?":for(F=s+1;a[F]!=null&&((l=a[F].t)==="?"||l==="D"||(l===" "||l==="t")&&a[F+1]!=null&&(a[F+1].t==="?"||a[F+1].t==="t"&&a[F+1].v==="/")||a[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[F].v==="/"||a[F].v===" "&&a[F+1]!=null&&a[F+1].t=="?"));)a[s].v+=a[F].v,a[F]={v:"",t:";"},++F;O+=a[s].v,s=F-1;break;case"G":a[s].t="t",a[s].v=Pu(t,r);break}var B="",j,k;if(O.length>0){O.charCodeAt(0)==40?(j=t<0&&O.charCodeAt(0)===45?-t:t,k=Yo("n",O,j)):(j=t<0&&n>1?-t:t,k=Yo("n",O,j),j<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),F=k.length-1;var P=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){P=s;break}var I=a.length;if(P===a.length&&k.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(F>=a[s].v.length-1?(F-=a[s].v.length,a[s].v=k.substr(F+1,a[s].v.length)):F<0?a[s].v="":(a[s].v=k.substr(0,F+1),F=-1),a[s].t="t",I=s);F>=0&&I<a.length&&(a[I].v=k.substr(0,F+1)+a[I].v)}else if(P!==a.length&&k.indexOf("E")===-1){for(F=k.indexOf(".")-1,s=P;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===P?a[s].v.indexOf(".")-1:a[s].v.length-1,B=a[s].v.substr(d+1);d>=0;--d)F>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(B=k.charAt(F--)+B);a[s].v=B,a[s].t="t",I=s}for(F>=0&&I<a.length&&(a[I].v=k.substr(0,F+1)+a[I].v),F=k.indexOf(".")+1,s=P;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==P)){for(d=a[s].v.indexOf(".")>-1&&s===P?a[s].v.indexOf(".")+1:0,B=a[s].v.substr(0,d);d<a[s].v.length;++d)F<k.length&&(B+=k.charAt(F++));a[s].v=B,a[s].t="t",I=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(j=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Yo(a[s].t,a[s].v,j),a[s].t="t");var R="";for(s=0;s!==a.length;++s)a[s]!=null&&(R+=a[s].v);return R}var I6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function R6(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function yre(e,t){var r=xre(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(typeof t=="number"&&!isFinite(t)&&(t=0),r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(I6),l=r[1].match(I6);return R6(t,s)?[n,r[0]]:R6(t,l)?[n,r[1]]:[n,r[s!=null&&l!=null?2:1]]}return[n,i]}function Li(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:kt)[e],n==null&&(n=r.table&&r.table[O6[e]]||kt[O6[e]]),n==null&&(n=rre[e]||"General");break}if(Iv(n,0))return Pu(t,r);t instanceof Date&&(t=Zn(t,r.date1904));var a=yre(n,t);if(Iv(a[1]))return Pu(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else{if(t===""||t==null)return"";if(isNaN(t)&&a[1].indexOf("0")>-1)return"#NUM!";if(!isFinite(t)&&a[1].indexOf("0")>-1)return"#DIV/0!"}return vre(a[1],t,r,a[0])}function bre(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(kt[r]==null){t<0&&(t=r);continue}if(kt[r]==e){t=r;break}}t<0&&(t=391)}return kt[t]=e,t}function _M(){kt=tre()}var _re={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Pv=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function wre(e){var t=typeof e=="number"?kt[e]:e;return t=t.replace(Pv,"(\\d+)"),Pv.lastIndex=0,new RegExp("^"+t+"$")}function Ere(e,t,r){var n=-1,a=-1,i=-1,s=-1,l=-1,u=-1;(t.match(Pv)||[]).forEach(function(m,g){var x=parseInt(r[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=x;break;case"d":i=x;break;case"h":s=x;break;case"s":u=x;break;case"m":s>=0?l=x:a=x;break}}),Pv.lastIndex=0,u>=0&&l==-1&&a>=0&&(l=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return s==-1&&l==-1&&u==-1?f:n==-1&&a==-1&&i==-1?d:f+"T"+d}var Sre={"d.m":"d\\.m"};function Eu(e,t){return bre(Sre[e]||e,t)}var P6=(function(){var e={};e.version="1.2.0";function t(){for(var j=0,k=new Array(256),P=0;P!=256;++P)j=P,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,k[P]=j;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(j){var k=0,P=0,I=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)R[I]=j[I];for(I=0;I!=256;++I)for(P=j[I],k=256+I;k<4096;k+=256)P=R[k]=P>>>8^j[P&255];var N=[];for(I=1;I!=16;++I)N[I-1]=typeof Int32Array<"u"&&typeof R.subarray=="function"?R.subarray(I*256,I*256+256):R.slice(I*256,I*256+256);return N}var a=n(r),i=a[0],s=a[1],l=a[2],u=a[3],f=a[4],d=a[5],m=a[6],g=a[7],x=a[8],y=a[9],_=a[10],b=a[11],w=a[12],C=a[13],S=a[14];function O(j,k){for(var P=k^-1,I=0,R=j.length;I<R;)P=P>>>8^r[(P^j.charCodeAt(I++))&255];return~P}function F(j,k){for(var P=k^-1,I=j.length-15,R=0;R<I;)P=S[j[R++]^P&255]^C[j[R++]^P>>8&255]^w[j[R++]^P>>16&255]^b[j[R++]^P>>>24]^_[j[R++]]^y[j[R++]]^x[j[R++]]^g[j[R++]]^m[j[R++]]^d[j[R++]]^f[j[R++]]^u[j[R++]]^l[j[R++]]^s[j[R++]]^i[j[R++]]^r[j[R++]];for(I+=15;R<I;)P=P>>>8^r[(P^j[R++])&255];return~P}function B(j,k){for(var P=k^-1,I=0,R=j.length,N=0,M=0;I<R;)N=j.charCodeAt(I++),N<128?P=P>>>8^r[(P^N)&255]:N<2048?(P=P>>>8^r[(P^(192|N>>6&31))&255],P=P>>>8^r[(P^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,M=j.charCodeAt(I++)&1023,P=P>>>8^r[(P^(240|N>>8&7))&255],P=P>>>8^r[(P^(128|N>>2&63))&255],P=P>>>8^r[(P^(128|M>>6&15|(N&3)<<4))&255],P=P>>>8^r[(P^(128|M&63))&255]):(P=P>>>8^r[(P^(224|N>>12&15))&255],P=P>>>8^r[(P^(128|N>>6&63))&255],P=P>>>8^r[(P^(128|N&63))&255]);return~P}return e.table=r,e.bstr=O,e.buf=F,e.str=B,e})(),Jt=(function(){var t={};t.version="1.2.2";function r(G,oe){for(var ee=G.split("/"),re=oe.split("/"),se=0,he=0,Ce=Math.min(ee.length,re.length);se<Ce;++se){if(he=ee[se].length-re[se].length)return he;if(ee[se]!=re[se])return ee[se]<re[se]?-1:1}return ee.length-re.length}function n(G){if(G.charAt(G.length-1)=="/")return G.slice(0,-1).indexOf("/")===-1?G:n(G.slice(0,-1));var oe=G.lastIndexOf("/");return oe===-1?G:G.slice(0,oe+1)}function a(G){if(G.charAt(G.length-1)=="/")return a(G.slice(0,-1));var oe=G.lastIndexOf("/");return oe===-1?G:G.slice(oe+1)}function i(G,oe){typeof oe=="string"&&(oe=new Date(oe));var ee=oe.getHours();ee=ee<<6|oe.getMinutes(),ee=ee<<5|oe.getSeconds()>>>1,G.write_shift(2,ee);var re=oe.getFullYear()-1980;re=re<<4|oe.getMonth()+1,re=re<<5|oe.getDate(),G.write_shift(2,re)}function s(G){var oe=G.read_shift(2)&65535,ee=G.read_shift(2)&65535,re=new Date,se=ee&31;ee>>>=5;var he=ee&15;ee>>>=4,re.setMilliseconds(0),re.setFullYear(ee+1980),re.setMonth(he-1),re.setDate(se);var Ce=oe&31;oe>>>=5;var Me=oe&63;return oe>>>=6,re.setHours(oe),re.setMinutes(Me),re.setSeconds(Ce<<1),re}function l(G){Xn(G,0);for(var oe={},ee=0;G.l<=G.length-4;){var re=G.read_shift(2),se=G.read_shift(2),he=G.l+se,Ce={};switch(re){case 21589:ee=G.read_shift(1),ee&1&&(Ce.mtime=G.read_shift(4)),se>5&&(ee&2&&(Ce.atime=G.read_shift(4)),ee&4&&(Ce.ctime=G.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break;case 1:{var Me=G.read_shift(4),J=G.read_shift(4);Ce.usz=J*Math.pow(2,32)+Me,Me=G.read_shift(4),J=G.read_shift(4),Ce.csz=J*Math.pow(2,32)+Me}break}G.l=he,oe[re]=Ce}return oe}var u;function f(){return u||(u=Are)}function d(G,oe){if(G[0]==80&&G[1]==75)return An(G,oe);if((G[0]|32)==109&&(G[1]|32)==105)return Pt(G,oe);if(G.length<512)throw new Error("CFB file size "+G.length+" < 512");var ee=3,re=512,se=0,he=0,Ce=0,Me=0,J=0,pe=[],ye=G.slice(0,512);Xn(ye,0);var Ie=m(ye);switch(ee=Ie[0],ee){case 3:re=512;break;case 4:re=4096;break;case 0:if(Ie[1]==0)return An(G,oe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}re!==512&&(ye=G.slice(0,re),Xn(ye,28));var $e=G.slice(0,re);g(ye,ee);var Ze=ye.read_shift(4,"i");if(ee===3&&Ze!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ze);ye.l+=4,Ce=ye.read_shift(4,"i"),ye.l+=4,ye.chk("00100000","Mini Stream Cutoff Size: "),Me=ye.read_shift(4,"i"),se=ye.read_shift(4,"i"),J=ye.read_shift(4,"i"),he=ye.read_shift(4,"i");for(var We=-1,Ye=0;Ye<109&&(We=ye.read_shift(4,"i"),!(We<0));++Ye)pe[Ye]=We;var ct=x(G,re);b(J,he,ct,re,pe);var lr=C(ct,Ce,pe,re);Ce<lr.length&&(lr[Ce].name="!Directory"),se>0&&Me!==M&&(lr[Me].name="!MiniFAT"),lr[pe[0]].name="!FAT",lr.fat_addrs=pe,lr.ssz=re;var pr={},we=[],st=[],At=[];S(Ce,lr,ct,we,se,pr,st,Me),y(st,At,we),we.shift();var xt={FileIndex:st,FullPaths:At};return oe&&oe.raw&&(xt.raw={header:$e,sectors:ct}),xt}function m(G){if(G[G.l]==80&&G[G.l+1]==75)return[0,0];G.chk(ce,"Header Signature: "),G.l+=16;var oe=G.read_shift(2,"u");return[G.read_shift(2,"u"),oe]}function g(G,oe){var ee=9;switch(G.l+=2,ee=G.read_shift(2)){case 9:if(oe!=3)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(oe!=4)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}G.chk("0600","Mini Sector Shift: "),G.chk("000000000000","Reserved: ")}function x(G,oe){for(var ee=Math.ceil(G.length/oe)-1,re=[],se=1;se<ee;++se)re[se-1]=G.slice(se*oe,(se+1)*oe);return re[ee-1]=G.slice(ee*oe),re}function y(G,oe,ee){for(var re=0,se=0,he=0,Ce=0,Me=0,J=ee.length,pe=[],ye=[];re<J;++re)pe[re]=ye[re]=re,oe[re]=ee[re];for(;Me<ye.length;++Me)re=ye[Me],se=G[re].L,he=G[re].R,Ce=G[re].C,pe[re]===re&&(se!==-1&&pe[se]!==se&&(pe[re]=pe[se]),he!==-1&&pe[he]!==he&&(pe[re]=pe[he])),Ce!==-1&&(pe[Ce]=re),se!==-1&&re!=pe[re]&&(pe[se]=pe[re],ye.lastIndexOf(se)<Me&&ye.push(se)),he!==-1&&re!=pe[re]&&(pe[he]=pe[re],ye.lastIndexOf(he)<Me&&ye.push(he));for(re=1;re<J;++re)pe[re]===re&&(he!==-1&&pe[he]!==he?pe[re]=pe[he]:se!==-1&&pe[se]!==se&&(pe[re]=pe[se]));for(re=1;re<J;++re)if(G[re].type!==0){if(Me=re,Me!=pe[Me])do Me=pe[Me],oe[re]=oe[Me]+"/"+oe[re];while(Me!==0&&pe[Me]!==-1&&Me!=pe[Me]);pe[re]=-1}for(oe[0]+="/",re=1;re<J;++re)G[re].type!==2&&(oe[re]+="/")}function _(G,oe,ee){for(var re=G.start,se=G.size,he=[],Ce=re;ee&&se>0&&Ce>=0;)he.push(oe.slice(Ce*N,Ce*N+N)),se-=N,Ce=pu(ee,Ce*4);return he.length===0?Rn(0):rc(he).slice(0,G.size)}function b(G,oe,ee,re,se){var he=M;if(G===M){if(oe!==0)throw new Error("DIFAT chain shorter than expected")}else if(G!==-1){var Ce=ee[G],Me=(re>>>2)-1;if(!Ce)return;for(var J=0;J<Me&&(he=pu(Ce,J*4))!==M;++J)se.push(he);oe>=1&&b(pu(Ce,re-4),oe-1,ee,re,se)}}function w(G,oe,ee,re,se){var he=[],Ce=[];se||(se=[]);var Me=re-1,J=0,pe=0;for(J=oe;J>=0;){se[J]=!0,he[he.length]=J,Ce.push(G[J]);var ye=ee[Math.floor(J*4/re)];if(pe=J*4&Me,re<4+pe)throw new Error("FAT boundary crossed: "+J+" 4 "+re);if(!G[ye])break;J=pu(G[ye],pe)}return{nodes:he,data:$6([Ce])}}function C(G,oe,ee,re){var se=G.length,he=[],Ce=[],Me=[],J=[],pe=re-1,ye=0,Ie=0,$e=0,Ze=0;for(ye=0;ye<se;++ye)if(Me=[],$e=ye+oe,$e>=se&&($e-=se),!Ce[$e]){J=[];var We=[];for(Ie=$e;Ie>=0;){We[Ie]=!0,Ce[Ie]=!0,Me[Me.length]=Ie,J.push(G[Ie]);var Ye=ee[Math.floor(Ie*4/re)];if(Ze=Ie*4&pe,re<4+Ze)throw new Error("FAT boundary crossed: "+Ie+" 4 "+re);if(!G[Ye]||(Ie=pu(G[Ye],Ze),We[Ie]))break}he[$e]={nodes:Me,data:$6([J])}}return he}function S(G,oe,ee,re,se,he,Ce,Me){for(var J=0,pe=re.length?2:0,ye=oe[G].data,Ie=0,$e=0,Ze;Ie<ye.length;Ie+=128){var We=ye.slice(Ie,Ie+128);Xn(We,64),$e=We.read_shift(2),Ze=yC(We,0,$e-pe),re.push(Ze);var Ye={name:Ze,type:We.read_shift(1),color:We.read_shift(1),L:We.read_shift(4,"i"),R:We.read_shift(4,"i"),C:We.read_shift(4,"i"),clsid:We.read_shift(16),state:We.read_shift(4,"i"),start:0,size:0},ct=We.read_shift(2)+We.read_shift(2)+We.read_shift(2)+We.read_shift(2);ct!==0&&(Ye.ct=O(We,We.l-8));var lr=We.read_shift(2)+We.read_shift(2)+We.read_shift(2)+We.read_shift(2);lr!==0&&(Ye.mt=O(We,We.l-8)),Ye.start=We.read_shift(4,"i"),Ye.size=We.read_shift(4,"i"),Ye.size<0&&Ye.start<0&&(Ye.size=Ye.type=0,Ye.start=M,Ye.name=""),Ye.type===5?(J=Ye.start,se>0&&J!==M&&(oe[J].name="!StreamData")):Ye.size>=4096?(Ye.storage="fat",oe[Ye.start]===void 0&&(oe[Ye.start]=w(ee,Ye.start,oe.fat_addrs,oe.ssz)),oe[Ye.start].name=Ye.name,Ye.content=oe[Ye.start].data.slice(0,Ye.size)):(Ye.storage="minifat",Ye.size<0?Ye.size=0:J!==M&&Ye.start!==M&&oe[J]&&(Ye.content=_(Ye,oe[J].data,(oe[Me]||{}).data))),Ye.content&&Xn(Ye.content,0),he[Ze]=Ye,Ce.push(Ye)}}function O(G,oe){return new Date((Ni(G,oe+4)/1e7*Math.pow(2,32)+Ni(G,oe)/1e7-11644473600)*1e3)}function F(G,oe){return f(),d(u.readFileSync(G),oe)}function B(G,oe){var ee=oe&&oe.type;switch(ee||$t&&Buffer.isBuffer(G)&&(ee="buffer"),ee||"base64"){case"file":return F(G,oe);case"base64":return d(ji(Mi(G)),oe);case"binary":return d(ji(G),oe)}return d(G,oe)}function j(G,oe){var ee=oe||{},re=ee.root||"Root Entry";if(G.FullPaths||(G.FullPaths=[]),G.FileIndex||(G.FileIndex=[]),G.FullPaths.length!==G.FileIndex.length)throw new Error("inconsistent CFB structure");G.FullPaths.length===0&&(G.FullPaths[0]=re+"/",G.FileIndex[0]={name:re,type:5}),ee.CLSID&&(G.FileIndex[0].clsid=ee.CLSID),k(G)}function k(G){var oe="Sh33tJ5";if(!Jt.find(G,"/"+oe)){var ee=Rn(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,G.FileIndex.push({name:oe,type:2,content:ee,size:4,L:69,R:69,C:69}),G.FullPaths.push(G.FullPaths[0]+oe),P(G)}}function P(G,oe){j(G);for(var ee=!1,re=!1,se=G.FullPaths.length-1;se>=0;--se){var he=G.FileIndex[se];switch(he.type){case 0:re?ee=!0:(G.FileIndex.pop(),G.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(he.R*he.L*he.C)&&(ee=!0),he.R>-1&&he.L>-1&&he.R==he.L&&(ee=!0);break;default:ee=!0;break}}if(!(!ee&&!oe)){var Ce=new Date(1987,1,19),Me=0,J=Object.create?Object.create(null):{},pe=[];for(se=0;se<G.FullPaths.length;++se)J[G.FullPaths[se]]=!0,G.FileIndex[se].type!==0&&pe.push([G.FullPaths[se],G.FileIndex[se]]);for(se=0;se<pe.length;++se){var ye=n(pe[se][0]);for(re=J[ye];!re;){for(;n(ye)&&!J[n(ye)];)ye=n(ye);pe.push([ye,{name:a(ye).replace("/",""),type:1,clsid:ae,ct:Ce,mt:Ce,content:null}]),J[ye]=!0,ye=n(pe[se][0]),re=J[ye]}}for(pe.sort(function(Ze,We){return r(Ze[0],We[0])}),G.FullPaths=[],G.FileIndex=[],se=0;se<pe.length;++se)G.FullPaths[se]=pe[se][0],G.FileIndex[se]=pe[se][1];for(se=0;se<pe.length;++se){var Ie=G.FileIndex[se],$e=G.FullPaths[se];if(Ie.name=a($e).replace("/",""),Ie.L=Ie.R=Ie.C=-(Ie.color=1),Ie.size=Ie.content?Ie.content.length:0,Ie.start=0,Ie.clsid=Ie.clsid||ae,se===0)Ie.C=pe.length>1?1:-1,Ie.size=0,Ie.type=5;else if($e.slice(-1)=="/"){for(Me=se+1;Me<pe.length&&n(G.FullPaths[Me])!=$e;++Me);for(Ie.C=Me>=pe.length?-1:Me,Me=se+1;Me<pe.length&&n(G.FullPaths[Me])!=n($e);++Me);Ie.R=Me>=pe.length?-1:Me,Ie.type=1}else n(G.FullPaths[se+1]||"")==n($e)&&(Ie.R=se+1),Ie.type=2}}}function I(G,oe){var ee=oe||{};if(ee.fileType=="mad")return ai(G,ee);if(P(G),ee.fileType==="zip")return hr(G,ee);var re=(function(Ze){for(var We=0,Ye=0,ct=0;ct<Ze.FileIndex.length;++ct){var lr=Ze.FileIndex[ct];if(lr.content){var pr=lr.content.length;pr>0&&(pr<4096?We+=pr+63>>6:Ye+=pr+511>>9)}}for(var we=Ze.FullPaths.length+3>>2,st=We+7>>3,At=We+127>>7,xt=st+Ye+we+At,Lt=xt+127>>7,Cr=Lt<=109?0:Math.ceil((Lt-109)/127);xt+Lt+Cr+127>>7>Lt;)Cr=++Lt<=109?0:Math.ceil((Lt-109)/127);var Ht=[1,Cr,Lt,At,we,Ye,We,0];return Ze.FileIndex[0].size=We<<6,Ht[7]=(Ze.FileIndex[0].start=Ht[0]+Ht[1]+Ht[2]+Ht[3]+Ht[4]+Ht[5])+(Ht[6]+7>>3),Ht})(G),se=Rn(re[7]<<9),he=0,Ce=0;{for(he=0;he<8;++he)se.write_shift(1,fe[he]);for(he=0;he<8;++he)se.write_shift(2,0);for(se.write_shift(2,62),se.write_shift(2,3),se.write_shift(2,65534),se.write_shift(2,9),se.write_shift(2,6),he=0;he<3;++he)se.write_shift(2,0);for(se.write_shift(4,0),se.write_shift(4,re[2]),se.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),se.write_shift(4,0),se.write_shift(4,4096),se.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:M),se.write_shift(4,re[3]),se.write_shift(-4,re[1]?re[0]-1:M),se.write_shift(4,re[1]),he=0;he<109;++he)se.write_shift(-4,he<re[2]?re[1]+he:-1)}if(re[1])for(Ce=0;Ce<re[1];++Ce){for(;he<236+Ce*127;++he)se.write_shift(-4,he<re[2]?re[1]+he:-1);se.write_shift(-4,Ce===re[1]-1?M:Ce+1)}var Me=function(Ze){for(Ce+=Ze;he<Ce-1;++he)se.write_shift(-4,he+1);Ze&&(++he,se.write_shift(-4,M))};for(Ce=he=0,Ce+=re[1];he<Ce;++he)se.write_shift(-4,ie.DIFSECT);for(Ce+=re[2];he<Ce;++he)se.write_shift(-4,ie.FATSECT);Me(re[3]),Me(re[4]);for(var J=0,pe=0,ye=G.FileIndex[0];J<G.FileIndex.length;++J)ye=G.FileIndex[J],ye.content&&(pe=ye.content.length,!(pe<4096)&&(ye.start=Ce,Me(pe+511>>9)));for(Me(re[6]+7>>3);se.l&511;)se.write_shift(-4,ie.ENDOFCHAIN);for(Ce=he=0,J=0;J<G.FileIndex.length;++J)ye=G.FileIndex[J],ye.content&&(pe=ye.content.length,!(!pe||pe>=4096)&&(ye.start=Ce,Me(pe+63>>6)));for(;se.l&511;)se.write_shift(-4,ie.ENDOFCHAIN);for(he=0;he<re[4]<<2;++he){var Ie=G.FullPaths[he];if(!Ie||Ie.length===0){for(J=0;J<17;++J)se.write_shift(4,0);for(J=0;J<3;++J)se.write_shift(4,-1);for(J=0;J<12;++J)se.write_shift(4,0);continue}ye=G.FileIndex[he],he===0&&(ye.start=ye.size?ye.start-1:M);var $e=he===0&&ee.root||ye.name;if($e.length>31&&(console.error("Name "+$e+" will be truncated to "+$e.slice(0,31)),$e=$e.slice(0,31)),pe=2*($e.length+1),se.write_shift(64,$e,"utf16le"),se.write_shift(2,pe),se.write_shift(1,ye.type),se.write_shift(1,ye.color),se.write_shift(-4,ye.L),se.write_shift(-4,ye.R),se.write_shift(-4,ye.C),ye.clsid)se.write_shift(16,ye.clsid,"hex");else for(J=0;J<4;++J)se.write_shift(4,0);se.write_shift(4,ye.state||0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,ye.start),se.write_shift(4,ye.size),se.write_shift(4,0)}for(he=1;he<G.FileIndex.length;++he)if(ye=G.FileIndex[he],ye.size>=4096)if(se.l=ye.start+1<<9,$t&&Buffer.isBuffer(ye.content))ye.content.copy(se,se.l,0,ye.size),se.l+=ye.size+511&-512;else{for(J=0;J<ye.size;++J)se.write_shift(1,ye.content[J]);for(;J&511;++J)se.write_shift(1,0)}for(he=1;he<G.FileIndex.length;++he)if(ye=G.FileIndex[he],ye.size>0&&ye.size<4096)if($t&&Buffer.isBuffer(ye.content))ye.content.copy(se,se.l,0,ye.size),se.l+=ye.size+63&-64;else{for(J=0;J<ye.size;++J)se.write_shift(1,ye.content[J]);for(;J&63;++J)se.write_shift(1,0)}if($t)se.l=se.length;else for(;se.l<se.length;)se.write_shift(1,0);return se}function R(G,oe){var ee=G.FullPaths.map(function(J){return J.toUpperCase()}),re=ee.map(function(J){var pe=J.split("/");return pe[pe.length-(J.slice(-1)=="/"?2:1)]}),se=!1;oe.charCodeAt(0)===47?(se=!0,oe=ee[0].slice(0,-1)+oe):se=oe.indexOf("/")!==-1;var he=oe.toUpperCase(),Ce=se===!0?ee.indexOf(he):re.indexOf(he);if(Ce!==-1)return G.FileIndex[Ce];var Me=!he.match(xh);for(he=he.replace(xi,""),Me&&(he=he.replace(xh,"!")),Ce=0;Ce<ee.length;++Ce)if((Me?ee[Ce].replace(xh,"!"):ee[Ce]).replace(xi,"")==he||(Me?re[Ce].replace(xh,"!"):re[Ce]).replace(xi,"")==he)return G.FileIndex[Ce];return null}var N=64,M=-2,ce="d0cf11e0a1b11ae1",fe=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",ie={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function me(G,oe,ee){f();var re=I(G,ee);u.writeFileSync(oe,re)}function be(G){for(var oe=new Array(G.length),ee=0;ee<G.length;++ee)oe[ee]=String.fromCharCode(G[ee]);return oe.join("")}function de(G,oe){var ee=I(G,oe);switch(oe&&oe.type||"buffer"){case"file":return f(),u.writeFileSync(oe.filename,ee),ee;case"binary":return typeof ee=="string"?ee:be(ee);case"base64":return C6(typeof ee=="string"?ee:be(ee));case"buffer":if($t)return Buffer.isBuffer(ee)?ee:Nc(ee);case"array":return typeof ee=="string"?ji(ee):ee}return ee}var U;function Z(G){try{var oe=G.InflateRaw,ee=new oe;if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),ee.bytesRead)U=G;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function te(G,oe){if(!U)return qn(G,oe);var ee=U.InflateRaw,re=new ee,se=re._processChunk(G.slice(G.l),re._finishFlushFlag);return G.l+=re.bytesRead,se}function W(G){return U?U.deflateRawSync(G):Bt(G)}var xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ne=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function X(G){var oe=(G<<1|G<<11)&139536|(G<<5|G<<15)&558144;return(oe>>16|oe>>8|oe)&255}for(var Q=typeof Uint8Array<"u",ue=Q?new Uint8Array(256):[],q=0;q<256;++q)ue[q]=X(q);function K(G,oe){var ee=ue[G&255];return oe<=8?ee>>>8-oe:(ee=ee<<8|ue[G>>8&255],oe<=16?ee>>>16-oe:(ee=ee<<8|ue[G>>16&255],ee>>>24-oe))}function H(G,oe){var ee=oe&7,re=oe>>>3;return(G[re]|(ee<=6?0:G[re+1]<<8))>>>ee&3}function ve(G,oe){var ee=oe&7,re=oe>>>3;return(G[re]|(ee<=5?0:G[re+1]<<8))>>>ee&7}function Fe(G,oe){var ee=oe&7,re=oe>>>3;return(G[re]|(ee<=4?0:G[re+1]<<8))>>>ee&15}function Se(G,oe){var ee=oe&7,re=oe>>>3;return(G[re]|(ee<=3?0:G[re+1]<<8))>>>ee&31}function Ge(G,oe){var ee=oe&7,re=oe>>>3;return(G[re]|(ee<=1?0:G[re+1]<<8))>>>ee&127}function He(G,oe,ee){var re=oe&7,se=oe>>>3,he=(1<<ee)-1,Ce=G[se]>>>re;return ee<8-re||(Ce|=G[se+1]<<8-re,ee<16-re)||(Ce|=G[se+2]<<16-re,ee<24-re)||(Ce|=G[se+3]<<24-re),Ce&he}function Je(G,oe,ee){var re=oe&7,se=oe>>>3;return re<=5?G[se]|=(ee&7)<<re:(G[se]|=ee<<re&255,G[se+1]=(ee&7)>>8-re),oe+3}function rt(G,oe,ee){var re=oe&7,se=oe>>>3;return ee=(ee&1)<<re,G[se]|=ee,oe+1}function tt(G,oe,ee){var re=oe&7,se=oe>>>3;return ee<<=re,G[se]|=ee&255,ee>>>=8,G[se+1]=ee,oe+8}function le(G,oe,ee){var re=oe&7,se=oe>>>3;return ee<<=re,G[se]|=ee&255,ee>>>=8,G[se+1]=ee&255,G[se+2]=ee>>>8,oe+16}function _e(G,oe){var ee=G.length,re=2*ee>oe?2*ee:oe+5,se=0;if(ee>=oe)return G;if($t){var he=T6(re);if(G.copy)G.copy(he);else for(;se<G.length;++se)he[se]=G[se];return he}else if(Q){var Ce=new Uint8Array(re);if(Ce.set)Ce.set(G);else for(;se<ee;++se)Ce[se]=G[se];return Ce}return G.length=re,G}function Qe(G){for(var oe=new Array(G),ee=0;ee<G;++ee)oe[ee]=0;return oe}function Le(G,oe,ee){var re=1,se=0,he=0,Ce=0,Me=0,J=G.length,pe=Q?new Uint16Array(32):Qe(32);for(he=0;he<32;++he)pe[he]=0;for(he=J;he<ee;++he)G[he]=0;J=G.length;var ye=Q?new Uint16Array(J):Qe(J);for(he=0;he<J;++he)pe[se=G[he]]++,re<se&&(re=se),ye[he]=0;for(pe[0]=0,he=1;he<=re;++he)pe[he+16]=Me=Me+pe[he-1]<<1;for(he=0;he<J;++he)Me=G[he],Me!=0&&(ye[he]=pe[Me+16]++);var Ie=0;for(he=0;he<J;++he)if(Ie=G[he],Ie!=0)for(Me=K(ye[he],re)>>re-Ie,Ce=(1<<re+4-Ie)-1;Ce>=0;--Ce)oe[Me|Ce<<Ie]=Ie&15|he<<4;return re}var wt=Q?new Uint16Array(512):Qe(512),vt=Q?new Uint16Array(32):Qe(32);if(!Q){for(var St=0;St<512;++St)wt[St]=0;for(St=0;St<32;++St)vt[St]=0}(function(){for(var G=[],oe=0;oe<32;oe++)G.push(5);Le(G,vt,32);var ee=[];for(oe=0;oe<=143;oe++)ee.push(8);for(;oe<=255;oe++)ee.push(9);for(;oe<=279;oe++)ee.push(7);for(;oe<=287;oe++)ee.push(8);Le(ee,wt,288)})();var Tt=(function(){for(var oe=Q?new Uint8Array(32768):[],ee=0,re=0;ee<Ne.length-1;++ee)for(;re<Ne[ee+1];++re)oe[re]=ee;for(;re<32768;++re)oe[re]=29;var se=Q?new Uint8Array(259):[];for(ee=0,re=0;ee<Te.length-1;++ee)for(;re<Te[ee+1];++re)se[re]=ee;function he(Me,J){for(var pe=0;pe<Me.length;){var ye=Math.min(65535,Me.length-pe),Ie=pe+ye==Me.length;for(J.write_shift(1,+Ie),J.write_shift(2,ye),J.write_shift(2,~ye&65535);ye-- >0;)J[J.l++]=Me[pe++]}return J.l}function Ce(Me,J){for(var pe=0,ye=0,Ie=Q?new Uint16Array(32768):[];ye<Me.length;){var $e=Math.min(65535,Me.length-ye);if($e<10){for(pe=Je(J,pe,+(ye+$e==Me.length)),pe&7&&(pe+=8-(pe&7)),J.l=pe/8|0,J.write_shift(2,$e),J.write_shift(2,~$e&65535);$e-- >0;)J[J.l++]=Me[ye++];pe=J.l*8;continue}pe=Je(J,pe,+(ye+$e==Me.length)+2);for(var Ze=0;$e-- >0;){var We=Me[ye];Ze=(Ze<<5^We)&32767;var Ye=-1,ct=0;if((Ye=Ie[Ze])&&(Ye|=ye&-32768,Ye>ye&&(Ye-=32768),Ye<ye))for(;Me[Ye+ct]==Me[ye+ct]&&ct<250;)++ct;if(ct>2){We=se[ct],We<=22?pe=tt(J,pe,ue[We+1]>>1)-1:(tt(J,pe,3),pe+=5,tt(J,pe,ue[We-23]>>5),pe+=3);var lr=We<8?0:We-4>>2;lr>0&&(le(J,pe,ct-Te[We]),pe+=lr),We=oe[ye-Ye],pe=tt(J,pe,ue[We]>>3),pe-=3;var pr=We<4?0:We-2>>1;pr>0&&(le(J,pe,ye-Ye-Ne[We]),pe+=pr);for(var we=0;we<ct;++we)Ie[Ze]=ye&32767,Ze=(Ze<<5^Me[ye])&32767,++ye;$e-=ct-1}else We<=143?We=We+48:pe=rt(J,pe,1),pe=tt(J,pe,ue[We]),Ie[Ze]=ye&32767,++ye}pe=tt(J,pe,0)-1}return J.l=(pe+7)/8|0,J.l}return function(J,pe){return J.length<8?he(J,pe):Ce(J,pe)}})();function Bt(G){var oe=Rn(50+Math.floor(G.length*1.1)),ee=Tt(G,oe);return oe.slice(0,ee)}var Xe=Q?new Uint16Array(32768):Qe(32768),it=Q?new Uint16Array(32768):Qe(32768),bt=Q?new Uint16Array(128):Qe(128),ht=1,Ot=1;function mt(G,oe){var ee=Se(G,oe)+257;oe+=5;var re=Se(G,oe)+1;oe+=5;var se=Fe(G,oe)+4;oe+=4;for(var he=0,Ce=Q?new Uint8Array(19):Qe(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],J=1,pe=Q?new Uint8Array(8):Qe(8),ye=Q?new Uint8Array(8):Qe(8),Ie=Ce.length,$e=0;$e<se;++$e)Ce[xe[$e]]=he=ve(G,oe),J<he&&(J=he),pe[he]++,oe+=3;var Ze=0;for(pe[0]=0,$e=1;$e<=J;++$e)ye[$e]=Ze=Ze+pe[$e-1]<<1;for($e=0;$e<Ie;++$e)(Ze=Ce[$e])!=0&&(Me[$e]=ye[Ze]++);var We=0;for($e=0;$e<Ie;++$e)if(We=Ce[$e],We!=0){Ze=ue[Me[$e]]>>8-We;for(var Ye=(1<<7-We)-1;Ye>=0;--Ye)bt[Ze|Ye<<We]=We&7|$e<<3}var ct=[];for(J=1;ct.length<ee+re;)switch(Ze=bt[Ge(G,oe)],oe+=Ze&7,Ze>>>=3){case 16:for(he=3+H(G,oe),oe+=2,Ze=ct[ct.length-1];he-- >0;)ct.push(Ze);break;case 17:for(he=3+ve(G,oe),oe+=3;he-- >0;)ct.push(0);break;case 18:for(he=11+Ge(G,oe),oe+=7;he-- >0;)ct.push(0);break;default:ct.push(Ze),J<Ze&&(J=Ze);break}var lr=ct.slice(0,ee),pr=ct.slice(ee);for($e=ee;$e<286;++$e)lr[$e]=0;for($e=re;$e<30;++$e)pr[$e]=0;return ht=Le(lr,Xe,286),Ot=Le(pr,it,30),oe}function pn(G,oe){if(G[0]==3&&!(G[1]&3))return[Ec(oe),2];for(var ee=0,re=0,se=T6(oe||1<<18),he=0,Ce=se.length>>>0,Me=0,J=0;(re&1)==0;){if(re=ve(G,ee),ee+=3,re>>>1)re>>1==1?(Me=9,J=5):(ee=mt(G,ee),Me=ht,J=Ot);else{ee&7&&(ee+=8-(ee&7));var pe=G[ee>>>3]|G[(ee>>>3)+1]<<8;if(ee+=32,pe>0)for(!oe&&Ce<he+pe&&(se=_e(se,he+pe),Ce=se.length);pe-- >0;)se[he++]=G[ee>>>3],ee+=8;continue}for(;;){!oe&&Ce<he+32767&&(se=_e(se,he+32767),Ce=se.length);var ye=He(G,ee,Me),Ie=re>>>1==1?wt[ye]:Xe[ye];if(ee+=Ie&15,Ie>>>=4,(Ie>>>8&255)===0)se[he++]=Ie;else{if(Ie==256)break;Ie-=257;var $e=Ie<8?0:Ie-4>>2;$e>5&&($e=0);var Ze=he+Te[Ie];$e>0&&(Ze+=He(G,ee,$e),ee+=$e),ye=He(G,ee,J),Ie=re>>>1==1?vt[ye]:it[ye],ee+=Ie&15,Ie>>>=4;var We=Ie<4?0:Ie-2>>1,Ye=Ne[Ie];for(We>0&&(Ye+=He(G,ee,We),ee+=We),!oe&&Ce<Ze&&(se=_e(se,Ze+100),Ce=se.length);he<Ze;)se[he]=se[he-Ye],++he}}}return oe?[se,ee+7>>>3]:[se.slice(0,he),ee+7>>>3]}function qn(G,oe){var ee=G.slice(G.l||0),re=pn(ee,oe);return G.l+=re[1],re[0]}function aa(G,oe){if(G)typeof console<"u"&&console.error(oe);else throw new Error(oe)}function An(G,oe){var ee=G;Xn(ee,0);var re=[],se=[],he={FileIndex:re,FullPaths:se};j(he,{root:oe.root});for(var Ce=ee.length-4;(ee[Ce]!=80||ee[Ce+1]!=75||ee[Ce+2]!=5||ee[Ce+3]!=6)&&Ce>=0;)--Ce;ee.l=Ce+4,ee.l+=4;var Me=ee.read_shift(2);ee.l+=6;var J=ee.read_shift(4);for(ee.l=J,Ce=0;Ce<Me;++Ce){ee.l+=20;var pe=ee.read_shift(4),ye=ee.read_shift(4),Ie=ee.read_shift(2),$e=ee.read_shift(2),Ze=ee.read_shift(2);ee.l+=8;var We=ee.read_shift(4),Ye=l(ee.slice(ee.l+Ie,ee.l+Ie+$e));ee.l+=Ie+$e+Ze;var ct=ee.l;ee.l=We+4,Ye&&Ye[1]&&((Ye[1]||{}).usz&&(ye=Ye[1].usz),(Ye[1]||{}).csz&&(pe=Ye[1].csz)),ia(ee,pe,ye,he,Ye),ee.l=ct}return he}function ia(G,oe,ee,re,se){G.l+=2;var he=G.read_shift(2),Ce=G.read_shift(2),Me=s(G);if(he&8257)throw new Error("Unsupported ZIP encryption");for(var J=G.read_shift(4),pe=G.read_shift(4),ye=G.read_shift(4),Ie=G.read_shift(2),$e=G.read_shift(2),Ze="",We=0;We<Ie;++We)Ze+=String.fromCharCode(G[G.l++]);if($e){var Ye=l(G.slice(G.l,G.l+$e));(Ye[21589]||{}).mt&&(Me=Ye[21589].mt),(Ye[1]||{}).usz&&(ye=Ye[1].usz),(Ye[1]||{}).csz&&(pe=Ye[1].csz),se&&((se[21589]||{}).mt&&(Me=se[21589].mt),(se[1]||{}).usz&&(ye=se[1].usz),(se[1]||{}).csz&&(pe=se[1].csz))}G.l+=$e;var ct=G.slice(G.l,G.l+pe);switch(Ce){case 8:ct=te(G,ye);break;case 0:G.l+=pe;break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var lr=!1;he&8&&(J=G.read_shift(4),J==134695760&&(J=G.read_shift(4),lr=!0),pe=G.read_shift(4),ye=G.read_shift(4)),pe!=oe&&aa(lr,"Bad compressed size: "+oe+" != "+pe),ye!=ee&&aa(lr,"Bad uncompressed size: "+ee+" != "+ye),Sr(re,Ze,ct,{unsafe:!0,mt:Me})}function hr(G,oe){var ee=oe||{},re=[],se=[],he=Rn(1),Ce=ee.compression?8:0,Me=0,J=0,pe=0,ye=0,Ie=0,$e=G.FullPaths[0],Ze=$e,We=G.FileIndex[0],Ye=[],ct=0;for(J=1;J<G.FullPaths.length;++J)if(Ze=G.FullPaths[J].slice($e.length),We=G.FileIndex[J],!(!We.size||!We.content||Array.isArray(We.content)&&We.content.length==0||Ze=="Sh33tJ5")){var lr=ye,pr=Rn(Ze.length);for(pe=0;pe<Ze.length;++pe)pr.write_shift(1,Ze.charCodeAt(pe)&127);pr=pr.slice(0,pr.l),Ye[Ie]=typeof We.content=="string"?P6.bstr(We.content,0):P6.buf(We.content,0);var we=typeof We.content=="string"?ji(We.content):We.content;Ce==8&&(we=W(we)),he=Rn(30),he.write_shift(4,67324752),he.write_shift(2,20),he.write_shift(2,Me),he.write_shift(2,Ce),We.mt?i(he,We.mt):he.write_shift(4,0),he.write_shift(-4,Ye[Ie]),he.write_shift(4,we.length),he.write_shift(4,We.content.length),he.write_shift(2,pr.length),he.write_shift(2,0),ye+=he.length,re.push(he),ye+=pr.length,re.push(pr),ye+=we.length,re.push(we),he=Rn(46),he.write_shift(4,33639248),he.write_shift(2,0),he.write_shift(2,20),he.write_shift(2,Me),he.write_shift(2,Ce),he.write_shift(4,0),he.write_shift(-4,Ye[Ie]),he.write_shift(4,we.length),he.write_shift(4,We.content.length),he.write_shift(2,pr.length),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(4,0),he.write_shift(4,lr),ct+=he.l,se.push(he),ct+=pr.length,se.push(pr),++Ie}return he=Rn(22),he.write_shift(4,101010256),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,Ie),he.write_shift(2,Ie),he.write_shift(4,ct),he.write_shift(4,ye),he.write_shift(2,0),rc([rc(re),rc(se),he])}var $r={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function nn(G,oe){if(G.ctype)return G.ctype;var ee=G.name||"",re=ee.match(/\.([^\.]+)$/);return re&&$r[re[1]]||oe&&(re=(ee=oe).match(/[\.\\]([^\.\\])+$/),re&&$r[re[1]])?$r[re[1]]:"application/octet-stream"}function Yr(G){for(var oe=C6(G),ee=[],re=0;re<oe.length;re+=76)ee.push(oe.slice(re,re+76));return ee.join(`\r
`)+`\r
`}function sa(G){var oe=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pe){var ye=pe.charCodeAt(0).toString(16).toUpperCase();return"="+(ye.length==1?"0"+ye:ye)});oe=oe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),oe.charAt(0)==`
`&&(oe="=0D"+oe.slice(1)),oe=oe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ee=[],re=oe.split(`\r
`),se=0;se<re.length;++se){var he=re[se];if(he.length==0){ee.push("");continue}for(var Ce=0;Ce<he.length;){var Me=76,J=he.slice(Ce,Ce+Me);J.charAt(Me-1)=="="?Me--:J.charAt(Me-2)=="="?Me-=2:J.charAt(Me-3)=="="&&(Me-=3),J=he.slice(Ce,Ce+Me),Ce+=Me,Ce<he.length&&(J+="="),ee.push(J)}}return ee.join(`\r
`)}function Vi(G){for(var oe=[],ee=0;ee<G.length;++ee){for(var re=G[ee];ee<=G.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+G[++ee];oe.push(re)}for(var se=0;se<oe.length;++se)oe[se]=oe[se].replace(/[=][0-9A-Fa-f]{2}/g,function(he){return String.fromCharCode(parseInt(he.slice(1),16))});return ji(oe.join(`\r
`))}function mn(G,oe,ee){for(var re="",se="",he="",Ce,Me=0;Me<10;++Me){var J=oe[Me];if(!J||J.match(/^\s*$/))break;var pe=J.match(/^([^:]*?):\s*([^\s].*)$/);if(pe)switch(pe[1].toLowerCase()){case"content-location":re=pe[2].trim();break;case"content-type":he=pe[2].trim();break;case"content-transfer-encoding":se=pe[2].trim();break}}switch(++Me,se.toLowerCase()){case"base64":Ce=ji(Mi(oe.slice(Me).join("")));break;case"quoted-printable":Ce=Vi(oe.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+se)}var ye=Sr(G,re.slice(ee.length),Ce,{unsafe:!0});he&&(ye.ctype=he)}function Pt(G,oe){if(be(G.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ee=oe&&oe.root||"",re=($t&&Buffer.isBuffer(G)?G.toString("binary"):be(G)).split(`\r
`),se=0,he="";for(se=0;se<re.length;++se)if(he=re[se],!!/^Content-Location:/i.test(he)&&(he=he.slice(he.indexOf("file")),ee||(ee=he.slice(0,he.lastIndexOf("/")+1)),he.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=ee.slice(0,ee.length-1),ee=ee.slice(0,ee.lastIndexOf("/")+1),he.slice(0,ee.length)!=ee););var Ce=(re[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var Me="--"+(Ce[1]||""),J=[],pe=[],ye={FileIndex:J,FullPaths:pe};j(ye);var Ie,$e=0;for(se=0;se<re.length;++se){var Ze=re[se];Ze!==Me&&Ze!==Me+"--"||($e++&&mn(ye,re.slice(Ie,se),ee),Ie=se)}return ye}function ai(G,oe){var ee=oe||{},re=ee.boundary||"SheetJS";re="------="+re;for(var se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],he=G.FullPaths[0],Ce=he,Me=G.FileIndex[0],J=1;J<G.FullPaths.length;++J)if(Ce=G.FullPaths[J].slice(he.length),Me=G.FileIndex[J],!(!Me.size||!Me.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ct){return"_x"+ct.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ct){return"_u"+ct.charCodeAt(0).toString(16)+"_"});for(var pe=Me.content,ye=$t&&Buffer.isBuffer(pe)?pe.toString("binary"):be(pe),Ie=0,$e=Math.min(1024,ye.length),Ze=0,We=0;We<=$e;++We)(Ze=ye.charCodeAt(We))>=32&&Ze<128&&++Ie;var Ye=Ie>=$e*4/5;se.push(re),se.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+Ce),se.push("Content-Transfer-Encoding: "+(Ye?"quoted-printable":"base64")),se.push("Content-Type: "+nn(Me,Ce)),se.push(""),se.push(Ye?sa(ye):Yr(ye))}return se.push(re+`--\r
`),se.join(`\r
`)}function gn(G){var oe={};return j(oe,G),oe}function Sr(G,oe,ee,re){var se=re&&re.unsafe;se||j(G);var he=!se&&Jt.find(G,oe);if(!he){var Ce=G.FullPaths[0];oe.slice(0,Ce.length)==Ce?Ce=oe:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+oe).replace("//","/")),he={name:a(oe),type:2},G.FileIndex.push(he),G.FullPaths.push(Ce),se||Jt.utils.cfb_gc(G)}return he.content=ee,he.size=ee?ee.length:0,re&&(re.CLSID&&(he.clsid=re.CLSID),re.mt&&(he.mt=re.mt),re.ct&&(he.ct=re.ct)),he}function an(G,oe){j(G);var ee=Jt.find(G,oe);if(ee){for(var re=0;re<G.FileIndex.length;++re)if(G.FileIndex[re]==ee)return G.FileIndex.splice(re,1),G.FullPaths.splice(re,1),!0}return!1}function Wn(G,oe,ee){j(G);var re=Jt.find(G,oe);if(re){for(var se=0;se<G.FileIndex.length;++se)if(G.FileIndex[se]==re)return G.FileIndex[se].name=a(ee),G.FullPaths[se]=ee,!0}return!1}function Ar(G){P(G,!0)}return t.find=R,t.read=B,t.parse=d,t.write=de,t.writeFile=me,t.utils={cfb_new:gn,cfb_add:Sr,cfb_del:an,cfb_mov:Wn,cfb_gc:Ar,ReadShift:kh,CheckField:qM,prep_blob:Xn,bconcat:rc,use_zlib:Z,_deflateRaw:Bt,_inflateRaw:qn,consts:ie},t})(),Are;function Cre(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||n.message.indexOf("onstruct")==-1)throw n}throw new Error("Cannot access file "+e)}function ds(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function mC(e){for(var t=[],r=ds(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var wM=Date.UTC(1899,11,30,0,0,0),Tre=Date.UTC(1899,11,31,0,0,0),kre=Date.UTC(1904,0,1,0,0,0);function Zn(e,t){var r=e.getTime(),n=(r-wM)/(1440*60*1e3);return t?(n-=1462,n<-1402?n-1:n):n<60?n-1:n}function pc(e){if(e>=60&&e<61)return e;var t=new Date;return t.setTime((e>60?e:e+1)*24*60*60*1e3+wM),t}function Dre(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var Ore=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,jre=/^(\d+)-(\d+)-(\d+)$/,EM=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function ja(e,t){if(e instanceof Date)return e;var r=e.match(Ore);if(r)return new Date((t?kre:Tre)+((parseInt(r[1],10)*60+parseInt(r[2],10))*60+(r[3]?parseInt(r[3].slice(1),10):0))*1e3+(r[4]?parseInt((r[4]+"000").slice(1,4),10):0));if(r=e.match(jre),r)return new Date(Date.UTC(+r[1],+r[2]-1,+r[3],0,0,0,0));if(r=e.match(EM),r)return new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],r[6]&&parseInt(r[6].slice(1),10)||0,r[7]&&parseInt((r[7]+"0000").slice(1,4),10)||0));var n=new Date(e);return n}function Fu(e,t){if($t&&Buffer.isBuffer(e)){if(t&&Zh){if(e[0]==255&&e[1]==254)return vh(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return vh(dM(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return vh(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return vh(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}var n=[],a=0;try{for(a=0;a<e.length-65536;a+=65536)n.push(String.fromCharCode.apply(0,e.slice(a,a+65536)));n.push(String.fromCharCode.apply(0,e.slice(a)))}catch{try{for(;a<e.length-16384;a+=16384)n.push(String.fromCharCode.apply(0,e.slice(a,a+16384)));n.push(String.fromCharCode.apply(0,e.slice(a)))}catch{for(;a!=e.length;++a)n.push(String.fromCharCode(e[a]))}}return n.join("")}function Un(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Un(e[r]));return t}function Zt(e,t){for(var r="";r.length<t;)r+=e;return r}function Pi(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(]([^()]*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Nre=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,Ire=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,Rre=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,Pre=new Date("6/9/69 00:00 UTC").valueOf()==-177984e5;function Fre(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],+e[4],parseFloat(e[3])*1e3)):new Date(Date.UTC(1899,11,31,e[7]=="p"?12:0,+e[1],+e[2],parseFloat(e[3])*1e3)):e[5]?new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],+e[5],e[6]?parseFloat(e[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),0,0,0))}function Bre(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[4],parseFloat(e[3])*1e3)):new Date(Date.UTC(1899,11,31,0,+e[1],+e[2],parseFloat(e[3])*1e3)):e[5]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[5],e[6]?parseFloat(e[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+e[1],+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1],0,0,0))}var Mre=["january","february","march","april","may","june","july","august","september","october","november","december"];function ep(e){if(Rre.test(e))return e.indexOf("Z")==-1?cy(new Date(e)):new Date(e);var t=e.toLowerCase(),r=t.replace(/\s+/g," ").trim(),n=r.match(Nre);if(n)return Fre(n);if(n=r.match(Ire),n)return Bre(n);if(n=r.match(EM),n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var a=new Date(Pre&&e.indexOf("UTC")==-1?e+" UTC":e),i=new Date(NaN),s=a.getYear();a.getMonth();var l=a.getDate();if(isNaN(l))return i;if(t.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(t=t.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),t.length>3&&Mre.indexOf(t)==-1)return i}else if(t.replace(/[ap]m?/,"").match(/[a-z]/))return i;return s<0||s>8099||e.match(/[^-0-9:,\/\\\ ]/)?i:a}var Lre=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],l=1;l<i.length;++l)s.push(a),s.push(i[l]);return s}})();function Bu(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function cy(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function gC(e){var t=e.slice(0,1024),r=t.indexOf("<!DOCTYPE");if(r==-1)return e;var n=e.match(/<[\w]/);return n?e.slice(0,r)+e.slice(n.index):e}function xC(e,t,r){for(var n=[],a=e.indexOf(t);a>-1;){var i=e.indexOf(r,a+t.length);if(i==-1)break;n.push(e.slice(a,i+r.length)),a=e.indexOf(t,i+r.length)}return n.length>0?n:null}function Op(e,t,r){var n=[],a=0,i=e.indexOf(t);if(i==-1)return e;for(;i>-1;){n.push(e.slice(a,i));var s=e.indexOf(r,i+t.length);if(s==-1)break;(i=e.indexOf(t,a=s+r.length))==-1&&n.push(e.slice(a))}return n.join("")}var zre={" ":1,"	":1,"\r":1,"\n":1,">":1};function Su(e,t){for(var r=e.indexOf("<"+t),n=t.length+1,a=e.length;r>=0&&r<=a-n&&!zre[e.charAt(r+n)];)r=e.indexOf("<"+t,r+1);if(r===-1)return null;var i=e.indexOf(">",r+t.length);if(i===-1)return null;var s="</"+t+">",l=e.indexOf(s,i);return l==-1?null:[e.slice(r,l+s.length),e.slice(i+1,l)]}var pa=(function(){var e={};return function(r,n){var a=e[n];a||(e[n]=a=[new RegExp("<(?:\\w+:)?"+n+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+n+">","g")]),a[0].lastIndex=a[1].lastIndex=0;var i=a[0].exec(r);if(!i)return null;var s=i.index,l=a[0].lastIndex;if(a[1].lastIndex=a[0].lastIndex,i=a[1].exec(r),!i)return null;var u=i.index,f=a[1].lastIndex;return[r.slice(s,f),r.slice(l,u)]}})(),SM=(function(){var e={};return function(r,n){var a=[],i=e[n];i||(e[n]=i=[new RegExp("<(?:\\w+:)?"+n+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+n+">","g")]),i[0].lastIndex=i[1].lastIndex=0;for(var s;s=i[0].exec(r);){var l=s.index;if(i[1].lastIndex=i[0].lastIndex,s=i[1].exec(r),!s)return null;var u=i[1].lastIndex;a.push(r.slice(l,u)),i[0].lastIndex=i[1].lastIndex}return a.length==0?null:a}})(),Ure=(function(){var e={};return function(r,n){var a=[],i=e[n];i||(e[n]=i=[new RegExp("<(?:\\w+:)?"+n+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+n+">","g")]),i[0].lastIndex=i[1].lastIndex=0;for(var s,l=0,u=0;s=i[0].exec(r);){if(l=s.index,a.push(r.slice(u,l)),u=l,i[1].lastIndex=i[0].lastIndex,s=i[1].exec(r),!s)return null;u=i[1].lastIndex,i[0].lastIndex=i[1].lastIndex}return a.push(r.slice(u)),a.length==0?"":a.join("")}})(),Vre=(function(){var e={};return function(r,n){var a=[],i=e[n];i||(e[n]=i=[new RegExp("<"+n+"\\b[^<>]*>","ig"),new RegExp("</"+n+">","ig")]),i[0].lastIndex=i[1].lastIndex=0;for(var s;s=i[0].exec(r);){var l=s.index;if(i[1].lastIndex=i[0].lastIndex,s=i[1].exec(r),!s)return null;var u=i[1].lastIndex;a.push(r.slice(l,u)),i[0].lastIndex=i[1].lastIndex}return a.length==0?null:a}})();function AM(e){return e?e.content&&e.type?Fu(e.content,!0):e.data?gh(e.data):e.asNodeBuffer&&$t?gh(e.asNodeBuffer().toString("binary")):e.asBinary?gh(e.asBinary()):e._data&&e._data.getContent?gh(Fu(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function CM(e){if(!e)return null;if(e.data)return S6(e.data);if(e.asNodeBuffer&&$t)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?S6(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function $re(e){return e&&e.name.slice(-4)===".bin"?CM(e):AM(e)}function ss(e,t){for(var r=e.FullPaths||ds(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function vC(e,t){var r=ss(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Nn(e,t,r){if(!r)return $re(vC(e,t));if(!t)return null;try{return Nn(e,t)}catch{return null}}function ei(e,t,r){if(!r)return AM(vC(e,t));if(!t)return null;try{return ei(e,t)}catch{return null}}function Hre(e,t,r){return CM(vC(e,t))}function F6(e){for(var t=e.FullPaths||ds(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function qre(e,t,r){if(e.FullPaths){if(Array.isArray(r)&&typeof r[0]=="string"&&(r=r.join("")),typeof r=="string"){var n;return $t?n=Nc(r):n=Zte(r),Jt.utils.cfb_add(e,t,n)}Jt.utils.cfb_add(e,t,r)}else e.file(t,r)}function TM(e,t){switch(t.type){case"base64":return Jt.read(e,{type:"base64"});case"binary":return Jt.read(e,{type:"binary"});case"buffer":case"array":return Jt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function af(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var kM=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,DM=/\s([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,B6=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?<>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'"<>\s=]+))*\s*[\/\?]?>/mg,Wre=/<[^<>]*>/g,Na=kM.match(B6)?B6:Wre,Gre=/<\w*:/,Kre=/<(\/?)\w+:/;function lt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(DM),l=0,u="",f=0,d="",m="",g=1;if(s)for(f=0;f!=s.length;++f){for(m=s[f].slice(1),i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(d=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(g=(a=m.charCodeAt(i+1))==34||a==39?1:0,u=m.slice(i+1+g,m.length-g),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=u,n[d.toLowerCase()]=u;else{var x=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[x]&&d.slice(l-3,l)=="ext")continue;n[x]=u,n[x.toLowerCase()]=u}}return n}function Xre(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(a===e.length)return n;var s=e.match(DM),l="",u=0,f="",d="",m=1;if(s)for(u=0;u!=s.length;++u){for(d=s[u].slice(1),i=0;i!=d.length&&d.charCodeAt(i)!==61;++i);for(f=d.slice(0,i).trim();d.charCodeAt(i+1)==32;)++i;m=(a=d.charCodeAt(i+1))==34||a==39?1:0,l=d.slice(i+1+m,d.length-m),f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),n[f]=l,n[f.toLowerCase()]=l}return n}function xs(e){return e.replace(Kre,"<$1")}var OM={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Yre=mC(OM),Xt=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,u){return OM[l]||String.fromCharCode(parseInt(u,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,u){return String.fromCharCode(parseInt(u,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}return function(a,i){var s=r(a);return i?s.replace(/\r\n/g,`
`):s}})(),Qre=/[&<>'"]/g,Zre=/[\u0000-\u001f]/g;function Th(e){var t=e+"";return t.replace(Qre,function(r){return Yre[r]}).replace(/\n/g,"<br/>").replace(Zre,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var M6=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function vr(e){switch(e){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}function T_(e){for(var t="",r=0,n=0,a=0,i=0,s=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function L6(e){var t=Ec(2*e.length),r,n,a=1,i=0,s=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function z6(e){return Nc(e,"binary").toString("utf8")}var Mg="foo bar baz",Rr=$t&&(z6(Mg)==T_(Mg)&&z6||L6(Mg)==T_(Mg)&&L6)||T_,vh=$t?function(e){return Nc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},jM=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/(^|[^\t\n\r ])[\t\n\r ]+$/,"$1").replace(/>\s+/g,">").replace(/\b\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^<>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),Jre=/<\/?(?:vt:)?variant>/g,ene=/<(?:vt:)([^<"'>]*)>([\s\S]*)</;function U6(e,t){var r=lt(e),n=SM(e,r.baseType)||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Jre,"").match(ene);s&&a.push({v:Rr(s[2]),t:s[1]})}),a}var tne=/(^\s|\s$|\n)/;function rne(e){return ds(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function nne(e,t,r){return"<"+e+(r!=null?rne(r):"")+(t!=null?(t.match(tne)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function uy(e){if($t&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Rr(al(dC(e)));throw new Error("Bad input format: expected Buffer or string")}var In=/<([\/]?)([^\s?><!\/:"]*:|)([^\s?<>:\/"]+)(?:\s+[^<>=?"'\s]+="[^"]*?")*\s*[\/]?>/mg,ane={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},ine=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function sne(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function one(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var V6=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},$6=$t?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Nc(t)})):V6(e)}:V6,H6=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(qo(e,a)));return n.join("").replace(xi,"")},yC=$t?function(e,t,r){return!Buffer.isBuffer(e)||!Zh?H6(e,t,r):e.toString("utf16le",t,r).replace(xi,"")}:H6,q6=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},NM=$t?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):q6(e,t,r)}:q6,W6=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(tf(e,a)));return n.join("")},jp=$t?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):W6(t,r,n)}:W6,IM=function(e,t){var r=Ni(e,t);return r>0?jp(e,t+4,t+4+r-1):""},RM=IM,PM=function(e,t){var r=Ni(e,t);return r>0?jp(e,t+4,t+4+r-1):""},FM=PM,BM=function(e,t){var r=2*Ni(e,t);return r>0?jp(e,t+4,t+4+r-1):""},MM=BM,LM=function(t,r){var n=Ni(t,r);return n>0?yC(t,r+4,r+4+n):""},zM=LM,UM=function(e,t){var r=Ni(e,t);return r>0?jp(e,t+4,t+4+r):""},VM=UM,$M=function(e,t){return sne(e,t)},Fv=$M,HM=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};$t&&(RM=function(t,r){if(!Buffer.isBuffer(t))return IM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},FM=function(t,r){if(!Buffer.isBuffer(t))return PM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},MM=function(t,r){if(!Buffer.isBuffer(t)||!Zh)return BM(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},zM=function(t,r){if(!Buffer.isBuffer(t)||!Zh)return LM(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},VM=function(t,r){if(!Buffer.isBuffer(t))return UM(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Fv=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):$M(t,r)},HM=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var tf=function(e,t){return e[t]},qo=function(e,t){return e[t+1]*256+e[t]},lne=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ni=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},pu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},cne=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function kh(e,t){var r="",n,a,i=[],s,l,u,f;switch(t){case"dbcs":if(f=this.l,$t&&Buffer.isBuffer(this)&&Zh)r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(qo(this,f)),f+=2;e*=2;break;case"utf8":r=jp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=yC(this,this.l,this.l+e);break;case"wstr":return kh.call(this,e,"dbcs");case"lpstr-ansi":r=RM(this,this.l),e=4+Ni(this,this.l);break;case"lpstr-cp":r=FM(this,this.l),e=4+Ni(this,this.l);break;case"lpwstr":r=MM(this,this.l),e=4+2*Ni(this,this.l);break;case"lpp4":e=4+Ni(this,this.l),r=zM(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ni(this,this.l),r=VM(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=tf(this,this.l+e++))!==0;)i.push(Bg(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=qo(this,this.l+e))!==0;)i.push(Bg(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return s=tf(this,f),this.l=f+1,l=kh.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Bg(qo(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return s=tf(this,f),this.l=f+1,l=kh.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Bg(tf(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return n=tf(this,this.l),this.l++,n;case 2:return n=(t==="i"?lne:qo)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?pu:cne)(this,this.l),this.l+=4,n):(a=Ni(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Fv(this,this.l):a=Fv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=NM(this,this.l,e);break}}return this.l+=e,r}var une=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},fne=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},dne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function hne(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)dne(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"||r=="cpstr"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,une(this,t,this.l);break;case 8:if(n=8,r==="f"){one(this,t,this.l);break}case 16:break;case-4:n=4,fne(this,t,this.l);break}return this.l+=n,this}function qM(e,t){var r=NM(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Xn(e,t){e.l=t,e.read_shift=kh,e.chk=qM,e.write_shift=hne}function Wa(e,t){e.l+=t}function Rn(e){var t=Ec(e);return Xn(t,0),t}function dl(e,t,r){if(e){var n,a,i;Xn(e,e.l||0);for(var s=e.length,l=0,u=0;e.l<s;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var f=Vv[l]||Vv[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;u=e.l+i;var d=f.f&&f.f(e,i,r);if(e.l=u,t(d,f,l))return}}}function aS(){var e=[],t=$t?16384:2048;$t&&Rn(t).copy;var r=function(d){var m=Rn(d);return Xn(m,0),m},n=r(t),a=function(){n&&(n.l&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n)),n=null)},i=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,t)))},s=function(){return a(),rc(e)},l=function(){return a(),e},u=function(d){a(),n=d,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:u,end:s,_bufs:e,end2:l}}function Dh(e,t,r){var n=Un(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function G6(e,t,r){var n=Un(e);return n.s=Dh(n.s,t.s,r),n.e=Dh(n.e,t.s,r),n}function Oh(e,t){if(e.cRel&&e.c<0)for(e=Un(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Un(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=sr(e);return!e.cRel&&e.cRel!=null&&(r=gne(r)),!e.rRel&&e.rRel!=null&&(r=pne(r)),r}function k_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+or(e.s.c)+":"+(e.e.cRel?"":"$")+or(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+yr(e.s.r)+":"+(e.e.rRel?"":"$")+yr(e.e.r):Oh(e.s,t.biff)+":"+Oh(e.e,t.biff)}function bC(e){return parseInt(mne(e),10)-1}function yr(e){return""+(e+1)}function pne(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function mne(e){return e.replace(/\$(\d+)$/,"$1")}function _C(e){for(var t=xne(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function or(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function gne(e){return e.replace(/^([A-Z])/,"$$$1")}function xne(e){return e.replace(/^\$([A-Z])/,"$1")}function vne(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Va(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function sr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function r0(e){var t=e.indexOf(":");return t==-1?{s:Va(e),e:Va(e)}:{s:Va(e.slice(0,t)),e:Va(e.slice(t+1))}}function Yt(e,t){return typeof t>"u"||typeof t=="number"?Yt(e.s,e.e):(typeof e!="string"&&(e=sr(e)),typeof t!="string"&&(t=sr(t)),e==t?e:e+":"+t)}function yne(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e.replace(/'/g,"''")+"'":e}function En(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function K6(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Li(e.z,r?Zn(t):t)}catch{}try{return e.w=Li((e.XF||{}).numFmtId||(r?14:0),r?Zn(t):t)}catch{return""+t}}function Sc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?vi[e.v]||e.v:t==null?K6(e,e.v):K6(e,t))}function Ic(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function bne(e){var t={},r=e||{};return r.dense&&(t["!data"]=[]),t}function WM(e,t,r){var n=r||{},a=e?e["!data"]!=null:n.dense,i=e||(a?{"!data":[]}:{});a&&!i["!data"]&&(i["!data"]=[]);var s=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var u=typeof n.origin=="string"?Va(n.origin):n.origin;s=u.r,l=u.c}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=En(i["!ref"]);f.s.c=d.s.c,f.s.r=d.s.r,f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),s==-1&&(f.e.r=s=i["!ref"]?d.e.r+1:0)}else f.s.c=f.e.c=f.s.r=f.e.r=0;for(var m=[],g=!1,x=0;x!=t.length;++x)if(t[x]){if(!Array.isArray(t[x]))throw new Error("aoa_to_sheet expects an array of arrays");var y=s+x;a&&(i["!data"][y]||(i["!data"][y]=[]),m=i["!data"][y]);for(var _=t[x],b=0;b!=_.length;++b)if(!(typeof _[b]>"u")){var w={v:_[b],t:""},C=l+b;if(f.s.r>y&&(f.s.r=y),f.s.c>C&&(f.s.c=C),f.e.r<y&&(f.e.r=y),f.e.c<C&&(f.e.c=C),g=!0,_[b]&&typeof _[b]=="object"&&!Array.isArray(_[b])&&!(_[b]instanceof Date))w=_[b];else if(Array.isArray(w.v)&&(w.f=_[b][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(n.nullError)w.t="e",w.v=0;else if(n.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?isFinite(w.v)?w.t="n":isNaN(w.v)?(w.t="e",w.v=15):(w.t="e",w.v=7):typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=n.dateNF||kt[14],n.UTC||(w.v=cy(w.v)),n.cellDates?(w.t="d",w.w=Li(w.z,Zn(w.v,n.date1904))):(w.t="n",w.v=Zn(w.v,n.date1904),w.w=Li(w.z,w.v))):w.t="s";if(a)m[C]&&m[C].z&&(w.z=m[C].z),m[C]=w;else{var S=or(C)+(y+1);i[S]&&i[S].z&&(w.z=i[S].z),i[S]=w}}}return g&&f.s.c<104e5&&(i["!ref"]=Yt(f)),i}function Xf(e,t){return WM(null,e,t)}function _ne(e){return e.read_shift(4,"i")}function $a(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function wne(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function wC(e,t){var r=e.l,n=e.read_shift(1),a=$a(e),i=[],s={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),u=0;u!=l;++u)i.push(wne(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Ene=wC;function vs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function n0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Sne=$a;function fy(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Ane=$a,iS=fy;function dy(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Fv([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):pu(t,0)>>2;return r?a/100:a}function GM(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var a0=GM;function Ua(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Cne(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var f=Au[a];f&&(t.rgb=rp(f));break;case 2:t.rgb=rp([s,l,u]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Tne(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function KM(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function kne(e){return KM(e,1)}function Dne(e){return KM(e,2)}var EC=2,pi=3,Lg=11,X6=12,Bv=19,zg=64,One=65,jne=71,Nne=4108,Ine=4126,fa=80,XM=81,Rne=[fa,XM],Pne={1:{n:"CodePage",t:EC},2:{n:"Category",t:fa},3:{n:"PresentationFormat",t:fa},4:{n:"ByteCount",t:pi},5:{n:"LineCount",t:pi},6:{n:"ParagraphCount",t:pi},7:{n:"SlideCount",t:pi},8:{n:"NoteCount",t:pi},9:{n:"HiddenCount",t:pi},10:{n:"MultimediaClipCount",t:pi},11:{n:"ScaleCrop",t:Lg},12:{n:"HeadingPairs",t:Nne},13:{n:"TitlesOfParts",t:Ine},14:{n:"Manager",t:fa},15:{n:"Company",t:fa},16:{n:"LinksUpToDate",t:Lg},17:{n:"CharacterCount",t:pi},19:{n:"SharedDoc",t:Lg},22:{n:"HyperlinksChanged",t:Lg},23:{n:"AppVersion",t:pi,p:"version"},24:{n:"DigSig",t:One},26:{n:"ContentType",t:fa},27:{n:"ContentStatus",t:fa},28:{n:"Language",t:fa},29:{n:"Version",t:fa},255:{},2147483648:{n:"Locale",t:Bv},2147483651:{n:"Behavior",t:Bv},1919054434:{}},Fne={1:{n:"CodePage",t:EC},2:{n:"Title",t:fa},3:{n:"Subject",t:fa},4:{n:"Author",t:fa},5:{n:"Keywords",t:fa},6:{n:"Comments",t:fa},7:{n:"Template",t:fa},8:{n:"LastAuthor",t:fa},9:{n:"RevNumber",t:fa},10:{n:"EditTime",t:zg},11:{n:"LastPrinted",t:zg},12:{n:"CreatedDate",t:zg},13:{n:"ModifiedDate",t:zg},14:{n:"PageCount",t:pi},15:{n:"WordCount",t:pi},16:{n:"CharCount",t:pi},17:{n:"Thumbnail",t:jne},18:{n:"Application",t:fa},19:{n:"DocSecurity",t:pi},255:{},2147483648:{n:"Locale",t:Bv},2147483651:{n:"Behavior",t:Bv},1919054434:{}},Y6={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Bne=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Mne(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Lne=Mne([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Au=Un(Lne),vi={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ka={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},YM=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],Q6={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function zne(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Une(e){var t=zne();if(!e||!e.match)return t;var r={};if((e.match(Na)||[]).forEach(function(n){var a=lt(n);switch(a[0].replace(Gre,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension.toLowerCase()]=a.ContentType;break;case"<Override":t[Q6[a.ContentType]]!==void 0&&t[Q6[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ane.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var sf={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",CONN:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function sS(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function jh(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Na)||[]).forEach(function(a){var i=lt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=Xt(i.Target),s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:af(i.Target,t);r[l]=s,n[i.Id]=s}}),r["!id"]=n,r}var Vne="application/vnd.oasis.opendocument.spreadsheet";function $ne(e,t){for(var r=uy(e),n,a;n=In.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=lt(n[0],!1),a.path=="/"&&a.type!==Vne)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Z6=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function QM(e){var t={};e=Rr(e);for(var r=0;r<Z6.length;++r){var n=Z6[r],a=Su(e,n[0]);a!=null&&a.length>0&&(t[n[1]]=Xt(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ja(t[n[1]]))}return t}var Hne=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function ZM(e,t,r,n){var a=[];if(typeof e=="string")a=U6(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var s=typeof t=="string"?U6(t,n).map(function(d){return d.v}):t,l=0,u=0;if(s.length>0)for(var f=0;f!==a.length;f+=2){switch(u=+a[f+1].v,a[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=s.slice(l,l+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=s.slice(l,l+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=s.slice(l,l+u);break}l+=u}}function qne(e,t,r){var n={};return t||(t={}),e=Rr(e),Hne.forEach(function(a){var i=(pa(e,a[0])||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Xt(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=Su(e,a[0]);s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&ZM(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Wne=/<[^<>]+>[^<]*/g;function Gne(e,t){var r={},n="",a=e.match(Wne);if(a)for(var i=0;i!=a.length;++i){var s=a[i],l=lt(s);switch(xs(l[0])){case"<?xml":break;case"<Properties":break;case"<property":n=Xt(l.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var u=s.split(">"),f=u[0].slice(4),d=u[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[n]=Xt(d);break;case"bool":r[n]=vr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=ja(d);break;case"cy":case"error":r[n]=Xt(d);break;default:if(f.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,f,u)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Kne={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},D_;function Xne(e,t,r){D_||(D_=mC(Kne)),t=D_[t]||t,e[t]=r}function SC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Yne(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Qne(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function JM(e,t,r){return t===31?Qne(e):Yne(e,t,r)}function Nh(e,t,r){return JM(e,t,r===!1?0:4)}function Zne(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return JM(e,t,0)}function Jne(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(xi,""),e.l-a&2&&(e.l+=2)}return r}function eae(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(xi,"");return r}function tae(e){var t=e.l,r=Mv(e,XM);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Mv(e,pi);return[r,n]}function rae(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(tae(e));return r}function J6(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(xi,"").replace(xh,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function e9(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function nae(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Mv(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==X6&&n!==t&&Rne.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===X6?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:e.l+=4,val=Nh(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:e.l+=4,val=Nh(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 64:return SC(e);case 65:return e9(e);case 71:return nae(e);case 80:return Nh(e,n,!i.raw).replace(xi,"");case 81:return Zne(e,n).replace(xi,"");case 4108:return rae(e);case 4126:case 4127:return n==4127?Jne(e):eae(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function e8(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,l=0,u=-1,f={};for(s=0;s!=a;++s){var d=e.read_shift(4),m=e.read_shift(4);i[s]=[d,m+r]}i.sort(function(C,S){return C[1]-S[1]});var g={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var x=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,x=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],x=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],x=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(x=!1,e.l=i[s][1]),x)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){if(i[s][0]==0&&i.length>s+1&&i[s][1]==i[s+1][1])continue;var y=t[i[s][0]];if(g[y.n]=Mv(e,y.t,{raw:!0}),y.p==="version"&&(g[y.n]=String(g[y.n]>>16)+"."+("0000"+String(g[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(g[y.n]){case 0:g[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Rs(l=g[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[y.n])}}else if(i[s][0]===1){if(l=g.CodePage=Mv(e,EC),Rs(l),u!==-1){var _=e.l;e.l=i[u][1],f=J6(e,l),e.l=_}}else if(i[s][0]===0){if(l===0){u=s,e.l=i[s+1][1];continue}f=J6(e,l)}else{var b=f[i[s][0]],w;switch(e[e.l]){case 65:e.l+=4,w=e9(e);break;case 30:e.l+=4,w=Nh(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:e.l+=4,w=Nh(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 3:e.l+=4,w=e.read_shift(4,"i");break;case 19:e.l+=4,w=e.read_shift(4);break;case 5:e.l+=4,w=e.read_shift(8,"f");break;case 11:e.l+=4,w=bn(e,4);break;case 64:e.l+=4,w=ja(SC(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[b]=w}}return e.l=r+n,g}function t8(e,t,r){var n=e.content;if(!n)return{};Xn(n,0);var a,i,s,l,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),d=n.read_shift(16);if(d!==Jt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(s=n.read_shift(16),u=n.read_shift(4));var m=e8(n,t),g={SystemIdentifier:f};for(var x in m)g[x]=m[x];if(g.FMTID=i,a===1)return g;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var y;try{y=e8(n,null)}catch{}for(x in y)g[x]=y[x];return g.FMTID=[i,s],g}function Ql(e,t){return e.read_shift(t),null}function aae(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function bn(e,t){return e.read_shift(t)===1}function fn(e){return e.read_shift(2,"u")}function t9(e,t){return aae(e,t,fn)}function r9(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Tf(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont",i=us;if(r&&r.biff>=8&&(us=1200),!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return us=i,l}function iae(e){var t=us;us=1200;var r=e.read_shift(2),n=e.read_shift(1),a=n&4,i=n&8,s=1+(n&1),l=0,u,f={};i&&(l=e.read_shift(2)),a&&(u=e.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",m=r===0?"":e.read_shift(r,d);return i&&(e.l+=4*l),a&&(e.l+=u),f.t=m,i||(f.raw="<t>"+f.t+"</t>",f.r=f.t),us=t,f}function Mu(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Np(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Mu(e,n,r)}function i0(e,t,r){if(r.biff>5)return Np(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function sae(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function oae(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(xi,"");return n&&(e.l+=24),a}function lae(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(xi,"");return r+s}function cae(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return oae(e);case"0303000000000000c000000000000046":return lae(e);default:throw new Error("Unsupported Moniker "+r)}}function Ug(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(xi,""):"";return r}function uae(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,l,u,f="",d,m;a&16&&(i=Ug(e,r-e.l)),a&128&&(s=Ug(e,r-e.l)),(a&257)===257&&(l=Ug(e,r-e.l)),(a&257)===1&&(u=cae(e,r-e.l)),a&8&&(f=Ug(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(m=SC(e)),e.l=r;var g=s||l||u||"";g&&f&&(g+="#"+f),g||(g="#"+f),a&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return d&&(x.guid=d),m&&(x.time=m),i&&(x.Tooltip=i),x}function n9(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function a9(e,t){var r=n9(e);return r[3]=0,r}function Vs(e,t,r){var n=e.read_shift(2),a=e.read_shift(2),i={r:n,c:a,ixfe:0};if(r&&r.biff==2||t==7){var s=e.read_shift(1);i.ixfe=s&63,e.l+=2}else i.ixfe=e.read_shift(2);return i}function fae(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function dae(e,t,r){return t===0?"":i0(e,t,r)}function hae(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function i9(e){var t=e.read_shift(2),r=dy(e);return[t,r]}function pae(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Tf(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function hy(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function s9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var mae=s9;function o9(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function gae(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function xae(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Pa(e){e.l+=2,e.l+=e.read_shift(2)}var vae={0:Pa,4:Pa,5:Pa,6:Pa,7:xae,8:Pa,9:Pa,10:Pa,11:Pa,12:Pa,13:gae,14:Pa,15:Pa,16:Pa,17:Pa,18:Pa,19:Pa,20:Pa,21:o9};function yae(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n[a]=vae[a](e,r-e.l)}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Vg(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function bae(e,t){return t===0||e.read_shift(2),1200}function _ae(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=i0(e,0,r);return e.read_shift(t+n-e.l),a}function wae(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Eae(e,t,r){var n="";if(r.biff==4)return n=Tf(e,0,r),n.length===0&&(n="Sheet1"),{name:n};var a=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}return n=Tf(e,0,r),n.length===0&&(n="Sheet1"),{pos:a,hs:i,dt:s,name:n}}function Sae(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(iae(e));return i.Count=n,i.Unique=a,i}function Aae(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Cae(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Tae(e){var t=fae(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function kae(e){return e.read_shift(2),e.read_shift(4)}function r8(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Dae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2),f=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:l,Selected:u,TabRatio:f}}function Oae(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function jae(){}function Nae(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Tf(e,0,r),n}function Iae(e,t,r){var n=Vs(e,t,r);return n.isst=e.read_shift(4),n}function Rae(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Vs(e,t,r),i=Np(e,n-e.l,r);return a.val=i,a}function Pae(e,t,r){var n=e.read_shift(2),a=i0(e,0,r);return[n,a]}var Fae=i0;function n8(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),l=e.read_shift(2),u=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:s,c:u}}}function Bae(e){var t=e.read_shift(2),r=e.read_shift(2),n=i9(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Mae(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(i9(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Lae(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function zae(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(4),u=e.read_shift(2);return a.patternType=Bne[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function Uae(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=zae(e,t,n.fStyle,r),n}function Vae(e){var t={};return t.ifnt=e.read_shift(1),e.l++,t.flags=e.read_shift(1),t.numFmtId=t.flags&63,t.flags>>=6,t.fStyle=0,t.data={},t}function $ae(e){var t={};return t.ifnt=e.read_shift(1),t.numFmtId=e.read_shift(1),t.flags=e.read_shift(2),t.fStyle=t.flags>>2&1,t.data={},t}function Hae(e){var t={};return t.ifnt=e.read_shift(1),t.numFmtId=e.read_shift(1),t.flags=e.read_shift(2),t.fStyle=t.flags>>2&1,t.data={},t}function qae(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Wae(e,t,r){var n=Vs(e,6,r),a=r9(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Gae(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Vs(e,6,r),a=Ua(e);return n.val=a,n}var a8=dae;function Kae(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Mu(e,i),l=[];n>e.l;)l.push(Np(e));return[i,a,s,l]}function i8(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=pae(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}function s8(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var f=Mu(e,s,r);a&32&&(f=YM[f.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var m=n==e.l||l===0||!(d>0)?[]:Ele(e,d,r,l);return{chKey:i,Name:f,itab:u,rgce:m}}function l9(e,t,r){if(r.biff<8||!(r.biff>8)&&t==e[e.l]+(e[e.l+1]==3?1:0)+1)return o8(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(hae(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function o8(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Tf(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Xae(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Mu(e,n,r),s=Mu(e,a,r);return[i,s]}function Yae(e,t,r){var n=s9(e);e.l++;var a=e.read_shift(1);return t-=8,[Sle(e,t,r),a,n]}function l8(e,t,r){var n=mae(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,_le(e,t,r)]}function Qae(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Zae(e,t,r){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),l=i0(e,0,r);return[{r:n,c:a},l,s,i]}function Jae(e,t,r){if(r&&r.biff<8){var n=e.read_shift(2),a=e.read_shift(2);if(n==65535||n==-1)return;var i=e.read_shift(2),s=e.read_shift(Math.min(i,2048),"cpstr");return[{r:n,c:a},s]}return Zae(e,t,r)}function eie(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(hy(e));return r}function tie(e,t,r){if(r&&r.biff<8)return nie(e,t,r);var n=o9(e),a=yae(e,t-22,n[1]);return{cmo:n,ft:a}}var rie={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function nie(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((rie[n]||Wa)(e,t,r)),{cmo:[a,n,i],ft:s}}function aie(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=sae(e,6,r);var l=e.read_shift(2);e.read_shift(2),fn(e,2);var u=e.read_shift(2);e.l+=u;for(var f=1;f<e.lens.length-1;++f){if(e.l-n!=e.lens[f])throw new Error("TxO: bad continue record");var d=e[e.l],m=Mu(e,e.lens[f+1]-e.lens[f]-1);if(a+=m,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function iie(e,t){var r=hy(e);e.l+=16;var n=uae(e,t-24);return[r,n]}function sie(e,t){e.read_shift(2);var r=hy(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(xi,""),[r,n]}function oie(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=Y6[r]||r,r=e.read_shift(2),t[1]=Y6[r]||r,t}function lie(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(a9(e));return r}function cie(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(a9(e));return r}function uie(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function c9(e,t,r){if(!r.cellStyles)return Wa(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var f={s:a,e:i,w:s,ixfe:l,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function fie(e,t){var r={};return t<32||(e.l+=16,r.header=Ua(e),r.footer=Ua(e),e.l+=2),r}function die(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var hie=Vs,pie=t9,mie=Np;function gie(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function xie(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Vs(e,7,r),a=i0(e,t-7,r);return n.t="str",n.val=a,n}function vie(e,t,r){var n=Vs(e,7,r),a=Ua(e);return n.t="n",n.val=a,n}function yie(e,t,r){var n=Vs(e,7,r),a=e.read_shift(2);return n.t="n",n.val=a,n}function bie(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function _ie(e,t,r){var n=e.l+7,a=Vs(e,6,r);e.l=n;var i=r9(e);return a.val=i,a.t=i===!0||i===!1?"b":"e",a}function wie(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Eie(e,t,r){var n=e.l+t,a=Vs(e,6,r),i=e.read_shift(2),s=Mu(e,i,r);return e.l=n,a.t="str",a.val=s,a}function Sie(e){var t=e.read_shift(4),r=e.read_shift(1),n=e.read_shift(r,"sbcs");return n.length===0&&(n="Sheet1"),{flags:t,name:n}}var Aie=[2,3,48,49,131,139,140,245],c8=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=mC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,u){var f=[],d=Ec(1);switch(u.type){case"base64":d=ji(Mi(l));break;case"binary":d=ji(l);break;case"buffer":case"array":d=l;break}Xn(d,0);var m=d.read_shift(1),g=!!(m&136),x=!1,y=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var _=0,b=521;m==2&&(_=d.read_shift(2)),d.l+=3,m!=2&&(_=d.read_shift(4)),_>1048576&&(_=1e6),m!=2&&(b=d.read_shift(2));var w=d.read_shift(2);u.codepage,m!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&e[d[d.l]],d.l+=1,d.l+=2),y&&(d.l+=36);for(var C=[],S={},O=Math.min(d.length,m==2?521:b-10-(x?264:0)),F=y?32:11;d.l<O&&d[d.l]!=13;)switch(S={},S.name=al(d.slice(d.l,d.l+F)).replace(/[\u0000\r\n][\S\s]*$/g,""),d.l+=F,S.type=String.fromCharCode(d.read_shift(1)),m!=2&&!y&&(S.offset=d.read_shift(4)),S.len=d.read_shift(1),m==2&&(S.offset=d.read_shift(2)),S.dec=d.read_shift(1),S.name.length&&C.push(S),m!=2&&(d.l+=y?13:14),S.type){case"B":(!x||S.len!=8)&&u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(d[d.l]!==13&&(d.l=b-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=b;var B=0,j=0;for(f[0]=[],j=0;j!=C.length;++j)f[0][j]=C[j].name;for(;_-- >0;){if(d[d.l]===42){d.l+=w;continue}for(++d.l,f[++B]=[],j=0,j=0;j!=C.length;++j){var k=d.slice(d.l,d.l+C[j].len);d.l+=C[j].len,Xn(k,0);var P=al(k);switch(C[j].type){case"C":P.trim().length&&(f[B][j]=P.replace(/([^\s])\s+$/,"$1"));break;case"D":P.length===8?(f[B][j]=new Date(Date.UTC(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8),0,0,0,0)),u&&u.UTC||(f[B][j]=Bu(f[B][j]))):f[B][j]=P;break;case"F":f[B][j]=parseFloat(P.trim());break;case"+":case"I":f[B][j]=y?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":f[B][j]=!0;break;case"N":case"F":f[B][j]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[B][j]="##MEMO##"+(y?parseInt(P.trim(),10):k.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(f[B][j]=+P||0);break;case"@":f[B][j]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":{var I=k.read_shift(4),R=k.read_shift(4);if(I==0&&R==0)break;f[B][j]=new Date((I-2440588)*864e5+R),u&&u.UTC||(f[B][j]=Bu(f[B][j]))}break;case"Y":f[B][j]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[B][j]=-k.read_shift(-8,"f");break;case"B":if(x&&C[j].len==8){f[B][j]=k.read_shift(8,"f");break}case"G":case"P":k.l+=C[j].len;break;case"0":if(C[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[j].type)}}}if(m!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=C,f}function n(l,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var d=Xf(r(l,f),f);return d["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,d}function a(l,u){try{var f=Ic(n(l,u),u);return f.bookType="dbf",f}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,u){if(!l["!ref"])throw new Error("Cannot export empty sheet to DBF");var f=u||{},d=us;if(+f.codepage>=0&&Rs(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var m=aS(),g=uS(l,{header:1,raw:!0,cellDates:!0}),x=g[0],y=g.slice(1),_=l["!cols"]||[],b=0,w=0,C=0,S=1;for(b=0;b<x.length;++b){if(((_[b]||{}).DBF||{}).name){x[b]=_[b].DBF.name,++C;continue}if(x[b]!=null){if(++C,typeof x[b]=="number"&&(x[b]=x[b].toString(10)),typeof x[b]!="string")throw new Error("DBF Invalid column name "+x[b]+" |"+typeof x[b]+"|");if(x.indexOf(x[b])!==b){for(w=0;w<1024;++w)if(x.indexOf(x[b]+"_"+w)==-1){x[b]+="_"+w;break}}}}var O=En(l["!ref"]),F=[],B=[],j=[];for(b=0;b<=O.e.c-O.s.c;++b){var k="",P="",I=0,R=[];for(w=0;w<y.length;++w)y[w][b]!=null&&R.push(y[w][b]);if(R.length==0||x[b]==null){F[b]="?";continue}for(w=0;w<R.length;++w){switch(typeof R[w]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=R[w]instanceof Date?"D":"C";break;default:P="C"}I=Math.max(I,String(R[w]).length),k=k&&k!=P?"C":P}I>250&&(I=250),P=((_[b]||{}).DBF||{}).type,P=="C"&&_[b].DBF.len>I&&(I=_[b].DBF.len),k=="B"&&P=="N"&&(k="N",j[b]=_[b].DBF.dec,I=_[b].DBF.len),B[b]=k=="C"||P=="N"?I:i[k]||0,S+=B[b],F[b]=k}var N=m.next(32);for(N.write_shift(4,318902576),N.write_shift(4,y.length),N.write_shift(2,296+32*C),N.write_shift(2,S),b=0;b<4;++b)N.write_shift(4,0);var M=+t[us]||3;for(N.write_shift(4,0|M<<8),e[M]!=+f.codepage&&(f.codepage&&console.error("DBF Unsupported codepage "+us+", using 1252"),us=1252),b=0,w=0;b<x.length;++b)if(x[b]!=null){var ce=m.next(32),fe=(x[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);ce.write_shift(1,fe,"sbcs"),ce.write_shift(1,F[b]=="?"?"C":F[b],"sbcs"),ce.write_shift(4,w),ce.write_shift(1,B[b]||i[F[b]]||0),ce.write_shift(1,j[b]||0),ce.write_shift(1,2),ce.write_shift(4,0),ce.write_shift(1,0),ce.write_shift(4,0),ce.write_shift(4,0),w+=B[b]||i[F[b]]||0}var ae=m.next(264);for(ae.write_shift(4,13),b=0;b<65;++b)ae.write_shift(4,0);for(b=0;b<y.length;++b){var ie=m.next(S);for(ie.write_shift(1,0),w=0;w<x.length;++w)if(x[w]!=null)switch(F[w]){case"L":ie.write_shift(1,y[b][w]==null?63:y[b][w]?84:70);break;case"B":ie.write_shift(8,y[b][w]||0,"f");break;case"N":var me="0";for(typeof y[b][w]=="number"&&(me=y[b][w].toFixed(j[w]||0)),me.length>B[w]&&(me=me.slice(0,B[w])),C=0;C<B[w]-me.length;++C)ie.write_shift(1,32);ie.write_shift(1,me,"sbcs");break;case"D":y[b][w]?(ie.write_shift(4,("0000"+y[b][w].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(y[b][w].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+y[b][w].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var be=ie.l,de=String(y[b][w]!=null?y[b][w]:"").slice(0,B[w]);for(ie.write_shift(1,de,"cpstr"),be+=B[w]-ie.l,C=0;C<be;++C)ie.write_shift(1,32);break}}return us=d,m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}})(),Cie=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ds(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{t=new RegExp("\x1BN("+ds(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var r=function(x,y){var _=e[y];return typeof _=="number"?A6(_):_},n=function(x,y,_){var b=y.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return b==59?x:A6(b)};e["|"]=254;var a=function(x){return x.replace(/\n/g,"\x1B :").replace(/\r/g,"\x1B =")};function i(x,y){switch(y.type){case"base64":return s(Mi(x),y);case"binary":return s(x,y);case"buffer":return s($t&&Buffer.isBuffer(x)?x.toString("binary"):al(x),y);case"array":return s(Fu(x),y)}throw new Error("Unrecognized type "+y.type)}function s(x,y){var _=x.split(/[\n\r]+/),b=-1,w=-1,C=0,S=0,O=[],F=[],B=null,j={},k=[],P=[],I=[],R=0,N,M={Workbook:{WBProps:{},Names:[]}};for(+y.codepage>=0&&Rs(+y.codepage);C!==_.length;++C){R=0;var ce=_[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),fe=ce.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),ae=fe[0],ie;if(ce.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":for(S=1;S<fe.length;++S)switch(fe[S].charAt(0)){case"V":{var me=parseInt(fe[S].slice(1),10);me>=1&&me<=4&&(M.Workbook.WBProps.date1904=!0)}break}break;case"W":break;case"P":fe[1].charAt(0)==="P"&&F.push(ce.slice(3).replace(/;;/g,";"));break;case"NN":{var be={Sheet:0};for(S=1;S<fe.length;++S)switch(fe[S].charAt(0)){case"N":be.Name=fe[S].slice(1);break;case"E":be.Ref=(y&&y.sheet||"Sheet1")+"!"+Cu(fe[S].slice(1));break}M.Workbook.Names.push(be)}break;case"C":var de=!1,U=!1,Z=!1,te=!1,W=-1,xe=-1,Te="",Ne="z",X="";for(S=1;S<fe.length;++S)switch(fe[S].charAt(0)){case"A":X=fe[S].slice(1);break;case"X":w=parseInt(fe[S].slice(1),10)-1,U=!0;break;case"Y":for(b=parseInt(fe[S].slice(1),10)-1,U||(w=0),N=O.length;N<=b;++N)O[N]=[];break;case"K":ie=fe[S].slice(1),ie.charAt(0)==='"'?(ie=ie.slice(1,ie.length-1),Ne="s"):ie==="TRUE"||ie==="FALSE"?(ie=ie==="TRUE",Ne="b"):ie.charAt(0)=="#"&&ka[ie]!=null?(Ne="e",ie=ka[ie]):isNaN(Pi(ie))||(ie=Pi(ie),Ne="n",B!==null&&Ms(B)&&y.cellDates&&(ie=pc(M.Workbook.WBProps.date1904?ie+1462:ie),Ne=typeof ie=="number"?"n":"d")),de=!0;break;case"E":te=!0,Te=Cu(fe[S].slice(1),{r:b,c:w});break;case"S":Z=!0;break;case"G":break;case"R":W=parseInt(fe[S].slice(1),10)-1;break;case"C":xe=parseInt(fe[S].slice(1),10)-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+ce)}if(de&&(O[b][w]?(O[b][w].t=Ne,O[b][w].v=ie):O[b][w]={t:Ne,v:ie},B&&(O[b][w].z=B),y.cellText!==!1&&B&&(O[b][w].w=Li(O[b][w].z,O[b][w].v,{date1904:M.Workbook.WBProps.date1904})),B=null),Z){if(te)throw new Error("SYLK shared formula cannot have own formula");var Q=W>-1&&O[W][xe];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");Te=v9(Q[1],{r:b-W,c:w-xe})}Te&&(O[b][w]?O[b][w].f=Te:O[b][w]={t:"n",f:Te}),X&&(O[b][w]||(O[b][w]={t:"z"}),O[b][w].c=[{a:"SheetJSYLK",t:X}]);break;case"F":var ue=0;for(S=1;S<fe.length;++S)switch(fe[S].charAt(0)){case"X":w=parseInt(fe[S].slice(1),10)-1,++ue;break;case"Y":for(b=parseInt(fe[S].slice(1),10)-1,N=O.length;N<=b;++N)O[N]=[];break;case"M":R=parseInt(fe[S].slice(1),10)/20;break;case"F":break;case"G":break;case"P":B=F[parseInt(fe[S].slice(1),10)];break;case"S":break;case"D":break;case"N":break;case"W":for(I=fe[S].slice(1).split(" "),N=parseInt(I[0],10);N<=parseInt(I[1],10);++N)R=parseInt(I[2],10),P[N-1]=R===0?{hidden:!0}:{wch:R};break;case"C":w=parseInt(fe[S].slice(1),10)-1,P[w]||(P[w]={});break;case"R":b=parseInt(fe[S].slice(1),10)-1,k[b]||(k[b]={}),R>0?(k[b].hpt=R,k[b].hpx=np(R)):R===0&&(k[b].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+ce)}ue<1&&(B=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+ce)}}return k.length>0&&(j["!rows"]=k),P.length>0&&(j["!cols"]=P),P.forEach(function(q){kf(q)}),y&&y.sheetRows&&(O=O.slice(0,y.sheetRows)),[O,j,M]}function l(x,y){var _=i(x,y),b=_[0],w=_[1],C=_[2],S=Un(y);S.date1904=(((C||{}).Workbook||{}).WBProps||{}).date1904;var O=Xf(b,S);ds(w).forEach(function(B){O[B]=w[B]});var F=Ic(O,y);return ds(C).forEach(function(B){F[B]=C[B]}),F.bookType="sylk",F}function u(x,y,_,b,w,C){var S="C;Y"+(_+1)+";X"+(b+1)+";K";switch(x.t){case"n":S+=isFinite(x.v)?x.v||0:vi[isNaN(x.v)?36:7],x.f&&!x.F&&(S+=";E"+soe(x.f,{r:_,c:b}));break;case"b":S+=x.v?"TRUE":"FALSE";break;case"e":S+=x.w||vi[x.v]||x.v;break;case"d":S+=Zn(ja(x.v,C),C);break;case"s":S+='"'+(x.v==null?"":String(x.v)).replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function f(x,y,_){var b="C;Y"+(y+1)+";X"+(_+1)+";A";return b+=a(x.map(function(w){return w.t}).join("")),b}function d(x,y){y.forEach(function(_,b){var w="F;W"+(b+1)+" "+(b+1)+" ";_.hidden?w+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=zv(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=Uv(_.wpx)),typeof _.wch=="number"&&(w+=Math.round(_.wch))),w.charAt(w.length-1)!=" "&&x.push(w)})}function m(x,y){y.forEach(function(_,b){var w="F;";_.hidden?w+="M0;":_.hpt?w+="M"+20*_.hpt+";":_.hpx&&(w+="M"+20*g9(_.hpx)+";"),w.length>2&&x.push(w+"R"+(b+1))})}function g(x,y,_){y||(y={}),y._formats=["General"];var b=["ID;PSheetJS;N;E"],w=[],C=En(x["!ref"]||"A1"),S,O=x["!data"]!=null,F=`\r
`,B=(((_||{}).Workbook||{}).WBProps||{}).date1904,j="General";b.push("P;PGeneral");var k=C.s.r,P=C.s.c,I=[];if(x["!ref"]){for(k=C.s.r;k<=C.e.r;++k)if(!(O&&!x["!data"][k])){for(I=[],P=C.s.c;P<=C.e.c;++P)S=O?x["!data"][k][P]:x[or(P)+yr(k)],!(!S||!S.c)&&I.push(f(S.c,k,P));I.length&&w.push(I.join(F))}}if(x["!ref"]){for(k=C.s.r;k<=C.e.r;++k)if(!(O&&!x["!data"][k])){for(I=[],P=C.s.c;P<=C.e.c;++P)if(S=O?x["!data"][k][P]:x[or(P)+yr(k)],!(!S||S.v==null&&(!S.f||S.F))){if((S.z||(S.t=="d"?kt[14]:"General"))!=j){var R=y._formats.indexOf(S.z);R==-1&&(y._formats.push(S.z),R=y._formats.length-1,b.push("P;P"+S.z.replace(/;/g,";;"))),I.push("F;P"+R+";Y"+(k+1)+";X"+(P+1))}I.push(u(S,x,k,P,y,B))}w.push(I.join(F))}}return b.push("F;P0;DG0G8;M255"),x["!cols"]&&d(b,x["!cols"]),x["!rows"]&&m(b,x["!rows"]),x["!ref"]&&b.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" ")),b.push("O;L;D;B"+(B?";V4":"")+";K47;G100 0.001"),delete y._formats,b.join(F)+F+w.join(F)+F+"E"+F}return{to_workbook:l,from_sheet:g}})(),Tie=(function(){function e(l,u){switch(u.type){case"base64":return t(Mi(l),u);case"binary":return t(l,u);case"buffer":return t($t&&Buffer.isBuffer(l)?l.toString("binary"):al(l),u);case"array":return t(Fu(l),u)}throw new Error("Unrecognized type "+u.type)}function t(l,u){for(var f=l.split(`
`),d=-1,m=-1,g=0,x=[];g!==f.length;++g){if(f[g].trim()==="BOT"){x[++d]=[],m=0;continue}if(!(d<0)){var y=f[g].trim().split(","),_=y[0],b=y[1];++g;for(var w=f[g]||"";(w.match(/["]/g)||[]).length&1&&g<f.length-1;)w+=`
`+f[++g];switch(w=w.trim(),+_){case-1:if(w==="BOT"){x[++d]=[],m=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?x[d][m]=!0:w==="FALSE"?x[d][m]=!1:isNaN(Pi(b))?isNaN(ep(b).getDate())?x[d][m]=b:(x[d][m]=ja(b),u&&u.UTC||(x[d][m]=Bu(x[d][m]))):x[d][m]=Pi(b),++m;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),x[d][m++]=w!==""?w:null;break}if(w==="EOD")break}}return u&&u.sheetRows&&(x=x.slice(0,u.sheetRows)),x}function r(l,u){return Xf(e(l,u),u)}function n(l,u){var f=Ic(r(l,u),u);return f.bookType="dif",f}function a(l,u){return"0,"+String(l)+`\r
`+u}function i(l){return`1,0\r
"`+l.replace(/"/g,'""')+'"'}function s(l){if(!l["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var u=En(l["!ref"]),f=l["!data"]!=null,d=[`TABLE\r
0,1\r
"sheetjs"\r
`,`VECTORS\r
0,`+(u.e.r-u.s.r+1)+`\r
""\r
`,`TUPLES\r
0,`+(u.e.c-u.s.c+1)+`\r
""\r
`,`DATA\r
0,0\r
""\r
`],m=u.s.r;m<=u.e.r;++m){for(var g=f?l["!data"][m]:[],x=`-1,0\r
BOT\r
`,y=u.s.c;y<=u.e.c;++y){var _=f?g&&g[y]:l[sr({r:m,c:y})];if(_==null){x+=`1,0\r
""\r
`;continue}switch(_.t){case"n":_.w!=null?x+="0,"+_.w+`\r
V`:_.v!=null?x+=a(_.v,"V"):_.f!=null&&!_.F?x+=i("="+_.f):x+=`1,0\r
""`;break;case"b":x+=_.v?a(1,"TRUE"):a(0,"FALSE");break;case"s":x+=i(isNaN(+_.v)?_.v:'="'+_.v+'"');break;case"d":_.w||(_.w=Li(_.z||kt[14],Zn(ja(_.v)))),x+=a(_.w,"V");break;default:x+=`1,0\r
""`}x+=`\r
`}d.push(x)}return d.join("")+`-1,0\r
EOD`}return{to_workbook:n,to_sheet:r,from_sheet:s}})(),kie=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,g){for(var x=m.split(`
`),y=-1,_=-1,b=0,w=[];b!==x.length;++b){var C=x[b].trim().split(":");if(C[0]==="cell"){var S=Va(C[1]);if(w.length<=S.r)for(y=w.length;y<=S.r;++y)w[y]||(w[y]=[]);switch(y=S.r,_=S.c,C[2]){case"t":w[y][_]=e(C[3]);break;case"v":w[y][_]=+C[3];break;case"vtf":var O=C[C.length-1];case"vtc":C[3]==="nl"?w[y][_]=!!+C[4]:w[y][_]=C[C.length-1].charAt(0)=="#"?{t:"e",v:ka[C[C.length-1]]}:+C[4],C[2]=="vtf"&&(w[y][_]=[w[y][_],O])}}}return g&&g.sheetRows&&(w=w.slice(0,g.sheetRows)),w}function n(m,g){return Xf(r(m,g),g)}function a(m,g){return Ic(n(m,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],y,_="",b=r0(m["!ref"]),w=m["!data"]!=null,C=b.s.r;C<=b.e.r;++C)for(var S=b.s.c;S<=b.e.c;++S)if(_=sr({r:C,c:S}),y=w?(m["!data"][C]||[])[S]:m[_],!(!y||y.v==null||y.t==="z")){switch(x=["cell",_,"t"],y.t){case"s":x.push(t(y.v));break;case"b":x[2]="vt"+(y.f?"f":"c"),x[3]="nl",x[4]=y.v?"1":"0",x[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var O=Zn(ja(y.v));x[2]="vtc",x[3]="nd",x[4]=""+O,x[5]=y.w||Li(y.z||kt[14],O);break;case"n":isFinite(y.v)?y.f?(x[2]="vtf",x[3]="n",x[4]=y.v,x[5]=t(y.f)):(x[2]="v",x[3]=y.v):(x[2]="vt"+(y.f?"f":"c"),x[3]="e"+vi[isNaN(y.v)?36:7],x[4]="0",x[5]=y.f||x[3].slice(1),x[6]="e",x[7]=x[3].slice(1));break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(m){return[i,s,l,s,f(m),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}})(),tp=(function(){function e(d,m,g,x,y){y.raw?m[g][x]=d:d===""||(d==="TRUE"?m[g][x]=!0:d==="FALSE"?m[g][x]=!1:isNaN(Pi(d))?isNaN(ep(d).getDate())?d.charCodeAt(0)==35&&ka[d]!=null?m[g][x]={t:"e",v:ka[d],w:d}:m[g][x]=d:m[g][x]=ja(d):m[g][x]=Pi(d))}function t(d,m){var g=m||{},x=[];if(!d||d.length===0)return x;for(var y=d.split(/[\r\n]/),_=y.length-1;_>=0&&y[_].length===0;)--_;for(var b=10,w=0,C=0;C<=_;++C)w=y[C].indexOf(" "),w==-1?w=y[C].length:w++,b=Math.max(b,w);for(C=0;C<=_;++C){x[C]=[];var S=0;for(e(y[C].slice(0,b).trim(),x,C,S,g),S=1;S<=(y[C].length-b)/10+1;++S)e(y[C].slice(b+(S-1)*10,b+S*10).trim(),x,C,S,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var m={},g=!1,x=0,y=0;x<d.length;++x)(y=d.charCodeAt(x))==34?g=!g:!g&&y in r&&(m[y]=(m[y]||0)+1);y=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&y.push([m[x],x]);if(!y.length){m=n;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&y.push([m[x],x])}return y.sort(function(_,b){return _[0]-b[0]||n[_[1]]-n[b[1]]}),r[y.pop()[1]]||44}function i(d,m){var g=m||{},x="",y={};g.dense&&(y["!data"]=[]);var _={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=a(d.slice(0,1024)):g&&g.FS?x=g.FS:x=a(d.slice(0,1024));var b=0,w=0,C=0,S=0,O=0,F=x.charCodeAt(0),B=!1,j=0,k=d.charCodeAt(0),P=g.dateNF!=null?wre(g.dateNF):null;function I(){var R=d.slice(S,O);R.slice(-1)=="\r"&&(R=R.slice(0,-1));var N={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),g.cellText!==!1&&(N.w=R),R.length===0)N.t="z";else if(g.raw)N.t="s",N.v=R;else if(R.trim().length===0)N.t="s",N.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(N.t="s",N.v=R.slice(2,-1).replace(/""/g,'"')):ooe(R)?(N.t="s",N.f=R.slice(1),N.v=R):(N.t="s",N.v=R);else if(R=="TRUE")N.t="b",N.v=!0;else if(R=="FALSE")N.t="b",N.v=!1;else if(!isNaN(C=Pi(R)))N.t="n",N.v=C;else if(!isNaN((C=ep(R)).getDate())||P&&R.match(P)){if(N.z=g.dateNF||kt[14],P&&R.match(P)){var M=Ere(R,g.dateNF,R.match(P)||[]);C=ja(M),g&&g.UTC===!1&&(C=Bu(C))}else g&&g.UTC===!1?C=Bu(C):g.cellText!==!1&&g.dateNF&&(N.w=Li(N.z,C));g.cellDates?(N.t="d",N.v=C):(N.t="n",N.v=Zn(C)),g.cellNF||delete N.z}else R.charCodeAt(0)==35&&ka[R]!=null?(N.t="e",N.w=R,N.v=ka[R]):(N.t="s",N.v=R);if(N.t=="z"||(g.dense?(y["!data"][b]||(y["!data"][b]=[]),y["!data"][b][w]=N):y[sr({c:w,r:b})]=N),S=O+1,k=d.charCodeAt(S),_.e.c<w&&(_.e.c=w),_.e.r<b&&(_.e.r=b),j==F)++w;else if(w=0,++b,g.sheetRows&&g.sheetRows<=b)return!0}e:for(;O<d.length;++O)switch(j=d.charCodeAt(O)){case 34:k===34&&(B=!B);break;case 13:if(B)break;d.charCodeAt(O+1)==10&&++O;case F:case 10:if(!B&&I())break e;break}return O-S>0&&I(),y["!ref"]=Yt(_),y}function s(d,m){return!(m&&m.PRN)||m.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,m):Xf(t(d,m),m)}function l(d,m){var g="",x=m.type=="string"?[0,0,0,0]:jC(d,m);switch(m.type){case"base64":g=Mi(d);break;case"binary":g=d;break;case"buffer":m.codepage==65001?g=d.toString("utf8"):(m.codepage,g=$t&&Buffer.isBuffer(d)?d.toString("binary"):al(d));break;case"array":g=Fu(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=Rr(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=Rr(g):m.type=="binary",g.slice(0,19)=="socialcalc:version:"?kie.to_sheet(m.type=="string"?g:Rr(g),m):s(g,m)}function u(d,m){return Ic(l(d,m),m)}function f(d){var m=[];if(!d["!ref"])return"";for(var g=En(d["!ref"]),x,y=d["!data"]!=null,_=g.s.r;_<=g.e.r;++_){for(var b=[],w=g.s.c;w<=g.e.c;++w){var C=sr({r:_,c:w});if(x=y?(d["!data"][_]||[])[w]:d[C],!x||x.v==null){b.push("          ");continue}for(var S=(x.w||(Sc(x),x.w)||"").slice(0,10);S.length<10;)S+=" ";b.push(S+(w===0?" ":""))}m.push(b.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:f}})();function Die(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Cie.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,i.message.indexOf("SYLK bad record ID")==-1&&n)throw i;return tp.to_workbook(e,t)}}var Ih=(function(){function e(X,Q,ue){if(X){Xn(X,X.l||0);for(var q=ue.Enum||te;X.l<X.length;){var K=X.read_shift(2),H=q[K]||q[65535],ve=X.read_shift(2),Fe=X.l+ve,Se=H.f&&H.f(X,ve,ue);if(X.l=Fe,Q(Se,H,K))return}}}function t(X,Q){switch(Q.type){case"base64":return n(ji(Mi(X)),Q);case"binary":return n(ji(X),Q);case"buffer":case"array":return n(X,Q)}throw"Unsupported type "+Q.type}var r=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function n(X,Q){if(!X)return X;var ue=Q||{},q={},K="Sheet1",H="",ve=0,Fe={},Se=[],Ge=[],He=[];ue.dense&&(He=q["!data"]=[]);var Je={s:{r:0,c:0},e:{r:0,c:0}},rt=ue.sheetRows||0,tt={};if(X[4]==81&&X[5]==80&&X[6]==87)return Ne(X,Q);if(X[2]==0&&(X[3]==8||X[3]==9)&&X.length>=16&&X[14]==5&&X[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(X[2]==2)ue.Enum=te,e(X,function(Le,wt,vt){switch(vt){case 0:ue.vers=Le,Le>=4096&&(ue.qpro=!0);break;case 255:ue.vers=Le,ue.works=!0;break;case 6:Je=Le;break;case 204:Le&&(H=Le);break;case 222:H=Le;break;case 15:case 51:(!ue.qpro&&!ue.works||vt==51)&&Le[1].v.charCodeAt(0)<48&&(Le[1].v=Le[1].v.slice(1)),(ue.works||ue.works2)&&(Le[1].v=Le[1].v.replace(/\r\n/g,`
`));case 13:case 14:case 16:(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=ue.dateNF||r[(Le[2]&15)-1]||kt[14],ue.cellDates&&(Le[1].v=pc(Le[1].v),Le[1].t=typeof Le[1].v=="number"?"n":"d")),ue.qpro&&Le[3]>ve&&(q["!ref"]=Yt(Je),Fe[K]=q,Se.push(K),q={},ue.dense&&(He=q["!data"]=[]),Je={s:{r:0,c:0},e:{r:0,c:0}},ve=Le[3],K=H||"Sheet"+(ve+1),H="");var St=ue.dense?(He[Le[0].r]||[])[Le[0].c]:q[sr(Le[0])];if(St){St.t=Le[1].t,St.v=Le[1].v,Le[1].z!=null&&(St.z=Le[1].z),Le[1].f!=null&&(St.f=Le[1].f),tt=St;break}ue.dense?(He[Le[0].r]||(He[Le[0].r]=[]),He[Le[0].r][Le[0].c]=Le[1]):q[sr(Le[0])]=Le[1],tt=Le[1];break;case 21509:ue.works2=!0;break;case 21506:Le==5281&&(tt.z="hh:mm:ss",ue.cellDates&&tt.t=="n"&&(tt.v=pc(tt.v),tt.t=typeof tt.v=="number"?"n":"d"));break}},ue);else if(X[2]==26||X[2]==14)ue.Enum=W,X[2]==14&&(ue.qpro=!0,X.l=0),e(X,function(Le,wt,vt){switch(vt){case 204:K=Le;break;case 22:Le[1].v.charCodeAt(0)<48&&(Le[1].v=Le[1].v.slice(1)),Le[1].v=Le[1].v.replace(/\x0F./g,function(St){return String.fromCharCode(St.charCodeAt(1)-32)}).replace(/\r\n/g,`
`);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>ve&&(q["!ref"]=Yt(Je),Fe[K]=q,Se.push(K),q={},ue.dense&&(He=q["!data"]=[]),Je={s:{r:0,c:0},e:{r:0,c:0}},ve=Le[3],K="Sheet"+(ve+1)),rt>0&&Le[0].r>=rt)break;ue.dense?(He[Le[0].r]||(He[Le[0].r]=[]),He[Le[0].r][Le[0].c]=Le[1]):q[sr(Le[0])]=Le[1],Je.e.c<Le[0].c&&(Je.e.c=Le[0].c),Je.e.r<Le[0].r&&(Je.e.r=Le[0].r);break;case 27:Le[14e3]&&(Ge[Le[14e3][0]]=Le[14e3][1]);break;case 1537:Ge[Le[0]]=Le[1],Le[0]==ve&&(K=Le[1]);break}},ue);else throw new Error("Unrecognized LOTUS BOF "+X[2]);if(q["!ref"]=Yt(Je),Fe[H||K]=q,Se.push(H||K),!Ge.length)return{SheetNames:Se,Sheets:Fe};for(var le={},_e=[],Qe=0;Qe<Ge.length;++Qe)Fe[Se[Qe]]?(_e.push(Ge[Qe]||Se[Qe]),le[Ge[Qe]]=Fe[Ge[Qe]]||Fe[Se[Qe]]):(_e.push(Ge[Qe]),le[Ge[Qe]]={"!ref":"A1"});return{SheetNames:_e,Sheets:le}}function a(X,Q){var ue=Q||{};if(+ue.codepage>=0&&Rs(+ue.codepage),ue.type=="string")throw new Error("Cannot write WK1 to JS string");var q=aS();if(!X["!ref"])throw new Error("Cannot export empty sheet to WK1");var K=En(X["!ref"]),H=X["!data"]!=null,ve=[];Di(q,0,s(1030)),Di(q,6,f(K));for(var Fe=Math.min(K.e.r,8191),Se=K.s.c;Se<=K.e.c;++Se)ve[Se]=or(Se);for(var Ge=K.s.r;Ge<=Fe;++Ge){var He=yr(Ge);for(Se=K.s.c;Se<=K.e.c;++Se){var Je=H?(X["!data"][Ge]||[])[Se]:X[ve[Se]+He];if(!(!Je||Je.t=="z"))switch(Je.t){case"n":(Je.v|0)==Je.v&&Je.v>=-32768&&Je.v<=32767?Di(q,13,b(Ge,Se,Je)):Di(q,14,C(Ge,Se,Je));break;case"d":var rt=Zn(Je.v);(rt|0)==rt&&rt>=-32768&&rt<=32767?Di(q,13,b(Ge,Se,{v:rt,z:Je.z||kt[14]})):Di(q,14,C(Ge,Se,{v:rt,z:Je.z||kt[14]}));break;default:var tt=Sc(Je);Di(q,15,x(Ge,Se,tt.slice(0,239)))}}}return Di(q,1),q.end()}function i(X,Q){var ue=Q||{};if(+ue.codepage>=0&&Rs(+ue.codepage),ue.type=="string")throw new Error("Cannot write WK3 to JS string");var q=aS();Di(q,0,l(X));for(var K=0,H=0;K<X.SheetNames.length;++K)(X.Sheets[X.SheetNames[K]]||{})["!ref"]&&Di(q,27,Z(X.SheetNames[K],H++));var ve=0;for(K=0;K<X.SheetNames.length;++K){var Fe=X.Sheets[X.SheetNames[K]];if(!(!Fe||!Fe["!ref"])){for(var Se=En(Fe["!ref"]),Ge=Fe["!data"]!=null,He=[],Je=Math.min(Se.e.r,8191),rt=Se.s.r;rt<=Je;++rt)for(var tt=yr(rt),le=Se.s.c;le<=Se.e.c;++le){rt===Se.s.r&&(He[le]=or(le));var _e=He[le]+tt,Qe=Ge?(Fe["!data"][rt]||[])[le]:Fe[_e];if(!(!Qe||Qe.t=="z"))if(Qe.t=="n")Di(q,23,M(rt,le,ve,Qe.v));else{var Le=Sc(Qe);Di(q,22,I(rt,le,ve,Le.slice(0,239)))}}++ve}}return Di(q,1),q.end()}function s(X){var Q=Rn(2);return Q.write_shift(2,X),Q}function l(X){var Q=Rn(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var ue=0,q=0,K=0,H=0;H<X.SheetNames.length;++H){var ve=X.SheetNames[H],Fe=X.Sheets[ve];if(!(!Fe||!Fe["!ref"])){++K;var Se=r0(Fe["!ref"]);ue<Se.e.r&&(ue=Se.e.r),q<Se.e.c&&(q=Se.e.c)}}return ue>8191&&(ue=8191),Q.write_shift(2,ue),Q.write_shift(1,K),Q.write_shift(1,q),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function u(X,Q,ue){var q={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&ue.qpro?(q.s.c=X.read_shift(1),X.l++,q.s.r=X.read_shift(2),q.e.c=X.read_shift(1),X.l++,q.e.r=X.read_shift(2),q):(q.s.c=X.read_shift(2),q.s.r=X.read_shift(2),Q==12&&ue.qpro&&(X.l+=2),q.e.c=X.read_shift(2),q.e.r=X.read_shift(2),Q==12&&ue.qpro&&(X.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function f(X){var Q=Rn(8);return Q.write_shift(2,X.s.c),Q.write_shift(2,X.s.r),Q.write_shift(2,X.e.c),Q.write_shift(2,X.e.r),Q}function d(X,Q,ue){var q=[{c:0,r:0},{t:"n",v:0},0,0];return ue.qpro&&ue.vers!=20768?(q[0].c=X.read_shift(1),q[3]=X.read_shift(1),q[0].r=X.read_shift(2),X.l+=2):ue.works?(q[0].c=X.read_shift(2),q[0].r=X.read_shift(2),q[2]=X.read_shift(2)):(q[2]=X.read_shift(1),q[0].c=X.read_shift(2),q[0].r=X.read_shift(2)),q}function m(X){return X.z&&Ms(X.z)?240|(r.indexOf(X.z)+1||2):255}function g(X,Q,ue){var q=X.l+Q,K=d(X,Q,ue);if(K[1].t="s",(ue.vers&65534)==20768){X.l++;var H=X.read_shift(1);return K[1].v=X.read_shift(H,"utf8"),K}return ue.qpro&&X.l++,K[1].v=X.read_shift(q-X.l,"cstr"),K}function x(X,Q,ue){var q=Rn(7+ue.length);q.write_shift(1,255),q.write_shift(2,Q),q.write_shift(2,X),q.write_shift(1,39);for(var K=0;K<q.length;++K){var H=ue.charCodeAt(K);q.write_shift(1,H>=128?95:H)}return q.write_shift(1,0),q}function y(X,Q,ue){var q=X.l+Q,K=d(X,Q,ue);if(K[1].t="s",ue.vers==20768){var H=X.read_shift(1);return K[1].v=X.read_shift(H,"utf8"),K}return K[1].v=X.read_shift(q-X.l,"cstr"),K}function _(X,Q,ue){var q=d(X,Q,ue);return q[1].v=X.read_shift(2,"i"),q}function b(X,Q,ue){var q=Rn(7);return q.write_shift(1,m(ue)),q.write_shift(2,Q),q.write_shift(2,X),q.write_shift(2,ue.v,"i"),q}function w(X,Q,ue){var q=d(X,Q,ue);return q[1].v=X.read_shift(8,"f"),q}function C(X,Q,ue){var q=Rn(13);return q.write_shift(1,m(ue)),q.write_shift(2,Q),q.write_shift(2,X),q.write_shift(8,ue.v,"f"),q}function S(X,Q,ue){var q=X.l+Q,K=d(X,Q,ue);if(K[1].v=X.read_shift(8,"f"),ue.qpro)X.l=q;else{var H=X.read_shift(2);j(X.slice(X.l,X.l+H),K),X.l+=H}return K}function O(X,Q,ue){var q=Q&32768;return Q&=-32769,Q=(q?X:0)+(Q>=8192?Q-16384:Q),(q?"":"$")+(ue?or(Q):yr(Q))}var F={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},B=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(X,Q){Xn(X,0);for(var ue=[],q=0,K="",H="",ve="",Fe="";X.l<X.length;){var Se=X[X.l++];switch(Se){case 0:ue.push(X.read_shift(8,"f"));break;case 1:H=O(Q[0].c,X.read_shift(2),!0),K=O(Q[0].r,X.read_shift(2),!1),ue.push(H+K);break;case 2:{var Ge=O(Q[0].c,X.read_shift(2),!0),He=O(Q[0].r,X.read_shift(2),!1);H=O(Q[0].c,X.read_shift(2),!0),K=O(Q[0].r,X.read_shift(2),!1),ue.push(Ge+He+":"+H+K)}break;case 3:if(X.l<X.length){console.error("WK1 premature formula end");return}break;case 4:ue.push("("+ue.pop()+")");break;case 5:ue.push(X.read_shift(2));break;case 6:{for(var Je="";Se=X[X.l++];)Je+=String.fromCharCode(Se);ue.push('"'+Je.replace(/"/g,'""')+'"')}break;case 8:ue.push("-"+ue.pop());break;case 23:ue.push("+"+ue.pop());break;case 22:ue.push("NOT("+ue.pop()+")");break;case 20:case 21:Fe=ue.pop(),ve=ue.pop(),ue.push(["AND","OR"][Se-20]+"("+ve+","+Fe+")");break;default:if(Se<32&&B[Se])Fe=ue.pop(),ve=ue.pop(),ue.push(ve+B[Se]+Fe);else if(F[Se]){if(q=F[Se][1],q==69&&(q=X[X.l++]),q>ue.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+ue.join("|")+"|");return}var rt=ue.slice(-q);ue.length-=q,ue.push(F[Se][0]+"("+rt.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}ue.length==1?Q[1].f=""+ue[0]:console.error("WK1 bad formula parse |"+ue.join("|")+"|")}function k(X){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=X.read_shift(2),Q[3]=X[X.l++],Q[0].c=X[X.l++],Q}function P(X,Q){var ue=k(X);return ue[1].t="s",ue[1].v=X.read_shift(Q-4,"cstr"),ue}function I(X,Q,ue,q){var K=Rn(6+q.length);K.write_shift(2,X),K.write_shift(1,ue),K.write_shift(1,Q),K.write_shift(1,39);for(var H=0;H<q.length;++H){var ve=q.charCodeAt(H);K.write_shift(1,ve>=128?95:ve)}return K.write_shift(1,0),K}function R(X,Q){var ue=k(X);ue[1].v=X.read_shift(2);var q=ue[1].v>>1;if(ue[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return ue[1].v=q,ue}function N(X,Q){var ue=k(X),q=X.read_shift(4),K=X.read_shift(4),H=X.read_shift(2);if(H==65535)return q===0&&K===3221225472?(ue[1].t="e",ue[1].v=15):q===0&&K===3489660928?(ue[1].t="e",ue[1].v=42):ue[1].v=0,ue;var ve=H&32768;return H=(H&32767)-16446,ue[1].v=(1-ve*2)*(K*Math.pow(2,H+32)+q*Math.pow(2,H)),ue}function M(X,Q,ue,q){var K=Rn(14);if(K.write_shift(2,X),K.write_shift(1,ue),K.write_shift(1,Q),q==0)return K.write_shift(4,0),K.write_shift(4,0),K.write_shift(2,65535),K;var H=0,ve=0,Fe=0,Se=0;return q<0&&(H=1,q=-q),ve=Math.log2(q)|0,q/=Math.pow(2,ve-31),Se=q>>>0,(Se&2147483648)==0&&(q/=2,++ve,Se=q>>>0),q-=Se,Se|=2147483648,Se>>>=0,q*=Math.pow(2,32),Fe=q>>>0,K.write_shift(4,Fe),K.write_shift(4,Se),ve+=16383+(H?32768:0),K.write_shift(2,ve),K}function ce(X,Q){var ue=N(X);return X.l+=Q-14,ue}function fe(X,Q){var ue=k(X),q=X.read_shift(4);return ue[1].v=q>>6,ue}function ae(X,Q){var ue=k(X),q=X.read_shift(8,"f");return ue[1].v=q,ue}function ie(X,Q){var ue=ae(X);return X.l+=Q-12,ue}function me(X,Q){return X[X.l+Q-1]==0?X.read_shift(Q,"cstr"):""}function be(X,Q){var ue=X[X.l++];ue>Q-1&&(ue=Q-1);for(var q="";q.length<ue;)q+=String.fromCharCode(X[X.l++]);return q}function de(X,Q,ue){if(!(!ue.qpro||Q<21)){var q=X.read_shift(1);X.l+=17,X.l+=1,X.l+=2;var K=X.read_shift(Q-21,"cstr");return[q,K]}}function U(X,Q){for(var ue={},q=X.l+Q;X.l<q;){var K=X.read_shift(2);if(K==14e3){for(ue[K]=[0,""],ue[K][0]=X.read_shift(2);X[X.l];)ue[K][1]+=String.fromCharCode(X[X.l]),X.l++;X.l++}}return ue}function Z(X,Q){var ue=Rn(5+X.length);ue.write_shift(2,14e3),ue.write_shift(2,Q);for(var q=0;q<X.length;++q){var K=X.charCodeAt(q);ue[ue.l++]=K>127?95:K}return ue[ue.l++]=0,ue}var te={0:{n:"BOF",f:fn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:y},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:me},222:{n:"SHEETNAMELP",f:be},255:{n:"BOF",f:fn},21506:{n:"WKSNF",f:fn},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:ce},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:U},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:fe},38:{n:"??"},39:{n:"NUMBER27",f:ae},40:{n:"FORMULA28",f:ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:me},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:de},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},xe={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function Te(X){var Q=X.read_shift(2),ue=X.read_shift(1);if(ue!=0)throw"unsupported QPW string type "+ue.toString(16);return X.read_shift(Q,"sbcs-cont")}function Ne(X,Q){Xn(X,0);var ue=Q||{},q={};ue.dense&&(q["!data"]=[]);var K=[],H="",ve={s:{r:-1,c:-1},e:{r:-1,c:-1}},Fe=0,Se=0,Ge=0,He=0,Je={SheetNames:[],Sheets:{}},rt=[];e:for(;X.l<X.length;){var tt=X.read_shift(2),le=X.read_shift(2),_e=X.slice(X.l,X.l+le);switch(Xn(_e,0),tt){case 1:if(_e.read_shift(4)!=962023505)throw"Bad QPW9 BOF!";break;case 2:break e;case 8:break;case 10:for(var Qe=_e.read_shift(4),Le=(_e.length-_e.l)/Qe|0,wt=0;wt<Qe;++wt){var vt=_e.l+Le,St={};_e.l+=2,St.numFmtId=_e.read_shift(2),xe[St.numFmtId]&&(St.z=xe[St.numFmtId]),_e.l=vt,rt.push(St)}break;case 1025:break;case 1026:break;case 1031:for(_e.l+=12;_e.l<_e.length;)Fe=_e.read_shift(2),Se=_e.read_shift(1),K.push(_e.read_shift(Fe,"cstr"));break;case 1032:break;case 1537:{var Tt=_e.read_shift(2);q={},ue.dense&&(q["!data"]=[]),ve.s.c=_e.read_shift(2),ve.e.c=_e.read_shift(2),ve.s.r=_e.read_shift(4),ve.e.r=_e.read_shift(4),_e.l+=4,_e.l+2<_e.length&&(Fe=_e.read_shift(2),Se=_e.read_shift(1),H=Fe==0?"":_e.read_shift(Fe,"cstr")),H||(H=or(Tt))}break;case 1538:{if(ve.s.c>255||ve.s.r>999999)break;ve.e.c<ve.s.c&&(ve.e.c=ve.s.c),ve.e.r<ve.s.r&&(ve.e.r=ve.s.r),q["!ref"]=Yt(ve),Fp(Je,q,H)}break;case 2561:Ge=_e.read_shift(2),ve.e.c<Ge&&(ve.e.c=Ge),ve.s.c>Ge&&(ve.s.c=Ge),He=_e.read_shift(4),ve.s.r>He&&(ve.s.r=He),He=_e.read_shift(4),ve.e.r<He&&(ve.e.r=He);break;case 3073:{He=_e.read_shift(4),Fe=_e.read_shift(4),ve.s.r>He&&(ve.s.r=He),ve.e.r<He+Fe-1&&(ve.e.r=He+Fe-1);for(var Bt=or(Ge);_e.l<_e.length;){var Xe={t:"z"},it=_e.read_shift(1),bt=-1;it&128&&(bt=_e.read_shift(2));var ht=it&64?_e.read_shift(2)-1:0;switch(it&31){case 0:break;case 1:break;case 2:Xe={t:"n",v:_e.read_shift(2)};break;case 3:Xe={t:"n",v:_e.read_shift(2,"i")};break;case 4:Xe={t:"n",v:dy(_e)};break;case 5:Xe={t:"n",v:_e.read_shift(8,"f")};break;case 7:Xe={t:"s",v:K[Se=_e.read_shift(4)-1]};break;case 8:Xe={t:"n",v:_e.read_shift(8,"f")},_e.l+=2,_e.l+=4,isNaN(Xe.v)&&(Xe={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(it&31)}bt!=-1&&(rt[bt-1]||{}).z&&(Xe.z=rt[bt-1].z);var Ot=0;if(it&32)switch(it&31){case 2:Ot=_e.read_shift(2);break;case 3:Ot=_e.read_shift(2,"i");break;case 7:Ot=_e.read_shift(2);break;default:throw"Unsupported delta for QPW cell type "+(it&31)}if(!(!ue.sheetStubs&&Xe.t=="z")){var mt=Un(Xe);Xe.t=="n"&&Xe.z&&Ms(Xe.z)&&ue.cellDates&&(mt.v=pc(Xe.v),mt.t=typeof mt.v=="number"?"n":"d"),q["!data"]!=null?(q["!data"][He]||(q["!data"][He]=[]),q["!data"][He][Ge]=mt):q[Bt+yr(He)]=mt}for(++He,--Fe;ht-- >0&&Fe>=0;){if(it&32)switch(it&31){case 2:Xe={t:"n",v:Xe.v+Ot&65535};break;case 3:Xe={t:"n",v:Xe.v+Ot&65535},Xe.v>32767&&(Xe.v-=65536);break;case 7:Xe={t:"s",v:K[Se=Se+Ot>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(it&31)}else switch(it&31){case 1:Xe={t:"z"};break;case 2:Xe={t:"n",v:_e.read_shift(2)};break;case 7:Xe={t:"s",v:K[Se=_e.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(it&31)}!ue.sheetStubs&&Xe.t=="z"||(q["!data"]!=null?(q["!data"][He]||(q["!data"][He]=[]),q["!data"][He][Ge]=Xe):q[Bt+yr(He)]=Xe),++He,--Fe}}}break;case 3074:{Ge=_e.read_shift(2),He=_e.read_shift(4);var pn=Te(_e);q["!data"]!=null?(q["!data"][He]||(q["!data"][He]=[]),q["!data"][He][Ge]={t:"s",v:pn}):q[or(Ge)+yr(He)]={t:"s",v:pn}}break}X.l+=le}return Je}return{sheet_to_wk1:a,book_to_wk3:i,to_workbook:t}})();function Oie(e){var t={},r=e.match(Na),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=lt(r[n]);switch(i[0].replace(/<\w*:/g,"<")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=uC[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var jie=(function(){function e(n){var a=pa(n,"t");if(!a)return{t:"s",v:""};var i={t:"s",v:Xt(a[1])},s=pa(n,"rPr");return s&&(i.s=Oie(s[1])),i}var t=/<(?:\w+:)?r>/g,r=/<\/(?:\w+:)?r>/;return function(a){return a.replace(t,"").split(r).map(e).filter(function(i){return i.v})}})(),Nie=(function(){var t=/(\r\n|\n)/g;function r(a,i,s){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),s.push("</"+u+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),Iie=/<(?:\w+:)?t\b[^<>]*>([^<]*)<\/(?:\w+:)?t>/g,Rie=/<(?:\w+:)?r\b[^<>]*>/;function AC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Xt(Rr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||""),!0),n.r=Rr(e),r&&(n.h=Th(n.t))):e.match(Rie)&&(n.r=Rr(e),n.t=Xt(Rr((Ure(e,"rPh").match(Iie)||[]).join("").replace(Na,"")),!0),r&&(n.h=Nie(jie(n.r)))),n):{t:""}}var Pie=/<(?:\w+:)?(?:si|sstItem)>/g,Fie=/<\/(?:\w+:)?(?:si|sstItem)>/;function Bie(e,t){var r=[],n="";if(!e)return r;var a=pa(e,"sst");if(a){n=a[1].replace(Pie,"").split(Fie);for(var i=0;i!=n.length;++i){var s=AC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=lt(a[0].slice(0,a[0].indexOf(">"))),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Mie(e){return[e.read_shift(4),e.read_shift(4)]}function Lie(e,t){var r=[],n=!1;return dl(e,function(i,s,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function u9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Qo(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function zie(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Qo(e,4),t.U=Qo(e,4),t.W=Qo(e,4),t}function Uie(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Vie(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Uie(e));return t}function $ie(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Hie(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Qo(e,4),t.U=Qo(e,4),t.W=Qo(e,4),t}function qie(e){var t=Hie(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function f9(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function d9(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Wie(e){var t=Qo(e);switch(t.Minor){case 2:return[t.Minor,Gie(e)];case 3:return[t.Minor,Kie()];case 4:return[t.Minor,Xie(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Gie(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=f9(e,r),a=d9(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Kie(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Xie(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Na,function(i){var s=lt(i);switch(xs(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=s[l]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Yie(e,t){var r={},n=r.EncryptionVersionInfo=Qo(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=f9(e,a),t-=a,r.EncryptionVerifier=d9(e,t),r}function Qie(e){var t={},r=t.EncryptionVersionInfo=Qo(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Zie(e){var t=0,r,n=u9(e),a=n.length+1,i,s,l,u,f;for(r=Ec(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],l=(t&16384)===0?0:1,u=t<<1&32767,f=l|u,t=f^s;return t^52811}var h9=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,l){return n(s^l)},i=function(s){for(var l=t[s.length-1],u=104,f=s.length-1;f>=0;--f)for(var d=s[f],m=0;m!=7;++m)d&64&&(l^=r[u]),d*=2,--u;return l};return function(s){for(var l=u9(s),u=i(l),f=l.length,d=Ec(16),m=0;m!=16;++m)d[m]=0;var g,x,y;for((f&1)===1&&(g=u>>8,d[f]=a(e[0],g),--f,g=u&255,x=l[l.length-1],d[f]=a(x,g));f>0;)--f,g=u>>8,d[f]=a(l[f],g),--f,g=u&255,d[f]=a(l[f],g);for(f=15,y=15-l.length;y>0;)g=u>>8,d[f]=a(e[y],g),--f,--y,g=u&255,d[f]=a(l[f],g),--f,--y;return d}})(),Jie=function(e,t,r,n,a){a||(a=t),n||(n=h9(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},ese=function(e){var t=0,r=h9(e);return function(n){var a=Jie("",n,t,r);return t=a[1],a[0]}};function tse(e,t,r,n){var a={key:fn(e),verificationBytes:fn(e)};return r.password&&(a.verifier=Zie(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=ese(r.password)),a}function rse(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Qie(e):n.Data=Yie(e,t),n}function nse(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?rse(e,t-2,n):tse(e,r.biff>=8?t:t-2,r,n),n}function ase(e,t){switch(t.type){case"base64":return $g(Mi(e),t);case"binary":return $g(e,t);case"buffer":return $g($t&&Buffer.isBuffer(e)?e.toString("binary"):al(e),t);case"array":return $g(Fu(e),t)}throw new Error("Unrecognized type "+t.type)}function $g(e,t){var r=t||{},n={},a=r.dense;a&&(n["!data"]=[]);var i=xC(e,"\\trowd","\\row");if(!i)throw new Error("RTF missing table");var s={s:{c:0,r:0},e:{c:0,r:i.length-1}},l=[];return i.forEach(function(u,f){a&&(l=n["!data"][f]=[]);for(var d=/\\[\w\-]+\b/g,m=0,g,x=-1,y=[];(g=d.exec(u))!=null;){var _=u.slice(m,d.lastIndex-g[0].length);switch(_.charCodeAt(0)==32&&(_=_.slice(1)),_.length&&y.push(_),g[0]){case"\\cell":if(++x,y.length){var b={v:y.join(""),t:"s"};b.v=="TRUE"||b.v=="FALSE"?(b.v=b.v=="TRUE",b.t="b"):isNaN(Pi(b.v))?ka[b.v]!=null&&(b.t="e",b.w=b.v,b.v=ka[b.v]):(b.t="n",r.cellText!==!1&&(b.w=b.v),b.v=Pi(b.v)),a?l[x]=b:n[sr({r:f,c:x})]=b}y=[];break;case"\\par":y.push(`
`);break}m=d.lastIndex}x>s.e.c&&(s.e.c=x)}),n["!ref"]=Yt(s),n}function ise(e,t){var r=Ic(ase(e,t),t);return r.bookType="rtf",r}function sse(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function rp(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function ose(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var l=0,u=0,f=a+i;switch(u=s/(f>1?2-f:f),a){case t:l=((r-n)/s+6)%6;break;case r:l=(n-t)/s+2;break;case n:l=(t-r)/s+4;break}return[l/6,u,f/2]}function lse(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],l=6*t,u;if(r!==0)switch(l|0){case 0:case 6:u=a*l,s[0]+=a,s[1]+=u;break;case 1:u=a*(2-l),s[0]+=u,s[1]+=a;break;case 2:u=a*(l-2),s[1]+=a,s[2]+=u;break;case 3:u=a*(4-l),s[1]+=u,s[2]+=a;break;case 4:u=a*(l-4),s[2]+=a,s[0]+=u;break;case 5:u=a*(6-l),s[2]+=u,s[0]+=a;break}for(var f=0;f!=3;++f)s[f]=Math.round(s[f]*255);return s}function Lv(e,t){if(t===0)return e;var r=ose(sse(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),rp(lse(r))}var p9=6,cse=15,use=1,Za=p9;function zv(e){return Math.floor((e+Math.round(128/Za)/256)*Za)}function Uv(e){return Math.floor((e-5)/Za*100+.5)/100}function oS(e){return Math.round((e*Za+5)/Za*256)/256}function O_(e){return oS(Uv(zv(e)))}function CC(e){var t=Math.abs(e-O_(e)),r=Za;if(t>.005)for(Za=use;Za<cse;++Za)Math.abs(e-O_(e))<=t&&(t=Math.abs(e-O_(e)),r=Za);Za=r}function kf(e){e.width?(e.wpx=zv(e.width),e.wch=Uv(e.wpx),e.MDW=Za):e.wpx?(e.wch=Uv(e.wpx),e.width=oS(e.wch),e.MDW=Za):typeof e.wch=="number"&&(e.width=oS(e.wch),e.wpx=zv(e.width),e.MDW=Za),e.customWidth&&delete e.customWidth}var fse=96,m9=fse;function g9(e){return e*96/m9}function np(e){return e*m9/96}var dse={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function hse(e,t,r,n){t.Borders=[];var a={},i=!1;(e.match(Na)||[]).forEach(function(s){var l=lt(s);switch(xs(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=vr(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=vr(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function pse(e,t,r,n){t.Fills=[];var a={},i=!1;(e.match(Na)||[]).forEach(function(s){var l=lt(s);switch(xs(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function mse(e,t,r,n){t.Fonts=[];var a={},i=!1;(e.match(Na)||[]).forEach(function(s){var l=lt(s);switch(xs(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Rr(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?vr(l.val):1;break;case"<b/>":a.bold=1;break;case"</b>":case"</b":break;case"<i":a.italic=l.val?vr(l.val):1;break;case"<i/>":a.italic=1;break;case"</i>":case"</i":break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"</u>":case"</u":break;case"<strike":a.strike=l.val?vr(l.val):1;break;case"<strike/>":a.strike=1;break;case"</strike>":case"</strike":break;case"<outline":a.outline=l.val?vr(l.val):1;break;case"<outline/>":a.outline=1;break;case"</outline>":case"</outline":break;case"<shadow":a.shadow=l.val?vr(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"</shadow>":case"</shadow":break;case"<condense":a.condense=l.val?vr(l.val):1;break;case"<condense/>":a.condense=1;break;case"</condense>":case"</condense":break;case"<extend":a.extend=l.val?vr(l.val):1;break;case"<extend/>":a.extend=1;break;case"</extend>":case"</extend":break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":case"</sz":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":case"</vertAlign":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":case"</family":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":case"</scheme":break;case"<charset":if(l.val=="1")break;l.codepage=uC[parseInt(l.val,10)];break;case"<charset/>":case"</charset>":case"</charset":break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=vr(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var u=Au[a.color.index];a.color.index==81&&(u=Au[1]),u||(u=Au[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Lv(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":case"</color":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":case"</AlternateContent":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function gse(e,t,r){t.NumberFmt=[];for(var n=ds(kt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=kt[n[a]];var i=e.match(Na);if(i)for(a=0;a<i.length;++a){var s=lt(i[a]);switch(xs(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Xt(Rr(s.formatCode)),u=parseInt(s.numFmtId,10);if(t.NumberFmt[u]=l,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=l}Eu(l,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Hg=["numFmtId","fillId","fontId","borderId","xfId"],qg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function xse(e,t,r){t.CellXf=[];var n,a=!1;(e.match(Na)||[]).forEach(function(i){var s=lt(i),l=0;switch(xs(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":case"<xf>":for(n=s,delete n[0],l=0;l<Hg.length;++l)n[Hg[l]]&&(n[Hg[l]]=parseInt(n[Hg[l]],10));for(l=0;l<qg.length;++l)n[qg[l]]&&(n[qg[l]]=vr(n[qg[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":case"<alignment>":var u={};s.vertical&&(u.vertical=s.vertical),s.horizontal&&(u.horizontal=s.horizontal),s.textRotation!=null&&(u.textRotation=s.textRotation),s.indent&&(u.indent=s.indent),s.wrapText&&(u.wrapText=vr(s.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":case"<protection>":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var vse=(function(){return function(r,n,a){var i={};if(!r)return i;r=gC(Op(r,"<!--","-->"));var s;return(s=pa(r,"numFmts"))&&gse(s[0],i,a),(s=pa(r,"fonts"))&&mse(s[0],i,n,a),(s=pa(r,"fills"))&&pse(s[0],i,n,a),(s=pa(r,"borders"))&&hse(s[0],i,n,a),(s=pa(r,"cellXfs"))&&xse(s[0],i,a),i}})();function yse(e,t){var r=e.read_shift(2),n=$a(e);return[r,n]}function bse(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Tne(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var l=e.read_shift(1);l>0&&(n.family=l);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=Cne(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=$a(e),n}var _se=Wa;function wse(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var Ese=Wa;function Sse(e,t,r){var n={};n.NumberFmt=[];for(var a in kt)n.NumberFmt[a]=kt[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return dl(e,function(u,f,d){switch(d){case 44:n.NumberFmt[u[0]]=u[1],Eu(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=Lv(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(d),s=!0;break;case 38:i.pop(),s=!1;break;default:if(f.T>0)i.push(d);else if(f.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var Ase=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Cse(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Na)||[]).forEach(function(a){var i=lt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"</a:srgbClr>":break;case"<a:sysClr":n.rgb=i.lastClr;break;case"</a:sysClr>":break;case"</a:dk1>":case"</a:lt1>":case"<a:dk1>":case"<a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Ase.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Tse(e,t,r){t.themeElements={};var n;if(!(n=Su(e,"a:clrScheme")))throw new Error("clrScheme not found in themeElements");if(Cse(n,t,r),!(n=Su(e,"a:fontScheme")))throw new Error("fontScheme not found in themeElements");if(!(n=Su(e,"a:fmtScheme")))throw new Error("fmtScheme not found in themeElements")}function x9(e,t){(!e||e.length===0)&&(e=kse());var r,n={};if(!(r=Su(e,"a:themeElements")))throw new Error("themeElements not found in theme");return Tse(r[0],n,t),n.raw=e,n}function kse(e,t){var r=[kM];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Dse(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=TM(i,{type:"array"})}catch{return}var l=ei(s,"theme/theme/theme1.xml",!0);if(l)return x9(l,r)}}function Ose(e){return e.read_shift(4)}function jse(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Nse(e,4);break;case 2:t.xclrValue=n9(e);break;case 3:t.xclrValue=Ose(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Nse(e,t){return Wa(e,t)}function Ise(e,t){return Wa(e,t)}function Rse(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=jse(e);break;case 6:n[1]=Ise(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Pse(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Rse(e,r-e.l));return{ixfe:n,ext:i}}function Fse(e,t){t.forEach(function(r){r[0]})}function Bse(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:$a(e)}}function Mse(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Lse(e){return e.l+=4,e.read_shift(4)!=0}function zse(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,l=2;return dl(e,function(u,f,d){switch(d){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(m){l==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):l==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:l=u?1:0;break;case 338:l=2;break;case 35:i.push(d),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!f.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function Use(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Na,function(l){var u=lt(l);switch(xs(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==u.name&&(s=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):i==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+u.i);break;default:if(!a&&r?.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return l}),n}function Vse(e){var t=[];if(!e)return t;var r=1;return(e.match(Na)||[]).forEach(function(n){var a=lt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function $se(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=sr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Hse(e,t,r){var n=[];return dl(e,function(i,s,l){switch(l){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function qse(e,t,r,n){if(!e)return e;var a=n||{},i=!1;dl(e,function(l,u,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},a)}function Wse(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^<>]*r:id="([^<>"]*)"/)||["",""])[1];return t["!id"][r].Target}function Gse(e,t,r){var n=0;(SM(e,"shape")||[]).forEach(function(a){var i="",s=!0,l=-1,u=-1,f=-1;if(a.replace(Na,function(m,g){var x=lt(m);switch(xs(x[0])){case"<ClientData":x.ObjectType&&(i=x.ObjectType);break;case"<Visible":case"<Visible/>":s=!1;break;case"<Row":case"<Row>":l=g+m.length;break;case"</Row>":u=+a.slice(l,g).trim();break;case"<Column":case"<Column>":l=g+m.length;break;case"</Column>":f=+a.slice(l,g).trim();break}return""}),i==="Note"){var d=ip(t,u>=0&&f>=0?sr({r:u,c:f}):r[n].ref);d.c&&(d.c.hidden=s),++n}})}function u8(e,t,r,n){var a=e["!data"]!=null,i;t.forEach(function(s){var l=Va(s.ref);if(!(l.r<0||l.c<0)){if(a?(e["!data"][l.r]||(e["!data"][l.r]=[]),i=e["!data"][l.r][l.c]):i=e[s.ref],!i){i={t:"z"},a?e["!data"][l.r][l.c]=i:e[s.ref]=i;var u=En(e["!ref"]||"BDWGO1000001:A1");u.s.r>l.r&&(u.s.r=l.r),u.e.r<l.r&&(u.e.r=l.r),u.s.c>l.c&&(u.s.c=l.c),u.e.c<l.c&&(u.e.c=l.c);var f=Yt(u);e["!ref"]=f}i.c||(i.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var m=i.c.length-1;m>=0;--m){if(!r&&i.c[m].T)return;r&&!i.c[m].T&&i.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(d.a==n[m].id){d.a=n[m].name||d.a;break}}i.c.push(d)}})}function Kse(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=pa(e,"authors");a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?author[^<>]*>(.*)/);l&&r.push(l[1])}});var i=pa(e,"commentList");return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?comment[^<>]*>/);if(l){var u=lt(l[0]),f={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},d=Va(u.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var m=pa(s,"text"),g=!!m&&!!m[1]&&AC(m[1])||{r:"",t:"",h:""};f.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),f.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(f.h=g.h),n.push(f)}}}}),n}function Xse(e,t){var r=[],n=!1,a={},i=0;return e.replace(Na,function(l,u){var f=lt(l);switch(xs(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=u+l.length;break;case"</text>":a.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return l}),r}function Yse(e,t){var r=[],n=!1;return e.replace(Na,function(i){var s=lt(i);switch(xs(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Qse(e){var t={};t.iauthor=e.read_shift(4);var r=a0(e);return t.rfx=r.s,t.ref=sr(r.s),e.l+=16,t}var Zse=$a;function Jse(e,t){var r=[],n=[],a={},i=!1;return dl(e,function(l,u,f){switch(f){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}var eoe="application/vnd.ms-office.vbaProject";function toe(e){var t=Jt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Jt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Jt.write(t)}function roe(){return{"!type":"dialog"}}function noe(){return{"!type":"dialog"}}function aoe(){return{"!type":"macro"}}function ioe(){return{"!type":"macro"}}var Cu=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var l=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return l?d+=t.c:--d,u?f+=t.r:--f,a+(l?"":"$")+or(d)+(u?"":"$")+yr(f)}return function(a,i){return t=i,a.replace(e,r)}})(),TC=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{TC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var soe=(function(){return function(t,r){return t.replace(TC,function(n,a,i,s,l,u){var f=_C(s)-(i?0:r.c),d=bC(u)-(l?0:r.r),m=l=="$"?d+1:d==0?"":"["+d+"]",g=i=="$"?f+1:f==0?"":"["+f+"]";return a+"R"+m+"C"+g})}})();function v9(e,t){return e.replace(TC,function(r,n,a,i,s,l){return n+(a=="$"?a+i:or(_C(i)+t.c))+(s=="$"?s+l:yr(bC(l)+t.r))})}function f8(e,t,r){var n=r0(t),a=n.s,i=Va(r),s={r:i.r-a.r,c:i.c-a.c};return v9(e,s)}function ooe(e){return e.length!=1}function d8(e){return e.replace(/_xlfn\./g,"")}function On(e){e.l+=1}function Ac(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function y9(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return b9(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Ac(e),l=Ac(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function b9(e){var t=Ac(e),r=Ac(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function loe(e,t,r){if(r.biff<8)return b9(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Ac(e),s=Ac(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function _9(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return coe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ac(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function coe(e){var t=Ac(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function uoe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function foe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return doe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:l}}function doe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function hoe(e,t,r){var n=(e[e.l++]&96)>>5,a=y9(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function poe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=y9(e,i,r);return[n,a,s]}function moe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function goe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function xoe(e,t,r){var n=(e[e.l++]&96)>>5,a=loe(e,t-1,r);return[n,a]}function voe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function h8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function yoe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function boe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function _oe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function woe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Eoe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function w9(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Soe(e){return e.read_shift(2),w9(e)}function Aoe(e){return e.read_shift(2),w9(e)}function Coe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=_9(e,0,r);return[n,a]}function Toe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=foe(e,0,r);return[n,a]}function koe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=_9(e,0,r);return[n,a,i]}function Doe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Ole[a],A9[a],n]}function Ooe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:joe(e);return[a,(i[0]===0?A9:Dle)[i[1]]]}function joe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Noe(e,t,r){e.l+=r&&r.biff==2?3:4}function Ioe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Roe(e){return e.l++,vi[e.read_shift(1)]}function Poe(e){return e.l++,e.read_shift(2)}function Foe(e){return e.l++,e.read_shift(1)!==0}function Boe(e){return e.l++,Ua(e)}function Moe(e,t,r){return e.l++,Tf(e,t-1,r)}function Loe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=bn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=vi[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ua(e);break;case 2:r[1]=i0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function zoe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?a0:hy)(e));return a}function Uoe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var l=0;l!=a;++l)s[i][l]=Loe(e,r.biff);return s}function Voe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function $oe(e,t,r){if(r.biff==5)return Hoe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Hoe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function qoe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Woe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Goe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Koe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Xoe=Wa,Yoe=Wa,Qoe=Wa;function Ip(e,t,r){return e.l+=2,[uoe(e)]}function kC(e){return e.l+=6,[]}var Zoe=Ip,Joe=kC,ele=kC,tle=Ip;function E9(e){return e.l+=2,[fn(e),e.read_shift(2)&1]}var rle=Ip,nle=E9,ale=kC,ile=Ip,sle=Ip,ole=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function lle(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=ole[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function cle(e){return e.l+=2,[e.read_shift(4)]}function ule(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function fle(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function dle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function hle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ple(e){return e.l+=4,[0,0]}var p8={1:{n:"PtgExp",f:Ioe},2:{n:"PtgTbl",f:Qoe},3:{n:"PtgAdd",f:On},4:{n:"PtgSub",f:On},5:{n:"PtgMul",f:On},6:{n:"PtgDiv",f:On},7:{n:"PtgPower",f:On},8:{n:"PtgConcat",f:On},9:{n:"PtgLt",f:On},10:{n:"PtgLe",f:On},11:{n:"PtgEq",f:On},12:{n:"PtgGe",f:On},13:{n:"PtgGt",f:On},14:{n:"PtgNe",f:On},15:{n:"PtgIsect",f:On},16:{n:"PtgUnion",f:On},17:{n:"PtgRange",f:On},18:{n:"PtgUplus",f:On},19:{n:"PtgUminus",f:On},20:{n:"PtgPercent",f:On},21:{n:"PtgParen",f:On},22:{n:"PtgMissArg",f:On},23:{n:"PtgStr",f:Moe},26:{n:"PtgSheet",f:ule},27:{n:"PtgEndSheet",f:fle},28:{n:"PtgErr",f:Roe},29:{n:"PtgBool",f:Foe},30:{n:"PtgInt",f:Poe},31:{n:"PtgNum",f:Boe},32:{n:"PtgArray",f:voe},33:{n:"PtgFunc",f:Doe},34:{n:"PtgFuncVar",f:Ooe},35:{n:"PtgName",f:Voe},36:{n:"PtgRef",f:Coe},37:{n:"PtgArea",f:hoe},38:{n:"PtgMemArea",f:qoe},39:{n:"PtgMemErr",f:Xoe},40:{n:"PtgMemNoMem",f:Yoe},41:{n:"PtgMemFunc",f:Woe},42:{n:"PtgRefErr",f:Goe},43:{n:"PtgAreaErr",f:moe},44:{n:"PtgRefN",f:Toe},45:{n:"PtgAreaN",f:xoe},46:{n:"PtgMemAreaN",f:dle},47:{n:"PtgMemNoMemN",f:hle},57:{n:"PtgNameX",f:$oe},58:{n:"PtgRef3d",f:koe},59:{n:"PtgArea3d",f:poe},60:{n:"PtgRefErr3d",f:Koe},61:{n:"PtgAreaErr3d",f:goe},255:{}},mle={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},gle={1:{n:"PtgElfLel",f:E9},2:{n:"PtgElfRw",f:ile},3:{n:"PtgElfCol",f:Zoe},6:{n:"PtgElfRwV",f:sle},7:{n:"PtgElfColV",f:tle},10:{n:"PtgElfRadical",f:rle},11:{n:"PtgElfRadicalS",f:ale},13:{n:"PtgElfColS",f:Joe},15:{n:"PtgElfColSV",f:ele},16:{n:"PtgElfRadicalLel",f:nle},25:{n:"PtgList",f:lle},29:{n:"PtgSxName",f:cle},255:{}},xle={0:{n:"PtgAttrNoop",f:ple},1:{n:"PtgAttrSemi",f:Eoe},2:{n:"PtgAttrIf",f:_oe},4:{n:"PtgAttrChoose",f:yoe},8:{n:"PtgAttrGoto",f:boe},16:{n:"PtgAttrSum",f:Noe},32:{n:"PtgAttrBaxcel",f:h8},33:{n:"PtgAttrBaxcel",f:h8},64:{n:"PtgAttrSpace",f:Soe},65:{n:"PtgAttrSpaceSemi",f:Aoe},128:{n:"PtgAttrIfError",f:woe},255:{}};function Rp(e,t,r,n){if(n.biff<8)return Wa(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Uoe(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=zoe(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Wa(e,t)),i}function Pp(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=p8[i]||p8[mle[i]],(i===24||i===25)&&(a=(i===24?gle:xle)[e[e.l+1]]),!a||!a.f?Wa(e,t):s.push([a.n,a.f(e,t,r)]);return s}function vle(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];s?s[0]===2?a.push('"'+s[1].replace(/"/g,'""')+'"'):a.push(s[1]):a.push("")}t.push(a.join(","))}return t.join(";")}var yle={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ble(e,t){var r=e.lastIndexOf("!"),n=t.lastIndexOf("!");return r==-1&&n==-1?e+":"+t:r>0&&n>0&&e.slice(0,r).toLowerCase()==t.slice(0,n).toLowerCase()?e+":"+t.slice(n+1):(console.error("Cannot hydrate range",e,t),e+":"+t)}function S9(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function m8(e,t,r){var n=S9(e,t,r);return n=="#REF"?n:yne(n,r)}function Ma(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},l=[],u,f,d,m=0,g=0,x,y="";if(!e[0]||!e[0][0])return"";for(var _=-1,b="",w=0,C=e[0].length;w<C;++w){var S=e[0][w];switch(S[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),f=l.pop(),_>=0){switch(e[0][_][1][0]){case 0:b=Zt(" ",e[0][_][1][1]);break;case 1:b=Zt("\r",e[0][_][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][_][1][0])}f=f+b,_=-1}l.push(f+yle[S[0]]+u);break;case"PtgIsect":u=l.pop(),f=l.pop(),l.push(f+" "+u);break;case"PtgUnion":u=l.pop(),f=l.pop(),l.push(f+","+u);break;case"PtgRange":u=l.pop(),f=l.pop(),l.push(ble(f,u));break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Dh(S[1][1],s,a),l.push(Oh(d,i));break;case"PtgRefN":d=r?Dh(S[1][1],r,a):S[1][1],l.push(Oh(d,i));break;case"PtgRef3d":m=S[1][1],d=Dh(S[1][2],s,a),y=m8(n,m,a),l.push(y+"!"+Oh(d,i));break;case"PtgFunc":case"PtgFuncVar":var O=S[1][0],F=S[1][1];O||(O=0),O&=127;var B=O==0?[]:l.slice(-O);l.length-=O,F==="User"&&(F=B.shift()),l.push(F+"("+B.join(",")+")");break;case"PtgBool":l.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(S[1]);break;case"PtgNum":l.push(String(S[1]));break;case"PtgStr":l.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(S[1]);break;case"PtgAreaN":x=G6(S[1][1],r?{s:r}:s,a),l.push(k_(x,a));break;case"PtgArea":x=G6(S[1][1],s,a),l.push(k_(x,a));break;case"PtgArea3d":m=S[1][1],x=S[1][2],y=m8(n,m,a),l.push(y+"!"+k_(x,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=S[1][2];var j=(n.names||[])[g-1]||(n[0]||[])[g],k=j?j.Name:"SH33TJSNAME"+String(g);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var P=S[1][1];g=S[1][2];var I;if(a.biff<=5)P<0&&(P=-P),n[P]&&(I=n[P][g]);else{var R="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][g]&&n[P][g].itab>0&&(R=n.SheetNames[n[P][g].itab-1]+"!"):R=n.SheetNames[g-1]+"!"),n[P]&&n[P][g])R+=n[P][g].Name;else if(n[0]&&n[0][g])R+=n[0][g].Name;else{var N=(S9(n,P,a)||"").split(";;");N[g-1]?R=N[g-1]:R+="SH33TJSERRX"}l.push(R);break}I||(I={Name:"SH33TJSERRY"}),l.push(I.Name);break;case"PtgParen":var M="(",ce=")";if(_>=0){switch(b="",e[0][_][1][0]){case 2:M=Zt(" ",e[0][_][1][1])+M;break;case 3:M=Zt("\r",e[0][_][1][1])+M;break;case 4:ce=Zt(" ",e[0][_][1][1])+ce;break;case 5:ce=Zt("\r",e[0][_][1][1])+ce;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][_][1][0])}_=-1}l.push(M+l.pop()+ce);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:S[1][1],r:S[1][0]};var fe={c:r.c,r:r.r};if(n.sharedf[sr(d)]){var ae=n.sharedf[sr(d)];l.push(Ma(ae,s,fe,n,a))}else{var ie=!1;for(u=0;u!=n.arrayf.length;++u)if(f=n.arrayf[u],!(d.c<f[0].s.c||d.c>f[0].e.c)&&!(d.r<f[0].s.r||d.r>f[0].e.r)){l.push(Ma(f[1],s,fe,n,a)),ie=!0;break}ie||l.push(S[1])}break;case"PtgArray":l.push("{"+vle(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var me=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&_>=0&&me.indexOf(e[0][w][0])==-1){S=e[0][_];var be=!0;switch(S[1][0]){case 4:be=!1;case 0:b=Zt(" ",S[1][1]);break;case 5:be=!1;case 1:b=Zt("\r",S[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}l.push((be?b:"")+l.pop()+(be?"":b)),_=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]=="TRUE"?!0:l[0]=="FALSE"?!1:l[0]}function _le(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Wa(e,t-2)];var l=Pp(e,s,r);return t!==s+a&&(i=Rp(e,t-s-a,l,r)),e.l=n,[l,i]}function wle(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Wa(e,t-2)];var l=Pp(e,s,r);return t!==s+a&&(i=Rp(e,t-s-a,l,r)),e.l=n,[l,i]}function Ele(e,t,r,n){var a=e.l+t,i=Pp(e,n,r),s;return a!==e.l&&(s=Rp(e,a-e.l,i,r)),[i,s]}function Sle(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Pp(e,i,r);return i==65535?[[],Wa(e,t-2)]:(t!==i+2&&(a=Rp(e,n-i-2,s,r)),[s,a])}function Ale(e){var t;if(qo(e,e.l+6)!==65535)return[Ua(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function j_(e,t,r){var n=e.l+t,a=Vs(e,6,r),i=Ale(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=wle(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:s>>3&1,tt:i[1]}}function py(e,t,r){var n=e.read_shift(4),a=Pp(e,n,r),i=e.read_shift(4),s=i>0?Rp(e,i,a,r):null;return[a,s]}var Cle=py,my=py,Tle=py,kle=py,Dle={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},A9={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Ole={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function g8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\$'([^']|'')+'/g,function(t){return t.slice(1)}),e=e.replace(/\$([^\]\. #$]+)/g,function(t,r){return r.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?t:r}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function N_(e){e=e.replace(/\$'([^']|'')+'/g,function(n){return n.slice(1)}),e=e.replace(/\$([^\]\. #$]+)/g,function(n,a){return a.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?n:a});var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Rh={},mf={};function Ph(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function C9(e,t,r,n,a,i,s){try{n.cellNF&&(e.z=kt[t])}catch(u){if(n.WTF)throw u}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ja(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(kt[t]==null&&Eu(_re[t]||"General",t),e.t==="e")e.w=e.w||vi[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Jh(e.v);else if(e.t==="d"){var l=Zn(e.v,!!s);(l|0)===l?e.w=l.toString(10):e.w=Jh(l)}else{if(e.v===void 0)return"";e.w=Pu(e.v,mf)}else e.t==="d"?e.w=Li(t,Zn(e.v,!!s),mf):e.w=Li(t,e.v,mf)}catch(u){if(n.WTF)throw u}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Lv(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Lv(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(u){if(n.WTF&&i.Fills)throw u}}}function jle(e,t){var r=En(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Yt(r))}var Nle=/<(?:\w+:)?mergeCell ref=["'][A-Z0-9:]+['"]\s*[\/]?>/g,Ile=/<(?:\w+:)?hyperlink [^<>]*>/mg,Rle=/"(\w*:\w*)"/,Ple=/<(?:\w+:)?col\b[^<>]*[\/]?>/g,Fle=/<(?:\w+:)?autoFilter[^>]*/g,Ble=/<(?:\w+:)?pageMargins[^<>]*\/>/g,T9=/<(?:\w+:)?sheetPr\b[^<>]*?\/>/;function Mle(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var l={};t.dense&&(l["!data"]=[]);var u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",d="",m=pa(e,"sheetData");m?(f=e.slice(0,m.index),d=e.slice(m.index+m[0].length)):f=d=e;var g=f.match(T9);g?DC(g[0],l,a,r):(g=pa(f,"sheetPr"))&&Lle(g[0],g[1]||"",l,a,r);var x=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var y=f.slice(x,x+50).match(Rle);y&&!(t&&t.nodim)&&jle(l,y[1])}var _=pa(f,"sheetViews");_&&_[1]&&qle(_[1],a);var b=[];if(t.cellStyles){var w=f.match(Ple);w&&Vle(b,w)}m&&Wle(m[1],l,t,u,i,s,a);var C=d.match(Fle);C&&(l["!autofilter"]=$le(C[0]));var S=[],O=d.match(Nle);if(O)for(x=0;x!=O.length;++x)S[x]=En(O[x].slice(O[x].indexOf("=")+2));var F=d.match(Ile);F&&zle(l,F,n);var B=d.match(Ble);B&&(l["!margins"]=Ule(lt(B[0])));var j;if((j=d.match(/legacyDrawing r:id="(.*?)"/))&&(l["!legrel"]=j[1]),t&&t.nodim&&(u.s.c=u.s.r=0),!l["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(l["!ref"]=Yt(u)),t.sheetRows>0&&l["!ref"]){var k=En(l["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>u.e.r&&(k.e.r=u.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>u.e.c&&(k.e.c=u.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Yt(k))}return b.length>0&&(l["!cols"]=b),S.length>0&&(l["!merges"]=S),n["!id"][l["!legrel"]]&&(l["!legdrawel"]=n["!id"][l["!legrel"]]),l}function DC(e,t,r,n){var a=lt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Xt(Rr(a.codeName)))}function Lle(e,t,r,n,a){DC(e.slice(0,e.indexOf(">")),r,n,a)}function zle(e,t,r){for(var n=e["!data"]!=null,a=0;a!=t.length;++a){var i=lt(Rr(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Xt(i.location))):(i.Target="#"+Xt(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=En(i.ref),u=l.s.r;u<=l.e.r;++u)for(var f=l.s.c;f<=l.e.c;++f){var d=or(f)+yr(u);n?(e["!data"][u]||(e["!data"][u]=[]),e["!data"][u][f]||(e["!data"][u][f]={t:"z",v:void 0}),e["!data"][u][f].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function Ule(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Vle(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=lt(t[n],!0);a.hidden&&(a.hidden=vr(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,CC(a.width)),kf(a);i<=s;)e[i++]=Un(a)}}function $le(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Hle=/<(?:\w:)?sheetView(?:[^<>a-z][^<>]*)?\/?>/g;function qle(e,t){t.Views||(t.Views=[{}]),(e.match(Hle)||[]).forEach(function(r,n){var a=lt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),a.rightToLeft&&vr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Wle=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/ref=["']([^"']*)["']/;return function(i,s,l,u,f,d,m){for(var g=0,x="",y=[],_=[],b=0,w=0,C=0,S="",O,F,B=0,j=0,k,P,I=0,R=0,N=Array.isArray(d.CellXf),M,ce=[],fe=[],ae=s["!data"]!=null,ie=[],me={},be=!1,de=!!l.sheetStubs,U=!!((m||{}).WBProps||{}).date1904,Z=i.split(t),te=0,W=Z.length;te!=W;++te){x=Z[te].trim();var xe=x.length;if(xe!==0){var Te=0;e:for(g=0;g<xe;++g)switch(x[g]){case">":if(x[g-1]!="/"){++g;break e}if(l&&l.cellStyles){if(F=lt(x.slice(Te,g),!0),B=F.r!=null?parseInt(F.r,10):B+1,j=-1,l.sheetRows&&l.sheetRows<B)continue;me={},be=!1,F.ht&&(be=!0,me.hpt=parseFloat(F.ht),me.hpx=np(me.hpt)),F.hidden&&vr(F.hidden)&&(be=!0,me.hidden=!0),F.outlineLevel!=null&&(be=!0,me.level=+F.outlineLevel),be&&(ie[B-1]=me)}break;case"<":Te=g;break}if(Te>=g)break;if(F=lt(x.slice(Te,g),!0),B=F.r!=null?parseInt(F.r,10):B+1,j=-1,!(l.sheetRows&&l.sheetRows<B)){l.nodim||(u.s.r>B-1&&(u.s.r=B-1),u.e.r<B-1&&(u.e.r=B-1)),l&&l.cellStyles&&(me={},be=!1,F.ht&&(be=!0,me.hpt=parseFloat(F.ht),me.hpx=np(me.hpt)),F.hidden&&vr(F.hidden)&&(be=!0,me.hidden=!0),F.outlineLevel!=null&&(be=!0,me.level=+F.outlineLevel),be&&(ie[B-1]=me)),y=x.slice(g).split(e);for(var Ne=0;Ne!=y.length&&y[Ne].trim().charAt(0)=="<";++Ne);for(y=y.slice(Ne),g=0;g!=y.length;++g)if(x=y[g].trim(),x.length!==0){if(_=x.match(r),b=g,w=0,C=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,_!=null&&_.length===2){for(b=0,S=_[1],w=0;w!=S.length&&!((C=S.charCodeAt(w)-64)<1||C>26);++w)b=26*b+C;--b,j=b}else++j;for(w=0;w!=x.length&&x.charCodeAt(w)!==62;++w);if(++w,F=lt(x.slice(0,w),!0),F.r||(F.r=sr({r:B-1,c:j})),S=x.slice(w),O={t:""},(_=pa(S,"v"))!=null&&_[1]!==""&&(O.v=Xt(_[1])),l.cellFormula){if((_=pa(S,"f"))!=null){if(_[1]=="")_[0].indexOf('t="shared"')>-1&&(P=lt(_[0]),fe[P.si]&&(O.f=f8(fe[P.si][1],fe[P.si][2],F.r)));else if(O.f=Xt(Rr(_[1]),!0),l.xlfn||(O.f=d8(O.f)),_[0].indexOf('t="array"')>-1)O.F=(S.match(n)||[])[1],O.F.indexOf(":")>-1&&ce.push([En(O.F),O.F]);else if(_[0].indexOf('t="shared"')>-1){P=lt(_[0]);var X=Xt(Rr(_[1]));l.xlfn||(X=d8(X)),fe[parseInt(P.si,10)]=[P,X,F.r]}}else(_=S.match(/<f[^<>]*\/>/))&&(P=lt(_[0]),fe[P.si]&&(O.f=f8(fe[P.si][1],fe[P.si][2],F.r)));var Q=Va(F.r);for(w=0;w<ce.length;++w)Q.r>=ce[w][0].s.r&&Q.r<=ce[w][0].e.r&&Q.c>=ce[w][0].s.c&&Q.c<=ce[w][0].e.c&&(O.F=ce[w][1])}if(F.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(de)O.t="z";else continue;else O.t=F.t||"n";switch(u.s.c>j&&(u.s.c=j),u.e.c<j&&(u.e.c=j),O.t){case"n":if(O.v==""||O.v==null){if(!de)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!de)continue;O.t="z"}else k=Rh[parseInt(O.v,10)],O.v=k.t,O.r=k.r,l.cellHTML&&(O.h=k.h);break;case"str":O.t="s",O.v=O.v!=null?Xt(Rr(O.v),!0):"",l.cellHTML&&(O.h=Th(O.v));break;case"inlineStr":_=pa(S,"is"),O.t="s",_!=null&&(k=AC(_[1]))?(O.v=k.t,l.cellHTML&&(O.h=k.h)):O.v="";break;case"b":O.v=vr(O.v);break;case"d":l.cellDates?O.v=ja(O.v,U):(O.v=Zn(ja(O.v,U),U),O.t="n");break;case"e":(!l||l.cellText!==!1)&&(O.w=O.v),O.v=ka[O.v];break}if(I=R=0,M=null,N&&F.s!==void 0&&(M=d.CellXf[F.s],M!=null&&(M.numFmtId!=null&&(I=M.numFmtId),l.cellStyles&&M.fillId!=null&&(R=M.fillId))),C9(O,I,R,l,f,d,U),l.cellDates&&N&&O.t=="n"&&Ms(kt[I])&&(O.v=pc(O.v+(U?1462:0)),O.t=typeof O.v=="number"?"n":"d"),F.cm&&l.xlmeta){var ue=(l.xlmeta.Cell||[])[+F.cm-1];ue&&ue.type=="XLDAPR"&&(O.D=!0)}var q;l.nodim&&(q=Va(F.r),u.s.r>q.r&&(u.s.r=q.r),u.e.r<q.r&&(u.e.r=q.r)),ae?(q=Va(F.r),s["!data"][q.r]||(s["!data"][q.r]=[]),s["!data"][q.r][q.c]=O):s[F.r]=O}}}}ie.length>0&&(s["!rows"]=ie)}})();function Gle(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Kle=a0;function Xle(){}function Yle(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Sne(e),r}function Qle(e){var t=vs(e);return[t]}function Zle(e){var t=n0(e);return[t]}function Jle(e){var t=vs(e),r=e.read_shift(1);return[t,r,"b"]}function ece(e){var t=n0(e),r=e.read_shift(1);return[t,r,"b"]}function tce(e){var t=vs(e),r=e.read_shift(1);return[t,r,"e"]}function rce(e){var t=n0(e),r=e.read_shift(1);return[t,r,"e"]}function nce(e){var t=vs(e),r=e.read_shift(4);return[t,r,"s"]}function ace(e){var t=n0(e),r=e.read_shift(4);return[t,r,"s"]}function ice(e){var t=vs(e),r=Ua(e);return[t,r,"n"]}function k9(e){var t=n0(e),r=Ua(e);return[t,r,"n"]}function sce(e){var t=vs(e),r=dy(e);return[t,r,"n"]}function oce(e){var t=n0(e),r=dy(e);return[t,r,"n"]}function lce(e){var t=vs(e),r=wC(e);return[t,r,"is"]}function cce(e){var t=vs(e),r=$a(e);return[t,r,"str"]}function uce(e){var t=n0(e),r=$a(e);return[t,r,"str"]}function fce(e,t,r){var n=e.l+t,a=vs(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=my(e,n-e.l,r);s[3]=Ma(l,null,a,r.supbooks,r)}else e.l=n;return s}function dce(e,t,r){var n=e.l+t,a=vs(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=my(e,n-e.l,r);s[3]=Ma(l,null,a,r.supbooks,r)}else e.l=n;return s}function hce(e,t,r){var n=e.l+t,a=vs(e);a.r=r["!row"];var i=Ua(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=my(e,n-e.l,r);s[3]=Ma(l,null,a,r.supbooks,r)}else e.l=n;return s}function pce(e,t,r){var n=e.l+t,a=vs(e);a.r=r["!row"];var i=$a(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=my(e,n-e.l,r);s[3]=Ma(l,null,a,r.supbooks,r)}else e.l=n;return s}var mce=a0;function gce(e,t){var r=e.l+t,n=a0(e),a=fy(e),i=$a(e),s=$a(e),l=$a(e);e.l=r;var u={rfx:n,relId:a,loc:i,display:l};return s&&(u.Tooltip=s),u}function xce(){}function vce(e,t,r){var n=e.l+t,a=GM(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var l=Cle(e,n-e.l,r);s[1]=l}else e.l=n;return s}function yce(e,t,r){var n=e.l+t,a=a0(e),i=[a];if(r.cellFormula){var s=kle(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var bce=["left","right","top","bottom","header","footer"];function _ce(e){var t={};return bce.forEach(function(r){t[r]=Ua(e)}),t}function wce(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Ece(){}function Sce(){}function Ace(e,t,r,n,a,i,s){if(!e)return e;var l=t||{};n||(n={"!id":{}});var u={};l.dense&&(u["!data"]=[]);var f,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,g=!1,x,y,_,b,w,C,S,O,F,B=[];l.biff=12,l["!row"]=0;var j=0,k=!1,P=[],I={},R=l.supbooks||a.supbooks||[[]];if(R.sharedf=I,R.arrayf=P,R.SheetNames=a.SheetNames||a.Sheets.map(function(be){return be.name}),!l.supbooks&&(l.supbooks=R,a.Names))for(var N=0;N<a.Names.length;++N)R[0][N+1]=a.Names[N];var M=[],ce=[],fe=!1;Vv[16]={n:"BrtShortReal",f:k9};var ae,ie=1462*+!!((a||{}).WBProps||{}).date1904;if(dl(e,function(de,U,Z){if(!g)switch(Z){case 148:f=de;break;case 0:x=de,l.sheetRows&&l.sheetRows<=x.r&&(g=!0),O=yr(b=x.r),l["!row"]=x.r,(de.hidden||de.hpt||de.level!=null)&&(de.hpt&&(de.hpx=np(de.hpt)),ce[de.r]=de);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:de[2]},de[2]){case"n":y.v=de[1];break;case"s":S=Rh[de[1]],y.v=S.t,y.r=S.r;break;case"b":y.v=!!de[1];break;case"e":y.v=de[1],l.cellText!==!1&&(y.w=vi[y.v]);break;case"str":y.t="s",y.v=de[1];break;case"is":y.t="s",y.v=de[1].t;break}if((_=s.CellXf[de[0].iStyleRef])&&C9(y,_.numFmtId,null,l,i,s,ie>0),w=de[0].c==-1?w+1:de[0].c,l.dense?(u["!data"][b]||(u["!data"][b]=[]),u["!data"][b][w]=y):u[or(w)+O]=y,l.cellFormula){for(k=!1,j=0;j<P.length;++j){var te=P[j];x.r>=te[0].s.r&&x.r<=te[0].e.r&&w>=te[0].s.c&&w<=te[0].e.c&&(y.F=Yt(te[0]),k=!0)}!k&&de.length>3&&(y.f=de[3])}if(d.s.r>x.r&&(d.s.r=x.r),d.s.c>w&&(d.s.c=w),d.e.r<x.r&&(d.e.r=x.r),d.e.c<w&&(d.e.c=w),l.cellDates&&_&&y.t=="n"&&Ms(kt[_.numFmtId])){var W=zo(y.v+ie);W&&(y.t="d",y.v=new Date(Date.UTC(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u)))}ae&&(ae.type=="XLDAPR"&&(y.D=!0),ae=void 0);break;case 1:case 12:if(!l.sheetStubs||m)break;y={t:"z",v:void 0},w=de[0].c==-1?w+1:de[0].c,l.dense?(u["!data"][b]||(u["!data"][b]=[]),u["!data"][b][w]=y):u[or(w)+O]=y,d.s.r>x.r&&(d.s.r=x.r),d.s.c>w&&(d.s.c=w),d.e.r<x.r&&(d.e.r=x.r),d.e.c<w&&(d.e.c=w),ae&&(ae.type=="XLDAPR"&&(y.D=!0),ae=void 0);break;case 176:B.push(de);break;case 49:ae=((l.xlmeta||{}).Cell||[])[de-1];break;case 494:var xe=n["!id"][de.relId];for(xe?(de.Target=xe.Target,de.loc&&(de.Target+="#"+de.loc),de.Rel=xe):de.relId==""&&(de.Target="#"+de.loc),b=de.rfx.s.r;b<=de.rfx.e.r;++b)for(w=de.rfx.s.c;w<=de.rfx.e.c;++w)l.dense?(u["!data"][b]||(u["!data"][b]=[]),u["!data"][b][w]||(u["!data"][b][w]={t:"z",v:void 0}),u["!data"][b][w].l=de):(C=or(w)+yr(b),u[C]||(u[C]={t:"z",v:void 0}),u[C].l=de);break;case 426:if(!l.cellFormula)break;P.push(de),F=l.dense?u["!data"][b][w]:u[or(w)+O],F.f=Ma(de[1],d,{r:x.r,c:w},R,l),F.F=Yt(de[0]);break;case 427:if(!l.cellFormula)break;I[sr(de[0].s)]=de[1],F=l.dense?u["!data"][b][w]:u[or(w)+O],F.f=Ma(de[1],d,{r:x.r,c:w},R,l);break;case 60:if(!l.cellStyles)break;for(;de.e>=de.s;)M[de.e--]={width:de.w/256,hidden:!!(de.flags&1),level:de.level},fe||(fe=!0,CC(de.w/256)),kf(M[de.e+1]);break;case 551:de&&(u["!legrel"]=de);break;case 161:u["!autofilter"]={ref:Yt(de)};break;case 476:u["!margins"]=de;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),de.name&&(a.Sheets[r].CodeName=de.name),(de.above||de.left)&&(u["!outline"]={above:de.above,left:de.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),de.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!U.T){if(!m||l.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},l),delete l.supbooks,delete l["!row"],!u["!ref"]&&(d.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(u["!ref"]=Yt(f||d)),l.sheetRows&&u["!ref"]){var me=En(u["!ref"]);l.sheetRows<=+me.e.r&&(me.e.r=l.sheetRows-1,me.e.r>d.e.r&&(me.e.r=d.e.r),me.e.r<me.s.r&&(me.s.r=me.e.r),me.e.c>d.e.c&&(me.e.c=d.e.c),me.e.c<me.s.c&&(me.s.c=me.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Yt(me))}return B.length>0&&(u["!merges"]=B),M.length>0&&(u["!cols"]=M),ce.length>0&&(u["!rows"]=ce),n["!id"][u["!legrel"]]&&(u["!legdrawel"]=n["!id"][u["!legrel"]]),u}function Cce(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<])<\/c:v><\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<]*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Xt((Su(e,"c:formatCode")||["","General"])[1]);return(xC(e,"<c:f>","</c:f>")||[]).forEach(function(i){n=i.replace(/<[^<>]*>/g,"")}),[t,a,n]}function Tce(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var l=0,u=0,f="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(xC(e,"<c:numCache>","</c:numCache>")||[]).forEach(function(m){var g=Cce(m);d.s.r=d.s.c=0,d.e.c=l,f=or(l),g[0].forEach(function(x,y){s["!data"]?(s["!data"][y]||(s["!data"][y]=[]),s["!data"][y][l]={t:"n",v:x,z:g[1]}):s[f+yr(y)]={t:"n",v:x,z:g[1]},u=y}),d.e.r<u&&(d.e.r=u),++l}),l>0&&(s["!ref"]=Yt(d)),s}function kce(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,l=e.match(T9);return l&&DC(l[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Dce(e,t){e.l+=10;var r=$a(e);return{name:r}}function Oce(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return dl(e,function(u,f,d){switch(d){case 550:i["!rel"]=u;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),u.name&&(a.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var D9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],jce=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Nce=[],Ice=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function x8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=vr(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function v8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=vr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function O9(e){v8(e.WBProps,D9),v8(e.CalcPr,Ice),x8(e.WBView,jce),x8(e.Sheets,Nce),mf.date1904=vr(e.WBProps.date1904)}var Rce=":][*?/\\".split("");function Pce(e,t){try{if(e=="")throw new Error("Sheet name cannot be blank");if(e.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(e.charCodeAt(0)==39||e.charCodeAt(e.length-1)==39)throw new Error("Sheet name cannot start or end with apostrophe (')");if(e.toLowerCase()=="history")throw new Error("Sheet name cannot be 'History'");Rce.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(r){throw r}return!0}var Fce=/<\w+:workbook/;function Bce(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Na,function(u,f){var d=lt(u);switch(xs(d[0])){case"<?xml":break;case"<workbook":u.match(Fce)&&(a="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":D9.forEach(function(m){if(d[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=vr(d[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(d[m[0]],10);break;default:r.WBProps[m[0]]=d[m[0]]}}),d.codeName&&(r.WBProps.CodeName=Rr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Xt(Rr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Rr(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),vr(d.hidden||"0")&&(i.Hidden=!0),s=f+u.length;break;case"</definedName>":i.Ref=Xt(Rr(e.slice(s,f))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return u}),ine.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return O9(r),r}function Mce(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=iS(e),r.name=$a(e),r}function Lce(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?$a(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function zce(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Uce(e,t,r){var n=e.l+t,a=e.read_shift(4);e.l+=1;var i=e.read_shift(4),s=Ane(e),l,u="";try{l=Tle(e,0,r);try{u=fy(e)}catch{}}catch{console.error("Could not parse defined name "+s)}a&32&&(s="_xlnm."+s),e.l=n;var f={Name:s,Ptg:l,Flags:a};return i<268435455&&(f.Sheet=i),u&&(f.Comment=u),f}function Vce(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Vv[16]={n:"BrtFRTArchID$",f:zce},dl(e,function(u,f,d){switch(d){case 156:s.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=u.Ptg?Ma(u.Ptg,null,null,s,t):"#REF!",delete t.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,u]):s[0]=[d,u],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(u),s.XTI=s.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!f.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),O9(r),r.Names=i,r.supbooks=s,r}function $ce(e,t,r){return t.slice(-4)===".bin"?Vce(e,r):Bce(e,r)}function Hce(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?Ace(e,n,r,a,i,s,l):Mle(e,n,r,a,i,s,l)}function qce(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?Oce(e,n,r,a,i):kce(e,n,r,a,i)}function Wce(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?aoe():ioe()}function Gce(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?roe():noe()}function Kce(e,t,r,n){return t.slice(-4)===".bin"?Sse(e,r,n):vse(e,r,n)}function Xce(e,t,r){return t.slice(-4)===".bin"?Lie(e,r):Bie(e,r)}function Yce(e,t,r){return t.slice(-4)===".bin"?Jse(e,r):Kse(e,r)}function Qce(e,t,r){return t.slice(-4)===".bin"?Hse(e):Vse(e)}function Zce(e,t,r,n){return r.slice(-4)===".bin"?qse(e,t,r,n):void 0}function Jce(e,t,r){return t.slice(-4)===".bin"?zse(e,t,r):Use(e,t,r)}var j9=/\b((?:\w+:)?[\w]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,N9=/\b((?:\w+:)?[\w]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ks(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(j9),i,s,l,u;if(a)for(u=0;u!=a.length;++u)i=a[u].match(N9),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(s+1),n[l]=i[2].slice(1,i[2].length-1));return n}function eue(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(j9),a,i,s,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(N9),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Fh;function tue(e,t,r){var n=Fh[e]||Xt(e);return n==="General"?Pu(t):Li(n,t,{date1904:!!r})}function rue(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=vr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ja(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Xt(t)]=a}function nue(e,t,r,n){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||vi[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Jh(e.v):e.w=Pu(e.v):e.w=tue(t||"General",e.v,n)}catch(s){if(r.WTF)throw s}try{var a=Fh[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&Ms(a)){var i=zo(e.v+(n?1462:0));i&&(e.t="d",e.v=new Date(Date.UTC(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u)))}}catch(s){if(r.WTF)throw s}}}function aue(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=dse[n.Pattern]||n.Pattern)}e[t.ID]=t}function iue(e,t,r,n,a,i,s,l,u,f,d){var m="General",g=n.StyleID,x={};f=f||{};var y=[],_=0;for(g===void 0&&l&&(g=l.StyleID),g===void 0&&s&&(g=s.StyleID);i[g]!==void 0;){var b=i[g];if(b.nf&&(m=b.nf),b.Interior&&y.push(b.Interior),!b.Parent)break;g=b.Parent}switch(r.Type){case"Boolean":n.t="b",n.v=vr(e);break;case"String":n.t="s",n.r=M6(Xt(e)),n.v=e.indexOf("<")>-1?Xt(t||e).replace(/<[^<>]*>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=Zn(ja(e,d),d),n.v!==n.v&&(n.v=Xt(e)),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=ka[e],f.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=M6(t||e));break}if(nue(n,m,f,d),f.cellFormula!==!1)if(n.Formula){var w=Xt(n.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),n.f=Cu(w,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Cu("RC:RC",a):n.ArrayRange&&(n.F=Cu(n.ArrayRange,a),u.push([En(n.F),n.F]))}else for(_=0;_<u.length;++_)a.r>=u[_][0].s.r&&a.r<=u[_][0].e.r&&a.c>=u[_][0].s.c&&a.c<=u[_][0].e.c&&(n.F=u[_][1]);f.cellStyles&&(y.forEach(function(C){!x.patternType&&C.patternType&&(x.patternType=C.patternType)}),n.s=x),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function sue(e){return YM.indexOf("_xlnm."+e)>-1?"_xlnm."+e:e}function oue(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function I_(e,t){var r=t||{};_M();var n=gh(uy(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Rr(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Un(r);return s.type="string",tp.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(He){a.indexOf("<"+He)>=0&&(i=!0)}),i)return gue(n,r);Fh={"General Number":"General","General Date":kt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":kt[15],"Short Date":kt[14],"Long Time":kt[19],"Medium Time":kt[18],"Short Time":kt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:kt[2],Standard:kt[4],Percent:kt[10],Scientific:kt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,u=[],f,d={},m=[],g={},x="";r.dense&&(g["!data"]=[]);var y={},_={},b=ks('<Data ss:Type="String">'),w=0,C=0,S=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},F={},B={},j="",k=0,P=[],I={},R={},N=0,M=[],ce=[],fe={},ae=[],ie,me=!1,be=[],de=[],U={},Z=0,te=0,W={Sheets:[],WBProps:{date1904:!1}},xe={};In.lastIndex=0,n=Op(n,"<!--","-->");for(var Te="";l=In.exec(n);)switch(l[3]=(Te=l[3]).toLowerCase()){case"data":if(Te=="data"){if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break}if(u[u.length-1][1])break;l[1]==="/"?iue(n.slice(w,l.index),j,b,u[u.length-1][0]=="comment"?fe:y,{c:C,r:S},F,ae[C],_,be,r,W.WBProps.date1904):(j="",b=ks(l[0]),w=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(ce.length>0&&(y.c=ce),(!r.sheetRows||r.sheetRows>S)&&y.v!==void 0&&(r.dense?(g["!data"][S]||(g["!data"][S]=[]),g["!data"][S][C]=y):g[or(C)+yr(S)]=y),y.HRef&&(y.l={Target:Xt(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(Z=C+(parseInt(y.MergeAcross,10)|0),te=S+(parseInt(y.MergeDown,10)|0),(Z>C||te>S)&&P.push({s:{c:C,r:S},e:{c:Z,r:te}})),!r.sheetStubs)y.MergeAcross?C=Z+1:++C;else if(y.MergeAcross||y.MergeDown){for(var Ne=C;Ne<=Z;++Ne)for(var X=S;X<=te;++X)(Ne>C||X>S)&&(r.dense?(g["!data"][X]||(g["!data"][X]=[]),g["!data"][X][Ne]={t:"z"}):g[or(Ne)+yr(X)]={t:"z"});C=Z+1}else++C;else y=eue(l[0]),y.Index&&(C=+y.Index-1),C<O.s.c&&(O.s.c=C),C>O.e.c&&(O.e.c=C),l[0].slice(-2)==="/>"&&++C,ce=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(S<O.s.r&&(O.s.r=S),S>O.e.r&&(O.e.r=S),l[0].slice(-2)==="/>"&&(_=ks(l[0]),_.Index&&(S=+_.Index-1)),C=0,++S):(_=ks(l[0]),_.Index&&(S=+_.Index-1),U={},(_.AutoFitHeight=="0"||_.Height)&&(U.hpx=parseInt(_.Height,10),U.hpt=g9(U.hpx),de[S]=U),_.Hidden=="1"&&(U.hidden=!0,de[S]=U));break;case"worksheet":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"));m.push(x),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(g["!ref"]=Yt(O),r.sheetRows&&r.sheetRows<=O.e.r&&(g["!fullref"]=g["!ref"],O.e.r=r.sheetRows-1,g["!ref"]=Yt(O))),P.length&&(g["!merges"]=P),ae.length>0&&(g["!cols"]=ae),de.length>0&&(g["!rows"]=de),d[x]=g}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=C=0,u.push([l[3],!1]),f=ks(l[0]),x=Xt(f.Name),g={},r.dense&&(g["!data"]=[]),P=[],be=[],de=[],xe={name:x,Hidden:0},W.Sheets.push(xe);break;case"table":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else{if(l[0].slice(-2)=="/>")break;u.push([l[3],!1]),ae=[],me=!1}break;case"style":l[1]==="/"?aue(F,B,r):B=ks(l[0]);break;case"numberformat":B.nf=Xt(ks(l[0]).Format||"General"),Fh[B.nf]&&(B.nf=Fh[B.nf]);for(var Q=0;Q!=392&&kt[Q]!=B.nf;++Q);if(Q==392){for(Q=57;Q!=392;++Q)if(kt[Q]==null){Eu(B.nf,Q);break}}break;case"column":if(u[u.length-1][0]!=="table"||l[1]==="/")break;if(ie=ks(l[0]),ie.Hidden&&(ie.hidden=!0,delete ie.Hidden),ie.Width&&(ie.wpx=parseInt(ie.Width,10)),!me&&ie.wpx>10){me=!0,Za=p9;for(var ue=0;ue<ae.length;++ue)ae[ue]&&kf(ae[ue])}me&&kf(ie),ae[ie.Index-1||ae.length]=ie;for(var q=0;q<+ie.Span;++q)ae[ae.length]=Un(ie);break;case"namedrange":if(l[1]==="/")break;W.Names||(W.Names=[]);var K=lt(l[0]),H={Name:sue(K.Name),Ref:Cu(K.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(H.Sheet=W.Sheets.length-1),W.Names.push(H);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(k,l.index):k=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;B.Interior=ks(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Xne(I,Te,n.slice(N,l.index)):N=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else u.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"));oue(fe),ce.push(fe)}else u.push([l[3],!1]),f=ks(l[0]),vr(f.ShowAlways||"0")||(ce.hidden=!0),fe={a:f.Author};break;case"autofilter":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var ve=ks(l[0]);g["!autofilter"]={ref:Cu(ve.Range).replace(/\$/g,"")},u.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"null":break;default:if(u.length==0&&l[3]=="document"||u.length==0&&l[3]=="uof")return E8(n,r);var Fe=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Fe=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Fe=!1}break;case"excelworkbook":switch(l[3]){case"date1904":W.WBProps.date1904=!0;break;case"hidehorizontalscrollbar":break;case"hideverticalscrollbar":break;case"hideworkbooktabs":break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Fe=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Fe=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(N,l.index)){case"SheetHidden":xe.Hidden=1;break;case"SheetVeryHidden":xe.Hidden=2;break}else N=l.index+l[0].length;break;case"header":g["!margins"]||Ph(g["!margins"]={},"xlml"),isNaN(+lt(l[0]).Margin)||(g["!margins"].header=+lt(l[0]).Margin);break;case"footer":g["!margins"]||Ph(g["!margins"]={},"xlml"),isNaN(+lt(l[0]).Margin)||(g["!margins"].footer=+lt(l[0]).Margin);break;case"pagemargins":var Se=lt(l[0]);g["!margins"]||Ph(g["!margins"]={},"xlml"),isNaN(+Se.Top)||(g["!margins"].top=+Se.Top),isNaN(+Se.Left)||(g["!margins"].left=+Se.Left),isNaN(+Se.Right)||(g["!margins"].right=+Se.Right),isNaN(+Se.Bottom)||(g["!margins"].bottom=+Se.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Fe=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Fe=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Fe=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Fe=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Fe=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Fe=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Fe=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Fe=!1}break;case"smarttags":break;default:Fe=!1;break}if(Fe||l[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?rue(R,Te,M,n.slice(N,l.index)):(M=l,N=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+u.join("|")}var Ge={};return!r.bookSheets&&!r.bookProps&&(Ge.Sheets=d),Ge.SheetNames=m,Ge.Workbook=W,Ge.SSF=Un(kt),Ge.Props=I,Ge.Custprops=R,Ge.bookType="xlml",Ge}function lS(e,t){switch(OC(t=t||{}),t.type||"base64"){case"base64":return I_(Mi(e),t);case"binary":case"buffer":case"file":return I_(e,t);case"array":return I_(al(e),t)}}function lue(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=kne(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Dne(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var cue=[60,1084,2066,2165,2175];function uue(e,t,r,n,a){var i=n,s=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}s.push(l),r.l+=i;for(var u=qo(r,r.l),f=cS[u],d=0;f!=null&&cue.indexOf(u)>-1;)i=qo(r,r.l+2),d=r.l+4,u==2066?d+=4:(u==2165||u==2175)&&(d+=12),l=r.slice(d,r.l+4+i),s.push(l),r.l+=4+i,f=cS[u=qo(r,r.l)];var m=rc(s);Xn(m,0);var g=0;m.lens=[];for(var x=0;x<s.length;++x)m.lens.push(g),g+=s[x].length;if(m.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+n;return t.f(m,m.length,a)}function ro(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&e.z==null&&(e.z=kt[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||vi[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Jh(e.v):e.w=Pu(e.v):e.w=Li(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Ms(kt[n]||String(n))){var a=zo(e.v+(r?1462:0));a&&(e.t="d",e.v=new Date(Date.UTC(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u)))}}}function Wg(e,t,r){return{v:e,ixfe:t,t:r}}function fue(e,t){var r={opts:{}},n={},a={};t.dense&&(a["!data"]=[]);var i={},s={},l=null,u=[],f="",d={},m,g="",x,y,_,b,w={},C=[],S,O,F=[],B=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},P=!1,I=function(Xe){return Xe<8?Au[Xe]:Xe<64&&B[Xe-8]||Au[Xe]},R=function(Xe,it){var bt=Xe.XF.data;if(!(!bt||!bt.patternType||!it||!it.cellStyles)){Xe.s={},Xe.s.patternType=bt.patternType;var ht;(ht=rp(I(bt.icvFore)))&&(Xe.s.fgColor={rgb:ht}),(ht=rp(I(bt.icvBack)))&&(Xe.s.bgColor={rgb:ht})}},N=function(Xe,it,bt){if(!(!P&&Z>1)&&!(bt.sheetRows&&Xe.r>=bt.sheetRows)){if(bt.cellStyles&&it.XF&&it.XF.data&&R(it,bt),delete it.ixfe,delete it.XF,m=Xe,g=sr(Xe),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Xe.r<s.s.r&&(s.s.r=Xe.r),Xe.c<s.s.c&&(s.s.c=Xe.c),Xe.r+1>s.e.r&&(s.e.r=Xe.r+1),Xe.c+1>s.e.c&&(s.e.c=Xe.c+1),bt.cellFormula&&it.f){for(var ht=0;ht<C.length;++ht)if(!(C[ht][0].s.c>Xe.c||C[ht][0].s.r>Xe.r)&&!(C[ht][0].e.c<Xe.c||C[ht][0].e.r<Xe.r)){it.F=Yt(C[ht][0]),(C[ht][0].s.c!=Xe.c||C[ht][0].s.r!=Xe.r)&&delete it.f,it.f&&(it.f=""+Ma(C[ht][1],s,Xe,de,M));break}}bt.dense?(a["!data"][Xe.r]||(a["!data"][Xe.r]=[]),a["!data"][Xe.r][Xe.c]=it):a[g]=it}},M={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:C,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(M.password=t.password);var ce,fe=[],ae=[],ie=[],me=[],be=!1,de=[];de.SheetNames=M.snames,de.sharedf=M.sharedf,de.arrayf=M.arrayf,de.names=[],de.XTI=[];var U=0,Z=0,te=0,W=[],xe=[],Te;M.codepage=1200,Rs(1200);for(var Ne=!1;e.l<e.length-1;){var X=e.l,Q=e.read_shift(2);if(Q===0&&U===10)break;var ue=e.l===e.length?0:e.read_shift(2),q=cS[Q];if(Z==0&&[9,521,1033,2057].indexOf(Q)==-1)break;if(q&&q.f){if(t.bookSheets&&U===133&&Q!==133)break;if(U=Q,q.r===2||q.r==12){var K=e.read_shift(2);if(ue-=2,!M.enc&&K!==Q&&((K&255)<<8|K>>8)!==Q)throw new Error("rt mismatch: "+K+"!="+Q);q.r==12&&(e.l+=10,ue-=10)}var H={};if(Q===10?H=q.f(e,ue,M):H=uue(Q,q,e,ue,M),Z==0&&[9,521,1033,2057].indexOf(U)===-1)continue;switch(Q){case 34:r.opts.Date1904=j.WBProps.date1904=H;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(M.enc||(e.l=0),M.enc=H,!t.password)throw new Error("File is password-protected");if(H.valid==null)throw new Error("Encryption scheme unsupported");if(!H.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=H;break;case 66:var ve=Number(H);switch(ve){case 21010:ve=1200;break;case 32768:ve=1e4;break;case 32769:ve=1252;break}Rs(M.codepage=ve),Ne=!0;break;case 317:M.rrtabid=H;break;case 25:M.winlocked=H;break;case 439:r.opts.RefreshAll=H;break;case 12:r.opts.CalcCount=H;break;case 16:r.opts.CalcDelta=H;break;case 17:r.opts.CalcIter=H;break;case 13:r.opts.CalcMode=H;break;case 14:r.opts.CalcPrecision=H;break;case 95:r.opts.CalcSaveRecalc=H;break;case 15:M.CalcRefMode=H;break;case 2211:r.opts.FullCalc=H;break;case 129:H.fDialog&&(a["!type"]="dialog"),H.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),H.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 67:case 579:case 1091:case 224:F.push(H);break;case 430:de.push([H]),de[de.length-1].XTI=[];break;case 35:case 547:de[de.length-1].push(H);break;case 24:case 536:Te={Name:H.Name,Ref:Ma(H.rgce,s,null,de,M)},H.itab>0&&(Te.Sheet=H.itab-1),de.names.push(Te),de[0]||(de[0]=[],de[0].XTI=[]),de[de.length-1].push(H),H.Name=="_xlnm._FilterDatabase"&&H.itab>0&&H.rgce&&H.rgce[0]&&H.rgce[0][0]&&H.rgce[0][0][0]=="PtgArea3d"&&(xe[H.itab-1]={ref:Yt(H.rgce[0][0][1][2])});break;case 22:M.ExternCount=H;break;case 23:de.length==0&&(de[0]=[],de[0].XTI=[]),de[de.length-1].XTI=de[de.length-1].XTI.concat(H),de.XTI=de.XTI.concat(H);break;case 2196:if(M.biff<8)break;Te!=null&&(Te.Comment=H[1]);break;case 18:a["!protect"]=H;break;case 19:H!==0&&M.WTF&&console.error("Password verifier: "+H);break;case 133:i[M.biff==4?M.snames.length:H.pos]=H,M.snames.push(H.name);break;case 10:{if(--Z?!P:P)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Yt(s),t.sheetRows&&t.sheetRows<=s.e.r){var Fe=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Yt(s),s.e.r=Fe}s.e.r++,s.e.c++}fe.length>0&&(a["!merges"]=fe),ae.length>0&&(a["!objects"]=ae),ie.length>0&&(a["!cols"]=ie),me.length>0&&(a["!rows"]=me),j.Sheets.push(k)}f===""?d=a:n[f]=a,a={},t.dense&&(a["!data"]=[])}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[Q]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[H.BIFFVer]||8),M.biffguess=H.BIFFVer==0,H.BIFFVer==0&&H.dt==4096&&(M.biff=5,Ne=!0,Rs(M.codepage=28591)),M.biff==4&&H.dt&256&&(P=!0),M.biff==8&&H.BIFFVer==0&&H.dt==16&&(M.biff=2),Z++&&!P)break;if(a={},t.dense&&(a["!data"]=[]),M.biff<8&&!Ne&&(Ne=!0,Rs(M.codepage=t.codepage||1252)),M.biff==4&&P)f=(i[M.snames.indexOf(f)+1]||{name:""}).name;else if(M.biff<5||H.BIFFVer==0&&H.dt==4096){f===""&&(f="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:e.l-ue,name:f};i[Se.pos]=Se,M.snames.push(f)}else f=(i[X]||{name:""}).name;H.dt==32&&(a["!type"]="chart"),H.dt==64&&(a["!type"]="macro"),fe=[],ae=[],M.arrayf=C=[],ie=[],me=[],be=!1,k={Hidden:(i[X]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a["!data"][H.r]||[])[H.c]:a[or(H.c)+yr(H.r)])&&++H.c,S={ixfe:H.ixfe,XF:F[H.ixfe]||{},v:H.val,t:"n"},te>0&&(S.z=S.XF&&S.XF.numFmtId&&W[S.XF.numFmtId]||W[S.ixfe>>8&63]),ro(S,t,r.opts.Date1904),N({c:H.c,r:H.r},S,t);break;case 5:case 517:S={ixfe:H.ixfe,XF:F[H.ixfe],v:H.val,t:H.t},te>0&&(S.z=S.XF&&S.XF.numFmtId&&W[S.XF.numFmtId]||W[S.ixfe>>8&63]),ro(S,t,r.opts.Date1904),N({c:H.c,r:H.r},S,t);break;case 638:S={ixfe:H.ixfe,XF:F[H.ixfe],v:H.rknum,t:"n"},te>0&&(S.z=S.XF&&S.XF.numFmtId&&W[S.XF.numFmtId]||W[S.ixfe>>8&63]),ro(S,t,r.opts.Date1904),N({c:H.c,r:H.r},S,t);break;case 189:for(var Ge=H.c;Ge<=H.C;++Ge){var He=H.rkrec[Ge-H.c][0];S={ixfe:He,XF:F[He],v:H.rkrec[Ge-H.c][1],t:"n"},te>0&&(S.z=S.XF&&S.XF.numFmtId&&W[S.XF.numFmtId]||W[S.ixfe>>8&63]),ro(S,t,r.opts.Date1904),N({c:Ge,r:H.r},S,t)}break;case 6:case 518:case 1030:{if(H.val=="String"){l=H;break}if(S=Wg(H.val,H.cell.ixfe,H.tt),S.XF=F[S.ixfe],t.cellFormula){var Je=H.formula;if(Je&&Je[0]&&Je[0][0]&&Je[0][0][0]=="PtgExp"){var rt=Je[0][0][1][0],tt=Je[0][0][1][1],le=sr({r:rt,c:tt});w[le]?S.f=""+Ma(H.formula,s,H.cell,de,M):S.F=((t.dense?(a["!data"][rt]||[])[tt]:a[le])||{}).F}else S.f=""+Ma(H.formula,s,H.cell,de,M)}te>0&&(S.z=S.XF&&S.XF.numFmtId&&W[S.XF.numFmtId]||W[S.ixfe>>8&63]),ro(S,t,r.opts.Date1904),N(H.cell,S,t),l=H}break;case 7:case 519:if(l)l.val=H,S=Wg(H,l.cell.ixfe,"s"),S.XF=F[S.ixfe],t.cellFormula&&(S.f=""+Ma(l.formula,s,l.cell,de,M)),te>0&&(S.z=S.XF&&S.XF.numFmtId&&W[S.XF.numFmtId]||W[S.ixfe>>8&63]),ro(S,t,r.opts.Date1904),N(l.cell,S,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{C.push(H);var _e=sr(H[0].s);if(x=t.dense?(a["!data"][H[0].s.r]||[])[H[0].s.c]:a[_e],t.cellFormula&&x){if(!l||!_e||!x)break;x.f=""+Ma(H[1],s,H[0],de,M),x.F=Yt(H[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!l)break;w[sr(l.cell)]=H[0],x=t.dense?(a["!data"][l.cell.r]||[])[l.cell.c]:a[sr(l.cell)],(x||{}).f=""+Ma(H[0],s,m,de,M)}}break;case 253:S=Wg(u[H.isst].t,H.ixfe,"s"),u[H.isst].h&&(S.h=u[H.isst].h),S.XF=F[S.ixfe],te>0&&(S.z=S.XF&&S.XF.numFmtId&&W[S.XF.numFmtId]||W[S.ixfe>>8&63]),ro(S,t,r.opts.Date1904),N({c:H.c,r:H.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:H.ixfe,XF:F[H.ixfe],t:"z"},te>0&&(S.z=S.XF&&S.XF.numFmtId&&W[S.XF.numFmtId]||W[S.ixfe>>8&63]),ro(S,t,r.opts.Date1904),N({c:H.c,r:H.r},S,t));break;case 190:if(t.sheetStubs)for(var Qe=H.c;Qe<=H.C;++Qe){var Le=H.ixfe[Qe-H.c];S={ixfe:Le,XF:F[Le],t:"z"},te>0&&(S.z=S.XF&&S.XF.numFmtId&&W[S.XF.numFmtId]||W[S.ixfe>>8&63]),ro(S,t,r.opts.Date1904),N({c:Qe,r:H.r},S,t)}break;case 214:case 516:case 4:S=Wg(H.val,H.ixfe,"s"),S.XF=F[S.ixfe],te>0&&(S.z=S.XF&&S.XF.numFmtId&&W[S.XF.numFmtId]||W[S.ixfe>>8&63]),ro(S,t,r.opts.Date1904),N({c:H.c,r:H.r},S,t);break;case 0:case 512:Z===1&&(s=H);break;case 252:u=H;break;case 1054:if(M.biff>=3&&M.biff<=4){W[te++]=H[1];for(var wt=0;wt<te+163&&kt[wt]!=H[1];++wt);wt>=163&&Eu(H[1],te+163)}else Eu(H[1],H[0]);break;case 30:{W[te++]=H;for(var vt=0;vt<te+163&&kt[vt]!=H;++vt);vt>=163&&Eu(H,te+163)}break;case 229:fe=fe.concat(H);break;case 93:ae[H.cmo[0]]=M.lastobj=H;break;case 438:M.lastobj.TxO=H;break;case 127:M.lastobj.ImData=H;break;case 440:for(b=H[0].s.r;b<=H[0].e.r;++b)for(_=H[0].s.c;_<=H[0].e.c;++_)x=t.dense?(a["!data"][b]||[])[_]:a[sr({c:_,r:b})],x&&(x.l=H[1]);break;case 2048:for(b=H[0].s.r;b<=H[0].e.r;++b)for(_=H[0].s.c;_<=H[0].e.c;++_)x=t.dense?(a["!data"][b]||[])[_]:a[sr({c:_,r:b})],x&&x.l&&(x.l.Tooltip=H[1]);break;case 28:{if(x=t.dense?(a["!data"][H[0].r]||[])[H[0].c]:a[sr(H[0])],x||(t.dense?(a["!data"][H[0].r]||(a["!data"][H[0].r]=[]),x=a["!data"][H[0].r][H[0].c]={t:"z"}):x=a[sr(H[0])]={t:"z"},s.e.r=Math.max(s.e.r,H[0].r),s.s.r=Math.min(s.s.r,H[0].r),s.e.c=Math.max(s.e.c,H[0].c),s.s.c=Math.min(s.s.c,H[0].c)),x.c||(x.c=[]),M.biff<=5&&M.biff>=2)y={a:"SheetJ5",t:H[1]};else{var St=ae[H[2]];y={a:H[1],t:St.TxO.t},H[3]!=null&&!(H[3]&2)&&(x.c.hidden=!0)}x.c.push(y)}break;case 2173:Fse(F[H.ixfe],H.ext);break;case 125:{if(!M.cellStyles)break;for(;H.e>=H.s;)ie[H.e--]={width:H.w/256,level:H.level||0,hidden:!!(H.flags&1)},be||(be=!0,CC(H.w/256)),kf(ie[H.e+1])}break;case 520:{var Tt={};H.level!=null&&(me[H.r]=Tt,Tt.level=H.level),H.hidden&&(me[H.r]=Tt,Tt.hidden=!0),H.hpt&&(me[H.r]=Tt,Tt.hpt=H.hpt,Tt.hpx=np(H.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Ph(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Q]]=H;break;case 161:a["!margins"]||Ph(a["!margins"]={}),a["!margins"].header=H.header,a["!margins"].footer=H.footer;break;case 574:H.RTL&&(j.Views[0].RTL=!0);break;case 146:B=H;break;case 2198:ce=H;break;case 140:O=H;break;case 442:f?k.CodeName=H||k.name:j.WBProps.CodeName=H||"ThisWorkbook";break}}else q||console.error("Missing Info for XLS Record 0x"+Q.toString(16)),e.l+=ue}return r.SheetNames=ds(i).sort(function(Bt,Xe){return Number(Bt)-Number(Xe)}).map(function(Bt){return i[Bt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&xe.forEach(function(Bt,Xe){r.Sheets[r.SheetNames[Xe]]["!autofilter"]=Bt}),r.Strings=u,r.SSF=Un(kt),M.enc&&(r.Encryption=M.enc),ce&&(r.Themes=ce),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),de.names.length>0&&(j.Names=de.names),r.Workbook=j,r}var y8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function due(e,t,r){var n=Jt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=t8(n,Pne,y8.DSI);for(var i in a)t[i]=a[i]}catch(f){if(r.WTF)throw f}var s=Jt.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var l=t8(s,Fne,y8.SI);for(var u in l)t[u]==null&&(t[u]=l[u])}catch(f){if(r.WTF)throw f}t.HeadingPairs&&t.TitlesOfParts&&(ZM(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function I9(e,t){t||(t={}),OC(t),uM(),t.codepage&&fC(t.codepage);var r,n;if(e.FullPaths){if(Jt.find(e,"/encryption"))throw new Error("File is password-protected");r=Jt.find(e,"!CompObj"),n=Jt.find(e,"/Workbook")||Jt.find(e,"/Book")}else{switch(t.type){case"base64":e=ji(Mi(e));break;case"binary":e=ji(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Xn(e,0),n={content:e}}var a,i;if(r&&lue(r),t.bookProps&&!t.bookSheets)a={};else{var s=$t?"buffer":"array";if(n&&n.content)a=fue(n.content,t);else if((i=Jt.find(e,"PerfectOffice_MAIN"))&&i.content)a=Ih.to_workbook(i.content,(t.type=s,t));else if((i=Jt.find(e,"NativeContent_MAIN"))&&i.content)a=Ih.to_workbook(i.content,(t.type=s,t));else throw(i=Jt.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Jt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=toe(e))}var l={};return e.FullPaths&&due(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var Vv={0:{f:Gle},1:{f:Qle},2:{f:sce},3:{f:tce},4:{f:Jle},5:{f:ice},6:{f:cce},7:{f:nce},8:{f:pce},9:{f:hce},10:{f:fce},11:{f:dce},12:{f:Zle},13:{f:oce},14:{f:rce},15:{f:ece},16:{f:k9},17:{f:uce},18:{f:ace},19:{f:wC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Uce},40:{},42:{},43:{f:bse},44:{f:yse},45:{f:_se},46:{f:Ese},47:{f:wse},48:{},49:{f:_ne},50:{},51:{f:Mse},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:c9},62:{f:lce},63:{f:$se},64:{f:Ece},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Wa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:wce},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Yle},148:{f:Kle,p:16},151:{f:xce},152:{},153:{f:Lce},154:{},155:{},156:{f:Mce},157:{},158:{},159:{T:1,f:Mie},160:{T:-1},161:{T:1,f:a0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:mce},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Bse},336:{T:-1},337:{f:Lse,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:iS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:l9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:vce},427:{f:yce},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:_ce},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Xle},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:gce},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:iS},551:{f:fy},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Zse},633:{T:1},634:{T:-1},635:{T:1,f:Qse},636:{T:-1},637:{f:Ene},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Dce},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Sce},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},cS={6:{f:j_},10:{f:Ql},12:{f:fn},13:{f:fn},14:{f:bn},15:{f:bn},16:{f:Ua},17:{f:bn},18:{f:bn},19:{f:fn},20:{f:a8},21:{f:a8},23:{f:l9},24:{f:s8},25:{f:bn},26:{},27:{},28:{f:Jae},29:{},34:{f:bn},35:{f:i8},38:{f:Ua},39:{f:Ua},40:{f:Ua},41:{f:Ua},42:{f:bn},43:{f:bn},47:{f:nse},49:{f:Nae},51:{f:fn},60:{},61:{f:Dae},64:{f:bn},65:{f:jae},66:{f:fn},77:{},80:{},81:{},82:{},85:{f:fn},89:{},90:{},91:{},92:{f:_ae},93:{f:tie},94:{},95:{f:bn},96:{},97:{},99:{f:bn},125:{f:c9},128:{f:qae},129:{f:wae},130:{f:fn},131:{f:bn},132:{f:bn},133:{f:Eae},134:{},140:{f:oie},141:{f:fn},144:{},146:{f:cie},151:{},152:{},153:{},154:{},155:{},156:{f:fn},157:{},158:{},160:{f:pie},161:{f:fie},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Mae},190:{f:Lae},193:{f:Ql},197:{},198:{},199:{},200:{},201:{},202:{f:bn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:fn},220:{},221:{f:bn},222:{},224:{f:Uae},225:{f:bae},226:{f:Ql},227:{},229:{f:eie},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Sae},253:{f:Iae},255:{f:Aae},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:t9},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:bn},353:{f:Ql},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Kae},431:{f:bn},432:{},433:{},434:{},437:{},438:{f:aie},439:{f:bn},440:{f:iie},441:{},442:{f:Np},443:{},444:{f:fn},445:{},446:{},448:{f:Ql},449:{f:kae,r:2},450:{f:Ql},512:{f:n8},513:{f:hie},515:{f:Gae},516:{f:Rae},517:{f:Wae},519:{f:mie},520:{f:Cae},523:{},545:{f:l8},549:{f:r8},566:{},574:{f:Oae},638:{f:Bae},659:{},1048:{},1054:{f:Pae},1084:{},1212:{f:Yae},2048:{f:sie},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Vg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ql},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:uie,r:12},2173:{f:Pse,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:bn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Xae,r:12},2197:{},2198:{f:Dse,r:12},2199:{},2200:{},2201:{},2202:{f:Qae,r:12},2203:{f:Ql},2204:{},2205:{},2206:{},2207:{},2211:{f:Tae},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:fn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:die},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:lie},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:n8},1:{},2:{f:yie},3:{f:vie},4:{f:xie},5:{f:_ie},7:{f:bie},8:{},9:{f:Vg},11:{},22:{f:fn},30:{f:Fae},31:{},32:{},33:{f:l8},36:{},37:{f:r8},50:{f:wie},62:{},52:{},67:{f:Vae},68:{f:fn},69:{},86:{},126:{},127:{f:gie},135:{},136:{},137:{},143:{f:Sie},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Eie},223:{},234:{},354:{},421:{},518:{f:j_},521:{f:Vg},536:{f:s8},547:{f:i8},561:{},579:{f:$ae},1030:{f:j_},1033:{f:Vg},1091:{f:Hae},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},101:{},102:{},105:{},106:{},107:{},109:{},112:{},114:{},29282:{}};function Di(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&HM(r)&&e.push(r)}}function b8(e,t){var r=t||{},n=r.dense!=null?r.dense:Qte,a={};n&&(a["!data"]=[]),e=Op(e,"<!--","-->");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),l=i.index,u=s&&s.index||e.length,f=Lre(e.slice(l,u),/(:?<tr[^<>]*>)/i,"<tr>"),d=-1,m=0,g=0,x=0,y={s:{r:1e7,c:1e7},e:{r:0,c:0}},_=[];for(l=0;l<f.length;++l){var b=f[l].trim(),w=b.slice(0,3).toLowerCase();if(w=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}m=0;continue}if(!(w!="<td"&&w!="<th")){var C=b.split(/<\/t[dh]>/i);for(u=0;u<C.length;++u){var S=C[u].trim();if(S.match(/<t[dh]/i)){for(var O=S,F=0;O.charAt(0)=="<"&&(F=O.indexOf(">"))>-1;)O=O.slice(F+1);for(var B=0;B<_.length;++B){var j=_[B];j.s.c==m&&j.s.r<d&&d<=j.e.r&&(m=j.e.c+1,B=-1)}var k=lt(S.slice(0,S.indexOf(">")));x=k.colspan?+k.colspan:1,((g=+k.rowspan)>1||x>1)&&_.push({s:{r:d,c:m},e:{r:d+(g||1)-1,c:m+x-1}});var P=k.t||k["data-t"]||"";if(!O.length){m+=x;continue}if(O=jM(O),y.s.r>d&&(y.s.r=d),y.e.r<d&&(y.e.r=d),y.s.c>m&&(y.s.c=m),y.e.c<m&&(y.e.c=m),!O.length){m+=x;continue}var I={t:"s",v:O};r.raw||!O.trim().length||P=="s"||(O==="TRUE"?I={t:"b",v:!0}:O==="FALSE"?I={t:"b",v:!1}:isNaN(Pi(O))?isNaN(ep(O).getDate())?O.charCodeAt(0)==35&&ka[O]!=null&&(I.t="e",I.w=O,I.v=ka[O]):(I={t:"d",v:ja(O)},r.UTC===!1&&(I.v=Bu(I.v)),r.cellDates||(I={t:"n",v:Zn(I.v)}),I.z=r.dateNF||kt[14]):I={t:"n",v:Pi(O)}),I.cellText!==!1&&(I.w=O),n?(a["!data"][d]||(a["!data"][d]=[]),a["!data"][d][m]=I):a[sr({r:d,c:m})]=I,m+=x}}}}return a["!ref"]=Yt(y),_.length&&(a["!merges"]=_),a}function hue(e,t,r,n){for(var a=e["!merges"]||[],i=[],s={},l=e["!data"]!=null,u=t.s.c;u<=t.e.c;++u){for(var f=0,d=0,m=0;m<a.length;++m)if(!(a[m].s.r>r||a[m].s.c>u)&&!(a[m].e.r<r||a[m].e.c<u)){if(a[m].s.r<r||a[m].s.c<u){f=-1;break}f=a[m].e.r-a[m].s.r+1,d=a[m].e.c-a[m].s.c+1;break}if(!(f<0)){var g=or(u)+yr(r),x=l?(e["!data"][r]||[])[u]:e[g];x&&x.t=="n"&&x.v!=null&&!isFinite(x.v)&&(isNaN(x.v)?x={t:"e",v:36,w:vi[36]}:x={t:"e",v:7,w:vi[7]});var y=x&&x.v!=null&&(x.h||Th(x.w||(Sc(x),x.w)||""))||"";s={},f>1&&(s.rowspan=f),d>1&&(s.colspan=d),n.editable?y='<span contenteditable="true">'+y+"</span>":x&&(s["data-t"]=x&&x.t||"z",x.v!=null&&(s["data-v"]=Th(x.v instanceof Date?x.v.toISOString():x.v)),x.z!=null&&(s["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+Th(x.l.Target)+'">'+y+"</a>")),s.id=(n.id||"sjs")+"-"+g,i.push(nne("td",y,s))}}var _="<tr>";return _+i.join("")+"</tr>"}var pue='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',mue="</body></html>";function gue(e,t){var r=Vre(e,"table");if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1){var n=Ic(b8(r[0],t),t);return n.bookType="html",n}var a=NC();return r.forEach(function(i,s){Fp(a,b8(i,t),"Sheet"+(s+1))}),a.bookType="html",a}function xue(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function vue(e,t){var r=t||{},n=r.header!=null?r.header:pue,a=r.footer!=null?r.footer:mue,i=[n],s=r0(e["!ref"]||"A1");if(i.push(xue(e,s,r)),e["!ref"])for(var l=s.s.r;l<=s.e.r;++l)i.push(hue(e,s,l,r));return i.push("</table>"+a),i.join("")}function R9(e,t,r){var n=t.rows;if(!n)throw"Unsupported origin when "+t.tagName+" is not a TABLE";var a=r||{},i=e["!data"]!=null,s=0,l=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var u=typeof a.origin=="string"?Va(a.origin):a.origin;s=u.r,l=u.c}var f=Math.min(a.sheetRows||1e7,n.length),d={s:{r:0,c:0},e:{r:s,c:l}};if(e["!ref"]){var m=r0(e["!ref"]);d.s.r=Math.min(d.s.r,m.s.r),d.s.c=Math.min(d.s.c,m.s.c),d.e.r=Math.max(d.e.r,m.e.r),d.e.c=Math.max(d.e.c,m.e.c),s==-1&&(d.e.r=s=m.e.r+1)}var g=[],x=0,y=e["!rows"]||(e["!rows"]=[]),_=0,b=0,w=0,C=0,S=0,O=0;for(e["!cols"]||(e["!cols"]=[]);_<n.length&&b<f;++_){var F=n[_];if(_8(F)){if(a.display)continue;y[b]={hidden:!0}}var B=F.cells;for(w=C=0;w<B.length;++w){var j=B[w];if(!(a.display&&_8(j))){var k=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):jM(j.innerHTML),P=j.getAttribute("data-z")||j.getAttribute("z");for(x=0;x<g.length;++x){var I=g[x];I.s.c==C+l&&I.s.r<b+s&&b+s<=I.e.r&&(C=I.e.c+1-l,x=-1)}O=+j.getAttribute("colspan")||1,((S=+j.getAttribute("rowspan")||1)>1||O>1)&&g.push({s:{r:b+s,c:C+l},e:{r:b+s+(S||1)-1,c:C+l+(O||1)-1}});var R={t:"s",v:k},N=j.getAttribute("data-t")||j.getAttribute("t")||"";k!=null&&(k.length==0?R.t=N||"z":a.raw||k.trim().length==0||N=="s"||(N=="e"&&vi[+k]?R={t:"e",v:+k,w:vi[+k]}:k==="TRUE"?R={t:"b",v:!0}:k==="FALSE"?R={t:"b",v:!1}:isNaN(Pi(k))?isNaN(ep(k).getDate())?k.charCodeAt(0)==35&&ka[k]!=null&&(R={t:"e",v:ka[k],w:k}):(R={t:"d",v:ja(k)},a.UTC&&(R.v=cy(R.v)),a.cellDates||(R={t:"n",v:Zn(R.v)}),R.z=a.dateNF||kt[14]):R={t:"n",v:Pi(k)})),R.z===void 0&&P!=null&&(R.z=P);var M="",ce=j.getElementsByTagName("A");if(ce&&ce.length)for(var fe=0;fe<ce.length&&!(ce[fe].hasAttribute("href")&&(M=ce[fe].getAttribute("href"),M.charAt(0)!="#"));++fe);M&&M.charAt(0)!="#"&&M.slice(0,11).toLowerCase()!="javascript:"&&(R.l={Target:M}),i?(e["!data"][b+s]||(e["!data"][b+s]=[]),e["!data"][b+s][C+l]=R):e[sr({c:C+l,r:b+s})]=R,d.e.c<C+l&&(d.e.c=C+l),C+=O}}++b}return g.length&&(e["!merges"]=(e["!merges"]||[]).concat(g)),d.e.r=Math.max(d.e.r,b-1+s),e["!ref"]=Yt(d),b>=f&&(e["!fullref"]=Yt((d.e.r=n.length-_+b-1+s,d))),e}function P9(e,t){var r=t||{},n={};return r.dense&&(n["!data"]=[]),R9(n,e,t)}function yue(e,t){var r=Ic(P9(e,t),t);return r}function _8(e){var t="",r=bue(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function bue(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function _ue(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^<>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Xt(t.replace(/<[^<>]*>/g,""));return[r]}function F9(e,t,r){var n=r||{},a=uy(e);In.lastIndex=0,a=gC(Op(a,"<!--","-->"));for(var i,s,l="",u="",f,d=0,m=-1,g="";i=In.exec(a);)switch(i[3]=i[3].replace(/_[\s\S]*$/,"")){case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":case"text-style":i[1]==="/"?(s["truncate-on-overflow"]=="false"&&(l.match(/h/)?l=l.replace(/h+/,"[$&]"):l.match(/m/)?l=l.replace(/m+/,"[$&]"):l.match(/s/)&&(l=l.replace(/s+/,"[$&]"))),n[s.name]=l,l=""):i[0].charAt(i[0].length-2)!=="/"&&(l="",s=lt(i[0],!1));break;case"boolean-style":i[1]==="/"?(n[s.name]="General",l=""):i[0].charAt(i[0].length-2)!=="/"&&(l="",s=lt(i[0],!1));break;case"boolean":l+="General";break;case"text":i[1]==="/"?(g=a.slice(m,In.lastIndex-i[0].length),g=="%"&&s[0]=="<number:percentage-style"?l+="%":l+='"'+g.replace(/"/g,'""')+'"'):i[0].charAt(i[0].length-2)!=="/"&&(m=In.lastIndex);break;case"day":switch(f=lt(i[0],!1),f.style){case"short":l+="d";break;case"long":l+="dd";break;default:l+="dd";break}break;case"day-of-week":switch(f=lt(i[0],!1),f.style){case"short":l+="ddd";break;case"long":l+="dddd";break;default:l+="ddd";break}break;case"era":switch(f=lt(i[0],!1),f.style){case"short":l+="ee";break;case"long":l+="eeee";break;default:l+="eeee";break}break;case"hours":switch(f=lt(i[0],!1),f.style){case"short":l+="h";break;case"long":l+="hh";break;default:l+="hh";break}break;case"minutes":switch(f=lt(i[0],!1),f.style){case"short":l+="m";break;case"long":l+="mm";break;default:l+="mm";break}break;case"month":switch(f=lt(i[0],!1),f.textual&&(l+="mm"),f.style){case"short":l+="m";break;case"long":l+="mm";break;default:l+="m";break}break;case"seconds":{switch(f=lt(i[0],!1),f.style){case"short":l+="s";break;case"long":l+="ss";break;default:l+="ss";break}f["decimal-places"]&&(l+="."+Zt("0",+f["decimal-places"]))}break;case"year":switch(f=lt(i[0],!1),f.style){case"short":l+="yy";break;case"long":l+="yyyy";break;default:l+="yy";break}break;case"am-pm":l+="AM/PM";break;case"week-of-year":case"quarter":console.error("Excel does not support ODS format token "+i[3]);break;case"fill-character":i[1]==="/"?(g=a.slice(m,In.lastIndex-i[0].length),l+='"'+g.replace(/"/g,'""')+'"*'):i[0].charAt(i[0].length-2)!=="/"&&(m=In.lastIndex);break;case"scientific-number":f=lt(i[0],!1),l+="0."+Zt("0",+f["min-decimal-places"]||+f["decimal-places"]||2)+Zt("?",+f["decimal-places"]-+f["min-decimal-places"]||0)+"E"+(vr(f["forced-exponent-sign"])?"+":"")+Zt("0",+f["min-exponent-digits"]||2);break;case"fraction":f=lt(i[0],!1),+f["min-integer-digits"]?l+=Zt("0",+f["min-integer-digits"]):l+="#",l+=" ",l+=Zt("?",+f["min-numerator-digits"]||1),l+="/",+f["denominator-value"]?l+=f["denominator-value"]:l+=Zt("?",+f["min-denominator-digits"]||1);break;case"currency-symbol":i[1]==="/"?l+='"'+a.slice(m,In.lastIndex-i[0].length).replace(/"/g,'""')+'"':i[0].charAt(i[0].length-2)!=="/"?m=In.lastIndex:l+="$";break;case"text-properties":switch(f=lt(i[0],!1),(f.color||"").toLowerCase().replace("#","")){case"ff0000":case"red":l="[Red]"+l;break}break;case"text-content":l+="@";break;case"map":f=lt(i[0],!1),Xt(f.condition)=="value()>=0"?l=n[f["apply-style-name"]]+";"+l:console.error("ODS number format may be incorrect: "+f.condition);break;case"number":if(i[1]==="/")break;f=lt(i[0],!1),u="",u+=Zt("0",+f["min-integer-digits"]||1),vr(f.grouping)&&(u=Ho(Zt("#",Math.max(0,4-u.length))+u)),(+f["min-decimal-places"]||+f["decimal-places"])&&(u+="."),+f["min-decimal-places"]&&(u+=Zt("0",+f["min-decimal-places"]||1)),+f["decimal-places"]-(+f["min-decimal-places"]||0)&&(u+=Zt("0",+f["decimal-places"]-(+f["min-decimal-places"]||0))),l+=u;break;case"embedded-text":i[1]==="/"?d==0?l+='"'+a.slice(m,In.lastIndex-i[0].length).replace(/"/g,'""')+'"':l=l.slice(0,d)+'"'+a.slice(m,In.lastIndex-i[0].length).replace(/"/g,'""')+'"'+l.slice(d):i[0].charAt(i[0].length-2)!=="/"&&(m=In.lastIndex,d=-+lt(i[0],!1).position||0);break}return n}function B9(e,t,r){var n=t||{},a=uy(e),i=[],s,l,u,f="",d=0,m,g,x={},y=[],_={};n.dense&&(_["!data"]=[]);var b,w,C={value:""},S={},O="",F=0,B="",j=0,k=[],P=[],I=-1,R=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,ce=r||{},fe={},ae=[],ie={},me=0,be=0,de=[],U=1,Z=1,te=[],W={Names:[],WBProps:{}},xe={},Te=["",""],Ne=[],X={},Q="",ue=0,q=!1,K=!1,H=0;for(In.lastIndex=0,a=gC(Op(a,"<!--","-->"));b=In.exec(a);)switch(b[3]=b[3].replace(/_[\s\S]*$/,"")){case"table":case"":b[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?_["!ref"]=Yt(N):_["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=N.e.r&&(_["!fullref"]=_["!ref"],N.e.r=n.sheetRows-1,_["!ref"]=Yt(N)),ae.length&&(_["!merges"]=ae),de.length&&(_["!rows"]=de),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),y.push(m.name),x[m.name]=_,K=!1):b[0].charAt(b[0].length-2)!=="/"&&(m=lt(b[0],!1),I=R=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,_={},n.dense&&(_["!data"]=[]),ae=[],de=[],K=!0);break;case"table-row-group":b[1]==="/"?--M:++M;break;case"table-row":case"":if(b[1]==="/"){I+=U,U=1;break}if(g=lt(b[0],!1),g.?I=g.-1:I==-1&&(I=0),U=+g["number-rows-repeated"]||1,U<10)for(H=0;H<U;++H)M>0&&(de[I+H]={level:M});R=-1;break;case"covered-table-cell":if(b[1]!=="/")if(++R,C=lt(b[0],!1),Z=parseInt(C["number-columns-repeated"]||"1",10)||1,n.sheetStubs){for(;Z-- >0;)n.dense?(_["!data"][I]||(_["!data"][I]=[]),_["!data"][I][R]={t:"z"}):_[sr({r:I,c:R})]={t:"z"},++R;--R}else R+=Z-1;O="",k=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++R,C=lt(b[0],!1),Z=parseInt(C["number-columns-repeated"]||"1",10)||1,w={t:"z",v:null},C.formula&&n.cellFormula!=!1&&(w.f=g8(Xt(C.formula))),C["style-name"]&&fe[C["style-name"]]&&(w.z=fe[C["style-name"]]),(C.||C["value-type"])=="string"&&(w.t="s",w.v=Xt(C["string-value"]||""),n.dense?(_["!data"][I]||(_["!data"][I]=[]),_["!data"][I][R]=w):_[or(R)+yr(I)]=w),R+=Z-1;else if(b[1]!=="/"){++R,O=B="",F=j=0,k=[],P=[],Z=1;var ve=U?I+U-1:I;if(R>N.e.c&&(N.e.c=R),R<N.s.c&&(N.s.c=R),I<N.s.r&&(N.s.r=I),ve>N.e.r&&(N.e.r=ve),C=lt(b[0],!1),S=Xre(b[0]),Ne=[],X={},w={t:C.||C["value-type"],v:null},C["style-name"]&&fe[C["style-name"]]&&(w.z=fe[C["style-name"]]),n.cellFormula)if(C.formula&&(C.formula=Xt(C.formula)),C["number-matrix-columns-spanned"]&&C["number-matrix-rows-spanned"]&&(me=parseInt(C["number-matrix-rows-spanned"],10)||0,be=parseInt(C["number-matrix-columns-spanned"],10)||0,ie={s:{r:I,c:R},e:{r:I+me-1,c:R+be-1}},w.F=Yt(ie),te.push([ie,w.F])),C.formula)w.f=g8(C.formula);else for(H=0;H<te.length;++H)I>=te[H][0].s.r&&I<=te[H][0].e.r&&R>=te[H][0].s.c&&R<=te[H][0].e.c&&(w.F=te[H][1]);switch((C["number-columns-spanned"]||C["number-rows-spanned"])&&(me=parseInt(C["number-rows-spanned"]||"1",10)||1,be=parseInt(C["number-columns-spanned"]||"1",10)||1,me*be>1&&(ie={s:{r:I,c:R},e:{r:I+me-1,c:R+be-1}},ae.push(ie))),C["number-columns-repeated"]&&(Z=parseInt(C["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=vr(C["boolean-value"])||+C["boolean-value"]>=1;break;case"float":w.t="n",w.v=parseFloat(C.value),n.cellDates&&w.z&&Ms(w.z)&&(w.v=pc(w.v+(W.WBProps.date1904?1462:0)),w.t=typeof w.v=="number"?"n":"d");break;case"percentage":w.t="n",w.v=parseFloat(C.value);break;case"currency":w.t="n",w.v=parseFloat(C.value);break;case"date":w.t="d",w.v=ja(C["date-value"],W.WBProps.date1904),n.cellDates||(w.t="n",w.v=Zn(w.v,W.WBProps.date1904)),w.z||(w.z="m/d/yy");break;case"time":w.t="n",w.v=Dre(C["time-value"])/86400,n.cellDates&&(w.v=pc(w.v),w.t=typeof w.v=="number"?"n":"d"),w.z||(w.z="HH:MM:SS");break;case"number":w.t="n",w.v=parseFloat(C.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",C["string-value"]!=null&&(O=Xt(C["string-value"]),k=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(q=!1,S["calcext:value-type"]=="error"&&ka[O]!=null&&(w.t="e",w.w=O,w.v=ka[O]),w.t==="s"&&(w.v=O||"",k.length&&(w.R=k),q=F==0),xe.Target&&(w.l=xe),Ne.length>0&&(w.c=Ne,Ne=[]),O&&n.cellText!==!1&&(w.w=O),q&&(w.t="z",delete w.v),(!q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=I))for(var Fe=0;Fe<U;++Fe){if(Z=parseInt(C["number-columns-repeated"]||"1",10),n.dense)for(_["!data"][I+Fe]||(_["!data"][I+Fe]=[]),_["!data"][I+Fe][R]=Fe==0?w:Un(w);--Z>0;)_["!data"][I+Fe][R+Z]=Un(w);else for(_[sr({r:I+Fe,c:R})]=w;--Z>0;)_[sr({r:I+Fe,c:R+Z})]=Un(w);N.e.c<=R&&(N.e.c=R)}Z=parseInt(C["number-columns-repeated"]||"1",10),R+=Z-1,Z=0,w={},O="",k=[]}xe={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s;X.t=O,k.length&&(X.R=k),X.a=Q,Ne.push(X),O=B,F=j,k=P}else if(b[0].charAt(b[0].length-2)!=="/"){i.push([b[3],!1]);var Se=lt(b[0],!0);Se.display&&vr(Se.display)||(Ne.hidden=!0),B=O,j=F,P=k,O="",F=0,k=[]}Q="",ue=0;break;case"creator":b[1]==="/"?Q=a.slice(ue,b.index):ue=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);O="",F=0,k=[];break;case"scientific-number":case"currency-symbol":case"fill-character":break;case"text-style":case"boolean-style":case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){var Ge=In.lastIndex;F9(a.slice(u,In.lastIndex),t,ce),In.lastIndex=Ge}else b[0].charAt(b[0].length-2)!=="/"&&(u=In.lastIndex-b[0].length);break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":{var He=lt(b[0],!1);He.family=="table-cell"&&ce[He["data-style-name"]]&&(fe[He.name]=ce[He["data-style-name"]])}break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":break;case"boolean":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":f+=a.slice(d,b.index);break}else d=b.index+b[0].length;break;case"named-range":l=lt(b[0],!1),Te=N_(l["cell-range-address"]);var Je={Name:l.name,Ref:Te[0]+"!"+Te[1]};K&&(Je.Sheet=y.length),W.Names.push(Je);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":l=lt(b[0],!1),l["date-value"]==="1904-01-01"&&(W.WBProps.date1904=!0);break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!C||!C["string-value"])){var rt=_ue(a.slice(F,b.index));O=(O.length>0?O+`
`:"")+rt[0]}else b[0].slice(-2)=="/>"?O+=`
`:(lt(b[0],!1),F=b.index+b[0].length);break;case"s":break;case"database-range":if(b[1]==="/")break;try{Te=N_(lt(b[0])["target-range-address"]),x[Te[0]]["!autofilter"]={ref:Te[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"filter-set-item":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(xe=lt(b[0],!1),!xe.href)break;xe.Target=Xt(xe.href),delete xe.href,xe.Target.charAt(0)=="#"&&xe.Target.indexOf(".")>-1?(Te=N_(xe.Target.slice(1)),xe.Target="#"+Te[0]+"!"+Te[1]):xe.Target.match(/^\.\.[\\\/]/)&&(xe.Target=xe.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(b)}}var tt={Sheets:x,SheetNames:y,Workbook:W};return n.bookSheets&&delete tt.Sheets,tt}function w8(e,t){t=t||{},ss(e,"META-INF/manifest.xml")&&$ne(Nn(e,"META-INF/manifest.xml"),t);var r=ei(e,"styles.xml"),n=r&&F9(Rr(r)),a=ei(e,"content.xml");if(!a)throw new Error("Missing content.xml in ODS / UOF file");var i=B9(Rr(a),t,n);return ss(e,"meta.xml")&&(i.Props=QM(Nn(e,"meta.xml"))),i.bookType="ods",i}function E8(e,t){var r=B9(e,t);return r.bookType="fods",r}var Da=(function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":(typeof Buffer.from=="function"?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}})();function ap(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function gf(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Rr(al(e))}function M9(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].length;var n=new Uint8Array(t),a=0;for(r=0;r<e.length;++r){var i=e[r],s=i.length;if(s<250)for(var l=0;l<s;++l)n[a++]=i[l];else n.set(i,a),a+=s}return n}function Bh(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function wue(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function $v(e,t){var r=t.l,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t.l=r,n}function ir(e){var t=0,r=e[t]&127;return e[t++]<128||(r|=(e[t]&127)<<7,e[t++]<128)||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128)||(r|=(e[t]&15)<<28),r}function zt(e){for(var t=[],r={l:0};r.l<e.length;){var n=r.l,a=$v(e,r),i=a&7;a=a/8|0;var s,l=r.l;switch(i){case 0:{for(;e[l++]>=128;);s=e[Da](r.l,l),r.l=l}break;case 1:s=e[Da](l,l+8),r.l=l+8;break;case 2:{var u=$v(e,r);s=e[Da](r.l,r.l+u),r.l+=u}break;case 5:s=e[Da](l,l+4),r.l=l+4;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var f={data:s,type:i};t[a]==null&&(t[a]=[]),t[a].push(f)}return t}function gy(e,t){return e?.map(function(r){return t(r.data)})||[]}function Eue(e){for(var t,r=[],n={l:0};n.l<e.length;){var a=$v(e,n),i=zt(e[Da](n.l,n.l+a));n.l+=a;var s={id:ir(i[1][0].data),messages:[]};i[2].forEach(function(l){var u=zt(l.data),f=ir(u[3][0].data);s.messages.push({meta:u,data:e[Da](n.l,n.l+f)}),n.l+=f}),(t=i[3])!=null&&t[0]&&(s.merge=ir(i[3][0].data)>>>0>0),r.push(s)}return r}function Sue(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r={l:0},n=$v(t,r),a=[],i=r.l;i<t.length;){var s=t[i]&3;if(s==0){var l=t[i++]>>2;if(l<60)++l;else{var u=l-59;l=t[i],u>1&&(l|=t[i+1]<<8),u>2&&(l|=t[i+2]<<16),u>3&&(l|=t[i+3]<<24),l>>>=0,l++,i+=u}a.push(t[Da](i,i+l)),i+=l;continue}else{var f=0,d=0;if(s==1?(d=(t[i]>>2&7)+4,f=(t[i++]&224)<<3,f|=t[i++]):(d=(t[i++]>>2)+1,s==2?(f=t[i]|t[i+1]<<8,i+=2):(f=(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0,i+=4)),f==0)throw new Error("Invalid offset 0");for(var m=a.length-1,g=f;m>=0&&g>=a[m].length;)g-=a[m].length,--m;if(m<0)if(g==0)g=a[m=0].length;else throw new Error("Invalid offset beyond length");if(d<g)a.push(a[m][Da](a[m].length-g,a[m].length-g+d));else{for(g>0&&(a.push(a[m][Da](a[m].length-g)),d-=g),++m;d>=a[m].length;)a.push(a[m]),d-=a[m].length,++m;d&&a.push(a[m][Da](0,d))}a.length>25&&(a=[M9(a)])}}for(var x=0,y=0;y<a.length;++y)x+=a[y].length;if(x!=n)throw new Error("Unexpected length: ".concat(x," != ").concat(n));return a}function Aue(e){Array.isArray(e)&&(e=new Uint8Array(e));for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push.apply(t,Sue(n,e[Da](r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return t.length==1?t[0]:M9(t)}var Cue=function(){return{sst:[],rsst:[],ofmt:[],nfmt:[],fmla:[],ferr:[],cmnt:[]}};function L9(e,t,r,n,a){var i,s,l,u,f=t&255,d=t>>8,m=d>=5?a:n;e:if(r&(d>4?8:4)&&e.t=="n"&&f==7){var g=(i=m[7])!=null&&i[0]?ir(m[7][0].data):-1;if(g==-1)break e;var x=(s=m[15])!=null&&s[0]?ir(m[15][0].data):-1,y=(l=m[16])!=null&&l[0]?ir(m[16][0].data):-1,_=(u=m[40])!=null&&u[0]?ir(m[40][0].data):-1,b=e.v,w=b;t:if(_){if(b==0){x=y=2;break t}b>=604800?x=1:b>=86400?x=2:b>=3600?x=4:b>=60?x=8:b>=1?x=16:x=32,Math.floor(b)!=b?y=32:b%60?y=16:b%3600?y=8:b%86400?y=4:b%604800&&(y=2),y<x&&(y=x)}if(x==-1||y==-1)break e;var C=[],S=[];x==1&&(w=b/604800,y==1?S.push('d"d"'):(w|=0,b-=604800*w),C.push(w+(g==2?" week"+(w==1?"":"s"):g==1?"w":""))),x<=2&&y>=2&&(w=b/86400,y>2&&(w|=0,b-=86400*w),S.push('d"d"'),C.push(w+(g==2?" day"+(w==1?"":"s"):g==1?"d":""))),x<=4&&y>=4&&(w=b/3600,y>4&&(w|=0,b-=3600*w),S.push((x>=4?"[h]":"h")+'"h"'),C.push(w+(g==2?" hour"+(w==1?"":"s"):g==1?"h":""))),x<=8&&y>=8&&(w=b/60,y>8&&(w|=0,b-=60*w),S.push((x>=8?"[m]":"m")+'"m"'),g==0?C.push((x==8&&y==8||w>=10?"":"0")+w):C.push(w+(g==2?" minute"+(w==1?"":"s"):g==1?"m":""))),x<=16&&y>=16&&(w=b,y>16&&(w|=0,b-=w),S.push((x>=16?"[s]":"s")+'"s"'),g==0?C.push((y==16&&x==16||w>=10?"":"0")+w):C.push(w+(g==2?" second"+(w==1?"":"s"):g==1?"s":""))),y>=32&&(w=Math.round(1e3*b),x<32&&S.push('.000"ms"'),g==0?C.push((w>=100?"":w>=10?"0":"00")+w):C.push(w+(g==2?" millisecond"+(w==1?"":"s"):g==1?"ms":""))),e.w=C.join(g==0?":":" "),e.z=S.join(g==0?'":"':" "),g==0&&(e.w=e.w.replace(/:(\d\d\d)$/,".$1"))}}function Tue(e,t,r,n){var a=ap(e),i=a.getUint32(4,!0),s=-1,l=-1,u=-1,f=NaN,d=0,m=new Date(Date.UTC(2001,0,1)),g=r>1?12:8;i&2&&(u=a.getUint32(g,!0),g+=4),g+=Bh(i&(r>1?3468:396))*4,i&512&&(s=a.getUint32(g,!0),g+=4),g+=Bh(i&(r>1?12288:4096))*4,i&16&&(l=a.getUint32(g,!0),g+=4),i&32&&(f=a.getFloat64(g,!0),g+=8),i&64&&(m.setTime(m.getTime()+(d=a.getFloat64(g,!0))*1e3),g+=8),r>1&&(i=a.getUint32(8,!0)>>>16,i&255&&(u==-1&&(u=a.getUint32(g,!0)),g+=4));var x,y=e[r>=4?1:2];switch(y){case 0:return;case 2:x={t:"n",v:f};break;case 3:x={t:"s",v:t.sst[l]};break;case 5:n?.cellDates?x={t:"d",v:m}:x={t:"n",v:d/86400+35430,z:kt[14]};break;case 6:x={t:"b",v:f>0};break;case 7:x={t:"n",v:f};break;case 8:x={t:"e",v:0};break;case 9:if(s>-1){var _=t.rsst[s];x={t:"s",v:_.v},_.l&&(x.l={Target:_.l})}else throw new Error("Unsupported cell type ".concat(e[Da](0,4)));break;default:throw new Error("Unsupported cell type ".concat(e[Da](0,4)))}return u>-1&&L9(x,y|r<<8,i,t.ofmt[u],t.nfmt[u]),y==7&&(x.v/=86400),x}function kue(e,t,r){var n=ap(e);n.getUint32(4,!0);var a=n.getUint32(8,!0),i=12,s=-1,l=-1,u=-1,f=NaN,d=NaN,m=0,g=new Date(Date.UTC(2001,0,1));a&1&&(f=wue(e,i),i+=16),a&2&&(d=n.getFloat64(i,!0),i+=8),a&4&&(g.setTime(g.getTime()+(m=n.getFloat64(i,!0))*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4),i+=Bh(a&480)*4,a&512&&(n.getUint32(i,!0),i+=4),i+=Bh(a&1024)*4,a&2048&&(n.getUint32(i,!0),i+=4);var x,y=e[1];switch(y){case 0:x={t:"z"};break;case 2:x={t:"n",v:f};break;case 3:x={t:"s",v:t.sst[l]};break;case 5:r?.cellDates?x={t:"d",v:g}:x={t:"n",v:m/86400+35430,z:kt[14]};break;case 6:x={t:"b",v:d>0};break;case 7:x={t:"n",v:d};break;case 8:x={t:"e",v:0};break;case 9:if(s>-1){var _=t.rsst[s];x={t:"s",v:_.v},_.l&&(x.l={Target:_.l})}else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e[Da](0,4)));break;case 10:x={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e[Da](0,4)))}if(i+=Bh(a&4096)*4,a&516096&&(u==-1&&(u=n.getUint32(i,!0)),i+=4),a&524288){var b=n.getUint32(i,!0);i+=4,t.cmnt[b]&&(x.c=Nue(t.cmnt[b]))}return u>-1&&L9(x,y|1280,a>>13,t.ofmt[u],t.nfmt[u]),y==7&&(x.v/=86400),x}function Due(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:case 4:return Tue(e,t,e[0],r);case 5:return kue(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function da(e){var t=zt(e);return ir(t[1][0].data)}function ou(e,t){var r=zt(t.data),n=ir(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var l,u,f=zt(s.data);if(f[1]){var d=ir(f[1][0].data)>>>0;switch(n){case 1:i[d]=gf(f[3][0].data);break;case 8:{var m=e[da(f[9][0].data)][0],g=zt(m.data),x=e[da(g[1][0].data)][0],y=ir(x.meta[1][0].data);if(y!=2001)throw new Error("2000 unexpected reference to ".concat(y));var _=zt(x.data),b={v:_[3].map(function(S){return gf(S.data)}).join("")};i[d]=b;e:if((l=_?.[11])!=null&&l[0]){var w=(u=zt(_[11][0].data))==null?void 0:u[1];if(!w)break e;w.forEach(function(S){var O,F,B,j=zt(S.data);if((O=j[2])!=null&&O[0]){var k=e[da((F=j[2])==null?void 0:F[0].data)][0],P=ir(k.meta[1][0].data);switch(P){case 2032:var I=zt(k.data);(B=I?.[2])!=null&&B[0]&&!b.l&&(b.l=gf(I[2][0].data));break;case 2039:break;default:console.log("unrecognized ObjectAttribute type ".concat(P))}}})}}break;case 2:i[d]=zt(f[6][0].data);break;case 3:i[d]=zt(f[5][0].data);break;case 10:{var C=e[da(f[10][0].data)][0];i[d]=z9(e,C.data)}break;default:throw n}}}),i}function Oue(e,t){var r,n,a,i,s,l,u,f,d,m,g,x,y,_,b=zt(e),w=ir(b[1][0].data)>>>0,C=ir(b[2][0].data)>>>0,S=((n=(r=b[8])==null?void 0:r[0])==null?void 0:n.data)&&ir(b[8][0].data)>0||!1,O,F;if((i=(a=b[7])==null?void 0:a[0])!=null&&i.data&&t!=0)O=(l=(s=b[7])==null?void 0:s[0])==null?void 0:l.data,F=(f=(u=b[6])==null?void 0:u[0])==null?void 0:f.data;else if((m=(d=b[4])==null?void 0:d[0])!=null&&m.data&&t!=1)O=(x=(g=b[4])==null?void 0:g[0])==null?void 0:x.data,F=(_=(y=b[3])==null?void 0:y[0])==null?void 0:_.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var B=S?4:1,j=ap(O),k=[],P=0;P<O.length/2;++P){var I=j.getUint16(P*2,!0);I<65535&&k.push([P,I])}if(k.length!=C)throw"Expected ".concat(C," cells, found ").concat(k.length);var R=[];for(P=0;P<k.length-1;++P)R[k[P][0]]=F[Da](k[P][1]*B,k[P+1][1]*B);return k.length>=1&&(R[k[k.length-1][0]]=F[Da](k[k.length-1][1]*B)),{R:w,cells:R}}function jue(e,t){var r,n=zt(t.data),a=-1;(r=n?.[7])!=null&&r[0]&&(ir(n[7][0].data)>>>0?a=1:a=0);var i=gy(n[5],function(s){return Oue(s,a)});return{nrows:ir(n[4][0].data)>>>0,data:i.reduce(function(s,l){return s[l.R]||(s[l.R]=[]),l.cells.forEach(function(u,f){if(s[l.R][f])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(f));s[l.R][f]=u}),s},[])}}function z9(e,t){var r,n,a,i,s,l,u,f,d,m,g={t:"",a:""},x=zt(t);if((n=(r=x?.[1])==null?void 0:r[0])!=null&&n.data&&(g.t=gf((i=(a=x?.[1])==null?void 0:a[0])==null?void 0:i.data)||""),(l=(s=x?.[3])==null?void 0:s[0])!=null&&l.data){var y=e[da((f=(u=x?.[3])==null?void 0:u[0])==null?void 0:f.data)][0],_=zt(y.data);(m=(d=_[1])==null?void 0:d[0])!=null&&m.data&&(g.a=gf(_[1][0].data))}return x?.[4]&&(g.replies=[],x[4].forEach(function(b){var w=e[da(b.data)][0];g.replies.push(z9(e,w.data))})),g}function Nue(e){var t=[];return t.push({t:e.t||"",a:e.a,T:e.replies&&e.replies.length>0}),e.replies&&e.replies.forEach(function(r){t.push({t:r.t||"",a:r.a,T:!0})}),t}function Iue(e,t,r,n){var a,i,s,l,u,f,d,m,g,x,y,_,b,w,C=zt(t.data),S={s:{r:0,c:0},e:{r:0,c:0}};if(S.e.r=(ir(C[6][0].data)>>>0)-1,S.e.r<0)throw new Error("Invalid row varint ".concat(C[6][0].data));if(S.e.c=(ir(C[7][0].data)>>>0)-1,S.e.c<0)throw new Error("Invalid col varint ".concat(C[7][0].data));r["!ref"]=Yt(S);var O=r["!data"]!=null,F=r,B=zt(C[4][0].data),j=Cue();(a=B[4])!=null&&a[0]&&(j.sst=ou(e,e[da(B[4][0].data)][0])),(i=B[6])!=null&&i[0]&&(j.fmla=ou(e,e[da(B[6][0].data)][0])),(s=B[11])!=null&&s[0]&&(j.ofmt=ou(e,e[da(B[11][0].data)][0])),(l=B[12])!=null&&l[0]&&(j.ferr=ou(e,e[da(B[12][0].data)][0])),(u=B[17])!=null&&u[0]&&(j.rsst=ou(e,e[da(B[17][0].data)][0])),(f=B[19])!=null&&f[0]&&(j.cmnt=ou(e,e[da(B[19][0].data)][0])),(d=B[22])!=null&&d[0]&&(j.nfmt=ou(e,e[da(B[22][0].data)][0]));var k=zt(B[3][0].data),P=0;if(!((m=B[9])!=null&&m[0]))throw"NUMBERS file missing row tree";var I=zt(B[9][0].data)[1].map(function(fe){return zt(fe.data)});if(I.forEach(function(fe){P=ir(fe[1][0].data);var ae=ir(fe[2][0].data),ie=k[1][ae];if(!ie)throw"NUMBERS missing tile "+ae;var me=zt(ie.data),be=e[da(me[2][0].data)][0],de=ir(be.meta[1][0].data);if(de!=6002)throw new Error("6001 unexpected reference to ".concat(de));var U=jue(e,be);U.data.forEach(function(Z,te){Z.forEach(function(W,xe){var Te=Due(W,j,n);Te&&(O?(F["!data"][P+te]||(F["!data"][P+te]=[]),F["!data"][P+te][xe]=Te):r[or(xe)+yr(P+te)]=Te)})}),P+=U.nrows}),(g=B[13])!=null&&g[0]){var R=e[da(B[13][0].data)][0],N=ir(R.meta[1][0].data);if(N!=6144)throw new Error("Expected merge type 6144, found ".concat(N));r["!merges"]=(x=zt(R.data))==null?void 0:x[1].map(function(fe){var ae=zt(fe.data),ie=ap(zt(ae[1][0].data)[1][0].data),me=ap(zt(ae[2][0].data)[1][0].data);return{s:{r:ie.getUint16(0,!0),c:ie.getUint16(2,!0)},e:{r:ie.getUint16(0,!0)+me.getUint16(0,!0)-1,c:ie.getUint16(2,!0)+me.getUint16(2,!0)-1}}})}if(!((y=r["!merges"])!=null&&y.length)&&((_=C[47])!=null&&_[0])){var M=zt(C[47][0].data);if((b=M[2])!=null&&b[0]){var ce=zt(M[2][0].data);(w=ce[3])!=null&&w[0]&&(r["!merges"]=gy(ce[3],function(fe){var ae,ie,me,be,de,U=zt(fe),Z=zt(U[2][0].data),te=zt(Z[1][0].data);if((ae=te[1])!=null&&ae[0]){var W=zt(te[1][0].data),xe=ir(W[1][0].data);if(xe==67){var Te=zt(W[40][0].data);if(!(!((ie=Te[3])!=null&&ie[0])||!((me=Te[4])!=null&&me[0]))){var Ne=zt(Te[3][0].data),X=zt(Te[4][0].data),Q=ir(Ne[1][0].data),ue=(be=Ne[2])!=null&&be[0]?ir(Ne[2][0].data):Q,q=ir(X[1][0].data),K=(de=X[2])!=null&&de[0]?ir(X[2][0].data):q;return{s:{r:q,c:Q},e:{r:K,c:ue}}}}}}).filter(function(fe){return fe!=null}))}}}function Rue(e,t,r){var n=zt(t.data),a={"!ref":"A1"};r?.dense&&(a["!data"]=[]);var i=e[da(n[2][0].data)],s=ir(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Iue(e,i[0],a,r),a}function Pue(e,t,r){var n,a=zt(t.data),i={name:(n=a[1])!=null&&n[0]?gf(a[1][0].data):"",sheets:[]},s=gy(a[2],da);return s.forEach(function(l){e[l].forEach(function(u){var f=ir(u.meta[1][0].data);f==6e3&&i.sheets.push(Rue(e,u,r))})}),i}function Fue(e,t,r){var n,a=NC();a.Workbook={WBProps:{date1904:!0}};var i=zt(t.data);if((n=i[2])!=null&&n[0])throw new Error("Keynote presentations are not supported");var s=gy(i[1],da);if(s.forEach(function(l){e[l].forEach(function(u){var f=ir(u.meta[1][0].data);if(f==2){var d=Pue(e,u,r);d.sheets.forEach(function(m,g){Fp(a,m,g==0?d.name:d.name+"_"+g,!0)})}})}),a.SheetNames.length==0)throw new Error("Empty NUMBERS file");return a.bookType="numbers",a}function R_(e,t){var r,n,a,i,s,l,u,f={},d=[];if(e.FullPaths.forEach(function(g){if(g.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(g){if(g.name.match(/\.iwa$/)&&g.content[0]==0){var x;try{x=Aue(g.content)}catch(_){return console.log("?? "+g.content.length+" "+(_.message||_))}var y;try{y=Eue(x)}catch(_){return console.log("## "+(_.message||_))}y.forEach(function(_){f[_.id]=_.messages,d.push(_.id)})}}),!d.length)throw new Error("File has no messages");if((a=(n=(r=f?.[1])==null?void 0:r[0].meta)==null?void 0:n[1])!=null&&a[0].data&&ir(f[1][0].meta[1][0].data)==1e4)throw new Error("Pages documents are not supported");var m=((u=(l=(s=(i=f?.[1])==null?void 0:i[0])==null?void 0:s.meta)==null?void 0:l[1])==null?void 0:u[0].data)&&ir(f[1][0].meta[1][0].data)==1&&f[1][0];if(m||d.forEach(function(g){f[g].forEach(function(x){var y=ir(x.meta[1][0].data)>>>0;if(y==1)if(!m)m=x;else throw new Error("Document has multiple roots")})}),!m)throw new Error("Cannot find Document root");return Fue(f,m,t)}function Bue(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function OC(e){Bue([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Mue(e){return sf.WS.indexOf(e)>-1?"sheet":e==sf.CS?"chart":e==sf.DS?"dialog":e==sf.MS?"macro":e&&e.length?e:"sheet"}function Lue(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Mue(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function zue(e,t,r,n,a,i,s,l){if(!(!e||!e["!legdrawel"])){var u=af(e["!legdrawel"].Target,n),f=ei(r,u,!0);f&&Gse(Rr(f),e,l||[])}}function Uue(e,t,r,n,a,i,s,l,u,f,d,m){try{i[n]=jh(ei(e,r,!0),t);var g=Nn(e,t),x;switch(l){case"sheet":x=Hce(g,t,a,u,i[n],f,d,m);break;case"chart":if(x=qce(g,t,a,u,i[n],f,d,m),!x||!x["!drawel"])break;var y=af(x["!drawel"].Target,t),_=sS(y),b=Wse(ei(e,y,!0),jh(ei(e,_,!0),y)),w=af(b,y),C=sS(w);x=Tce(ei(e,w,!0),w,u,jh(ei(e,C,!0),w),f,x);break;case"macro":x=Wce(g,t,a,u,i[n],f,d,m);break;case"dialog":x=Gce(g,t,a,u,i[n],f,d,m);break;default:throw new Error("Unrecognized sheet type "+l)}s[n]=x;var S=[],O=[];i&&i[n]&&ds(i[n]).forEach(function(F){var B="";if(i[n][F].Type==sf.CMNT){if(B=af(i[n][F].Target,t),S=Yce(Nn(e,B,!0),B,u),!S||!S.length)return;u8(x,S,!1)}i[n][F].Type==sf.TCMNT&&(B=af(i[n][F].Target,t),O=O.concat(Xse(Nn(e,B,!0),u)))}),O&&O.length&&u8(x,O,!0,u.people||[]),zue(x,l,e,t,a,u,f,S)}catch(F){if(u.WTF)throw F}}function es(e){return e.charAt(0)=="/"?e.slice(1):e}function Vue(e,t){if(_M(),t=t||{},OC(t),ss(e,"META-INF/manifest.xml")||ss(e,"objectdata.xml"))return w8(e,t);if(ss(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof R_<"u"){if(e.FileIndex)return R_(e,t);var r=Jt.utils.cfb_new();return F6(e).forEach(function(fe){qre(r,fe,Hre(e,fe))}),R_(r,t)}throw new Error("Unsupported NUMBERS file")}if(!ss(e,"[Content_Types].xml")){if(ss(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(ss(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");var n=Jt.find(e,"Index.zip");if(n)return t=Un(t),delete t.type,typeof n.content=="string"&&(t.type="binary"),typeof Bun<"u"&&Buffer.isBuffer(n.content)?Tu(new Uint8Array(n.content),t):Tu(n.content,t);throw new Error("Unsupported ZIP file")}var a=F6(e),i=Une(ei(e,"[Content_Types].xml")),s=!1,l,u;if(i.workbooks.length===0&&(u="xl/workbook.xml",Nn(e,u,!0)&&i.workbooks.push(u)),i.workbooks.length===0){if(u="xl/workbook.bin",!Nn(e,u,!0))throw new Error("Could not find workbook");i.workbooks.push(u),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var f={},d={};if(!t.bookSheets&&!t.bookProps){if(Rh=[],i.sst)try{Rh=Xce(Nn(e,es(i.sst)),i.sst,t)}catch(fe){if(t.WTF)throw fe}t.cellStyles&&i.themes.length&&(f=x9(ei(e,i.themes[0].replace(/^\//,""),!0)||"",t)),i.style&&(d=Kce(Nn(e,es(i.style)),i.style,f,t))}i.links.map(function(fe){try{var ae=jh(ei(e,sS(es(fe))),fe);return Zce(Nn(e,es(fe)),ae,fe,t)}catch{}});var m=$ce(Nn(e,es(i.workbooks[0])),i.workbooks[0],t),g={},x="";i.coreprops.length&&(x=Nn(e,es(i.coreprops[0]),!0),x&&(g=QM(x)),i.extprops.length!==0&&(x=Nn(e,es(i.extprops[0]),!0),x&&qne(x,g,t)));var y={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(x=ei(e,es(i.custprops[0]),!0),x&&(y=Gne(x,t)));var _={};if((t.bookSheets||t.bookProps)&&(m.Sheets?l=m.Sheets.map(function(ae){return ae.name}):g.Worksheets&&g.SheetNames.length>0&&(l=g.SheetNames),t.bookProps&&(_.Props=g,_.Custprops=y),t.bookSheets&&typeof l<"u"&&(_.SheetNames=l),t.bookSheets?_.SheetNames:t.bookProps))return _;l={};var b={};t.bookDeps&&i.calcchain&&(b=Qce(Nn(e,es(i.calcchain)),i.calcchain));var w=0,C={},S,O;{var F=m.Sheets;g.Worksheets=F.length,g.SheetNames=[];for(var B=0;B!=F.length;++B)g.SheetNames[B]=F[B].name}var j=s?"bin":"xml",k=i.workbooks[0].lastIndexOf("/"),P=(i.workbooks[0].slice(0,k+1)+"_rels/"+i.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");ss(e,P)||(P="xl/_rels/workbook."+j+".rels");var I=jh(ei(e,P,!0),P.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=Jce(Nn(e,es(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=Yse(Nn(e,es(i.people[0])),t)),I&&(I=Lue(I,m.Sheets));var R=Nn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=g.Worksheets;++w){var N="sheet";if(I&&I[w]?(S="xl/"+I[w][1].replace(/[\/]?xl\//,""),ss(e,S)||(S=I[w][1]),ss(e,S)||(S=P.replace(/_rels\/[\S\s]*$/,"")+I[w][1]),N=I[w][2]):(S="xl/worksheets/sheet"+(w+1-R)+"."+j,S=S.replace(/sheet0\./,"sheet.")),O=S.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(g.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var M=!1,ce=0;ce!=t.sheets.length;++ce)typeof t.sheets[ce]=="number"&&t.sheets[ce]==w&&(M=1),typeof t.sheets[ce]=="string"&&t.sheets[ce].toLowerCase()==g.SheetNames[w].toLowerCase()&&(M=1);if(!M)continue e}}Uue(e,S,O,g.SheetNames[w],w,C,l,N,t,m,f,d)}return _={Directory:i,Workbook:m,Props:g,Custprops:y,Deps:b,Sheets:l,SheetNames:g.SheetNames,Strings:Rh,Styles:d,Themes:f,SSF:Un(kt)},t&&t.bookFiles&&(e.files?(_.keys=a,_.files=e.files):(_.keys=[],_.files={},e.FullPaths.forEach(function(fe,ae){fe=fe.replace(/^Root Entry[\/]/,""),_.keys.push(fe),_.files[fe]=e.FileIndex[ae]}))),t&&t.bookVBA&&(i.vba.length>0?_.vbaraw=Nn(e,es(i.vba[0]),!0):i.defaults&&i.defaults.bin===eoe&&(_.vbaraw=Nn(e,"xl/vbaProject.bin",!0))),_.bookType=s?"xlsb":"xlsx",_}function $ue(e,t){var r=t||{},n="Workbook",a=Jt.find(e,n);try{if(n="/!DataSpaces/Version",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(zie(a.content),n="/!DataSpaces/DataSpaceMap",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Vie(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=$ie(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);qie(a.content)}catch{}if(n="/EncryptionInfo",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Wie(a.content);if(n="/EncryptedPackage",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function jC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Mi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Hue(e,t){return Jt.find(e,"EncryptedPackage")?$ue(e,t):I9(e,t)}function que(e,t){var r,n=e,a=t||{};return a.type||(a.type=$t&&Buffer.isBuffer(e)?"buffer":"base64"),r=TM(n,a),Vue(r,a)}function U9(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return lS(e.slice(r),t);default:break e}return tp.to_workbook(e,t)}function Wue(e,t){var r="",n=jC(e,t);switch(t.type){case"base64":r=Mi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Fu(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Rr(r)),t.type="binary",U9(r,t)}function Gue(e,t){var r=e;return t.type=="base64"&&(r=Mi(r)),typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer&&(r=new Uint8Array(e)),r=$t&&Buffer.isBuffer(e)?e.slice(2).toString("utf16le"):typeof Uint8Array<"u"&&r instanceof Uint8Array?typeof TextDecoder<"u"?new TextDecoder("utf-16le").decode(r.slice(2)):Yte(r.slice(2)):fM(r.slice(2)),t.type="binary",U9(r,t)}function Kue(e){return e.match(/[^\x00-\x7F]/)?vh(e):e}function P_(e,t,r,n){return n?(r.type="string",tp.to_workbook(e,r)):tp.to_workbook(t,r)}function Tu(e,t){uM();var r=t||{};if(r.codepage&&console.error("Codepage tables are not loaded.  Non-ASCII characters may not give expected results"),typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Tu(new Uint8Array(e),(r=Un(r),r.type="array",r));if(typeof Int8Array<"u"&&e instanceof Int8Array)return Tu(new Uint8Array(e.buffer,e.byteOffset,e.length),r);typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),mf={},r.dateNF&&(mf.dateNF=r.dateNF),r.type||(r.type=$t&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=$t?"buffer":"binary",n=Cre(e),typeof Uint8Array<"u"&&!$t&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Kue(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),l=new Uint8Array(s);if(l.foo="bar",!l.foo)return r=Un(r),r.type="array",Tu(dC(n),r)}switch((a=jC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Hue(Jt.read(n,r),r);break;case 9:if(a[1]<=8)return I9(n,r);break;case 60:return lS(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Die(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Tie.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?que(n,r):P_(e,n,r,i);case 239:return a[3]===60?lS(n,r):P_(e,n,r,i);case 255:if(a[1]===254)return Gue(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Ih.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Ih.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return c8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return ise(n,r);break;case 10:case 13:case 32:return Wue(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break;case 8:if(a[1]===231)throw new Error("Unsupported Multiplan 1.x file!");break;case 12:if(a[1]===236)throw new Error("Unsupported Multiplan 2.x file!");if(a[1]===237)throw new Error("Unsupported Multiplan 3.x file!");break}return Aie.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?c8.to_workbook(n,r):P_(e,n,r,i)}function Xue(e,t,r,n,a,i,s){var l=yr(r),u=s.defval,f=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,m=e["!data"]!=null,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!m||e["!data"][r])for(var x=t.s.c;x<=t.e.c;++x){var y=m?(e["!data"][r]||[])[x]:e[n[x]+l];if(y==null||y.t===void 0){if(u===void 0)continue;i[x]!=null&&(g[i[x]]=u);continue}var _=y.v;switch(y.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"b":case"n":if(!y.z||!Ms(y.z)||(_=pc(_),typeof _=="number"))break;case"d":s&&(s.UTC||s.raw===!1)||(_=Bu(new Date(_)));break;default:throw new Error("unrecognized type "+y.t)}if(i[x]!=null){if(_==null)if(y.t=="e"&&_===null)g[i[x]]=null;else if(u!==void 0)g[i[x]]=u;else if(f&&_===null)g[i[x]]=null;else continue;else g[i[x]]=(y.t==="n"&&typeof s.rawNumbers=="boolean"?s.rawNumbers:f)?_:Sc(y,_,s);_!=null&&(d=!1)}}return{row:g,isempty:d}}function uS(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},d=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof d){case"string":u=En(d);break;case"number":u=En(e["!ref"]),u.s.r=d;break;default:u=d}n>0&&(a=0);var m=yr(u.s.r),g=[],x=[],y=0,_=0,b=e["!data"]!=null,w=u.s.r,C=0,S={};b&&!e["!data"][w]&&(e["!data"][w]=[]);var O=f.skipHidden&&e["!cols"]||[],F=f.skipHidden&&e["!rows"]||[];for(C=u.s.c;C<=u.e.c;++C)if(!(O[C]||{}).hidden)switch(g[C]=or(C),r=b?e["!data"][w][C]:e[g[C]+m],n){case 1:i[C]=C-u.s.c;break;case 2:i[C]=g[C];break;case 3:i[C]=f.header[C-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=s=Sc(r,null,f),_=S[s]||0,!_)S[s]=1;else{do l=s+"_"+_++;while(S[l]);S[s]=_,S[l]=1}i[C]=l}for(w=u.s.r+a;w<=u.e.r;++w)if(!(F[w]||{}).hidden){var B=Xue(e,u,w,g,n,i,f);(B.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(x[y++]=B.row)}return x.length=y,x}var S8=/"/g;function Yue(e,t,r,n,a,i,s,l,u){for(var f=!0,d=[],m="",g=yr(r),x=e["!data"]!=null,y=x&&e["!data"][r]||[],_=t.s.c;_<=t.e.c;++_)if(n[_]){var b=x?y[_]:e[n[_]+g];if(b==null)m="";else if(b.v!=null){f=!1,m=""+(u.rawNumbers&&b.t=="n"?b.v:Sc(b,null,u));for(var w=0,C=0;w!==m.length;++w)if((C=m.charCodeAt(w))===a||C===i||C===34||u.forceQuotes){m='"'+m.replace(S8,'""')+'"';break}m=="ID"&&l==0&&d.length==0&&(m='"ID"')}else b.f!=null&&!b.F?(f=!1,m="="+b.f,m.indexOf(",")>=0&&(m='"'+m.replace(S8,'""')+'"')):m="";d.push(m)}if(u.strip)for(;d[d.length-1]==="";)--d.length;return u.blankrows===!1&&f?null:d.join(s)}function V9(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";for(var a=En(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,u=l.charCodeAt(0),f="",d=[],m=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(d[x]=or(x));for(var y=0,_=a.s.r;_<=a.e.r;++_)(g[_]||{}).hidden||(f=Yue(e,a,_,d,s,u,i,y,n),f!=null&&(f||n.blankrows!==!1)&&r.push((y++?l:"")+f));return r.join("")}function Que(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=V9(e,t);return r}function Zue(e,t){var r="",n,a="";if(e==null||e["!ref"]==null)return[];var i=En(e["!ref"]),s="",l=[],u,f=[],d=e["!data"]!=null;for(u=i.s.c;u<=i.e.c;++u)l[u]=or(u);for(var m=i.s.r;m<=i.e.r;++m)for(s=yr(m),u=i.s.c;u<=i.e.c;++u)if(r=l[u]+s,n=d?(e["!data"][m]||[])[u]:e[r],a="",n!==void 0){if(n.F!=null){if(r=n.F,!n.f)continue;a=n.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(n.f!=null)a=n.f;else{if(t&&t.values===!1)continue;if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)a=""+n.v;else if(n.t=="b")a=n.v?"TRUE":"FALSE";else if(n.w!==void 0)a="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?a="'"+n.v:a=""+n.v}}f[f.length]=r+"="+a}return f}function $9(e,t,r){var n=r||{},a=e?e["!data"]!=null:n.dense,i=+!n.skipHeader,s=e||{};!e&&a&&(s["!data"]=[]);var l=0,u=0;if(s&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var f=typeof n.origin=="string"?Va(n.origin):n.origin;l=f.r,u=f.c}var d={s:{c:0,r:0},e:{c:u,r:l+t.length-1+i}};if(s["!ref"]){var m=En(s["!ref"]);d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),l==-1&&(l=m.e.r+1,d.e.r=l+t.length-1+i)}else l==-1&&(l=0,d.e.r=t.length-1+i);var g=n.header||[],x=0,y=[];t.forEach(function(b,w){a&&!s["!data"][l+w+i]&&(s["!data"][l+w+i]=[]),a&&(y=s["!data"][l+w+i]),ds(b).forEach(function(C){(x=g.indexOf(C))==-1&&(g[x=g.length]=C);var S=b[C],O="z",F="",B=a?"":or(u+x)+yr(l+w+i),j=a?y[u+x]:s[B];S&&typeof S=="object"&&!(S instanceof Date)?a?y[u+x]=S:s[B]=S:(typeof S=="number"?O="n":typeof S=="boolean"?O="b":typeof S=="string"?O="s":S instanceof Date?(O="d",n.UTC||(S=cy(S)),n.cellDates||(O="n",S=Zn(S)),F=j!=null&&j.z&&Ms(j.z)?j.z:n.dateNF||kt[14]):S===null&&n.nullError&&(O="e",S=0),j?(j.t=O,j.v=S,delete j.w,delete j.R,F&&(j.z=F)):a?y[u+x]=j={t:O,v:S}:s[B]=j={t:O,v:S},F&&(j.z=F))})}),d.e.c=Math.max(d.e.c,u+g.length-1);var _=yr(l);if(a&&!s["!data"][l]&&(s["!data"][l]=[]),i)for(x=0;x<g.length;++x)a?s["!data"][l][x+u]={t:"s",v:g[x]}:s[or(x+u)+_]={t:"s",v:g[x]};return s["!ref"]=Yt(d),s}function Jue(e,t){return $9(null,e,t)}function ip(e,t,r){if(typeof t=="string"){if(e["!data"]!=null){var n=Va(t);return e["!data"][n.r]||(e["!data"][n.r]=[]),e["!data"][n.r][n.c]||(e["!data"][n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ip(e,sr(t)):ip(e,or(r||0)+yr(t))}function e0e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function NC(e,t){var r={SheetNames:[],Sheets:{}};return e&&Fp(r,e,t||"Sheet1"),r}function Fp(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0&&r.length<32){var i=r.match(/\d+$/);a=i&&+i[0]||0;var s=i&&r.slice(0,i.index)||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Pce(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function t0e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=e0e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function r0e(e,t){return e.z=t,e}function H9(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function n0e(e,t,r){return H9(e,"#"+t,r)}function a0e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function i0e(e,t,r,n){for(var a=typeof t!="string"?t:En(t),i=typeof t=="string"?t:Yt(t),s=a.s.r;s<=a.e.r;++s)for(var l=a.s.c;l<=a.e.c;++l){var u=ip(e,s,l);u.t="n",u.F=i,delete u.v,s==a.s.r&&l==a.s.c&&(u.f=r,n&&(u.D=!0))}var f=r0(e["!ref"]);return f.s.r>a.s.r&&(f.s.r=a.s.r),f.s.c>a.s.c&&(f.s.c=a.s.c),f.e.r<a.e.r&&(f.e.r=a.e.r),f.e.c<a.e.c&&(f.e.c=a.e.c),e["!ref"]=Yt(f),e}var q9={encode_col:or,encode_row:yr,encode_cell:sr,encode_range:Yt,decode_col:_C,decode_row:bC,split_cell:vne,decode_cell:Va,decode_range:r0,format_cell:Sc,sheet_new:bne,sheet_add_aoa:WM,sheet_add_json:$9,sheet_add_dom:R9,aoa_to_sheet:Xf,json_to_sheet:Jue,table_to_sheet:P9,table_to_book:yue,sheet_to_csv:V9,sheet_to_txt:Que,sheet_to_json:uS,sheet_to_html:vue,sheet_to_formulae:Zue,sheet_to_row_object_array:uS,sheet_get_cell:ip,book_new:NC,book_append_sheet:Fp,book_set_sheet_visibility:t0e,cell_set_number_format:r0e,cell_set_hyperlink:H9,cell_set_internal_link:n0e,cell_add_comment:a0e,sheet_set_array_formula:i0e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const IC=e=>{const{onDataLoaded:t,buttonText:r="Importar Excel",templateName:n="datos"}=e,{alert:a}=$n(),i=T.useRef(null),[s,l]=T.useState(!1),u=()=>{i.current.click()},f=async m=>{const g=m.target.files[0];if(g){l(!0);try{const x=await d(g);t(x),m.target.value=""}catch(x){console.error(`Error importando ${n}:`,x),await a({title:`Error Importando ${n}`,message:`Error al leer el archivo excel: ${x.message}`})}finally{l(!1)}}},d=m=>new Promise((g,x)=>{const y=new FileReader;y.onload=_=>{try{const b=_.target.result,w=Tu(b,{type:"binary"}),C=w.SheetNames[0],S=w.Sheets[C],O=e.sheetToJsonOptions||{},F=q9.sheet_to_json(S,O);g(F)}catch(b){x(b)}},y.onerror=_=>x(_),y.readAsBinaryString(m)});return h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:f,ref:i,style:{display:"none"}}),h.jsxs("button",{onClick:u,className:"glass-button accent flex items-center gap-2",disabled:s,children:[s?h.jsx(wG,{size:18,className:"animate-spin"}):h.jsx(qP,{size:18}),s?"Leyendo...":r]})]})},s0e={soups:["dental","crema dental","pasta dental","colgate","cepillo","aseo","limpieza","jabon","alfajores","miel","flores","calamares","viveres","polar","cerveza","licor","postres"],pasta:["dental","crema dental","pasta dental","cepillo"],desserts:["dental","crema dental","sopa","caldo","pollo","carne"],drinks:["crema","sopa","caldo","pollo","carne","galleta","desodorante","jabon","shampoo","perfume","limpieza","aseo","pasta","viveres"],cheeses:["bollo","bollito","casabe","arepa","empanada","cachapa","tequeo","pastelito"]},o0e=["cola","soda","te","cafe","ice","res","pan","ron","gin","pez","sal"],l0e=(e,t)=>{const r=Hv(e);return(s0e[t]||[]).some(a=>{const i=Hv(a);return r.includes(i)})},Hv=e=>{if(!e)return"";let t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return t=t.toLowerCase(),t=t.replace(/[^a-z0-9\s]/g," "),t.trim().replace(/\s+/g," ")},c0e=(e,t)=>{const r=Hv(e),n=r.split(" ");let a=0;return!t||t.length===0||!r?0:(t.forEach((i,s)=>{const l=Hv(i);if(!l)return;const u=r===l,f=n.includes(l),d=r.startsWith(l+" "),m=o0e.includes(l),g=!m&&l.length>=5&&r.includes(l);if(u||f||d||g){let x=5;if(m&&!u&&!f&&!d)return;u?x+=60:f?x+=30:d?x+=20:g&&(x+=5),r.indexOf(l)===0&&(x+=15);const y=Math.min(s*.3,3);x-=y,a+=x}}),a)},F_=(e,t)=>{if(!e||!t||t.length===0)return null;let r=null,n=0;if(t.forEach(i=>{if(l0e(e,i.id))return;const s=c0e(e,i.keywords||[]);s>n&&(n=s,r=i)}),n<5)return null;let a="low";return n>=30?a="high":n>=10&&(a="medium"),{...r,confidence:a,score:n}},u0e=({compact:e=!1})=>{const{data:t,updateData:r}=Jn(),{confirm:n,alert:a}=$n(),i=[{id:"burgers",label:"Hamburguesas",keywords:["hamburguesa","burger","carne","doble","triple","bacon","queso","bbq","angus","wagyu","cheeseburger"]},{id:"cheeses",label:"Quesos",keywords:["queso","cheese","cheddar","mozzarella","parmesano","gouda","mano","telita","guayanes","fundido","gratinado"]},{id:"drinks",label:"Bebidas",keywords:["bebida","refresco","jugo","agua","energizante","cola","pepsi","fanta","sprite","malta","te","cafe","limonada","naranja","manzana","batido","smoothie","soda","polar","tercio","cerveza","licor"]},{id:"sides",label:"Contornos",keywords:["contorno","papas","fritas","yuca","aros","cebolla","pure","arroz","platano","tostones","tajadas","arepas"]},{id:"soups",label:"Sopas",keywords:["sopa","caldo","consom","crema","sancocho","mondongo","hervido","fosforera","pollo","res","gallina","pescado","mariscos","asopado"]},{id:"pasta",label:"Pasta",keywords:["pasta","espagueti","spaghetti","fettuccine","lasagna","ravioli","macarrones","penne","tallarines","carbonara","bolognesa","alfredo"]},{id:"comida",label:"Comida",keywords:["pollo","carne","pescado","cerdo","cochino","chuleta","asado","guisado","frito","parrilla","plancha","brasa","filete","lomo","costilla","pechuga","bollo","bollito","cachapa","calamares"]},{id:"desserts",label:"Postres",keywords:["postre","dulce","helado","torta","pastel","cake","flan","gelatina","brownie","pie","mousse","quesillo","tres leches","marquesa","tiramisu","alfajores","miel"]},{id:"salads",label:"Ensaladas",keywords:["ensalada","verde","cesar","mixta","lechuga","tomate","vegetales","verduras","fresca"]},{id:"snacks",label:"Snacks",keywords:["snack","aperitivo","tequeo","empanada","pastelito","arepa","deditos","nuggets","alitas","wings","nachos"]}],s=async()=>{if(!await n({title:"Restaurar Categoras",message:`Restaurar categoras por defecto?

Esto agregar las categoras que faltan sin eliminar las existentes.`}))return;const d=t.categories||[],m=new Set(d.map(y=>y.id)),g=i.filter(y=>!m.has(y.id));if(g.length===0){await a({title:"Aviso",message:" Ya tienes todas las categoras por defecto"});return}const x=[...d,...g];r("categories",x),await a({title:"Restauracin Completada",message:`Categoras agregadas: ${g.length}
Total de categoras: ${x.length}`})},l=t.categories?.length||0,u=i.filter(f=>!(t.categories||[]).find(d=>d.id===f.id)).length;return e?u===0?null:h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem",background:"rgba(255, 165, 0, 0.1)",border:"1px dashed rgba(255, 165, 0, 0.3)",borderRadius:"8px",marginBottom:"1rem"},children:[h.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--accent-orange)"},children:["Faltan ",h.jsx("strong",{children:u})," categoras sugeridas"]}),h.jsx("button",{className:"glass-button",onClick:s,style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",height:"auto"},children:"Restaurar"})]}):h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255, 165, 0, 0.05)",border:"1px solid rgba(255, 165, 0, 0.2)",marginBottom:"1rem"},children:[h.jsx("h3",{style:{color:"var(--accent-orange)",marginBottom:"0.75rem",fontSize:"0.95rem"},children:" Utilidad de Categoras"}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:[h.jsxs("p",{style:{margin:"0 0 0.5rem 0"},children:["Categoras actuales: ",h.jsx("strong",{children:l})]}),u>0&&h.jsxs("p",{style:{margin:0,color:"var(--accent-orange)"},children:["Categoras por defecto faltantes: ",h.jsx("strong",{children:u})]}),u===0&&h.jsx("p",{style:{margin:0,color:"var(--accent-green)"},children:" Todas las categoras por defecto estn presentes"})]}),u>0&&h.jsx("button",{className:"glass-button primary",onClick:s,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:"Restaurar Categoras Por Defecto"})]})]})},f0e=()=>{const{data:e,addItem:t,updateItem:r,deleteItem:n}=Jn(),{confirm:a,alert:i}=$n(),[s,l]=T.useState(!1),[u,f]=T.useState(null),[d,m]=T.useState(""),[g,x]=T.useState({label:"",keywords:[],department:"Restaurante"}),y=k=>{f(k),x({label:k.label,keywords:k.keywords||[],department:k.department||"Restaurante"}),l(!0)},_=async k=>{const P=(e.products||[]).filter(I=>I.category===k);P.length>0&&!await a({title:"Eliminar Categora",message:` Esta categora tiene ${P.length} producto(s) asignado(s).

Al eliminarla, los productos quedarn sin categora.

Deseas continuar?`})||n("categories",k)},b=async()=>{if(!g.label.trim())return await i({title:"Campo requerido",message:"El nombre de la categora es obligatorio"});if(g.keywords.length===0)return await i({title:"Accin requerida",message:"Agrega al menos una palabra clave para las sugerencias inteligentes"});const k={label:g.label.trim(),keywords:g.keywords,department:g.department,id:u?.id||g.label.toLowerCase().replace(/\s+/g,"_")};if(u)r("categories",u.id,k);else{if((e.categories||[]).find(I=>I.id===k.id))return await i({title:"Nombre duplicado",message:"Ya existe una categora con ese nombre"});t("categories",k)}l(!1),w()},w=()=>{f(null),x({label:"",keywords:[],department:"Restaurante"}),m("")},C=()=>{const k=d.trim().toLowerCase();if(k){if(g.keywords.includes(k)){i({title:"Duplicado",message:"Esta palabra clave ya existe"});return}x({...g,keywords:[...g.keywords,k]}),m("")}},S=k=>{x({...g,keywords:g.keywords.filter(P=>P!==k)})},O=k=>{k.key==="Enter"&&(k.preventDefault(),C())},F=k=>(e.products||[]).filter(P=>P.category===k).length,B=[{header:"Nombre",accessor:"label",render:k=>h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(CE,{size:18,color:"var(--accent-cyan)"}),h.jsx("span",{style:{fontWeight:"bold"},children:k.label})]})},{header:"Departamento",accessor:"department",render:k=>h.jsx("span",{style:{fontSize:"0.75rem",padding:"0.2rem 0.5rem",borderRadius:"4px",background:k.department==="Quesera"?"rgba(241, 196, 15, 0.1)":"rgba(255, 165, 0, 0.1)",color:k.department==="Quesera"?"#f1c40f":"var(--accent-orange)",border:k.department==="Quesera"?"1px solid #f1c40f44":"1px solid #ffa50044",fontWeight:"bold"},children:k.department||"Restaurante"})},{header:"Palabras Clave",accessor:"keywords",render:k=>h.jsxs("div",{style:{display:"flex",gap:"0.25rem",flexWrap:"wrap"},children:[(k.keywords||[]).slice(0,5).map((P,I)=>h.jsx("span",{style:{background:"rgba(0, 200, 255, 0.15)",padding:"0.15rem 0.4rem",borderRadius:"8px",fontSize:"0.75rem",border:"1px solid rgba(0, 200, 255, 0.3)",color:"var(--accent-cyan)"},children:P},I)),k.keywords&&k.keywords.length>5&&h.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["+",k.keywords.length-5," ms"]})]})},{header:"Productos",accessor:"id",render:k=>{const P=F(k.id);return h.jsx("span",{style:{fontWeight:"bold",color:P>0?"var(--accent-green)":"var(--text-secondary)"},children:P})}}],j=k=>h.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},onClick:()=>y(k),title:"Editar",children:h.jsx(Sp,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-red)"},onClick:()=>_(k.id),title:"Eliminar",children:h.jsx(qa,{size:16})})]});return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[h.jsx("h1",{style:{fontSize:"1.5rem",margin:0},children:"Categoras"}),h.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"Gestin y Clasificacin"})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total"}),h.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:e.categories?.length||0})]}),h.jsx(CE,{size:18,color:"var(--accent-cyan)",style:{opacity:.5}})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Keywords"}),h.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"var(--accent-purple)"},children:(e.categories||[]).reduce((k,P)=>k+(P.keywords?.length||0),0)})]}),h.jsx(_D,{size:18,color:"var(--accent-purple)",style:{opacity:.5}})]}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem"},onClick:()=>{w(),l(!0)},children:[h.jsx(fs,{size:18}),"Nueva"]})]})]}),h.jsx("div",{style:{fontSize:"0.85rem"},children:h.jsx(u0e,{compact:!0})}),h.jsx("div",{style:{flex:1,overflow:"hidden"},children:h.jsx(Kf,{columns:B,data:e.categories||[],actions:j})}),h.jsx(Ir,{isOpen:s,onClose:()=>l(!1),title:u?"Editar Categora":"Nueva Categora",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nombre de la Categora"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej. Bebidas, Postres, etc.",value:g.label,onChange:k=>x({...g,label:k.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Departamento Responsable"}),h.jsxs("select",{className:"glass-input",value:g.department,onChange:k=>x({...g,department:k.target.value}),children:[h.jsx("option",{value:"Restaurante",children:"Restaurante (Comida/Bebida)"}),h.jsx("option",{value:"Quesera",children:"Quesera (Quesos/Lcteos)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Palabras Clave (para sugerencias inteligentes)"}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej. refresco, jugo, cola...",style:{flex:1},value:d,onChange:k=>m(k.target.value),onKeyPress:O}),h.jsxs("button",{className:"glass-button primary",onClick:C,style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[h.jsx(fs,{size:16}),"Agregar"]})]}),h.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",padding:"0.75rem",background:"rgba(255,255,255,0.03)",borderRadius:"8px",minHeight:"3rem",border:"1px dashed rgba(255,255,255,0.1)"},children:g.keywords.length===0?h.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Sin palabras clave. Agrega al menos una."}):g.keywords.map((k,P)=>h.jsxs("span",{style:{background:"rgba(0, 200, 255, 0.2)",padding:"0.35rem 0.6rem",borderRadius:"12px",fontSize:"0.85rem",border:"1px solid rgba(0, 200, 255, 0.4)",color:"var(--accent-cyan)",display:"flex",alignItems:"center",gap:"0.35rem",cursor:"pointer",transition:"all 0.2s"},onClick:()=>S(k),title:"Clic para eliminar",children:[h.jsx(_D,{size:12}),k,h.jsx(Fs,{size:14})]},P))}),h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:" Presiona Enter o haz clic en Agregar. Clic en una palabra clave para eliminarla."})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:b,children:u?"Actualizar Categora":"Guardar Categora"})]})})]})},d0e=()=>{const{data:e,addItem:t,updateItem:r,deleteItem:n,updateData:a,uploadToDrive:i}=Jn(),{confirm:s,alert:l}=$n(),[u,f]=T.useState(!1),[d,m]=T.useState(null),[g,x]=T.useState(null),[y,_]=T.useState(!1),[b,w]=T.useState(""),[C,S]=T.useState(!1),[O,F]=T.useState("products"),[B,j]=T.useState(window.innerWidth<=768);T.useEffect(()=>{const W=()=>j(window.innerWidth<=768);return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]);const[k,P]=T.useState({name:"",price:"",costPrice:"",stock:"",category:"",supplierId:"",image:"",showInPOS:!0,isFavorite:!1}),[I,R]=T.useState(null),[N,M]=T.useState(!1),ce=W=>{m(W),P({name:W.name,price:W.price,costPrice:W.costPrice||"",stock:W.stock!==void 0?W.stock:"",category:W.category,supplierId:W.supplierId||"",image:W.image||"",showInPOS:W.showInPOS!==void 0?W.showInPOS:!0,isFavorite:W.isFavorite||!1}),R(null),f(!0)},fe=async W=>{await s({title:"Eliminar Producto",message:"Ests seguro de eliminar este producto? Se borrar del POS inmediatamente."})&&n("products",W)},ae=async()=>{await s({title:" PELIGRO: Borrar Todo",message:`Ests seguro de que quieres BORRAR TODOS los productos?

Esta accin eliminar todo el inventario de productos permanentemente y no se puede deshacer.`})&&await s({title:"Confirmacin Final",message:"Realmente deseas vaciar la lista de productos?"})&&a("products",[])},ie=async()=>{if(!k.name||!k.price)return await l({title:"Campos requeridos",message:"Nombre y Precio son obligatorios"});let W=k.image;if(g){_(!0);let Te;try{Te=await i(g,"ERP La Autentica","Fotos Productos")}catch(Ne){console.error("Product upload error:",Ne),await l({title:"Error de Red",message:"No se pudo subir la foto a Drive."})}finally{_(!1)}if(Te&&Te.webViewLink)W=Te.webViewLink;else if(!await s({title:"Error de carga",message:"No se pudo subir la foto. Deseas guardar sin actualizar la foto?"}))return}const xe={name:k.name,price:parseFloat(k.price),costPrice:k.costPrice?parseFloat(k.costPrice):0,stock:k.stock?parseInt(k.stock):0,category:k.category,supplierId:k.supplierId||null,showInPOS:k.showInPOS,isFavorite:k.isFavorite,image:W};d?r("products",d.id,xe):t("products",xe),f(!1),me()};T.useEffect(()=>{if(k.name&&(e.categories||[]).length>0){const W=F_(k.name,e.categories);R(W);const xe=setTimeout(()=>{W&&W.confidence!=="low"&&(!k.category||k.category==="")&&P(Te=>({...Te,category:W.id}))},1e3);return()=>clearTimeout(xe)}else R(null)},[k.name,e.categories,k.category]);const me=()=>{m(null),P({name:"",price:"",costPrice:"",stock:"",category:"",image:"",showInPOS:!0,isFavorite:!1}),x(null),R(null)},be=async()=>{const W=(e.products||[]).length;if(W===0)return await l({title:"Aviso",message:"No hay productos para categorizar."});const xe=(e.products||[]).filter(K=>!K.category),Ne=await s({title:"Limpieza de Categoras",message:`Qu deseas hacer?

1. Categorizar solo los ${xe.length} productos SIN categora.
2. Re-evaluar los ${W} productos (Corrige errores previos).`,confirmLabel:"Re-evaluar TODO",cancelLabel:"Solo sin categora"});if((Ne?e.products:xe).length===0)return;let Q=0,ue=0;const q=e.products.map(K=>{if(!(Ne||!K.category))return K;const ve=F_(K.name,e.categories);if(ve&&ve.confidence!=="low"){if(K.category!==ve.id)return K.category?ue++:Q++,{...K,category:ve.id}}else if(Ne&&K.category)return ue++,{...K,category:""};return K});Q>0||ue>0?(a("products",q),setTimeout(()=>{l({title:"Limpieza Completada",message:` Proceso finalizado:

- Nuevas categoras: ${Q}
- Errores corregidos/limpiados: ${ue}

Productos como Aceite y Galletas deberan haberse movido a sus nuevas secciones.

**IMPORTANTE:** Si todava ves productos mal ubicados en el POS, por favor recarga la pgina (F5).`})},500)):await l({title:"Aviso",message:"No se encontraron cambios necesarios con las reglas actuales."})},de=async W=>{let xe=0,Te=0;const Ne=[...e.products||[]];let X=!1;for(const Q of W){let ue=Q.A,q=Q.B,K=Q.K,H=Q.N;if(!q&&ue&&String(ue).length>3&&(q=ue),!q)continue;let ve=String(q).trim();if(ve==="Nombre"||ve==="NOMBRE"||["Periodo Mensual","Existencia Inicial","Ordenes de","Facturas Ventas","Notas de","Recep. de","Existencia Final","Total"].some(le=>ve.includes(le))||/^\d+$/.test(ve))continue;let Se=ve.replace(/^[+\-*]\s*/,"").trim();if(!Se)continue;const Ge=le=>{if(typeof le=="number")return le;if(typeof le=="string"){let _e=le.replace(/[^\d,.-]/g,"");return _e=_e.replace(",","."),parseFloat(_e)||0}return 0};let He=Ge(H);He===0&&Q.O&&(He=Ge(Q.O));const Je=Ge(K);let rt="";if(e.categories&&e.categories.length>0){const le=F_(Se,e.categories);le&&le.confidence!=="low"&&(rt=le.id,Te++)}const tt=Ne.findIndex(le=>le.name.toLowerCase()===Se.toLowerCase());tt>=0?Ne[tt]={...Ne[tt],price:He,costPrice:Je,category:rt||Ne[tt].category,showInPOS:!0}:Ne.push({id:sM(),name:Se,price:He,costPrice:Je,stock:0,category:rt,image:"",showInPOS:!0}),xe++,X=!0}if(X&&a("products",Ne),M(!1),xe===0){const Q=W.find(ue=>ue.B&&String(ue.B).length>3)||W[0];await l({title:"Importacin Fallida",message:` No se importaron productos.

Depuracin (Fila Ejemplo): ${JSON.stringify(Q)}

El sistema busc el nombre en la Columna B y el precio en la Columna N.`})}else await l({title:"Importacin Exitosa",message:` Importacin completada

Productos procesados: ${xe} 
Categorizados automticamente: ${Te}`})},U=(e.products||[]).filter(W=>W.name.toLowerCase().includes(b.toLowerCase())||W.category.toLowerCase().includes(b.toLowerCase())),Z=[{header:"",accessor:"isFavorite",width:"40px",render:W=>h.jsx("button",{onClick:xe=>{xe.stopPropagation(),r("products",W.id,{...W,isFavorite:!W.isFavorite})},style:{background:"transparent",border:"none",cursor:"pointer",color:W.isFavorite?"#fb923c":"rgba(255,255,255,0.2)",transition:"all 0.2s",padding:"4px"},className:"hover-scale",children:h.jsx(eK,{size:18,fill:W.isFavorite?"#fb923c":"none"})})},{header:"Imagen",accessor:"image",render:W=>h.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"8px",overflow:"hidden",background:"#333"},children:W.image?h.jsx("img",{src:W.image,alt:W.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):h.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},children:h.jsx(dv,{size:20})})})},{header:"Nombre",accessor:"name"},{header:"Categora",accessor:"category",render:W=>h.jsx("span",{style:{background:"rgba(255,255,255,0.1)",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.85rem"},children:(e.categories||[]).find(xe=>xe.id===W.category)?.label||W.category})},{header:"Proveedor",accessor:"supplierId",render:W=>{const xe=(e.suppliers||[]).find(Te=>Te.id===W.supplierId);return h.jsx("span",{style:{color:xe?"var(--text-primary)":"var(--text-secondary)",fontSize:"0.85rem",fontStyle:xe?"normal":"italic"},children:xe?xe.name:"Sin asignar"})}},{header:"Precio Venta",accessor:"price",render:W=>h.jsxs("span",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1.05rem"},children:["$",W.price.toFixed(2)]})},{header:"Precio Costo",accessor:"costPrice",render:W=>{const xe=W.costPrice||0,Te=W.price-xe,Ne=xe>0?(Te/xe*100).toFixed(0):0;return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[h.jsxs("span",{style:{color:"var(--text-secondary)"},children:["$",xe.toFixed(2)]}),xe>0&&h.jsxs("span",{style:{fontSize:"0.7rem",color:Te>0?"var(--accent-green)":"var(--accent-red)"},children:["+",Ne,"%"]})]})}},{header:"Cantidad",accessor:"stock",render:W=>{const xe=W.stock!==void 0?W.stock:0,Te=xe<10,Ne=xe===0;return h.jsxs("span",{style:{color:Ne?"var(--accent-red)":Te?"var(--accent-orange)":"var(--text-primary)",fontWeight:Ne||Te?"bold":"normal"},children:[xe," ",Ne?"":Te?"":""]})}},{header:"Tipo",accessor:"showInPOS",render:W=>{const xe=W.showInPOS!==void 0?W.showInPOS:!0;return h.jsx("span",{style:{background:xe?"rgba(0, 255, 0, 0.1)":"rgba(255, 165, 0, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",border:`1px solid ${xe?"rgba(0, 255, 0, 0.3)":"rgba(255, 165, 0, 0.3)"}`,color:xe?"var(--accent-green)":"var(--accent-orange)"},children:xe?" Venta POS":" Materia Prima"})}}],te=W=>h.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},onClick:()=>ce(W),title:"Editar",children:h.jsx(Sp,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},onClick:()=>fe(W.id),title:"Eliminar",children:h.jsx(qa,{size:16})})]});return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:B?"0.75rem":"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:B?"column":"row",gap:"0.75rem",alignItems:B?"stretch":"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[h.jsx("div",{style:{display:"flex",justifyContent:B?"center":"flex-start"},children:h.jsxs("div",{className:"glass-panel",style:{padding:"0.25rem",display:"flex",flexDirection:"row",gap:"0.25rem",borderRadius:"10px",background:"rgba(0,0,0,0.2)"},children:[h.jsxs("button",{className:`glass-button ${O==="products"?"primary":""}`,onClick:()=>F("products"),style:{padding:"0.4rem 0.75rem",fontSize:"0.85rem",borderRadius:"8px",height:"32px"},children:[h.jsx(KP,{size:14,style:{marginRight:"0.4rem"}}),"Prod."]}),h.jsxs("button",{className:`glass-button ${O==="categories"?"primary":""}`,onClick:()=>F("categories"),style:{padding:"0.4rem 0.75rem",fontSize:"0.85rem",borderRadius:"8px",height:"32px"},children:[h.jsx(kg,{size:14,style:{marginRight:"0.4rem"}}),"Cat."]})]})}),O==="products"&&h.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center"},children:C?h.jsxs("div",{className:"glass-panel",style:{padding:"0.25rem 0.75rem",display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem",borderRadius:"20px",background:"rgba(0,0,0,0.4)",border:"1px solid var(--accent-blue)",width:"100%",maxWidth:"400px"},children:[h.jsx(Nu,{size:16,className:"text-blue-400"}),h.jsx("input",{type:"text",autoFocus:!0,className:"bg-transparent border-none text-white placeholder-gray-400 w-full focus:outline-none text-sm",placeholder:"Buscar...",value:b,onChange:W=>w(W.target.value),onBlur:()=>!b&&S(!1)}),h.jsx("button",{onClick:()=>{w(""),S(!1)},className:"p-1 hover:text-white text-gray-400",children:h.jsx(Fs,{size:14})})]}):B?null:h.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center",fontSize:"0.9rem",color:"var(--text-secondary)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx("span",{children:"Total:"}),h.jsx("span",{style:{color:"white",fontWeight:"bold"},children:e.products?.length||0})]}),h.jsx("div",{style:{width:"1px",height:"16px",background:"rgba(255,255,255,0.1)"}}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx("span",{children:"Valor:"}),h.jsxs("span",{style:{color:"var(--accent-green)",fontWeight:"bold"},children:["$",(e.products||[]).reduce((W,xe)=>W+xe.price*Math.max(0,xe.stock||0),0).toFixed(2)]})]})]})}),O==="products"&&h.jsxs("div",{style:{display:"flex",gap:"0.4rem",justifyContent:B?"space-between":"flex-end"},children:[B&&!C&&h.jsxs("div",{style:{display:"flex",gap:"0.4rem",alignItems:"center",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[h.jsx("span",{style:{color:"white"},children:e.products?.length||0})," Prod."]}),h.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[!C&&h.jsx("button",{className:"glass-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",height:"32px"},onClick:()=>S(!0),title:"Buscar",children:h.jsx(Nu,{size:16})}),h.jsxs("button",{className:"glass-button primary",style:{padding:"0.4rem 0.8rem",fontSize:"0.85rem",height:"32px"},onClick:()=>{me(),f(!0)},children:[h.jsx(fs,{size:16,style:{marginRight:B?0:"0.4rem"}}),!B&&"Nuevo Producto"]}),h.jsx("button",{className:"glass-button",style:{padding:"0.4rem 0.6rem",height:"32px",color:"var(--accent-purple)"},onClick:be,title:"Categorizacin Inteligente Masiva",children:h.jsx(kg,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.4rem 0.6rem",height:"32px"},onClick:()=>M(!0),title:"Importar Excel",children:h.jsx(SA,{size:16})}),h.jsx("button",{className:"glass-button",onClick:ae,title:"Borrar Todo",style:{padding:"0.4rem 0.6rem",height:"32px",color:"var(--accent-red)"},children:h.jsx(qa,{size:16})})]})]})]}),O==="categories"?h.jsx(f0e,{}):h.jsxs(h.Fragment,{children:[h.jsx(Kf,{columns:Z,data:U,actions:te}),h.jsx(Ir,{isOpen:u,onClose:()=>f(!1),title:d?"Editar Producto":"Nuevo Producto",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nombre del Producto"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej. Hamburguesa Doble",value:k.name,onChange:W=>P({...k,name:W.target.value})})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",gridColumn:"1 / -1"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Precio de Costo *"}),h.jsx("input",{type:"number",step:"0.01",className:"glass-input",placeholder:"0.00",value:k.costPrice,onChange:W=>P({...k,costPrice:W.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Precio de Venta * (POS)"}),h.jsx("input",{type:"number",step:"0.01",className:"glass-input",placeholder:"0.00",value:k.price,onChange:W=>P({...k,price:W.target.value}),required:!0})]})]}),k.costPrice&&k.price&&parseFloat(k.costPrice)>0&&h.jsx("div",{className:"glass-panel",style:{gridColumn:"1 / -1",padding:"0.75rem",background:"rgba(0, 255, 0, 0.05)",border:"1px solid rgba(0, 255, 0, 0.2)"},children:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[h.jsx("span",{children:"Margen de Ganancia:"}),h.jsxs("strong",{style:{color:"var(--accent-green)"},children:["$",(parseFloat(k.price)-parseFloat(k.costPrice)).toFixed(2),"(",((parseFloat(k.price)-parseFloat(k.costPrice))/parseFloat(k.costPrice)*100).toFixed(0),"%)"]})]})}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Cantidad Disponible (Stock)"}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"0",value:k.stock,onChange:W=>P({...k,stock:W.target.value})}),h.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:"0.25rem",display:"block"},children:"Inventario actual del producto"})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Categora"}),I&&I.confidence!=="low"&&k.category!==I.id&&h.jsxs("div",{onClick:()=>P(W=>({...W,category:I.id})),style:{background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.3)",padding:"0.4rem 0.6rem",borderRadius:"8px",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",transition:"all 0.2s"},className:"hover-scale",children:[h.jsx(kg,{size:14,color:"rgb(168, 85, 247)"}),h.jsxs("span",{style:{fontSize:"0.75rem",color:"rgb(168, 85, 247)"},children:[h.jsx("strong",{children:"Sugerencia:"})," ",I.label]}),h.jsxs("span",{style:{fontSize:"0.65rem",marginLeft:"auto",opacity:.7},children:["Confianza: ",I.confidence==="high"?" Alta":" Media"]})]}),h.jsxs("select",{className:"glass-input",value:k.category,onChange:W=>P({...k,category:W.target.value}),children:[h.jsx("option",{value:"",children:"-- Seleccionar --"}),(e.categories||[]).map(W=>h.jsx("option",{value:W.id,children:W.label},W.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Proveedor"}),h.jsxs("select",{className:"glass-input",value:k.supplierId,onChange:W=>P({...k,supplierId:W.target.value}),children:[h.jsx("option",{value:"",children:"-- Seleccionar Proveedor --"}),(e.suppliers||[]).sort((W,xe)=>W.name.localeCompare(xe.name)).map(W=>h.jsx("option",{value:W.id,children:W.name},W.id))]})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Imagen"}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",overflow:"hidden",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center"},children:g||k.image?h.jsx("img",{src:g?URL.createObjectURL(g):k.image,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):h.jsx(dv,{size:24,color:"var(--text-secondary)"})}),h.jsxs("label",{className:"glass-button",style:{cursor:"pointer",flex:1,textAlign:"center"},children:[g?"Cambiar Foto":"Subir Foto",h.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:W=>x(W.target.files[0])})]})]}),h.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:"La foto se subir automticamente a Google Drive."})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255, 165, 0, 0.05)",border:"1px solid rgba(255, 165, 0, 0.2)"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.75rem",color:"var(--accent-orange)",fontWeight:"bold",fontSize:"0.9rem"},children:"Tipo de Producto"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",background:k.showInPOS?"rgba(0, 255, 0, 0.1)":"rgba(255,255,255,0.03)",borderRadius:"8px",border:`2px solid ${k.showInPOS?"var(--accent-green)":"rgba(255,255,255,0.1)"} `,transition:"all 0.2s"},children:[h.jsx("input",{type:"radio",name:"productType",checked:k.showInPOS,onChange:()=>P({...k,showInPOS:!0}),style:{width:"18px",height:"18px"}}),h.jsxs("div",{style:{flex:1},children:[h.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:" Producto de Venta"}),h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Se muestra en el POS y se puede vender directamente"})]})]}),h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",background:k.showInPOS?"rgba(255,255,255,0.03)":"rgba(255, 165, 0, 0.1)",borderRadius:"8px",border:`2px solid ${k.showInPOS?"rgba(255,255,255,0.1)":"var(--accent-orange)"} `,transition:"all 0.2s"},children:[h.jsx("input",{type:"radio",name:"productType",checked:!k.showInPOS,onChange:()=>P({...k,showInPOS:!1}),style:{width:"18px",height:"18px"}}),h.jsxs("div",{style:{flex:1},children:[h.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:" Materia Prima"}),h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Solo para inventario interno, no aparecer en el POS"})]})]}),h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",background:k.isFavorite?"rgba(251, 146, 60, 0.1)":"rgba(255,255,255,0.03)",borderRadius:"8px",border:`2px solid ${k.isFavorite?"#ea580c":"rgba(255,255,255,0.1)"} `,transition:"all 0.2s",marginTop:"0.5rem"},children:[h.jsx("input",{type:"checkbox",checked:k.isFavorite,onChange:W=>P({...k,isFavorite:W.target.checked}),style:{width:"18px",height:"18px"}}),h.jsxs("div",{style:{flex:1},children:[h.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:" Acceso Rpido (Favorito)"}),h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Aparecer en la pantalla principal del POS para carga ultra-rpida"})]})]})]})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:ie,disabled:y,children:y?"Subiendo...":d?"Actualizar Producto":"Guardar Producto"})]})}),h.jsx(Ir,{isOpen:N,onClose:()=>M(!1),title:"Importar Productos desde Excel",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0, 200, 255, 0.05)",border:"1px solid rgba(0, 200, 255, 0.2)"},children:[h.jsx("h3",{style:{color:"var(--accent-cyan)",marginBottom:"0.5rem",fontSize:"0.9rem"},children:" Formato del Excel"}),h.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"El archivo debe tener las siguientes columnas:"}),h.jsxs("ul",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",paddingLeft:"1.5rem",margin:0},children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Nombre"})," (obligatorio)"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Precio"})," (obligatorio, nmero)"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Categora"})," (opcional - se sugerir automticamente si est vaco)"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Imagen"})," (opcional, URL)"]})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[h.jsx(kg,{size:16,color:"rgb(168, 85, 247)"}),h.jsx("h3",{style:{color:"rgb(168, 85, 247)",fontSize:"0.9rem",margin:0},children:"Categorizacin Inteligente"})]}),h.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",margin:0},children:'Si un producto no tiene categora, el sistema la sugerir automticamente segn su nombre. Ejemplo: "Coca-Cola"  Bebidas, "Hamburguesa Doble"  Hamburguesas'})]}),h.jsx(IC,{buttonText:"Seleccionar Archivo Excel",templateName:"productos",sheetToJsonOptions:{header:"A",defval:""},onDataLoaded:de})]})})]})]})},h0e=()=>{const{data:e,addItem:t,deleteItem:r,distributeTips:n,updateItem:a,uploadToDrive:i}=Jn();e.personnel;const{confirm:s,alert:l}=$n(),[u,f]=T.useState(window.innerWidth<=768);Nr.useEffect(()=>{const de=()=>f(window.innerWidth<=768);return window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]);const[d,m]=T.useState(!1),[g,x]=T.useState(!1),[y,_]=T.useState(!1),[b,w]=T.useState(null),[C,S]=T.useState({name:"",status:"Activo",lastPayment:"N/A",salary:0,phone:"",paymentFrequency:"Mensual"}),O=async de=>{await s({title:"Eliminar Empleado",message:"Ests seguro de eliminar a este empleado? Esta accin no se puede deshacer."})&&r("personnel",de)},F=de=>{S({...de,salary:de.salary}),w(de.id),m(!0)},B=async()=>{if(!C.name)return await l({title:"Error",message:"El nombre es obligatorio"});const de={...C,salary:parseFloat(C.salary)||0};b?a("personnel",b,de):t("personnel",de),m(!1),w(null),S({name:"",status:"Activo",lastPayment:"N/A",salary:0,phone:"",paymentFrequency:"Mensual"})},j=[{header:"Empleado",accessor:"name"},{header:"Estado",accessor:"status",render:de=>h.jsx("span",{style:{color:de.status==="Activo"?"var(--accent-green)":"red"},children:de.status})},{header:"Salario",accessor:"salary",render:de=>`${de.salary} Bs`},{header:"Frecuencia",accessor:"paymentFrequency"},{header:"ltimo Pago",accessor:"lastPayment"}],k=de=>h.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},title:"Ver Expediente",children:h.jsx(WP,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},title:"Editar Empleado",onClick:()=>F(de),children:h.jsx("div",{style:{width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})}),h.jsx("button",{className:"glass-button accent",style:{padding:"0.5rem"},title:"Pagar Nmina",onClick:()=>ie(de),children:h.jsx(_h,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-red)"},title:"Eliminar / Despido",onClick:()=>O(de.id),children:h.jsx(qa,{size:16})})]}),[P,I]=T.useState(!1),[R,N]=T.useState(null),[M,ce]=T.useState(null),[fe,ae]=T.useState(!1),ie=de=>{N(de),ce(null),I(!0)},me=async()=>{if(!R)return;const U=Date.now()+200,Z=M?URL.createObjectURL(M):null;t("expenses",{id:U,date:new Date().toISOString(),description:`Pago Nmina: ${R.name}`,category:"Nmina",amount:R.salary,method:"Caja Chica",proof:M?" Subiendo...":"N/A",localProof:Z,personnelId:R.id}),M&&(async()=>{let te=null,W=null;try{const xe=new FormData;xe.append("proof",M);const Te=localStorage.getItem("pos_server_url")||`${window.location.protocol}//${window.location.hostname}:3001`,X=await(await fetch(`${Te}/api/upload-proof`,{method:"POST",body:xe})).json();X.success&&(te=X.url,a("expenses",U,{proof:te}))}catch(xe){console.error("Local personnel upload failed:",xe)}try{const xe=await i(M,"ERP La Autentica","Comprobantes Nmina");xe&&xe.webViewLink?(W=xe.webViewLink,a("expenses",U,{proof:W})):te||a("expenses",U,{proof:" Fall subida"})}catch(xe){console.error("Cloud personnel upload failed:",xe),te||a("expenses",U,{proof:" Fall subida"})}})(),await l({title:"Pago Registrado",message:`Pago registrado para ${R.name}. Se est procesando el comprobante en segundo plano.`}),I(!1)},be=async de=>{let U=0,Z=0;for(const te of de){const W=te.A||te[0];if(!W||W==="EMPLEADOS")continue;const xe=String(W).trim();parseInt(te.E||te[4]),parseFloat(te.D||te[3]);const Te=parseFloat(te.F||te[5])||0,Ne=te.L||te[11]||"Pendiente";if(!xe||xe.length<3)continue;const X=e.personnel.find(Q=>Q.name.toLowerCase()===xe.toLowerCase());X?(a("personnel",X.id,{...X,salary:Te>0?Te:X.salary,paymentFrequency:"Semanal",lastPayment:Ne==="PAGADO"?new Date().toLocaleDateString():X.lastPayment}),U++):Te>0&&(t("personnel",{name:xe,status:"Activo",salary:Te,paymentFrequency:"Semanal",lastPayment:Ne==="PAGADO"?new Date().toLocaleDateString():"N/A",phone:""}),Z++)}_(!1),await l({title:"Importacin Completada",message:`Se actualizaron ${U} empleados y se crearon ${Z} nuevos.`})};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",padding:u?"1rem":"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[h.jsx("h1",{style:{fontSize:u?"1.25rem":"2rem",margin:0},children:"Personal"}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[h.jsxs("button",{className:"glass-button",style:{display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>_(!0),children:[h.jsx(SA,{size:16}),"Importar"]}),h.jsxs("button",{className:"glass-button accent",style:{display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>x(!0),children:[h.jsx(uG,{size:16}),"Propinas"]}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>m(!0),children:[h.jsx(AA,{size:16}),"Nuevo"]})]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.5rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Total Empleados"}),h.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:e.personnel.length})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Nmina Estimada"}),h.jsxs("p",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:["$",e.personnel.reduce((de,U)=>de+U.salary,0).toFixed(2)]})]})]}),h.jsx(Kf,{columns:j,data:e.personnel,actions:k}),h.jsx(Ir,{isOpen:d,onClose:()=>{m(!1),w(null),S({name:"",status:"Activo",lastPayment:"N/A",salary:0,phone:"",paymentFrequency:"Mensual"})},title:b?"Editar Empleado":"Registrar Nuevo Empleado",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nombre Completo"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Nombre y Apellido",value:C.name,onChange:de=>S({...C,name:de.target.value})})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Frecuencia de Pago"}),h.jsxs("select",{className:"glass-input w-full",value:C.paymentFrequency||"Mensual",onChange:de=>S({...C,paymentFrequency:de.target.value}),children:[h.jsx("option",{value:"Semanal",children:"Semanal"}),h.jsx("option",{value:"Quincenal",children:"Quincenal"}),h.jsx("option",{value:"Mensual",children:"Mensual"})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Salario Base (Bs)"}),h.jsxs("div",{className:"input-group",children:[h.jsx(_h,{size:20,className:"input-icon"}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"0.00",value:C.salary,onChange:de=>S({...C,salary:parseFloat(de.target.value)||0})})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Fecha de Ingreso"}),h.jsx("input",{type:"date",className:"glass-input"})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Estado Actual"}),h.jsxs("select",{className:"glass-input w-full",value:C.status,onChange:de=>S({...C,status:de.target.value}),children:[h.jsx("option",{value:"Activo",children:" Activo"}),h.jsx("option",{value:"Vacaciones",children:" Vacaciones"}),h.jsx("option",{value:"Reposo",children:"uD83CuDFE5 Reposo Mdico"}),h.jsx("option",{value:"Inactivo",children:" Inactivo"})]})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:B,children:b?"Guardar Cambios":"Guardar Empleado"})]})}),h.jsx(Ir,{isOpen:P,onClose:()=>I(!1),title:`Pagar Nmina: ${R?.name}`,children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255,255,255,0.05)"},children:[h.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Monto a Pagar"}),h.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:["$",R?.salary.toFixed(2)]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Comprobante de Pago (Opcional)"}),h.jsx("input",{type:"file",accept:"image/*,application/pdf",className:"glass-input",onChange:de=>ce(de.target.files[0])}),h.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:'Se subir automticamente a la carpeta "Comprobantes Nmina" en Drive.'})]}),h.jsxs("button",{className:"glass-button accent",style:{marginTop:"1rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},onClick:me,disabled:fe,children:[fe?"Subiendo...":"Registrar Pago",!fe&&h.jsx(_h,{size:18})]})]})}),h.jsx(Ir,{isOpen:g,onClose:()=>x(!1),title:"Gestin y Reparto de Propinas",children:h.jsx(p0e,{data:e,distributeTips:n,onClose:()=>x(!1)})}),h.jsx(Ir,{isOpen:y,onClose:()=>_(!1),title:"Importar Nmina",children:h.jsx(IC,{onDataLoaded:be,onClose:()=>_(!1)})})]})},p0e=({data:e,distributeTips:t,onClose:r})=>{const{confirm:n,alert:a}=$n(),[i,s]=T.useState("current"),[l,u]=T.useState(null),f=(e.tipHistory||[]).reduce((d,m)=>{const g=new Date(m.timestamp).toLocaleDateString("es-ES",{weekday:"long",day:"numeric"});return d[g]=(d[g]||0)+m.amount,d},{});return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{style:{display:"flex",gap:"0.5rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem"},children:[h.jsx("button",{className:`glass-button ${i==="current"?"primary":""}`,onClick:()=>s("current"),style:{flex:1},children:"Pozo Actual"}),h.jsx("button",{className:`glass-button ${i==="history"?"primary":""}`,onClick:()=>s("history"),style:{flex:1},children:"Historial"})]}),i==="current"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",textAlign:"center",background:"rgba(255,255,255,0.05)"},children:[h.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Pozo Acumulado"}),h.jsxs("h2",{style:{fontSize:"3rem",color:"var(--accent-green)",margin:0},children:["$",(e.tips||0).toFixed(2)]}),h.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:[e.tipHistory?.length||0," transacciones registradas"]})]}),Object.keys(f).length>0&&h.jsxs("div",{className:"glass-panel",style:{padding:"1rem"},children:[h.jsx("h4",{style:{marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Desglose por Da"}),h.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:Object.entries(f).map(([d,m])=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"0.25rem"},children:[h.jsx("span",{style:{textTransform:"capitalize"},children:d}),h.jsxs("span",{style:{fontWeight:"bold"},children:["$",m.toFixed(2)]})]},d))})]}),h.jsxs("div",{children:[h.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Proyeccin de Reparto (Segn Sueldo)"}),h.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem"},children:(()=>{const d=e.personnel.reduce((g,x)=>g+(x.status==="Activo"?x.salary:0),0),m=e.tips||0;return d===0?h.jsx("p",{children:"No hay empleados activos con sueldo."}):e.personnel.filter(g=>g.status==="Activo").map(g=>{const x=g.salary/d,y=m*x;return h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("div",{children:[h.jsx("p",{style:{fontWeight:"bold"},children:g.name}),h.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Sueldo: $",g.salary," (",(x*100).toFixed(1),"%)"]})]}),h.jsxs("p",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--accent-green)"},children:["$",y.toFixed(2)]})]},g.id)})})()})]}),h.jsx("button",{className:"glass-button accent",style:{padding:"1rem",marginTop:"1rem"},onClick:async()=>{await n({title:"Distribuir Propinas",message:"Ests seguro de distribuir las propinas? Se guardar una copia en el Historial."})&&(t(),r(),await a({title:"xito",message:"Propinas distribuidas y archivadas en el Historial."}))},disabled:(e.tips||0)===0,children:"Distribuir y Archivar"})]}):h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxHeight:"60vh",overflowY:"auto"},children:(e.tipDistributions||[]).length===0?h.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"2rem"},children:"No hay distribuciones pasadas."}):(e.tipDistributions||[]).map(d=>h.jsxs("div",{className:"glass-panel",style:{padding:"1rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>u(l===d.id?null:d.id),children:[h.jsxs("div",{children:[h.jsxs("h4",{style:{margin:0},children:[new Date(d.date).toLocaleDateString()," - ",new Date(d.date).toLocaleTimeString()]}),h.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[d.transactionCount," transacciones"]})]}),h.jsx("div",{style:{textAlign:"right"},children:h.jsxs("p",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--accent-green)"},children:["$",d.total.toFixed(2)]})})]}),l===d.id&&h.jsxs("div",{style:{marginTop:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1rem"},children:[d.dailyBreakdown&&h.jsxs("div",{style:{marginBottom:"1rem"},children:[h.jsx("h5",{style:{color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Ingresos por Da"}),h.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:Object.entries(d.dailyBreakdown).map(([m,g])=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem"},children:[h.jsx("span",{style:{textTransform:"capitalize"},children:m}),h.jsxs("span",{children:["$",g.toFixed(2)]})]},m))})]}),h.jsx("h5",{style:{color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Reparto"}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:d.distribution.map(m=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[h.jsx("span",{children:m.name}),h.jsxs("span",{style:{fontWeight:"bold",color:"var(--accent-green)"},children:["$",m.amount.toFixed(2)]})]},m.id))})]})]},d.id))})]})},m0e=()=>{const{data:e,addItem:t,deleteItem:r,updateItem:n}=Jn(),{confirm:a,alert:i}=$n(),[s,l]=T.useState(!1),[u,f]=T.useState(null),[d,m]=T.useState(window.innerWidth<=768);Nr.useEffect(()=>{const O=()=>m(window.innerWidth<=768);return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const[g,x]=T.useState({name:"",role:"cashier",pin:"",permissions:[]}),y=async O=>{await a({title:"Eliminar Usuario",message:"Ests seguro de eliminar este usuario? Perder el acceso al sistema."})&&r("users",O)},_=()=>{f(null),x({name:"",role:"cashier",pin:"",permissions:[]})},b=O=>{x({name:O.name,role:O.role,pin:O.pin,permissions:O.permissions||[]}),f(O.id),l(!0)},w=async()=>{if(!g.name)return await i({title:"Error",message:"El nombre es obligatorio"});if(!g.pin)return await i({title:"Error",message:"El PIN es obligatorio"});u?n("users",u,g):t("users",g),l(!1),_()},C=[{header:"Usuario",accessor:"name"},{header:"Rol",accessor:"role",render:O=>h.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase",style:{color:O.role==="admin"?"var(--accent-red)":O.role==="kitchen"?"var(--accent-orange)":"var(--accent-blue)",border:`1px solid ${O.role==="admin"?"var(--accent-red)":O.role==="kitchen"?"var(--accent-orange)":"var(--accent-blue)"}`,background:"transparent"},children:O.role==="kitchen"?"Cocina":O.role==="bar"?"Barra":O.role==="waiter"?"Mesero":O.role==="admin"?"Admin":O.role==="manager"?"Gerente":"Cajero"})},{header:"PIN",accessor:"pin",render:()=>"****"}],S=O=>h.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},title:"Editar Usuario",onClick:()=>b(O),children:h.jsx(Sp,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-red)"},title:"Eliminar Acceso",onClick:()=>y(O.id),children:h.jsx(qa,{size:16})})]});return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%",width:"100%"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[h.jsxs("h1",{style:{fontSize:d?"1.25rem":"2rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[h.jsx(GG,{size:d?22:28}),d?"Usuarios":"Gestin de Usuarios"]}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.4rem",whiteSpace:"nowrap",padding:d?"0.4rem 0.8rem":"0.6rem 1.2rem",fontSize:d?"0.85rem":"1rem"},onClick:()=>{_(),l(!0)},children:[h.jsx(AA,{size:d?16:20}),"Nuevo"]})]}),h.jsx("div",{className:"glass-panel",style:{padding:d?"0.6rem":"1rem",background:"rgba(255,255,255,0.05)"},children:h.jsx("p",{style:{fontSize:d?"0.75rem":"0.875rem"},className:"text-gray-300",children:"Aqu se administran los credenciales de acceso al sistema."})}),h.jsx(Kf,{columns:C,data:e.users||[],actions:S}),h.jsx(Ir,{isOpen:s,onClose:()=>{l(!1),f(null),x({name:"",role:"cashier",pin:"",permissions:[]})},title:u?"Editar Usuario":"Registrar Nuevo Usuario",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nombre de Usuario"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej: Juan Cajero",value:g.name,onChange:O=>x({...g,name:O.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Rol de Sistema"}),h.jsxs("select",{className:"glass-input w-full",value:g.role,onChange:O=>x({...g,role:O.target.value}),children:[h.jsx("option",{value:"admin",children:"Administrador (Acceso Total)"}),h.jsx("option",{value:"manager",children:"Gerente (Inventario + Ventas)"}),h.jsx("option",{value:"cashier",children:"Cajero (Ventas)"}),h.jsx("option",{value:"waiter",children:"Mesero (Tomar Pedidos)"}),h.jsx("option",{value:"kitchen",children:"Cocina (Pantalla de Cocina)"}),h.jsx("option",{value:"bar",children:"Barra (Pantalla de Barra)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"PIN de Acceso"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(xG,{size:20,className:"text-gray-400"}),h.jsx("input",{type:"password",className:"glass-input flex-1",placeholder:"****",value:g.pin,onChange:O=>x({...g,pin:O.target.value.replace(/\D/g,"")})})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Permisos Adicionales"}),h.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",padding:"0.5rem",background:"rgba(0,0,0,0.2)",borderRadius:"8px"},children:["Ver Reportes","Modificar Inventario","Gestionar Personal","Anular Ventas","Configuracin"].map(O=>h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",cursor:"pointer"},children:[h.jsx("input",{type:"checkbox",checked:g.permissions?.includes(O)||!1,onChange:F=>{const B=g.permissions||[];F.target.checked?x({...g,permissions:[...B,O]}):x({...g,permissions:B.filter(j=>j!==O)})},style:{accentColor:"var(--accent-blue)"}}),O]},O))})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:w,children:u?"Guardar Cambios":"Crear Usuario"})]})})]})},g0e=()=>{const{settings:e,updateSettings:t}=H1(),{exportData:r,importData:n,connectDrive:a,isDriveConnected:i,syncStatus:s,clearAllData:l,data:u,updateData:f,isLocalServerConnected:d,serverInfo:m,isServerLocked:g,setMasterKey:x,rescueFromExternalBackup:y,backupToCloud:_,restoreFromCloud:b,isMonitorMode:w,setIsMonitorMode:C}=Jn(),{confirm:S,alert:O}=$n(),[F,B]=T.useState(e),[j,k]=T.useState("general"),[P,I]=T.useState(tc.isEnabled),[R,N]=T.useState(tc.volume),[M,ce]=T.useState(window.innerWidth<=768);Nr.useEffect(()=>{const ie=()=>ce(window.innerWidth<=768);return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]);const fe=ie=>{const{name:me,value:be}=ie.target;B(de=>({...de,[me]:be}))},ae=async()=>{t(F),await O({title:"xito",message:"Configuracin guardada exitosamente."})};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"1rem"},children:[h.jsxs("button",{className:`glass-button ${j==="general"?"primary":""}`,onClick:()=>k("general"),style:{flex:"1 1 100px",minWidth:"110px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 0.5rem"},children:[h.jsx(wA,{size:20}),"General"]}),h.jsxs("button",{className:`glass-button ${j==="sync"?"primary":""}`,onClick:()=>k("sync"),style:{flex:"1 1 100px",minWidth:"110px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 0.5rem"},children:[h.jsx($1,{size:20}),"Sincronizacin"]}),h.jsxs("button",{className:`glass-button ${j==="users"?"primary":""}`,onClick:()=>k("users"),style:{flex:"1 1 100px",minWidth:"110px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 0.5rem"},children:[h.jsx(hv,{size:20}),"Usuarios"]}),h.jsxs("button",{className:`glass-button ${j==="payments"?"primary":""}`,onClick:()=>k("payments"),style:{flex:"1 1 100px",minWidth:"110px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 0.5rem"},children:[h.jsx(zf,{size:20}),"Pagos"]})]}),j==="users"?h.jsx(m0e,{}):j==="sync"?h.jsx(v0e,{data:u,isDriveConnected:i,connectDrive:a,syncStatus:s,exportData:r,importData:n,confirm:S,alert:O,isLocalServerConnected:d,serverInfo:m,backupToCloud:_,restoreFromCloud:b,isMonitorMode:w,setIsMonitorMode:C}):j==="payments"?h.jsx(x0e,{data:u,updateData:f,confirm:S,alert:O}):h.jsxs(h.Fragment,{children:[h.jsx("h1",{style:{fontSize:"2rem"},children:"Configuracin"}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",width:"100%",maxWidth:"600px",alignSelf:"center"},children:[h.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.25rem"},children:"Personalizacin de la Marca"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Nombre de la Empresa"}),h.jsx("input",{type:"text",name:"appName",value:F.appName,onChange:fe,className:"glass-input",style:{fontSize:"1rem"}})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Subttulo / Eslogan"}),h.jsx("input",{type:"text",name:"appSubtitle",value:F.appSubtitle,onChange:fe,className:"glass-input",style:{fontSize:"1rem"}})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[h.jsxs("div",{style:{flex:"1 1 150px"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Color Logo 1"}),h.jsx("input",{type:"color",name:"logoColor1",value:F.logoColor1,onChange:fe,style:{width:"100%",height:"40px",borderRadius:"8px",border:"none",background:"transparent",cursor:"pointer"}})]}),h.jsxs("div",{style:{flex:"1 1 150px"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Color Logo 2"}),h.jsx("input",{type:"color",name:"logoColor2",value:F.logoColor2,onChange:fe,style:{width:"100%",height:"40px",borderRadius:"8px",border:"none",background:"transparent",cursor:"pointer"}})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Ancho del Men Lateral"}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[h.jsx("button",{className:`glass-button ${F.sidebarWidth==="180px"?"primary":""}`,style:{flex:"1 1 80px",fontSize:"0.9rem",padding:"0.5rem"},onClick:()=>B(ie=>({...ie,sidebarWidth:"180px"})),children:"Compacto"}),h.jsx("button",{className:`glass-button ${F.sidebarWidth==="200px"?"primary":""}`,style:{flex:"1 1 80px",fontSize:"0.9rem",padding:"0.5rem"},onClick:()=>B(ie=>({...ie,sidebarWidth:"200px"})),children:"Normal"}),h.jsx("button",{className:`glass-button ${F.sidebarWidth==="240px"?"primary":""}`,style:{flex:"1 1 80px",fontSize:"0.9rem",padding:"0.5rem"},onClick:()=>B(ie=>({...ie,sidebarWidth:"240px"})),children:"Ancho"})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"1rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[h.jsx(pK,{size:20,color:"var(--accent-blue)"}),h.jsx("h3",{style:{fontSize:"1.1rem",margin:0},children:"Notificaciones de Audio"})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[h.jsx("label",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Activar sonidos"}),h.jsx("button",{className:`glass-button ${P?"primary":""}`,onClick:()=>{const ie=!P;I(ie),tc.setEnabled(ie)},style:{padding:"0.5rem 1rem",fontSize:"0.85rem"},children:P?" Activado":" Desactivado"})]}),P&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{marginBottom:"1rem"},children:[h.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:["Volumen: ",Math.round(R*100),"%"]}),h.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:R,onChange:ie=>{const me=parseFloat(ie.target.value);N(me),tc.setVolume(me)},style:{width:"100%",height:"6px",borderRadius:"3px",background:`linear-gradient(to right, var(--accent-blue) 0%, var(--accent-blue) ${R*100}%, rgba(255,255,255,0.2) ${R*100}%, rgba(255,255,255,0.2) 100%)`,outline:"none",cursor:"pointer"}})]}),h.jsx("button",{className:"glass-button accent",onClick:()=>tc.testSound(),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:" Probar Sonido"}),h.jsx("p",{style:{fontSize:"0.75rem",marginTop:"0.75rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:"Los sonidos te alertarn cuando lleguen nuevos pedidos a cocina y cuando estn listos para servir."})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[h.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Sincronizacin en la Nube"}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0,100,255,0.1)",border:"1px solid var(--accent-blue)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[h.jsx(Uh,{size:20,style:{color:"var(--accent-blue)"}}),h.jsx("span",{style:{fontWeight:"bold",color:"var(--accent-blue)"},children:"Firebase Cloud Sync"})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85rem",marginTop:"0.5rem"},children:[h.jsx("span",{children:"Estado:"}),s==="idle"&&h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Sincronizado "}),s==="syncing"&&h.jsx("span",{style:{color:"var(--accent-orange)"},children:"Guardando..."}),s==="success"&&h.jsx("span",{style:{color:"var(--accent-green)"},children:"Guardado "}),s==="error"&&h.jsx("span",{style:{color:"var(--accent-red)"},children:"Error al sincronizar"})]}),h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:"Backup local: INMEDIATO | Cloud: ~2s"})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[h.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Copia de Seguridad Manual"}),h.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[h.jsxs("button",{className:"glass-button",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:r,children:[h.jsx(tG,{size:18}),"Descargar Respaldo"]}),h.jsxs("label",{className:"glass-button accent",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",cursor:"pointer"},children:[h.jsx(SA,{size:18}),"Restaurar Copia",h.jsx("input",{type:"file",accept:".json",style:{display:"none"},onChange:async ie=>{ie.target.files[0]&&await S({title:"Restaurar Copia",message:"Ests seguro? Esto reemplazar TODOS los datos actuales."})&&n(ie.target.files[0])}})]}),h.jsxs("button",{className:"glass-button",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",background:"rgba(255,255,255,0.05)"},onClick:y,children:[h.jsx(QP,{size:18,color:"var(--accent-orange)"})," Rescate desde Documentos"]}),h.jsxs("label",{className:"glass-button primary",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",cursor:"pointer"},children:[h.jsx(qP,{size:18}),"Importar Excel",h.jsx("input",{type:"file",accept:".xls,.xlsx",style:{display:"none"},onChange:async ie=>{const me=ie.target.files[0];if(me){try{const be=await me.arrayBuffer(),de=Tu(be),U=de.SheetNames[0],Z=de.Sheets[U],te=q9.sheet_to_json(Z,{header:"A"}),W=Date.now(),xe=[{id:"comida",label:"Comida",keywords:["hamburguesa","burger","carne","doble","triple","bacon","queso","bbq","angus","wagyu","cheeseburger","pizza","perro","hot dog","salchicha","pollo","frito","asado","parrilla","bistec","solomo","punta","costilla","cerdo","chuleta","pescado","sandwich","pan","pepito","enrollado","shawarma","tostada","arepa","cachapa","taco","burrito","quesadilla","nachos","papas","fritas","yuca","aros","cebolla","pure","arroz","platano","tostones","tajadas","ensalada","cesar","aguacate","aceite","mantequilla"]},{id:"bebidas",label:"Bebidas",keywords:["bebida","refresco","jugo","agua","energizante","cola","pepsi","fanta","sprite","malta","te","t","cafe","caf","limonada","naranja","manzana","batido","smoothie","soda","coca","cerveza","licor","vino","ron","whisky","vodka"]},{id:"sopas",label:"Sopas",keywords:["sopa","caldo","consom","crema","sancocho","mondongo","hervido","fosforera","gallina","res","costilla","lagarto","pescado","mariscos","chupe","ajiaco","potaje","lentejas","caraotas","granos"]},{id:"dulces",label:"Dulces",keywords:["postre","dulce","helado","torta","pastel","cake","flan","gelatina","brownie","pie","mousse","quesillo","tres leches","marquesa","tiramisu","galleta","cookie","chocolate","vainilla","fresa","arequipe","nutella","donas","churros"]}],Te=Q=>{const ue=Q.toLowerCase();for(const q of xe)if(q.keywords.some(K=>{try{return new RegExp(`\\b${K}\\b`,"i").test(ue)}catch{return ue.includes(K)}}))return q.id;return"General"},Ne=new Map;te.forEach((Q,ue)=>{const q=Q.A,K=Q.L,H=Q.P;if(typeof q!="string"||!q)return;const ve=q.trim();if(ve==="Nombre"||ve.includes("Periodo")||ve.includes("Mensual")||/^\d+$/.test(ve)||H==null)return;const Fe=typeof H=="number"?H:parseFloat(String(H).replace(",",".")),Se=typeof K=="number"?K:parseFloat(String(K).replace(",","."));if(isNaN(Fe))return;const Ge={id:`imported_${W}_${ue}`,name:ve,price:Fe,cost:isNaN(Se)?0:Se,category:Te(ve),image:null,stock:0};Ne.set(ve,Ge)});const X=Array.from(Ne.values());X.length>0?await S({title:"Importar Productos",message:`Se encontraron ${X.length} productos vlidos.

Ejemplos:
- ${X[0].name} ($${X[0].price})

Desea REEMPLAZAR la lista actual con estos productos?`})&&(f("products",X),await O({title:"xito",message:`${X.length} productos importados exitosamente. La lista anterior ha sido reemplazada.`})):await O({title:"Aviso",message:"No se encontraron productos vlidos. Verifique que las columnas A (Nombre) y P (Precio) contengan datos."})}catch(be){console.error("Error importing excel:",be),await O({title:"Error",message:"Error al procesar el archivo Excel."})}ie.target.value=""}}})]})]})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[h.jsxs("div",{style:{marginBottom:"1.5rem"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"PIN Maestro (Acceso Admin Universal)"}),h.jsx("input",{type:"text",name:"masterPin",value:F.masterPin||"0000",onChange:fe,className:"glass-input",style:{maxWidth:"150px",letterSpacing:"2px",textAlign:"center",fontWeight:"bold"}}),h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:"Este PIN otorga acceso total si alguien olvida su clave."})]}),h.jsxs("button",{className:"glass-button accent",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"1rem"},onClick:()=>k("users"),children:[h.jsx(hv,{size:20}),"Gestionar Usuarios y Permisos"]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[h.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Configuracin de Ventas"}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"% Descuento por defecto en Divisas (Autorizado)"}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("input",{type:"number",className:"glass-input",style:{width:"100px"},placeholder:"0",defaultValue:u.defaultForeignCurrencyDiscountPercent||0,onChange:ie=>{const me=parseFloat(ie.target.value);f("defaultForeignCurrencyDiscountPercent",isNaN(me)?0:me)}}),h.jsx("span",{style:{alignSelf:"center"},children:"%"})]}),h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:'Este porcentaje se aplicar automticamente al seleccionar "Promo Divisas" en el POS.'})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[h.jsxs("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(gc,{size:20,color:"var(--accent-blue)"})," Actualizaciones del Sistema"]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[h.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:"Mantn tu sistema actualizado con las ltimas mejoras en seguridad, UI y funciones de cocina en tiempo real."}),h.jsxs("button",{className:"glass-button primary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem"},onClick:async()=>{try{const ie=document.activeElement;ie.style.opacity="0.5",ie.disabled=!0,ie.innerHTML="Buscando actualizaciones...";const me=/Android/i.test(navigator.userAgent),de=window.Capacitor?.isNative||me?"http://127.0.0.1:3001":"";window.socket&&(window.socket.off("ota_progress"),window.socket.on("ota_progress",te=>{const{percent:W,downloaded:xe,total:Te,status:Ne}=te;ie.innerHTML=`${Ne==="downloading"?"Descargando":Ne}: ${W}% (${xe}/${Te} MB)`,ie.style.background=`linear-gradient(90deg, #4f46e5 ${W}%, #374151 ${W}%)`}),window.socket.off("ota_status"),window.socket.on("ota_status",te=>{const W={checking:"Buscando...",found:"Versin encontrada",extracting:" Descomprimiendo...",installing:" Instalando...",error:"Error"};W[te.status]&&(ie.innerHTML=W[te.status])})),console.log(" Checking for updates at:",`${de}/api/check-update`);const Z=await(await fetch(`${de}/api/check-update`)).json();window.socket&&(window.socket.off("ota_progress"),window.socket.off("ota_status")),ie.style.background="",Z.updated?await O({title:"Actualizacin Aplicada!",message:`Se ha descargado e instalado la versin ${Z.newVersion}.

El servidor se reiniciar automticamente en unos segundos para aplicar los cambios.`}):Z.error?await O({title:"Aviso",message:"No se pudo conectar con el servidor de actualizaciones. Revisa tu conexin a internet."}):await O({title:"Sistema al da",message:"Ya tienes la versin ms reciente instalada."})}catch{await O({title:"Error",message:"Hubo un error al buscar actualizaciones."})}finally{window.location.reload()}},children:[h.jsx(gc,{size:18}),"Buscar Actualizaciones Ahora"]})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"2rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",opacity:.8},children:[h.jsx("h3",{style:{fontSize:"1rem",color:"var(--text-secondary)"},children:"Acerca de este Sistema"}),h.jsxs("p",{style:{fontSize:"0.9rem",textAlign:"center"},children:["Desarrollado con las ltimas tecnologas por ",h.jsx("br",{}),h.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold"},children:"Luvin Rafael Bustillos"})]}),h.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem",textAlign:"center"},children:[h.jsxs("div",{className:"text-sm font-medium text-gray-400",children:["Versin del Sistema ",m?.version||wE]}),h.jsx("div",{className:"text-[10px] text-gray-600 font-mono mt-1",children:"ID de Aplicacin: com.laautentica.pos"})]})]}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"1rem",padding:"1rem"},onClick:ae,children:[h.jsx(Uh,{size:20}),"Guardar Cambios"]})]})]})]})},x0e=({data:e,updateData:t,confirm:r,alert:n})=>{const[a,i]=T.useState({name:"",currency:"Bs",color:"#1d6335"}),s=e.paymentMethods||[],l=()=>{if(!a.name)return;const f={...a,id:`pm_${Date.now()}`};t("paymentMethods",[...s,f]),i({name:"",currency:"Bs",color:"#1d6335"})},u=async f=>{await r({title:"Eliminar Mtodo",message:"Ests seguro de que quieres eliminar este mtodo de pago?"})&&t("paymentMethods",s.filter(m=>m.id!==f))};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[h.jsx("h1",{style:{fontSize:"2rem"},children:"Mtodos de Pago"}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[h.jsxs("h2",{style:{marginBottom:"1.5rem",fontSize:"1.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(UP,{size:20,color:"var(--accent-green)"})," Nomenclaturas de Billetes"]}),h.jsxs("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap"},children:[h.jsxs("div",{style:{flex:"1 1 200px"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:"Billetes de Bolvares (Bs)"}),h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:(e.denominationsBS||[500,200,100,50,20,10]).map(f=>h.jsxs("div",{className:"glass-panel px-3 py-1 text-xs flex items-center gap-2 border-white/10",children:[f,h.jsx("button",{onClick:()=>{const d=e.denominationsBS||[500,200,100,50,20,10];t("denominationsBS",d.filter(m=>m!==f))},style:{color:"var(--accent-red)",border:"none",background:"none"},children:h.jsx(Fs,{size:12})})]},f))}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("input",{type:"number",id:"new_denom_bs",className:"glass-input text-sm p-2 w-24",placeholder:"Valor..."}),h.jsx("button",{className:"glass-button primary p-2",onClick:()=>{const f=parseFloat(document.getElementById("new_denom_bs").value);if(!f)return;const d=e.denominationsBS||[500,200,100,50,20,10];d.includes(f)||t("denominationsBS",[...d,f].sort((m,g)=>g-m)),document.getElementById("new_denom_bs").value=""},children:h.jsx(fs,{size:16})})]})]}),h.jsxs("div",{style:{flex:"1 1 200px"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:"Billetes de Dlares ($)"}),h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:(e.denominationsUSD||[100,50,20,10,5,2,1]).map(f=>h.jsxs("div",{className:"glass-panel px-3 py-1 text-xs flex items-center gap-2 border-white/10",children:[f,h.jsx("button",{onClick:()=>{const d=e.denominationsUSD||[100,50,20,10,5,2,1];t("denominationsUSD",d.filter(m=>m!==f))},style:{color:"var(--accent-red)",border:"none",background:"none"},children:h.jsx(Fs,{size:12})})]},f))}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("input",{type:"number",id:"new_denom_usd",className:"glass-input text-sm p-2 w-24",placeholder:"Valor..."}),h.jsx("button",{className:"glass-button primary p-2",onClick:()=>{const f=parseFloat(document.getElementById("new_denom_usd").value);if(!f)return;const d=e.denominationsUSD||[100,50,20,10,5,2,1];d.includes(f)||t("denominationsUSD",[...d,f].sort((m,g)=>g-m)),document.getElementById("new_denom_usd").value=""},children:h.jsx(fs,{size:16})})]})]})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[h.jsxs("h2",{style:{marginBottom:"1.5rem",fontSize:"1.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(fs,{size:20,color:"var(--accent-blue)"})," Agregar Nuevo Mtodo"]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"flex-end"},children:[h.jsxs("div",{style:{flex:"2 1 200px"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Nombre (ej. Punto Banesco)"}),h.jsx("input",{type:"text",className:"glass-input",value:a.name,onChange:f=>i({...a,name:f.target.value}),placeholder:"Nombre del mtodo..."})]}),h.jsxs("div",{style:{flex:"1 1 100px"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Moneda"}),h.jsxs("select",{className:"glass-input",value:a.currency,onChange:f=>i({...a,currency:f.target.value}),children:[h.jsx("option",{value:"Bs",children:"Bolvares (Bs)"}),h.jsx("option",{value:"USD",children:"Dlares ($)"})]})]}),h.jsxs("div",{style:{flex:"1 1 80px"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Color"}),h.jsx("input",{type:"color",value:a.color,onChange:f=>i({...a,color:f.target.value}),style:{width:"100%",height:"42px",borderRadius:"8px",border:"none",background:"transparent",cursor:"pointer"}})]}),h.jsx("button",{className:"glass-button primary",onClick:l,style:{height:"42px",padding:"0 1.5rem"},children:h.jsx(fs,{size:20})})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem"},children:[h.jsx("h2",{style:{marginBottom:"1rem",fontSize:"1.25rem"},children:"Mtodos Registrados"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[s.map(f=>h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:f.color,boxShadow:`0 0 10px ${f.color}66`}}),h.jsxs("div",{children:[h.jsx("div",{style:{fontWeight:"bold"},children:f.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest",children:"Moneda:"}),h.jsxs("select",{className:"bg-transparent text-[10px] font-black text-blue-400 border-none p-0 cursor-pointer focus:ring-0",value:f.currency,onChange:d=>{const m=s.map(g=>g.id===f.id?{...g,currency:d.target.value}:g);t("paymentMethods",m)},children:[h.jsx("option",{value:"Bs",className:"bg-[#1a1a1a]",children:"Bolvares (Bs)"}),h.jsx("option",{value:"USD",className:"bg-[#1a1a1a]",children:"Dlares ($)"})]})]})]})]}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",border:"none",color:"var(--accent-red)"},onClick:()=>u(f.id),children:h.jsx(qa,{size:18})})]},f.id)),s.length===0&&h.jsx("div",{style:{padding:"2rem",textAlign:"center",opacity:.5},children:"No hay mtodos de pago configurados."})]})]}),h.jsxs("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",padding:"0 1rem"},children:[h.jsx(zh,{size:14,style:{verticalAlign:"middle",marginRight:"4px"}}),"Estos mtodos aparecern como opciones disponibles en la pantalla de cobro del POS."]})]})},v0e=({data:e,isDriveConnected:t,connectDrive:r,syncStatus:n,exportData:a,importData:i,confirm:s,alert:l,isLocalServerConnected:u,serverInfo:f,backupToCloud:d,restoreFromCloud:m,isMonitorMode:g,setIsMonitorMode:x})=>{const[y,_]=T.useState(localStorage.getItem("pos_server_url")||""),b=()=>{y?localStorage.setItem("pos_server_url",y):localStorage.removeItem("pos_server_url"),window.location.reload()},w=f?.ip||window.location.hostname;return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[h.jsx("h1",{style:{fontSize:"2rem"},children:"Sincronizacin"}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[h.jsx($1,{size:24,color:"var(--accent-blue)"}),h.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:"Sincronizacin Local (WiFi)"})]}),h.jsxs("div",{style:{padding:"1rem",borderRadius:"12px",background:u?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",border:`1px solid ${u?"var(--accent-green)":"var(--accent-red)"}`,marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:u?"var(--accent-green)":"var(--accent-red)",boxShadow:`0 0 10px ${u?"var(--accent-green)":"var(--accent-red)"}`}}),h.jsxs("div",{children:[h.jsxs("p",{style:{fontWeight:"bold",margin:0},children:["Estado: ",u?"CONECTADO AL SERVIDOR":"SERVIDOR DESCONECTADO"]}),h.jsx("p",{style:{fontSize:"0.85rem",margin:"0.25rem 0 0",opacity:.8},children:u?`Conectado a ${f?.ip}:${f?.port}`:"El servidor principal debe estar encendido para sincronizar otros dispositivos."})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255,255,255,0.02)",marginBottom:"1.5rem"},children:[h.jsxs("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(SE,{size:18})," Direccin de Red"]}),h.jsx("p",{style:{fontSize:"0.9rem",marginBottom:"1rem",color:"var(--text-secondary)"},children:"Para que otros dispositivos (celulares, tablets) se conecten, diles que entren a esta direccin en su navegador:"}),h.jsxs("div",{style:{background:"#000",padding:"1rem",borderRadius:"8px",fontSize:"1rem",textAlign:"center",fontWeight:"bold",color:"var(--accent-blue)",fontFamily:"monospace",border:"1px solid rgba(0, 242, 255, 0.3)",wordBreak:"break-all",overflowWrap:"anywhere"},children:["http://",w,":3000"]})]}),h.jsx(y0e,{confirm:s,alert:l}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem"},children:[h.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"Configuracin Avanzada"}),h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"URL Manual del Servidor (Opcional)"}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("input",{type:"text",className:"glass-input",placeholder:`http://${w}:3001`,value:y,onChange:C=>_(C.target.value)}),h.jsx("button",{className:"glass-button primary",onClick:b,children:h.jsx(gc,{size:18})})]})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",border:"1px solid rgba(255,165,0,0.2)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[h.jsx(SE,{size:24,color:"#ff9d00"}),h.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:"Sincronizacin Cloud (Firebase)"})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255,165,0,0.05)",marginBottom:"1.5rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[h.jsxs("div",{children:[h.jsx("p",{style:{fontWeight:"bold",margin:0},children:"Autoguardado en Tiempo Real"}),h.jsx("p",{style:{fontSize:"0.75rem",opacity:.7,margin:"0.25rem 0 0"},children:"Sincroniza tus datos automticamente con la nube."})]}),h.jsx("button",{className:`glass-button ${localStorage.getItem("cloud_sync_enabled")==="true"?"primary":""}`,onClick:()=>{const C=localStorage.getItem("cloud_sync_enabled")==="true";localStorage.setItem("cloud_sync_enabled",(!C).toString()),window.location.reload()},style:{padding:"0.5rem 1rem"},children:localStorage.getItem("cloud_sync_enabled")==="true"?" Activado":" Desactivado"})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85rem",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"0.75rem"},children:[h.jsx("span",{children:"Estado de Nube:"}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n==="syncing"&&h.jsxs("span",{style:{color:"var(--accent-orange)"},children:[h.jsx(gc,{size:14,className:"animate-spin"})," Sincronizando..."]}),n==="success"&&h.jsx("span",{style:{color:"var(--accent-green)"},children:" Datos Seguros"}),n==="error"&&h.jsx("span",{style:{color:"var(--accent-red)"},children:" Error de Conexin"}),n==="idle"&&h.jsx("span",{style:{color:"var(--text-secondary)"},children:"En espera"})]})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85rem",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"0.75rem",marginTop:"0.75rem"},children:[h.jsxs("div",{children:[h.jsx("p",{style:{fontWeight:"bold",margin:0,color:g?"var(--accent-blue)":"inherit"},children:" Modo Monitor (Remoto)"}),h.jsx("p",{style:{fontSize:"0.75rem",opacity:.7,margin:"0.25rem 0 0"},children:g?"Recibiendo datos en tiempo real de la nube.":"Usa este modo en dispositivos fuera del negocio."})]}),h.jsx("button",{className:`glass-button ${g?"primary":""}`,onClick:async()=>{await s({title:g?"Desactivar Modo Monitor":"Activar Modo Monitor",message:g?"Volver al modo de servidor local?":"El Modo Monitor permite ver ventas y carritos en vivo desde cualquier lugar. Activar ahora? (Se reiniciar la app)"})&&x(!g)},style:{padding:"0.5rem 1rem"},children:g?" Activo":"Activar"})]})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[h.jsxs("button",{className:"glass-button accent",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:()=>d(),children:[h.jsx(Uh,{size:18}),"RESPALDO NUBE"]}),h.jsxs("button",{className:"glass-button",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",background:"rgba(255,255,255,0.05)"},onClick:()=>m(),children:[h.jsx(QP,{size:18}),"RESTAURAR NUBE"]})]})]})]})},y0e=({confirm:e,alert:t})=>{const[r,n]=T.useState([]),[a,i]=T.useState(!1),s=async()=>{i(!0),n([]);try{const d=new AbortController,m=setTimeout(()=>d.abort(),3e3),g=await fetch("http://localhost:3000/api/scan-servers",{signal:d.signal});clearTimeout(m);const x=await g.json();n(x.servers||[])}catch(d){console.error("Scan error:",d),await t({title:"Error de Escaneo",message:"No se pudo escanear la red. Asegrate de que este dispositivo tenga el servicio Node.js corriendo."})}finally{i(!1)}},l=async d=>{await e({title:"Conectar a Servidor",message:`Deseas conectar este dispositivo al servidor en ${d}?

La aplicacin se recargar y sincronizar datos con el servidor principal.`})&&(localStorage.setItem("remote_server_ip",d),localStorage.setItem("pos_server_url",`http://${d}:3000`),window.location.reload())},u=()=>{localStorage.removeItem("remote_server_ip"),localStorage.removeItem("pos_server_url"),window.location.reload()},f=localStorage.getItem("remote_server_ip");return h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginBottom:"1.5rem"},children:[h.jsxs("h3",{style:{fontSize:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx($1,{size:18})," Escner de Dispositivos (Auto-Discover)"]}),f?h.jsxs("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.1)",border:"1px solid var(--accent-green)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("div",{children:[h.jsx("strong",{style:{color:"var(--accent-green)"},children:"Conectado Remotamente"}),h.jsxs("div",{style:{fontSize:"0.9rem"},children:["IP Servidor: ",f]})]}),h.jsx("button",{className:"glass-button",onClick:u,style:{color:"var(--accent-red)"},children:"Desconectar"})]}):h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("button",{className:`glass-button ${a?"":"primary"}`,onClick:s,disabled:a,style:{display:"flex",justifyContent:"center",gap:"0.5rem"},children:[h.jsx(gc,{size:18,className:a?"animate-spin":""}),a?"Escaneando Red Local...":"Buscar Servidores en WiFi"]}),r.length>0&&h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[h.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Servidores encontrados:"}),r.map((d,m)=>h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255,255,255,0.05)"},children:[h.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[h.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--accent-green)"}}),h.jsxs("div",{children:[h.jsx("div",{style:{fontWeight:"bold"},children:d.name||"Servidor POS"}),h.jsxs("div",{style:{fontSize:"0.8rem",opacity:.7},children:[d.ip,":",d.port," (v",d.version,")"]})]})]}),d.isSelf?h.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"(Este dispositivo)"}):h.jsx("button",{className:"glass-button primary",style:{fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>l(d.ip),children:"Conectar"})]},m))]}),r.length===0&&!a&&h.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",fontStyle:"italic"},children:"Presiona buscar para encontrar servidores activos en tu red WiFi."})]})]})},b0e=()=>{const{login:e}=Gf(),{alert:t}=$n(),r=Xu(),[n,a]=T.useState(""),[i,s]=T.useState(""),[l,u]=T.useState(""),[f,d]=T.useState(!1),[m,g]=T.useState(localStorage.getItem("server_ip")||""),x=async()=>{localStorage.setItem("server_ip",m),d(!1),await t({title:"Configuracin",message:"Configuracin guardada"})},y=async _=>{_.preventDefault(),u("");const b=await e(n,i);b.success?r("/"):u(b.message)};return h.jsx("div",{className:"login-container",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"1rem",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"white"},children:h.jsxs("div",{className:"glass-panel",style:{padding:"2rem",width:"100%",maxWidth:"400px",textAlign:"center",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[h.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"-1rem"},children:h.jsx("button",{onClick:()=>d(!f),style:{background:"none",border:"none",color:"#666",cursor:"pointer"},children:h.jsx(wA,{size:16})})}),f&&h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0,0,0,0.5)",marginBottom:"1rem"},children:[h.jsx("p",{style:{fontSize:"0.9rem",margin:"0 0 0.5rem 0"},children:"IP Servidor Central"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej. 192.168.1.15",value:m,onChange:_=>g(_.target.value),style:{width:"100%",padding:"0.5rem",marginBottom:"0.5rem"}}),h.jsx("button",{className:"glass-button accent",onClick:x,style:{width:"100%"},children:"Guardar Conexin"})]}),h.jsxs("div",{children:[h.jsx("h2",{style:{margin:0,fontSize:"2rem",fontWeight:"bold"},children:"La Autntica"}),h.jsx("p",{style:{margin:"0.5rem 0 0",color:"#aaa"},children:"Sistema POS"})]}),h.jsxs("form",{onSubmit:y,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsx("input",{type:"text",className:"glass-input",placeholder:"Usuario",value:n,onChange:_=>a(_.target.value),style:{padding:"1rem",fontSize:"1rem"},autoFocus:!0}),h.jsx("input",{type:"password",className:"glass-input",placeholder:"Contrasea",value:i,onChange:_=>s(_.target.value),style:{padding:"1rem",fontSize:"1rem"}}),l&&h.jsx("p",{style:{color:"#ff6b6b",fontSize:"0.9rem",margin:0},children:l}),h.jsx("button",{type:"submit",className:"glass-button primary",style:{padding:"1rem",fontSize:"1.1rem",marginTop:"0.5rem"},children:"Iniciar Sesin"})]})]})})},_0e=()=>{const{data:e,updateItem:t,addItem:r,deleteItem:n,cancelHeldOrder:a,activeCarts:i={}}=Jn(),{confirm:s}=$n(),l=Xu(),u=e.tables||[],[f,d]=T.useState("Todas"),[m,g]=T.useState("tables"),[x,y]=T.useState(null),[_,b]=T.useState(!1),[w,C]=T.useState(!1),[S,O]=T.useState(null),[F,B]=Nr.useState(window.innerWidth<=768);Nr.useEffect(()=>{const U=()=>B(window.innerWidth<=768);return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]);const[j,k]=T.useState(""),[P,I]=T.useState("Restaurante"),R=["Restaurante","Quesera","Patio","Barra Restaurante","Barra Quesera"],N=f==="Todas"?u:u.filter(U=>(U.area||"Restaurante")===f),M=U=>{l(`/?tableId=${U.id}`)},ce=(U,Z)=>{U.stopPropagation(),y(Z),k(Z.name),I(Z.area||"Restaurante")},fe=async(U,Z)=>{if(U.stopPropagation(),Z.status!=="occupied")return;await s({title:"Cancelar Pedido",message:`Ests seguro de CANCELAR el pedido de la ${Z.name}? Esta accin no se puede deshacer y liberar la mesa.`})&&(Z.currentOrderId?a(Z.currentOrderId):t("tables",Z.id,{status:"available",currentOrderId:null}))},ae=()=>{x&&j.trim()&&(t("tables",x.id,{name:j.trim(),area:P}),y(null))},ie=async()=>{x&&await s({title:"Eliminar Mesa",message:`Ests seguro de eliminar "${x.name}"?`})&&(n("tables",x.id),y(null))},me=()=>{if(j.trim()){const U={id:Date.now(),name:j.trim(),area:P,status:"available",currentOrder:[]};r("tables",U),b(!1),k(""),I("Restaurante")}},be=()=>{k(`Mesa ${u.length+1}`),I(f==="Todas"?"Restaurante":f),b(!0)},de=async(U,Z)=>{await s({title:"Copiar Carrito",message:`Deseas copiar los items del carrito de "${Z.username}" a tu sesin actual?`})&&(localStorage.setItem("pos_cart",JSON.stringify(Z.cart)),l("/"))};return h.jsxs("div",{style:{padding:F?"1rem":"1.5rem",height:"100%",overflowY:"auto",display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:F?"column":"row",alignItems:F?"stretch":"center",justifyContent:"space-between",gap:"1rem",marginBottom:"0.5rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",justifyContent:"space-between"},children:[h.jsxs("h1",{style:{margin:0,fontSize:F?"1.25rem":"1.75rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(_A,{className:"text-orange-400",size:F?24:32}),F?"Mesas y Pedidos":"Gestin de Pedidos"]}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("button",{onClick:()=>C(!0),className:"glass-button",style:{padding:"0.5rem",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Historial de Pedidos",children:h.jsx(pG,{size:18})}),h.jsxs("button",{onClick:be,className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:F?"0.2rem 0.6rem":"0.5rem 1rem",fontSize:F?"0.8rem":"0.9rem",height:"36px"},children:[h.jsx(fs,{size:16}),h.jsx("span",{children:"Nueva Mesa"})]})]})]}),!F&&h.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",padding:"0.5rem",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.7rem"},children:[h.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#22c55e",boxShadow:"0 0 5px #22c55e"}}),h.jsx("span",{style:{opacity:.8},children:"Libre"})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.7rem"},children:[h.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#ef4444",boxShadow:"0 0 5px #ef4444"}}),h.jsx("span",{style:{opacity:.8},children:"Ocupada"})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.7rem"},children:[h.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#f59e0b",boxShadow:"0 0 5px #f59e0b"}}),h.jsx("span",{style:{opacity:.8},children:"Reservada"})]})]})]}),h.jsxs("div",{className:`no-scrollbar ${F?"grid grid-cols-2":"flex"}`,style:{gap:"0.5rem",overflowX:"auto",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",marginBottom:"1.25rem",flexShrink:0},children:[h.jsx("button",{onClick:()=>g("tables"),className:`glass-button ${m==="tables"?"primary":""}`,style:{padding:"0.4rem 0.6rem",fontSize:"0.75rem",whiteSpace:"nowrap",borderRadius:"10px"},children:"Mesas"}),h.jsxs("button",{onClick:()=>g("orders"),className:`glass-button ${m==="orders"?"primary":""}`,style:{padding:"0.4rem 0.6rem",fontSize:"0.75rem",whiteSpace:"nowrap",borderRadius:"10px"},children:["Pedidos (",(e.heldOrders||[]).filter(U=>!U.isProduction||U.status==="ready").length,")"]}),h.jsxs("button",{onClick:()=>g("active_carts"),className:`glass-button ${m==="active_carts"?"primary":""}`,style:{padding:"0.4rem 0.6rem",fontSize:"0.75rem",whiteSpace:"nowrap",borderRadius:"10px",gridColumn:F?"span 2":"auto",border:m==="active_carts"?"1px solid var(--accent-orange)":"1px solid rgba(255,165,0,0.3)",color:m==="active_carts"?"white":"var(--accent-orange)"},children:["Carritos Activos (",Object.keys(i).length,")"]}),m==="tables"&&h.jsxs("div",{className:`no-scrollbar ${F?"col-span-2 flex":"flex"}`,style:{gap:"0.5rem",overflowX:"auto"},children:[!F&&h.jsx("div",{style:{width:"1px",background:"rgba(255,255,255,0.1)",margin:"0 0.5rem"}}),["Todas",...R].map(U=>h.jsx("button",{onClick:()=>d(U),className:`glass-button ${f===U?"active":""}`,style:{padding:"0.4rem 0.8rem",fontSize:"0.75rem",whiteSpace:"nowrap",borderRadius:"10px",border:f===U?"1px solid var(--accent-blue)":"1px solid transparent",background:f===U?"rgba(0, 212, 255, 0.1)":"rgba(255,255,255,0.05)"},children:U},U))]})]}),m==="tables"&&h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 pb-20",children:N.map(U=>h.jsxs("div",{onClick:()=>M(U),className:`
                            relative group p-4 rounded-xl border backdrop-blur-md transition-all duration-300
                            hover:scale-[1.02] hover:shadow-lg cursor-pointer flex flex-col justify-between h-[180px]
                            ${U.status==="occupied"?"border-red-500/30 bg-red-500/10":U.status==="reserved"?"border-amber-500/30 bg-amber-500/10":"border-green-500/30 bg-green-500/10"}`,children:[h.jsx("div",{className:`
                            absolute top-3 right-3 w-3 h-3 rounded-full shadow-[0_0_8px]
                            ${U.status==="occupied"?"bg-red-500 shadow-red-500/50":U.status==="reserved"?"bg-amber-500 shadow-amber-500/50":"bg-green-500 shadow-green-500/50"}`}),U.status==="occupied"&&h.jsx("button",{onClick:Z=>fe(Z,U),className:"absolute top-3 left-3 p-1.5 rounded-full hover:bg-red-500/20 text-red-400 hover:text-red-300 transition-colors z-20",title:"Cancelar Pedido y Liberar Mesa",children:h.jsx(qa,{size:16})}),h.jsxs("div",{style:{textAlign:"center",marginTop:"1rem"},children:[h.jsx("h3",{style:{margin:"0 0 0.25rem 0",fontSize:F?"1.25rem":"1.5rem",fontWeight:"bold",color:"white"},children:U.name}),h.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.2rem 0.6rem",borderRadius:"12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",fontSize:"0.7rem",color:"rgba(255,255,255,0.8)"},children:[h.jsx(AE,{size:12}),U.area||"Restaurante"]})]}),U.status==="occupied"&&h.jsxs("div",{className:"mt-auto pt-3 border-t border-white/10 flex justify-between items-center text-sm",children:[h.jsxs("div",{className:"flex items-center gap-1.5 text-white/70",children:[h.jsx(bu,{size:14}),h.jsx("span",{children:U.occupiedAt?new Date(U.occupiedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"})]}),h.jsxs("div",{className:"font-medium text-white",children:["$",U.total?.toLocaleString()||"0"]})]}),U.status!=="occupied"&&h.jsx("div",{className:"mt-auto pt-3 border-t border-white/10 text-center",children:h.jsx("span",{className:`text-sm font-medium ${U.status==="reserved"?"text-amber-400":"text-green-400"}`,children:U.status==="reserved"?"Reservada":"Disponible"})}),h.jsx("button",{onClick:Z=>ce(Z,U),className:`absolute bottom-3 right-3 p-2 rounded-full bg-[var(--vscode-button-secondaryBackground)] 
                                     text-[var(--vscode-button-secondaryForeground)] opacity-0 group-hover:opacity-100 
                                     transition-opacity shadow-lg hover:bg-[var(--vscode-button-secondaryHoverBackground)] z-10`,title:"Editar Mesa",children:h.jsx(XP,{size:14})})]},U.id))}),m==="active_carts"&&h.jsx("div",{className:"flex flex-col gap-4 pb-20",children:Object.keys(i).length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-[var(--vscode-text-secondary)] opacity-50",children:[h.jsx(_u,{size:48,className:"mb-4"}),h.jsx("p",{children:"No hay otros usuarios editando pedidos en este momento."})]}):Object.values(i).map(U=>h.jsxs("div",{className:"p-4 rounded-xl border border-orange-500/30 bg-orange-500/5 backdrop-blur-md",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[h.jsx(hv,{size:18,className:"text-orange-400"}),U.username]}),h.jsx("span",{className:"text-xs bg-orange-500/20 text-orange-300 px-2 py-0.5 rounded-full border border-orange-500/30 animate-pulse",children:"Editando ahora..."})]}),h.jsxs("div",{className:"text-sm text-[var(--vscode-text-secondary)] mt-1 flex items-center gap-1",children:[h.jsx(bu,{size:12}),"Actualizado: ",new Date(U.timestamp).toLocaleTimeString()]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-xl font-bold text-white",children:["$",U.cart.reduce((Z,te)=>Z+te.price*(te.quantity||1),0).toFixed(2)]}),h.jsxs("div",{className:"text-xs text-[var(--vscode-text-secondary)]",children:[U.cart.length," items"]})]})]}),h.jsxs("div",{className:"text-sm text-[var(--vscode-text-secondary)] bg-black/20 p-2 rounded mb-3",children:[U.cart.slice(0,3).map((Z,te)=>h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{children:[Z.quantity,"x ",Z.name]}),h.jsxs("span",{children:["$",(Z.price*Z.quantity).toFixed(2)]})]},te)),U.cart.length>3&&h.jsxs("div",{className:"text-xs italic mt-1",children:["...y ",U.cart.length-3," ms"]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsxs("button",{onClick:()=>de(U.userId,U),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-orange-500/30",children:[h.jsx(_u,{size:16}),"Copiar Carrito"]})})]},U.userId))}),m==="orders"&&h.jsx("div",{className:"flex flex-col gap-4 pb-20",children:(e.heldOrders||[]).sort((U,Z)=>new Date(Z.timestamp)-new Date(U.timestamp)).map(U=>{const Z=U.tableId?u.find(W=>W.id===U.tableId):null,te=U.status==="ready";return h.jsxs("div",{onClick:()=>{l(Z?`/?tableId=${Z.id}`:`/?orderId=${U.id}`)},className:`p-4 rounded-xl border backdrop-blur-md cursor-pointer hover:scale-[1.01] transition-all ${te?"border-green-500/30 bg-green-500/10 hover:border-green-500/50":"border-blue-500/30 bg-blue-500/10 hover:border-blue-500/50"}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:U.tableName||Z?.name||"Pedido Rpido"}),U.takeaway&&h.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-bold bg-indigo-500/30 text-indigo-300 px-2 py-0.5 rounded-full border border-indigo-500/30",children:[h.jsx(_u,{size:10}),"Llevar"]}),U.priority==="high"&&h.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-bold bg-red-500/30 text-red-300 px-2 py-0.5 rounded-full border border-red-500/30",children:[h.jsx(bD,{size:10}),"Urgente"]}),U.priority==="priority"&&h.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-bold bg-amber-500/30 text-amber-300 px-2 py-0.5 rounded-full border border-amber-500/30",children:[h.jsx(bD,{size:10}),"Prioridad"]})]}),h.jsxs("div",{className:"flex gap-2 items-center text-sm text-[var(--vscode-text-secondary)] mt-1",children:[h.jsx(bu,{size:14}),h.jsx("span",{children:new Date(U.timestamp).toLocaleString()}),te&&h.jsx("span",{className:"px-2 py-0.5 rounded-full bg-green-500/20 text-green-400 text-xs font-bold",children:"LISTO"})]}),U.createdBy&&h.jsxs("div",{className:"text-xs text-[var(--vscode-text-secondary)] mt-1",children:[h.jsx("span",{className:"font-semibold",children:"Creado por:"})," ",U.createdBy,U.modifiedBy&&U.modifiedBy!==U.createdBy&&h.jsxs("span",{className:"ml-2",children:[h.jsx("span",{className:"font-semibold",children:" Modificado por:"})," ",U.modifiedBy]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-xl font-bold text-white",children:["$",U.total?.toFixed(2)||"0.00"]}),h.jsxs("div",{className:"text-xs text-[var(--vscode-text-secondary)]",children:[U.items?.length||0," items"]})]})]}),h.jsxs("div",{className:"text-sm text-[var(--vscode-text-secondary)] bg-black/20 p-2 rounded mb-3",children:[U.items?.slice(0,3).map((W,xe)=>h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{children:[W.quantity,"x ",W.name]}),h.jsxs("span",{children:["$",(W.price*W.quantity).toFixed(2)]})]},xe)),U.items?.length>3&&h.jsxs("div",{className:"text-xs italic mt-1",children:["...y ",U.items.length-3," ms"]})]}),h.jsxs("div",{className:"flex gap-2 justify-end",children:[!U.tableId&&h.jsxs("button",{onClick:W=>{W.stopPropagation(),O(U)},className:"px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center gap-1 transition-all",children:[h.jsx(AE,{size:12}),"Asignar Mesa"]}),h.jsx("button",{onClick:async W=>{W.stopPropagation(),await s({title:"Cancelar Pedido",message:"Cancelar este pedido?"})&&a(U.id)},className:"px-3 py-1.5 text-xs text-red-400 hover:bg-red-500/10 rounded border border-transparent hover:border-red-500/30 transition-all",children:"Cancelar"})]})]},U.id)})}),h.jsx(Ir,{isOpen:_||!!x,onClose:()=>{b(!1),y(null)},title:x?"Editar Mesa":"Nueva Mesa",children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[var(--vscode-text-secondary)] mb-1",children:"Nombre"}),h.jsx("input",{type:"text",value:j,onChange:U=>k(U.target.value),className:"vscode-input w-full",placeholder:"Ej: Mesa 1, Barra 3...",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[var(--vscode-text-secondary)] mb-1",children:"rea"}),h.jsx("select",{value:P,onChange:U=>I(U.target.value),className:"vscode-select w-full",children:R.map(U=>h.jsx("option",{value:U,children:U},U))})]}),h.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t border-[var(--vscode-border)]",children:[x&&h.jsxs("button",{onClick:ie,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors mr-auto flex items-center gap-2",children:[h.jsx(qa,{size:16}),"Eliminar"]}),h.jsx("button",{onClick:()=>{b(!1),y(null)},className:"secondary-button",children:"Cancelar"}),h.jsx("button",{onClick:x?ae:me,className:"primary-button",disabled:!j.trim(),children:x?"Guardar Cambios":"Crear Mesa"})]})]})}),h.jsx(w0e,{isOpen:w,onClose:()=>C(!1)}),h.jsx(E0e,{isOpen:!!S,onClose:()=>O(null),order:S})]})},w0e=({isOpen:e,onClose:t})=>{const{data:r,restoreCancelledOrder:n,permanentlyDeleteOrder:a,updateItem:i}=Jn(),{confirm:s,alert:l}=$n(),u=(r.cancelledOrders||[]).filter(m=>m.tableId).sort((m,g)=>new Date(g.cancelledAt)-new Date(m.cancelledAt)),f=async m=>{const g=r.tables.find(y=>y.id===m.tableId);if(!g){await l({title:"Error",message:"La mesa original ya no existe."});return}if(g.status!=="available"){await l({title:"Aviso",message:`No se puede restaurar: La mesa "${g.name}" est ocupada actualmente.`});return}await s({title:"Restaurar Pedido",message:`Restaurar pedido de ${g.name}?`})&&(n(m.id),i("tables",g.id,{status:"occupied",currentOrderId:m.id,occupiedAt:new Date().toISOString()}),t())},d=async m=>{await s({title:"Eliminar Permanente",message:"Eliminar permanentemente este registro?"})&&a(m)};return e?h.jsx(Ir,{isOpen:e,onClose:t,title:"Papelera de Mesas",children:h.jsx("div",{className:"flex flex-col gap-4 max-h-[60vh] overflow-y-auto pr-2",children:u.length===0?h.jsxs("div",{className:"text-center py-8 text-[var(--vscode-text-secondary)]",children:[h.jsx(qa,{size:48,className:"mx-auto mb-4 opacity-20"}),h.jsx("p",{children:"No hay pedidos de mesas cancelados recientemente."})]}):u.map(m=>{const g=r.tables.find(y=>y.id===m.tableId),x=g?g.name:"Mesa Eliminada";return h.jsxs("div",{className:"p-4 rounded-lg bg-[var(--vscode-editor-background)] border border-[var(--vscode-border)] flex flex-col gap-3",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-lg text-white",children:x}),h.jsxs("span",{className:"text-xs text-[var(--vscode-text-secondary)] flex items-center gap-1",children:[h.jsx(bu,{size:12}),"Cancelado: ",new Date(m.cancelledAt).toLocaleString()]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"font-bold text-red-400",children:["$",m.items?.reduce((y,_)=>y+_.price*_.quantity,0)?.toLocaleString()]}),h.jsxs("span",{className:"text-xs text-[var(--vscode-text-secondary)]",children:[m.items?.length," items"]})]})]}),h.jsxs("div",{className:"text-sm text-[var(--vscode-text-secondary)] bg-black/20 p-2 rounded",children:[m.items?.slice(0,3).map((y,_)=>h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{children:[y.quantity,"x ",y.name]}),h.jsxs("span",{children:["$",y.price]})]},_)),m.items?.length>3&&h.jsxs("div",{className:"text-xs italic mt-1",children:["...y ",m.items.length-3," ms"]})]}),h.jsxs("div",{className:"flex gap-2 justify-end mt-1",children:[h.jsx("button",{onClick:()=>d(m.id),className:"px-3 py-1.5 text-xs text-red-400 hover:bg-red-500/10 rounded border border-transparent hover:border-red-500/30 transition-all",children:"Eliminar"}),h.jsxs("button",{onClick:()=>f(m),className:"px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center gap-1 transition-all",children:[h.jsx(AE,{size:12}),"Restaurar a Mesa"]})]})]},m.id)})})}):null},E0e=({isOpen:e,onClose:t,order:r})=>{const{data:n,updateItem:a}=Jn(),{confirm:i}=$n(),s=(n.tables||[]).filter(u=>u.status==="available"),l=async u=>{await i({title:"Asignar Mesa",message:`Asignar este pedido a la ${u.name}?`})&&(a("heldOrders",r.id,{tableId:u.id,tableName:u.name}),a("tables",u.id,{status:"occupied",currentOrderId:r.id,occupiedAt:new Date().toISOString(),total:r.total}),t())};return e?h.jsx(Ir,{isOpen:e,onClose:t,title:"Seleccionar Mesa para Asignar",children:h.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto p-1",children:s.length===0?h.jsx("div",{className:"col-span-2 text-center py-8 text-[var(--vscode-text-secondary)]",children:h.jsx("p",{children:"No hay mesas disponibles actualmente."})}):s.map(u=>h.jsxs("button",{onClick:()=>l(u),className:"p-4 rounded-lg border border-green-500/30 bg-green-500/5 hover:bg-green-500/20 transition-all text-left",children:[h.jsx("div",{className:"font-bold text-white",children:u.name}),h.jsx("div",{className:"text-xs text-[var(--vscode-text-secondary)]",children:u.area})]},u.id))})}):null},S0e=()=>{const{data:e,updateItem:t,deleteItem:r,addItem:n}=Jn(),{confirm:a}=$n(),[i,s]=T.useState("all"),[l,u]=T.useState("active"),[f,d]=T.useState(null),[m,g]=T.useState(!1),x=T.useRef(0),y=T.useMemo(()=>e.kitchenOrders||[],[e.kitchenOrders]),_=T.useMemo(()=>e.cancelledKitchenOrders||[],[e.cancelledKitchenOrders]);T.useEffect(()=>{y.length>x.current&&x.current>0&&tc.playNewOrderSound(),x.current=y.length},[y.length]);const{currentUser:b}=Gf(),w=(I,R)=>{const N=new Date().toISOString(),M=b?.username||"Desconocido";if(R==="completed"){const ce=y.find(fe=>fe.id===I);ce&&ce.sourceOrderId&&t("heldOrders",ce.sourceOrderId,{status:"ready",completedAt:N,modifiedBy:M}),r("kitchenOrders",I),tc.playSuccessSound()}else t("kitchenOrders",I,{status:R,modifiedBy:M,lastModified:N})},C=I=>{if(!I)return"Recin llegada";const R=new Date,N=new Date(I);if(isNaN(N.getTime()))return"Recin llegada";const M=R-N,ce=Math.floor(M/6e4);if(ce<1)return"Recin llegada";if(ce===1)return"1 min";if(ce<60)return`${ce} min`;const fe=Math.floor(ce/60),ae=ce%60;return`${fe}h ${ae}m`},S=I=>{switch(I){case"pending":return"var(--accent-orange)";case"in-progress":return"var(--accent-blue)";case"completed":return"var(--accent-green)";default:return"var(--text-secondary)"}},O=I=>{switch(I){case"pending":return"Pendiente";case"in-progress":return"En Preparacin";case"completed":return"Listo";default:return"Desconocido"}},F=I=>{switch(I){case"high":return{label:"ALTA PRIORIDAD",color:"#ef4444"};case"priority":return{label:"PRIORIDAD",color:"#f59e0b"};default:return{label:"NORMAL",color:"#94a3b8"}}},B=async I=>{const R=y.find(N=>N.id===I);if(R&&await a({title:"Cancelar Orden",message:"Cancelar esta orden de cocina?"})){const M={...R,cancelledAt:new Date().toISOString()};n("cancelledKitchenOrders",M),r("kitchenOrders",I)}},j=async I=>{const R=_.find(N=>N.id===I);if(R&&await a({title:"Restaurar Orden",message:"Restaurar esta orden a cocina?"})){const{cancelledAt:M,...ce}=R;n("kitchenOrders",ce),r("cancelledKitchenOrders",I)}},k=T.useMemo(()=>{const I=l==="active"?y:_;let R=i==="all"?I:I.filter(M=>M.status===i);const N={high:3,priority:2,normal:1};return[...R].sort((M,ce)=>{const fe=N[M.priority]||1,ae=N[ce.priority]||1;return fe!==ae?ae-fe:new Date(M.timestamp)-new Date(ce.timestamp)})},[y,_,i,l]),P=I=>{const R=b?.username||"Desconocido";t("kitchenOrders",I,{tableName:"Llevar",modifiedBy:R,lastModified:new Date().toISOString()}),f&&f.id===I&&g(!1)};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",height:"100%",padding:"1rem"},children:[h.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[h.jsx(bA,{size:28,color:"var(--accent-orange)"}),h.jsx("h1",{style:{fontSize:"1.5rem",margin:0},children:"Cocina"}),y.length>0&&h.jsx("span",{style:{background:"var(--accent-red)",color:"white",padding:"0.25rem 0.5rem",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"bold"},children:y.length})]}),h.jsxs("div",{className:"no-scrollbar",style:{display:"flex",gap:"0.75rem",overflowX:"auto",width:"100%",paddingBottom:"0.5rem",whiteSpace:"nowrap",alignItems:"center"},children:[h.jsxs("button",{className:`glass-button ${l==="active"?"primary":""}`,onClick:()=>u("active"),style:{fontSize:"0.85rem",padding:"0.4rem 1rem",flexShrink:0},children:["Activas (",y.length,")"]}),h.jsxs("button",{className:`glass-button ${l==="cancelled"?"primary":""}`,onClick:()=>u("cancelled"),style:{fontSize:"0.85rem",padding:"0.4rem 1rem",flexShrink:0},children:["Canceladas (",_.length,")"]}),h.jsx("div",{style:{width:"1px",background:"rgba(255,255,255,0.2)",height:"20px",margin:"0 0.5rem"}}),h.jsx("button",{className:`glass-button ${i==="all"?"primary":""}`,onClick:()=>s("all"),style:{fontSize:"0.85rem",padding:"0.4rem 1rem",flexShrink:0},children:"Todas"}),h.jsxs("button",{className:`glass-button ${i==="pending"?"accent":""}`,onClick:()=>s("pending"),style:{fontSize:"0.85rem",padding:"0.4rem 1rem",borderColor:"var(--accent-orange)",flexShrink:0},children:["Pendientes (",l==="active"?y.filter(I=>I.status==="pending").length:0,")"]}),h.jsxs("button",{className:`glass-button ${i==="in-progress"?"accent":""}`,onClick:()=>s("in-progress"),style:{fontSize:"0.85rem",padding:"0.4rem 1rem",borderColor:"var(--accent-blue)",flexShrink:0},children:["En Prep. (",l==="active"?y.filter(I=>I.status==="in-progress").length:0,")"]})]})]}),k.length===0?h.jsxs("div",{className:"glass-panel",style:{padding:"3rem",textAlign:"center"},children:[h.jsx(Ep,{size:64,color:"var(--accent-green)",style:{margin:"0 auto 1rem"}}),h.jsxs("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:["No hay rdenes ",i!=="all"?O(i).toLowerCase():""]}),h.jsx("p",{style:{color:"var(--text-secondary)"},children:"Las nuevas rdenes aparecern aqu automticamente"})]}):h.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"repeat(auto-fit, minmax(320px, 1fr))",gap:"1rem",overflowY:"auto",overflowX:"hidden",paddingRight:"0.5rem",width:"100%",paddingBottom:"6rem"},children:k.map(I=>{const R=F(I.priority);return h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",border:`2px solid ${I.priority==="high"?"#ef4444":S(I.status)}`,background:I.priority==="high"?"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(0,0,0,0.6))":"linear-gradient(135deg, rgba(0,0,0,0.4), rgba(0,0,0,0.2))",position:"relative",animation:I.priority==="high"?"pulse 2s infinite":"none",boxShadow:I.priority==="high"?"0 0 15px rgba(239, 68, 68, 0.15)":"none",overflow:"hidden",wordWrap:"break-word",maxWidth:"100%",boxSizing:"border-box",cursor:"pointer",transition:"transform 0.2s"},onClick:()=>{d(I),g(!0)},onMouseEnter:N=>N.currentTarget.style.transform="scale(1.02)",onMouseLeave:N=>N.currentTarget.style.transform="scale(1)",children:[I.priority!=="normal"&&h.jsx("div",{style:{position:"absolute",top:"-10px",left:"50%",transform:"translateX(-50%)",background:R.color,color:"#000",padding:"0.2rem 1rem",borderRadius:"10px",fontSize:"0.7rem",fontWeight:"900",zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:R.label}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.75rem",gap:"0.5rem"},children:[h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsx("h3",{style:{fontSize:"1.1rem",margin:0,fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:I.tableName}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.25rem"},children:[h.jsx(bu,{size:12,color:"var(--text-secondary)"}),h.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:C(I.timestamp)})]})]}),h.jsx("div",{style:{display:"inline-block",padding:"0.3rem 0.6rem",borderRadius:"20px",fontSize:"0.65rem",fontWeight:"bold",textTransform:"uppercase",background:S(I.status),color:"white",whiteSpace:"nowrap"},children:O(I.status)})]}),h.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"0.5rem",fontStyle:"italic"},children:["Por: ",I.createdBy||"Desconocido"]}),h.jsx("div",{style:{marginBottom:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1rem"},children:I.items.map((N,M)=>{const ce=F(N.priority);return h.jsx("div",{style:{display:"flex",flexDirection:"column",padding:"0.5rem 0",borderBottom:M<I.items.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("div",{children:[h.jsxs("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:[N.quantity,"x"]}),h.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"1rem"},children:N.name}),N.priority&&N.priority!=="normal"&&h.jsx("span",{style:{marginLeft:"0.5rem",background:ce.color,color:"#000",padding:"0.1rem 0.4rem",borderRadius:"4px",fontSize:"0.65rem",fontWeight:"bold"},children:ce.label.split(" ")[0]})]}),N.note&&h.jsx("span",{style:{fontSize:"0.8rem",color:"var(--accent-orange)",fontStyle:"italic"},children:N.note})]})},M)})}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexDirection:"column",width:"100%"},children:[I.status==="pending"&&h.jsx("button",{className:"glass-button",onClick:N=>{N.stopPropagation(),w(I.id,"in-progress")},style:{width:"100%",padding:"0.75rem",fontSize:"0.9rem",fontWeight:"bold",background:"var(--accent-orange)",borderColor:"var(--accent-orange)",color:"white"},children:" Iniciar"}),I.status==="in-progress"&&h.jsx("button",{className:"glass-button",onClick:N=>{N.stopPropagation(),w(I.id,"completed")},style:{width:"100%",padding:"0.75rem",fontSize:"0.9rem",fontWeight:"bold",background:"var(--accent-green)",borderColor:"var(--accent-green)",color:"white"},children:" Listo"}),l==="active"?h.jsx("button",{className:"glass-button",onClick:N=>{N.stopPropagation(),B(I.id)},style:{width:"100%",padding:"0.75rem",fontSize:"0.9rem",background:"transparent",borderColor:"var(--accent-red)",color:"var(--accent-red)"},children:" Cancelar"}):h.jsx("button",{className:"glass-button",onClick:N=>{N.stopPropagation(),j(I.id)},style:{width:"100%",padding:"0.75rem",fontSize:"0.9rem",background:"var(--accent-blue)",borderColor:"var(--accent-blue)",color:"white"},children:" Restaurar"})]})]},I.id)})}),m&&f&&h.jsx(Ir,{isOpen:!0,onClose:()=>g(!1),title:`Orden: ${f.tableName}`,children:h.jsxs("div",{style:{padding:"1rem"},children:[h.jsxs("div",{style:{marginBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"1rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Estado:"}),h.jsx("span",{style:{color:S(f.status),fontWeight:"bold",fontSize:"1.1rem"},children:O(f.status)})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Tiempo:"}),h.jsx("span",{children:C(f.timestamp)})]}),f.priority!=="normal"&&h.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Prioridad:"}),h.jsx("span",{style:{color:F(f.priority).color,fontWeight:"bold"},children:F(f.priority).label})]}),h.jsxs("div",{style:{marginTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"0.5rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[h.jsx("span",{children:"Creado por:"}),h.jsx("span",{style:{color:"white"},children:f.createdBy||"Desconocido"})]}),f.modifiedBy&&h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[h.jsx("span",{children:"Modificado por:"}),h.jsx("span",{style:{color:"var(--accent-blue)"},children:f.modifiedBy})]})]})]}),h.jsx("h3",{style:{marginBottom:"0.75rem",fontSize:"1.1rem"},children:"Items:"}),h.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:f.items.map((I,R)=>{const N=F(I.priority);return h.jsxs("div",{style:{padding:"0.75rem",marginBottom:"0.5rem",background:"rgba(255,255,255,0.05)",borderRadius:"8px",borderLeft:`4px solid ${N.color}`,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.25rem"},children:[h.jsxs("span",{style:{fontWeight:"bold",fontSize:"1rem"},children:[I.quantity,"x ",I.name]}),I.priority!=="normal"&&h.jsx("span",{style:{padding:"0.2rem 0.5rem",background:N.color,color:"#000",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold"},children:N.label})]}),I.note&&h.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--accent-orange)",fontStyle:"italic",marginTop:"0.25rem"},children:["Nota: ",I.note]})]},R)})}),h.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[f.tableName!=="Llevar"&&l==="active"&&h.jsx("button",{className:"glass-button",onClick:async I=>{I.stopPropagation(),await a({title:"Marcar para Llevar",message:'Marcar orden "Para Llevar"?'})&&P(f.id)},style:{width:"100%",padding:"0.75rem",fontSize:"0.9rem",background:"transparent",borderColor:"var(--accent-blue)",color:"var(--accent-blue)",fontWeight:"bold",marginBottom:"0.5rem"},children:" Marcar para Llevar"}),f.status==="pending"&&h.jsx("button",{className:"glass-button",onClick:I=>{I.stopPropagation(),w(f.id,"in-progress"),g(!1)},style:{width:"100%",padding:"0.75rem",background:"var(--accent-orange)",borderColor:"var(--accent-orange)",color:"white",fontWeight:"bold"},children:" Iniciar Preparacin"}),f.status==="in-progress"&&h.jsx("button",{className:"glass-button",onClick:I=>{I.stopPropagation(),w(f.id,"completed"),g(!1)},style:{width:"100%",padding:"0.75rem",background:"var(--accent-green)",borderColor:"var(--accent-green)",color:"white",fontWeight:"bold"},children:" Marcar como Listo"}),l==="active"?h.jsx("button",{className:"glass-button",onClick:I=>{I.stopPropagation(),B(f.id),g(!1)},style:{width:"100%",padding:"0.75rem",background:"transparent",borderColor:"var(--accent-red)",color:"var(--accent-red)"},children:" Cancelar Orden"}):h.jsx("button",{className:"glass-button",onClick:I=>{I.stopPropagation(),j(f.id),g(!1)},style:{width:"100%",padding:"0.75rem",background:"var(--accent-blue)",borderColor:"var(--accent-blue)",color:"white"},children:" Restaurar Orden"})]})]})}),h.jsx("style",{children:`
                @keyframes pulse {
                    0%, 100% {
                        box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.0);
                    }
                    50% {
                        box-shadow: 0 0 10px 0 rgba(239, 68, 68, 0.1);
                    }
                }
            `})]})},A0e=()=>{const{data:e,addItem:t,updateItem:r,deleteItem:n}=Jn(),a=e.customers||[],{confirm:i,alert:s}=$n(),l=Xu(),[u,f]=T.useState(window.innerWidth<=768);Nr.useEffect(()=>{const k=()=>f(window.innerWidth<=768);return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const[d,m]=T.useState(!1),[g,x]=T.useState(null),[y,_]=T.useState({idNumber:"",name:"",phone:"",email:"",address:"",creditLimit:0}),[b,w]=T.useState(!1),C=k=>{k.preventDefault(),g?r("customers",g.id,y):t("customers",y),m(!1),x(null),_({idNumber:"",name:"",phone:"",email:"",address:"",creditLimit:0})},S=async()=>{if(y.idNumber){w(!0);try{const k=a.find(R=>R.idNumber===y.idNumber);if(k){_({...y,name:k.name,phone:k.phone||y.phone,address:k.address||y.address,email:k.email||y.email}),w(!1);return}const I=await(await fetch(`${window.location.protocol}//${window.location.hostname}:3001/api/lookup/cedula/${y.idNumber}`)).json();I.success?_({...y,name:I.name}):await s({title:"No Encontrado",message:I.error||"No se pudo obtener informacin para este ID."})}catch(k){console.error("Error lookup:",k),await s({title:"Error de Consulta",message:"No hay conexin con el servicio de bsqueda."})}finally{w(!1)}}},O=k=>{x(k),_({idNumber:k.idNumber||"",name:k.name,phone:k.phone||"",email:k.email||"",address:k.address||"",creditLimit:k.creditLimit||0}),m(!0)},F=async k=>{await i({title:"Eliminar Cliente",message:"Ests seguro de eliminar este cliente?"})&&n("customers",k)},B=()=>{x(null),_({idNumber:"",name:"",phone:"",email:"",address:"",creditLimit:0}),m(!0)},j=async k=>{if(!k||k.length===0){await s({title:"Importacin",message:"El archivo no contiene datos."});return}let P=0,I=0;const R=N=>N?N.toString().toLowerCase().trim():"";for(const N of k){const M=Object.keys(N),ce=ie=>M.find(me=>R(me)===R(ie)),fe=N[ce("nombre")]||N[ce("name")]||N[ce("cliente")];if(!fe){console.warn("Fila ignorada por falta de nombre:",N),I++;continue}const ae={idNumber:(N[ce("cedula")]||N[ce("rif")]||N[ce("id")])?.toString()||"",name:fe,phone:(N[ce("telefono")]||N[ce("phone")]||N[ce("celular")])?.toString()||"",email:(N[ce("email")]||N[ce("correo")])?.toString()||"",address:(N[ce("direccion")]||N[ce("address")])?.toString()||"",creditLimit:parseFloat(N[ce("credito")]||N[ce("credit")]||N[ce("limite")])||0};await t("customers",ae),P++}await s({title:"Importacin Completada",message:` Importados: ${P}
 Omitidos (sin nombre): ${I}`})};return h.jsxs("div",{className:"p-4 md:p-6 h-full overflow-y-auto",children:[h.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[h.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-white flex items-center gap-2",children:[h.jsx(dx,{size:u?24:32}),"Clientes"]}),h.jsxs("div",{className:"flex gap-2 flex-wrap",children:[h.jsxs("button",{onClick:B,className:"glass-button primary flex items-center gap-2 text-xs md:text-sm",children:[h.jsx(fs,{size:16}),"Nuevo"]}),h.jsx(IC,{onDataLoaded:j,buttonText:"Importar Excel"})]})]}),a.length===0?h.jsxs("div",{className:"glass-panel p-12 text-center",children:[h.jsx(dx,{size:64,color:"var(--text-secondary)",className:"mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-bold mb-2",children:"No hay clientes registrados"}),h.jsx("p",{className:"text-gray-400 mb-4",children:"Crea tu primer cliente para empezar"}),h.jsx("button",{onClick:B,className:"glass-button primary",children:"Crear Cliente"})]}):h.jsx("div",{className:"glass-panel overflow-hidden",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-700",children:[h.jsx("th",{className:"text-left p-4 text-gray-300 font-semibold",children:"Cdula/RIF"}),h.jsx("th",{className:"text-left p-4 text-gray-300 font-semibold",children:"Cliente"}),h.jsx("th",{className:"text-left p-4 text-gray-300 font-semibold",children:"Telfono"}),h.jsx("th",{className:"text-left p-4 text-gray-300 font-semibold",children:"Correo Electrnico"}),h.jsx("th",{className:"text-left p-4 text-gray-300 font-semibold",children:"Direccin"}),h.jsx("th",{className:"text-right p-4 text-gray-300 font-semibold",children:"Crdito"}),h.jsx("th",{className:"text-center p-4 text-gray-300 font-semibold",children:"Acciones"})]})}),h.jsx("tbody",{children:a.map(k=>h.jsxs("tr",{className:"border-b border-gray-800 hover:bg-white/5",children:[h.jsx("td",{className:"p-4",children:h.jsx("span",{className:"text-gray-400 font-mono text-sm",children:k.idNumber||"---"})}),h.jsx("td",{className:"p-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(dx,{size:20,color:"var(--accent-blue)"}),h.jsx("span",{className:"font-semibold",children:k.name})]})}),h.jsx("td",{className:"p-4",children:k.phone&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[h.jsx(YP,{size:14}),k.phone]})}),h.jsx("td",{className:"p-4",children:k.email&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[h.jsx(GP,{size:14}),k.email]})}),h.jsx("td",{className:"p-4",children:k.address&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[h.jsx(TG,{size:14}),k.address]})}),h.jsx("td",{className:"p-4 text-right",children:k.creditLimit>0&&h.jsxs("div",{className:"flex items-center justify-end gap-2 text-green-400",children:[h.jsx(zf,{size:14}),"$",k.creditLimit.toFixed(2)]})}),h.jsx("td",{className:"p-4",children:h.jsxs("div",{className:"flex gap-2 justify-center",children:[h.jsx("button",{onClick:()=>l(`/reports?customerId=${k.id}`),className:"glass-button p-2",title:"Ver Historial",style:{color:"var(--accent-green)"},children:h.jsx(LW,{size:16})}),h.jsx("button",{onClick:()=>O(k),className:"glass-button p-2",title:"Editar",children:h.jsx(Sp,{size:16})}),h.jsx("button",{onClick:()=>F(k.id),className:"glass-button p-2",style:{color:"var(--accent-red)"},title:"Eliminar",children:h.jsx(qa,{size:16})})]})})]},k.id))})]})}),h.jsxs(Ir,{isOpen:d,onClose:()=>m(!1),children:[h.jsx("h2",{className:"text-2xl font-bold mb-6",children:g?"Editar Cliente":"Nuevo Cliente"}),h.jsxs("form",{onSubmit:C,children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Cdula / RIF"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",className:"glass-input flex-1",value:y.idNumber,onChange:k=>_({...y,idNumber:k.target.value}),placeholder:"V-12345678"}),h.jsx("button",{type:"button",onClick:S,disabled:!y.idNumber||b,className:"glass-button primary p-2",title:"Buscar datos",children:b?h.jsx(bG,{size:18,className:"animate-spin"}):h.jsx(Nu,{size:18})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre *"}),h.jsx("input",{type:"text",required:!0,className:"glass-input w-full",value:y.name,onChange:k=>_({...y,name:k.target.value}),placeholder:"Juan Prez"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Telfono"}),h.jsx("input",{type:"tel",className:"glass-input w-full",value:y.phone,onChange:k=>_({...y,phone:k.target.value}),placeholder:"+58 412-1234567"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Correo Electrnico"}),h.jsx("input",{type:"email",className:"glass-input w-full",value:y.email,onChange:k=>_({...y,email:k.target.value}),placeholder:"cliente@ejemplo.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Direccin"}),h.jsx("textarea",{className:"glass-input w-full",rows:2,value:y.address,onChange:k=>_({...y,address:k.target.value}),placeholder:"Calle Principal..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Lmite de Crdito ($)"}),h.jsx("input",{type:"number",step:"0.01",min:"0",className:"glass-input w-full",value:y.creditLimit,onChange:k=>_({...y,creditLimit:parseFloat(k.target.value)||0})})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:()=>m(!1),className:"glass-button flex-1",children:"Cancelar"}),h.jsx("button",{type:"submit",className:"glass-button primary flex-1",children:g?"Guardar Cambios":"Crear Cliente"})]})]})]})]})};function W9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=W9(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=W9(e))&&(n&&(n+=" "),n+=t);return n}var C0e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function RC(e){if(typeof e!="string")return!1;var t=C0e;return t.includes(e)}var T0e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k0e=new Set(T0e);function G9(e){return typeof e!="string"?!1:k0e.has(e)}function K9(e){return typeof e=="string"&&e.startsWith("data-")}function yi(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(G9(r)||K9(r))&&(t[r]=e[r]);return t}function Lu(e){if(e==null)return null;if(T.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return yi(t)}return typeof e=="object"&&!Array.isArray(e)?yi(e):null}function ri(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(G9(r)||K9(r)||RC(r))&&(t[r]=e[r]);return t}function D0e(e){return e==null?null:T.isValidElement(e)?ri(e.props):typeof e=="object"&&!Array.isArray(e)?ri(e):null}var O0e=["children","width","height","viewBox","className","style","title","desc"];function fS(){return fS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fS.apply(null,arguments)}function j0e(e,t){if(e==null)return{};var r,n,a=N0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PC=T.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:l,title:u,desc:f}=e,d=j0e(e,O0e),m=i||{width:n,height:a,x:0,y:0},g=fr("recharts-surface",s);return T.createElement("svg",fS({},ri(d),{className:g,width:n,height:a,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),T.createElement("title",null,u),T.createElement("desc",null,f),r)}),I0e=["children","className"];function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dS.apply(null,arguments)}function R0e(e,t){if(e==null)return{};var r,n,a=P0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sn=T.forwardRef((e,t)=>{var{children:r,className:n}=e,a=R0e(e,I0e),i=fr("recharts-layer",n);return T.createElement("g",dS({className:i},ri(a),{ref:t}),r)}),X9=T.createContext(null),F0e=()=>T.useContext(X9);function Ur(e){return function(){return e}}const Y9=Math.cos,qv=Math.sin,$s=Math.sqrt,Wv=Math.PI,xy=2*Wv,hS=Math.PI,pS=2*hS,uu=1e-6,B0e=pS-uu;function Q9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function M0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Q9;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class L0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Q9:M0e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,u=n-t,f=a-r,d=s-t,m=l-r,g=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>uu)if(!(Math.abs(m*u-f*d)>uu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-s,y=a-l,_=u*u+f*f,b=x*x+y*y,w=Math.sqrt(_),C=Math.sqrt(g),S=i*Math.tan((hS-Math.acos((_+g-b)/(2*w*C)))/2),O=S/C,F=S/w;Math.abs(O-1)>uu&&this._append`L${t+O*d},${r+O*m}`,this._append`A${i},${i},0,0,${+(m*x>d*y)},${this._x1=t+F*u},${this._y1=r+F*f}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),f=t+l,d=r+u,m=1^s,g=s?a-i:i-a;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>uu||Math.abs(this._y1-d)>uu)&&this._append`L${f},${d}`,n&&(g<0&&(g=g%pS+pS),g>B0e?this._append`A${n},${n},0,1,${m},${t-l},${r-u}A${n},${n},0,1,${m},${this._x1=f},${this._y1=d}`:g>uu&&this._append`A${n},${n},0,${+(g>=hS)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function FC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new L0e(t)}function BC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Z9(e){this._context=e}Z9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vy(e){return new Z9(e)}function J9(e){return e[0]}function e7(e){return e[1]}function t7(e,t){var r=Ur(!0),n=null,a=vy,i=null,s=FC(l);e=typeof e=="function"?e:e===void 0?J9:Ur(e),t=typeof t=="function"?t:t===void 0?e7:Ur(t);function l(u){var f,d=(u=BC(u)).length,m,g=!1,x;for(n==null&&(i=a(x=s())),f=0;f<=d;++f)!(f<d&&r(m=u[f],f,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,f,u),+t(m,f,u));if(x)return i=null,x+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ur(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ur(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ur(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),l):n},l}function Gg(e,t,r){var n=null,a=Ur(!0),i=null,s=vy,l=null,u=FC(f);e=typeof e=="function"?e:e===void 0?J9:Ur(+e),t=typeof t=="function"?t:Ur(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?e7:Ur(+r);function f(m){var g,x,y,_=(m=BC(m)).length,b,w=!1,C,S=new Array(_),O=new Array(_);for(i==null&&(l=s(C=u())),g=0;g<=_;++g){if(!(g<_&&a(b=m[g],g,m))===w)if(w=!w)x=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=g-1;y>=x;--y)l.point(S[y],O[y]);l.lineEnd(),l.areaEnd()}w&&(S[g]=+e(b,g,m),O[g]=+t(b,g,m),l.point(n?+n(b,g,m):S[g],r?+r(b,g,m):O[g]))}if(C)return l=null,C+""||null}function d(){return t7().defined(a).curve(s).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ur(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Ur(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ur(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ur(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Ur(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ur(+m),f):r},f.lineX0=f.lineY0=function(){return d().x(e).y(t)},f.lineY1=function(){return d().x(e).y(r)},f.lineX1=function(){return d().x(n).y(t)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Ur(!!m),f):a},f.curve=function(m){return arguments.length?(s=m,i!=null&&(l=s(i)),f):s},f.context=function(m){return arguments.length?(m==null?i=l=null:l=s(i=m),f):i},f}class r7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function z0e(e){return new r7(e,!0)}function U0e(e){return new r7(e,!1)}const MC={draw(e,t){const r=$s(t/Wv);e.moveTo(r,0),e.arc(0,0,r,0,xy)}},V0e={draw(e,t){const r=$s(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},n7=$s(1/3),$0e=n7*2,H0e={draw(e,t){const r=$s(t/$0e),n=r*n7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},q0e={draw(e,t){const r=$s(t),n=-r/2;e.rect(n,n,r,r)}},W0e=.8908130915292852,a7=qv(Wv/10)/qv(7*Wv/10),G0e=qv(xy/10)*a7,K0e=-Y9(xy/10)*a7,X0e={draw(e,t){const r=$s(t*W0e),n=G0e*r,a=K0e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=xy*i/5,l=Y9(s),u=qv(s);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},B_=$s(3),Y0e={draw(e,t){const r=-$s(t/(B_*3));e.moveTo(0,r*2),e.lineTo(-B_*r,-r),e.lineTo(B_*r,-r),e.closePath()}},ts=-.5,rs=$s(3)/2,mS=1/$s(12),Q0e=(mS/2+1)*3,Z0e={draw(e,t){const r=$s(t/Q0e),n=r/2,a=r*mS,i=n,s=r*mS+r,l=-i,u=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,u),e.lineTo(ts*n-rs*a,rs*n+ts*a),e.lineTo(ts*i-rs*s,rs*i+ts*s),e.lineTo(ts*l-rs*u,rs*l+ts*u),e.lineTo(ts*n+rs*a,ts*a-rs*n),e.lineTo(ts*i+rs*s,ts*s-rs*i),e.lineTo(ts*l+rs*u,ts*u-rs*l),e.closePath()}};function J0e(e,t){let r=null,n=FC(a);e=typeof e=="function"?e:Ur(e||MC),t=typeof t=="function"?t:Ur(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ur(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ur(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Gv(){}function Kv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function i7(e){this._context=e}i7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function efe(e){return new i7(e)}function s7(e){this._context=e}s7.prototype={areaStart:Gv,areaEnd:Gv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tfe(e){return new s7(e)}function o7(e){this._context=e}o7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rfe(e){return new o7(e)}function l7(e){this._context=e}l7.prototype={areaStart:Gv,areaEnd:Gv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nfe(e){return new l7(e)}function A8(e){return e<0?-1:1}function C8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(A8(i)+A8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function T8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function M_(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Xv(e){this._context=e}Xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M_(this,this._t0,T8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,M_(this,T8(this,r=C8(this,e,t)),r);break;default:M_(this,this._t0,r=C8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function c7(e){this._context=new u7(e)}(c7.prototype=Object.create(Xv.prototype)).point=function(e,t){Xv.prototype.point.call(this,t,e)};function u7(e){this._context=e}u7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function afe(e){return new Xv(e)}function ife(e){return new c7(e)}function f7(e){this._context=e}f7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=k8(e),a=k8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function k8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function sfe(e){return new f7(e)}function yy(e,t){this._context=e,this._t=t}yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ofe(e){return new yy(e,.5)}function lfe(e){return new yy(e,0)}function cfe(e){return new yy(e,1)}function zu(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function gS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ufe(e,t){return e[t]}function ffe(e){const t=[];return t.key=e,t}function dfe(){var e=Ur([]),t=gS,r=zu,n=ufe;function a(i){var s=Array.from(e.apply(this,arguments),ffe),l,u=s.length,f=-1,d;for(const m of i)for(l=0,++f;l<u;++l)(s[l][f]=[0,+n(m,s[l].key,f,i)]).data=m;for(l=0,d=BC(t(s));l<u;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ur(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ur(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?gS:typeof i=="function"?i:Ur(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??zu,a):r},a}function hfe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}zu(e,t)}}function pfe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}zu(e,t)}}function mfe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,u=0,f=0;l<s;++l){for(var d=e[t[l]],m=d[n][1]||0,g=d[n-1][1]||0,x=(m-g)/2,y=0;y<l;++y){var _=e[t[y]],b=_[n][1]||0,w=_[n-1][1]||0;x+=b-w}u+=m,f+=x*m}a[n-1][1]+=a[n-1][0]=r,u&&(r-=f/u)}a[n-1][1]+=a[n-1][0]=r,zu(e,t)}}var L_={},z_={},D8;function gfe(){return D8||(D8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(z_)),z_}var U_={},O8;function d7(){return O8||(O8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(U_)),U_}var V_={},j8;function LC(){return j8||(j8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(V_)),V_}var $_={},H_={},N8;function xfe(){return N8||(N8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(H_)),H_}var I8;function zC(){return I8||(I8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xfe(),r=LC();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let l=0,u="",f="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<s;){const m=a[l];f?m==="\\"&&l+1<s?(l++,u+=a[l]):m===f?f="":u+=m:d?m==='"'||m==="'"?f=m:m==="]"?(d=!1,i.push(u),u=""):u+=m:m==="["?(d=!0,u&&(i.push(u),u="")):m==="."?u&&(i.push(u),u=""):u+=m,l++}return u&&i.push(u),i}e.toPath=n})($_)),$_}var R8;function UC(){return R8||(R8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gfe(),r=d7(),n=LC(),a=zC();function i(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?r.isDeepKey(u)?i(l,a.toPath(u),f):f:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=l[u];return d===void 0?f:d}default:{if(Array.isArray(u))return s(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?f:d}}}function s(l,u,f){if(u.length===0)return f;let d=l;for(let m=0;m<u.length;m++){if(d==null||t.isUnsafeProperty(u[m]))return f;d=d[u[m]]}return d===void 0?f:d}e.get=i})(L_)),L_}var q_,P8;function vfe(){return P8||(P8=1,q_=UC().get),q_}var yfe=vfe();const Uu=yo(yfe);var bfe=4;function sc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bfe,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function dn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,s)=>{var l=r[s-1];return typeof l=="string"?a+l+i:l!==void 0?a+sc(l)+i:a+i},"")}var ma=e=>e===0?0:e>0?1:-1,ps=e=>typeof e=="number"&&e!=+e,il=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,at=e=>(typeof e=="number"||e instanceof Number)&&!ps(e),go=e=>at(e)||typeof e=="string",_fe=0,sp=e=>{var t=++_fe;return"".concat(e||"").concat(t)},Ha=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!at(t)&&typeof t!="string")return n;var i;if(il(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ps(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},h7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Gr(e,t,r){return at(e)&&at(t)?sc(e+r*(t-e)):t}function p7(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Uu(n,t))===r)}var sn=e=>e===null||typeof e>"u",Bp=e=>sn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function wfe(e){return e!=null}function Mp(){}var Efe=["type","size","sizeType"];function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xS.apply(null,arguments)}function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){Sfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sfe(e,t,r){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Afe(e){var t=Cfe(e,"string");return typeof t=="symbol"?t:t+""}function Cfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tfe(e,t){if(e==null)return{};var r,n,a=kfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m7={symbolCircle:MC,symbolCross:V0e,symbolDiamond:H0e,symbolSquare:q0e,symbolStar:X0e,symbolTriangle:Y0e,symbolWye:Z0e},Dfe=Math.PI/180,Ofe=e=>{var t="symbol".concat(Bp(e));return m7[t]||MC},jfe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Dfe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Nfe=(e,t)=>{m7["symbol".concat(Bp(e))]=t},VC=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Tfe(e,Efe),i=B8(B8({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var g=Ofe(s),x=J0e().type(g).size(jfe(r,n,s)),y=x();if(y!==null)return y},{className:u,cx:f,cy:d}=i,m=ri(i);return at(f)&&at(d)&&at(r)?T.createElement("path",xS({},m,{className:fr("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(d,")"),d:l()})):null};VC.registerSymbol=Nfe;var g7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,$C=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{RC(a)&&(n[a]=(i=>r[a](r,i)))}),n},Ife=(e,t,r)=>n=>(e(t,r,n),null),Lp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];RC(a)&&typeof i=="function"&&(n||(n={}),n[a]=Ife(i,t,r))}),n};function M8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(r),!0).forEach(function(n){Pfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pfe(e,t,r){return(t=Ffe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ffe(e){var t=Bfe(e,"string");return typeof t=="symbol"?t:t+""}function Bfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hn(e,t){var r=Rfe({},e),n=t,a=Object.keys(t),i=a.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return i}function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(null,arguments)}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){Lfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lfe(e,t,r){return(t=zfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zfe(e){var t=Ufe(e,"string");return typeof t=="symbol"?t:t+""}function Ufe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var is=32,Vfe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function $fe(e){var{data:t,iconType:r,inactiveColor:n}=e,a=is/2,i=is/6,s=is/3,l=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var f;return T.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:a,x2:is,y2:a,className:"recharts-legend-icon"})}if(u==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(is,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return T.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(is/8,"h").concat(is,"v").concat(is*3/4,"h").concat(-is,"z"),className:"recharts-legend-icon"});if(T.isValidElement(t.legendIcon)){var d=Mfe({},t);return delete d.legendIcon,T.cloneElement(t.legendIcon,d)}return T.createElement(VC,{fill:l,cx:a,cy:a,size:is,sizeType:"diameter",type:u})}function Hfe(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=e,l={x:0,y:0,width:is,height:is},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,m)=>{var g=d.formatter||a,x=fr({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?i:d.color,_=g?g(d.value,d,m):d.value;return T.createElement("li",Yv({className:x,style:u,key:"legend-item-".concat(m)},Lp(e,d,m)),T.createElement(PC,{width:r,height:r,viewBox:l,style:f,"aria-label":"".concat(_," legend icon")},T.createElement($fe,{data:d,iconType:s,inactiveColor:i})),T.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},_))})}var qfe=e=>{var t=Hn(e,Vfe),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:i},T.createElement(Hfe,Yv({},t,{payload:r})))},W_={},G_={},z8;function Wfe(){return z8||(z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],l=n(s);a.has(l)||a.set(l,s)}return Array.from(a.values())}e.uniqBy=t})(G_)),G_}var K_={},U8;function x7(){return U8||(U8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(K_)),K_}var X_={},Y_={},Q_={},V8;function Gfe(){return V8||(V8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Q_)),Q_}var $8;function HC(){return $8||($8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gfe();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Y_)),Y_}var Z_={},H8;function Kfe(){return H8||(H8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Z_)),Z_}var q8;function Xfe(){return q8||(q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HC(),r=Kfe();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(X_)),X_}var J_={},ew={},W8;function Yfe(){return W8||(W8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UC();function r(n){return function(a){return t.get(a,n)}}e.property=r})(ew)),ew}var tw={},rw={},nw={},aw={},G8;function v7(){return G8||(G8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(aw)),aw}var iw={},K8;function y7(){return K8||(K8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(iw)),iw}var sw={},X8;function b7(){return X8||(X8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(sw)),sw}var Y8;function Qfe(){return Y8||(Y8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v7(),r=y7(),n=b7();function a(d,m,g){return typeof g!="function"?a(d,m,()=>{}):i(d,m,function x(y,_,b,w,C,S){const O=g(y,_,b,w,C,S);return O!==void 0?!!O:i(y,_,x,S)},new Map)}function i(d,m,g,x){if(m===d)return!0;switch(typeof m){case"object":return s(d,m,g,x);case"function":return Object.keys(m).length>0?i(d,{...m},g,x):n.eq(d,m);default:return t.isObject(d)?typeof m=="string"?m==="":!0:n.eq(d,m)}}function s(d,m,g,x){if(m==null)return!0;if(Array.isArray(m))return u(d,m,g,x);if(m instanceof Map)return l(d,m,g,x);if(m instanceof Set)return f(d,m,g,x);const y=Object.keys(m);if(d==null||r.isPrimitive(d))return y.length===0;if(y.length===0)return!0;if(x?.has(m))return x.get(m)===d;x?.set(m,d);try{for(let _=0;_<y.length;_++){const b=y[_];if(!r.isPrimitive(d)&&!(b in d)||m[b]===void 0&&d[b]!==void 0||m[b]===null&&d[b]!==null||!g(d[b],m[b],b,d,m,x))return!1}return!0}finally{x?.delete(m)}}function l(d,m,g,x){if(m.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,_]of m.entries()){const b=d.get(y);if(g(b,_,y,d,m,x)===!1)return!1}return!0}function u(d,m,g,x){if(m.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let _=0;_<m.length;_++){const b=m[_];let w=!1;for(let C=0;C<d.length;C++){if(y.has(C))continue;const S=d[C];let O=!1;if(g(S,b,_,d,m,x)&&(O=!0),O){y.add(C),w=!0;break}}if(!w)return!1}return!0}function f(d,m,g,x){return m.size===0?!0:d instanceof Set?u([...d],[...m],g,x):!1}e.isMatchWith=a,e.isSetMatch=f})(nw)),nw}var Q8;function _7(){return Q8||(Q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qfe();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(rw)),rw}var ow={},lw={},cw={},Z8;function Zfe(){return Z8||(Z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(cw)),cw}var uw={},J8;function w7(){return J8||(J8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(uw)),uw}var fw={},ej;function E7(){return ej||(ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",d="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",y="[object Error]",_="[object DataView]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]",O="[object BigUint64Array]",F="[object Int8Array]",B="[object Int16Array]",j="[object Int32Array]",k="[object BigInt64Array]",P="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=d,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=O,e.booleanTag=a,e.dataViewTag=_,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=P,e.float64ArrayTag=I,e.functionTag=m,e.int16ArrayTag=B,e.int32ArrayTag=j,e.int8ArrayTag=F,e.mapTag=u,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=C,e.uint32ArrayTag=S,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=w})(fw)),fw}var dw={},tj;function Jfe(){return tj||(tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(dw)),dw}var rj;function S7(){return rj||(rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zfe(),r=w7(),n=E7(),a=y7(),i=Jfe();function s(d,m){return l(d,void 0,d,new Map,m)}function l(d,m,g,x=new Map,y=void 0){const _=y?.(d,m,g,x);if(_!==void 0)return _;if(a.isPrimitive(d))return d;if(x.has(d))return x.get(d);if(Array.isArray(d)){const b=new Array(d.length);x.set(d,b);for(let w=0;w<d.length;w++)b[w]=l(d[w],w,g,x,y);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;x.set(d,b);for(const[w,C]of d)b.set(w,l(C,w,g,x,y));return b}if(d instanceof Set){const b=new Set;x.set(d,b);for(const w of d)b.add(l(w,void 0,g,x,y));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);x.set(d,b);for(let w=0;w<d.length;w++)b[w]=l(d[w],w,g,x,y);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return x.set(d,b),u(b,d,g,x,y),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return x.set(d,b),u(b,d,g,x,y),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return x.set(d,b),u(b,d,g,x,y),b}if(d instanceof Error){const b=new d.constructor;return x.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,u(b,d,g,x,y),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return x.set(d,b),u(b,d,g,x,y),b}if(d instanceof Number){const b=new Number(d.valueOf());return x.set(d,b),u(b,d,g,x,y),b}if(d instanceof String){const b=new String(d.valueOf());return x.set(d,b),u(b,d,g,x,y),b}if(typeof d=="object"&&f(d)){const b=Object.create(Object.getPrototypeOf(d));return x.set(d,b),u(b,d,g,x,y),b}return d}function u(d,m,g=d,x,y){const _=[...Object.keys(m),...t.getSymbols(m)];for(let b=0;b<_.length;b++){const w=_[b],C=Object.getOwnPropertyDescriptor(d,w);(C==null||C.writable)&&(d[w]=l(m[w],w,g,x,y))}}function f(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=u})(lw)),lw}var nj;function ede(){return nj||(nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S7();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(ow)),ow}var aj;function tde(){return aj||(aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_7(),r=ede();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(tw)),tw}var hw={},pw={},mw={},ij;function rde(){return ij||(ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S7(),r=E7();function n(a,i){return t.cloneDeepWith(a,(s,l,u,f)=>{const d=i?.(s,l,u,f);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(mw)),mw}var sj;function nde(){return sj||(sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rde();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(pw)),pw}var gw={},xw={},oj;function A7(){return oj||(oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(xw)),xw}var vw={},lj;function ade(){return lj||(lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(vw)),vw}var cj;function ide(){return cj||(cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d7(),r=A7(),n=ade(),a=zC();function i(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&s?.[l]==null?u=a.toPath(l):u=[l],u.length===0)return!1;let f=s;for(let d=0;d<u.length;d++){const m=u[d];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=i})(gw)),gw}var uj;function sde(){return uj||(uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_7(),r=LC(),n=nde(),a=UC(),i=ide();function s(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(f){const d=a.get(f,l);return d===void 0?i.has(f,l):u===void 0?d===void 0:t.isMatch(d,u)}}e.matchesProperty=s})(hw)),hw}var fj;function ode(){return fj||(fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x7(),r=Yfe(),n=tde(),a=sde();function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(J_)),J_}var dj;function lde(){return dj||(dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wfe(),r=x7(),n=Xfe(),a=ode();function i(s,l=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(l)):[]}e.uniqBy=i})(W_)),W_}var yw,hj;function cde(){return hj||(hj=1,yw=lde().uniqBy),yw}var ude=cde();const pj=yo(ude);function C7(e,t,r){return t===!0?pj(e,r):typeof t=="function"?pj(e,t):e}var bw={exports:{}},_w={},ww={exports:{}},Ew={};var mj;function fde(){if(mj)return Ew;mj=1;var e=Ff();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function l(m,g){var x=g(),y=n({inst:{value:x,getSnapshot:g}}),_=y[0].inst,b=y[1];return i(function(){_.value=x,_.getSnapshot=g,u(_)&&b({inst:_})},[m,x,g]),a(function(){return u(_)&&b({inst:_}),m(function(){u(_)&&b({inst:_})})},[m]),s(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!r(m,x)}catch{return!0}}function f(m,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Ew.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Ew}var gj;function dde(){return gj||(gj=1,ww.exports=fde()),ww.exports}var xj;function hde(){if(xj)return _w;xj=1;var e=Ff(),t=dde();function r(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return _w.useSyncExternalStoreWithSelector=function(f,d,m,g,x){var y=i(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=l(function(){function w(B){if(!C){if(C=!0,S=B,B=g(B),x!==void 0&&_.hasValue){var j=_.value;if(x(j,B))return O=j}return O=B}if(j=O,n(S,B))return j;var k=g(B);return x!==void 0&&x(j,k)?(S=B,j):(S=B,O=k)}var C=!1,S,O,F=m===void 0?null:m;return[function(){return w(d())},F===null?void 0:function(){return w(F())}]},[d,m,g,x]);var b=a(f,y[0],y[1]);return s(function(){_.hasValue=!0,_.value=b},[b]),u(b),b},_w}var vj;function pde(){return vj||(vj=1,bw.exports=hde()),bw.exports}var mde=pde(),qC=T.createContext(null),gde=e=>e,Vr=()=>{var e=T.useContext(qC);return e?e.store.dispatch:gde},sv=()=>{},xde=()=>sv,vde=(e,t)=>e===t;function dt(e){var t=T.useContext(qC);return mde.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:xde,t?t.store.getState:sv,t?t.store.getState:sv,t?e:sv,vde)}function yde(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function bde(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _de(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var yj=e=>Array.isArray(e)?e:[e];function wde(e){const t=Array.isArray(e[0])?e[0]:e;return _de(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Ede(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Sde=class{constructor(e){this.value=e}deref(){return this.value}},Ade=typeof WeakRef<"u"?WeakRef:Sde,Cde=0,bj=1;function Kg(){return{s:Cde,v:void 0,o:null,p:null}}function T7(e,t={}){let r=Kg();const{resultEqualityCheck:n}=t;let a,i=0;function s(){let l=r;const{length:u}=arguments;for(let m=0,g=u;m<g;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const _=y.get(x);_===void 0?(l=Kg(),y.set(x,l)):l=_}else{let y=l.p;y===null&&(l.p=y=new Map);const _=y.get(x);_===void 0?(l=Kg(),y.set(x,l)):l=_}}const f=l;let d;if(l.s===bj)d=l.v;else if(d=e.apply(null,arguments),i++,n){const m=a?.deref?.()??a;m!=null&&n(m,d)&&(d=m,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Ade(d):d}return f.s=bj,f.v=d,d}return s.clearCache=()=>{r=Kg(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function Tde(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,l,u={},f=a.pop();typeof f=="object"&&(u=f,f=a.pop()),yde(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...r,...u},{memoize:m,memoizeOptions:g=[],argsMemoize:x=T7,argsMemoizeOptions:y=[]}=d,_=yj(g),b=yj(y),w=wde(a),C=m(function(){return i++,f.apply(null,arguments)},..._),S=x(function(){s++;const F=Ede(w,arguments);return l=C.apply(null,F),l},...b);return Object.assign(S,{resultFunc:f,memoizedResultFunc:C,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var je=Tde(T7),kde=Object.assign((e,t=je)=>{bde(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,l,u)=>(s[r[u]]=l,s),{}))},{withTypes:()=>kde}),Sw={},Aw={},Cw={},_j;function Dde(){return _j||(_j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),l=t(a);if(s===l&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-s:s-l}return 0};e.compareValues=r})(Cw)),Cw}var Tw={},kw={},wj;function k7(){return wj||(wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(kw)),kw}var Ej;function Ode(){return Ej||(Ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k7(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(Tw)),Tw}var Sj;function jde(){return Sj||(Sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dde(),r=Ode(),n=zC();function a(i,s,l,u){if(i==null)return[];l=u?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const f=(x,y)=>{let _=x;for(let b=0;b<y.length&&_!=null;++b)_=_[y[b]];return _},d=(x,y)=>y==null||x==null?y:typeof x=="object"&&"key"in x?Object.hasOwn(y,x.key)?y[x.key]:f(y,x.path):typeof x=="function"?x(y):Array.isArray(x)?f(y,x):typeof y=="object"?y[x]:y,m=s.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:m.map(y=>d(y,x))})).slice().sort((x,y)=>{for(let _=0;_<m.length;_++){const b=t.compareValues(x.criteria[_],y.criteria[_],l[_]);if(b!==0)return b}return 0}).map(x=>x.original)}e.orderBy=a})(Aw)),Aw}var Dw={},Aj;function Nde(){return Aj||(Aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(l,u)=>{for(let f=0;f<l.length;f++){const d=l[f];Array.isArray(d)&&u<i?s(d,u+1):a.push(d)}};return s(r,0),a}e.flatten=t})(Dw)),Dw}var Ow={},Cj;function D7(){return Cj||(Cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A7(),r=HC(),n=v7(),a=b7();function i(s,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],s):!1}e.isIterateeCall=i})(Ow)),Ow}var Tj;function Ide(){return Tj||(Tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jde(),r=Nde(),n=D7();function a(i,...s){const l=s.length;return l>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(Sw)),Sw}var jw,kj;function Rde(){return kj||(kj=1,jw=Ide().sortBy),jw}var Pde=Rde();const by=yo(Pde);var O7=e=>e.legend.settings,Fde=e=>e.legend.size,Bde=e=>e.legend.payload,Mde=je([Bde,O7],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?by(n,r):n});function Lde(){return dt(Mde)}var Xg=1;function j7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=T.useState({height:0,left:0,top:0,width:0}),n=T.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Xg||Math.abs(s.left-t.left)>Xg||Math.abs(s.top-t.top)>Xg||Math.abs(s.width-t.width)>Xg)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Sa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zde=typeof Symbol=="function"&&Symbol.observable||"@@observable",Dj=zde,Nw=()=>Math.random().toString(36).substring(7).split("").join("."),Ude={INIT:`@@redux/INIT${Nw()}`,REPLACE:`@@redux/REPLACE${Nw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Nw()}`},Qv=Ude;function WC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function N7(e,t,r){if(typeof e!="function")throw new Error(Sa(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Sa(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Sa(1));return r(N7)(e,t)}let n=e,a=t,i=new Map,s=i,l=0,u=!1;function f(){s===i&&(s=new Map,i.forEach((b,w)=>{s.set(w,b)}))}function d(){if(u)throw new Error(Sa(3));return a}function m(b){if(typeof b!="function")throw new Error(Sa(4));if(u)throw new Error(Sa(5));let w=!0;f();const C=l++;return s.set(C,b),function(){if(w){if(u)throw new Error(Sa(6));w=!1,f(),s.delete(C),i=null}}}function g(b){if(!WC(b))throw new Error(Sa(7));if(typeof b.type>"u")throw new Error(Sa(8));if(typeof b.type!="string")throw new Error(Sa(17));if(u)throw new Error(Sa(9));try{u=!0,a=n(a,b)}finally{u=!1}return(i=s).forEach(C=>{C()}),b}function x(b){if(typeof b!="function")throw new Error(Sa(10));n=b,g({type:Qv.REPLACE})}function y(){const b=m;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Sa(11));function C(){const O=w;O.next&&O.next(d())}return C(),{unsubscribe:b(C)}},[Dj](){return this}}}return g({type:Qv.INIT}),{dispatch:g,subscribe:m,getState:d,replaceReducer:x,[Dj]:y}}function Vde(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Qv.INIT})>"u")throw new Error(Sa(12));if(typeof r(void 0,{type:Qv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Sa(13))})}function I7(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{Vde(r)}catch(i){a=i}return function(s={},l){if(a)throw a;let u=!1;const f={};for(let d=0;d<n.length;d++){const m=n[d],g=r[m],x=s[m],y=g(x,l);if(typeof y>"u")throw l&&l.type,new Error(Sa(14));f[m]=y,u=u||y!==x}return u=u||n.length!==Object.keys(s).length,u?f:s}}function Zv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function $de(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Sa(15))};const s={getState:a.getState,dispatch:(u,...f)=>i(u,...f)},l=e.map(u=>u(s));return i=Zv(...l)(a.dispatch),{...a,dispatch:i}}}function R7(e){return WC(e)&&"type"in e&&typeof e.type=="string"}var P7=Symbol.for("immer-nothing"),Oj=Symbol.for("immer-draftable"),ni=Symbol.for("immer-state");function Os(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ri=Object,Df=Ri.getPrototypeOf,Jv="constructor",_y="prototype",vS="configurable",e1="enumerable",ov="writable",op="value",sl=e=>!!e&&!!e[ni];function Ls(e){return e?F7(e)||wy(e)||!!e[Oj]||!!e[Jv]?.[Oj]||Ey(e)||Sy(e):!1}var Hde=Ri[_y][Jv].toString(),jj=new WeakMap;function F7(e){if(!e||!GC(e))return!1;const t=Df(e);if(t===null||t===Ri[_y])return!0;const r=Ri.hasOwnProperty.call(t,Jv)&&t[Jv];if(r===Object)return!0;if(!rf(r))return!1;let n=jj.get(r);return n===void 0&&(n=Function.toString.call(r),jj.set(r,n)),n===Hde}function zp(e,t,r=!0){Up(e)===0?(r?Reflect.ownKeys(e):Ri.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Up(e){const t=e[ni];return t?t.type_:wy(e)?1:Ey(e)?2:Sy(e)?3:0}var Nj=(e,t,r=Up(e))=>r===2?e.has(t):Ri[_y].hasOwnProperty.call(e,t),yS=(e,t,r=Up(e))=>r===2?e.get(t):e[t],t1=(e,t,r,n=Up(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function qde(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var wy=Array.isArray,Ey=e=>e instanceof Map,Sy=e=>e instanceof Set,GC=e=>typeof e=="object",rf=e=>typeof e=="function",Iw=e=>typeof e=="boolean";function Wde(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Uo=e=>e.copy_||e.base_,KC=e=>e.modified_?e.copy_:e.base_;function bS(e,t){if(Ey(e))return new Map(e);if(Sy(e))return new Set(e);if(wy(e))return Array[_y].slice.call(e);const r=F7(e);if(t===!0||t==="class_only"&&!r){const n=Ri.getOwnPropertyDescriptors(e);delete n[ni];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],l=n[s];l[ov]===!1&&(l[ov]=!0,l[vS]=!0),(l.get||l.set)&&(n[s]={[vS]:!0,[ov]:!0,[e1]:l[e1],[op]:e[s]})}return Ri.create(Df(e),n)}else{const n=Df(e);if(n!==null&&r)return{...e};const a=Ri.create(n);return Ri.assign(a,e)}}function XC(e,t=!1){return Ay(e)||sl(e)||!Ls(e)||(Up(e)>1&&Ri.defineProperties(e,{set:Yg,add:Yg,clear:Yg,delete:Yg}),Ri.freeze(e),t&&zp(e,(r,n)=>{XC(n,!0)},!1)),e}function Gde(){Os(2)}var Yg={[op]:Gde};function Ay(e){return e===null||!GC(e)?!0:Ri.isFrozen(e)}var r1="MapSet",_S="Patches",Ij="ArrayMethods",B7={};function Vu(e){const t=B7[e];return t||Os(0,e),t}var Rj=e=>!!B7[e],lp,M7=()=>lp,Kde=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Rj(r1)?Vu(r1):void 0,arrayMethodsPlugin_:Rj(Ij)?Vu(Ij):void 0});function Pj(e,t){t&&(e.patchPlugin_=Vu(_S),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wS(e){ES(e),e.drafts_.forEach(Xde),e.drafts_=null}function ES(e){e===lp&&(lp=e.parent_)}var Fj=e=>lp=Kde(lp,e);function Xde(e){const t=e[ni];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Bj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ni].modified_&&(wS(t),Os(4)),Ls(e)&&(e=Mj(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[ni].base_,e,t)}else e=Mj(t,r);return Yde(t,e,!0),wS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==P7?e:void 0}function Mj(e,t){if(Ay(t))return t;const r=t[ni];if(!r)return YC(t,e.handledSet_,e);if(!Cy(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);U7(r,e)}return r.copy_}function Yde(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&XC(t,r)}function L7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Cy=(e,t)=>e.scope_===t,Qde=[];function z7(e,t,r,n){const a=Uo(e),i=e.type_;if(n!==void 0&&yS(a,n,i)===t){t1(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;zp(a,(u,f)=>{if(sl(f)){const d=l.get(f)||[];d.push(u),l.set(f,d)}})}const s=e.draftLocations_.get(t)??Qde;for(const l of s)t1(a,l,r,i)}function Zde(e,t,r){e.callbacks_.push(function(a){const i=t;if(!i||!Cy(i,a))return;a.mapSetPlugin_?.fixSetContents(i);const s=KC(i);z7(e,i.draft_??i,s,r),U7(i,a)})}function U7(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}L7(e)}}function Jde(e,t,r){const{scope_:n}=e;if(sl(r)){const a=r[ni];Cy(a,n)&&a.callbacks_.push(function(){lv(e);const s=KC(a);z7(e,r,s,t)})}else Ls(r)&&e.callbacks_.push(function(){const i=Uo(e);yS(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&YC(yS(e.copy_,t,e.type_),n.handledSet_,n)})}function YC(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||sl(e)||t.has(e)||!Ls(e)||Ay(e)||(t.add(e),zp(e,(n,a)=>{if(sl(a)){const i=a[ni];if(Cy(i,r)){const s=KC(i);t1(e,n,s,e.type_),L7(i)}}else Ls(a)&&YC(a,t,r)})),e}function ehe(e,t){const r=wy(e),n={type_:r?1:0,scope_:t?t.scope_:M7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=QC;r&&(a=[n],i=cp);const{revoke:s,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=s,[l,n]}var QC={get(e,t){if(t===ni)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=Uo(e);if(!Nj(a,t,e.type_))return the(e,a,t);const i=a[t];if(e.finalized_||!Ls(i)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&Wde(t))return i;if(i===Rw(e.base_,t)){lv(e);const s=e.type_===1?+t:t,l=AS(e.scope_,i,e,s);return e.copy_[s]=l}return i},has(e,t){return t in Uo(e)},ownKeys(e){return Reflect.ownKeys(Uo(e))},set(e,t,r){const n=V7(Uo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Rw(Uo(e),t),i=a?.[ni];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(qde(r,a)&&(r!==void 0||Nj(e.base_,t,e.type_)))return!0;lv(e),SS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Jde(e,t,r)),!0},deleteProperty(e,t){return lv(e),Rw(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),SS(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Uo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[ov]:!0,[vS]:e.type_!==1||t!=="length",[e1]:n[e1],[op]:r[t]}},defineProperty(){Os(11)},getPrototypeOf(e){return Df(e.base_)},setPrototypeOf(){Os(12)}},cp={};zp(QC,(e,t)=>{cp[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});cp.deleteProperty=function(e,t){return cp.set.call(this,e,t,void 0)};cp.set=function(e,t,r){return QC.set.call(this,e[0],t,r,e[0])};function Rw(e,t){const r=e[ni];return(r?Uo(r):e)[t]}function the(e,t,r){const n=V7(t,r);return n?op in n?n[op]:n.get?.call(e.draft_):void 0}function V7(e,t){if(!(t in e))return;let r=Df(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Df(r)}}function SS(e){e.modified_||(e.modified_=!0,e.parent_&&SS(e.parent_))}function lv(e){e.copy_||(e.assigned_=new Map,e.copy_=bS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rhe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(rf(r)&&!rf(n)){const s=n;n=r;const l=this;return function(f=s,...d){return l.produce(f,m=>n.call(this,m,...d))}}rf(n)||Os(6),a!==void 0&&!rf(a)&&Os(7);let i;if(Ls(r)){const s=Fj(this),l=AS(s,r,void 0);let u=!0;try{i=n(l),u=!1}finally{u?wS(s):ES(s)}return Pj(s,a),Bj(i,s)}else if(!r||!GC(r)){if(i=n(r),i===void 0&&(i=r),i===P7&&(i=void 0),this.autoFreeze_&&XC(i,!0),a){const s=[],l=[];Vu(_S).generateReplacementPatches_(r,i,{patches_:s,inversePatches_:l}),a(s,l)}return i}else Os(1,r)},this.produceWithPatches=(r,n)=>{if(rf(r))return(l,...u)=>this.produceWithPatches(l,f=>r(f,...u));let a,i;return[this.produce(r,n,(l,u)=>{a=l,i=u}),a,i]},Iw(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Iw(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Iw(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ls(t)||Os(8),sl(t)&&(t=Bs(t));const r=Fj(this),n=AS(r,t,void 0);return n[ni].isManual_=!0,ES(r),n}finishDraft(t,r){const n=t&&t[ni];(!n||!n.isManual_)&&Os(9);const{scope_:a}=n;return Pj(a,r),Bj(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Vu(_S).applyPatches_;return sl(t)?a(t,r):this.produce(t,i=>a(i,r))}};function AS(e,t,r,n){const[a,i]=Ey(t)?Vu(r1).proxyMap_(t,r):Sy(t)?Vu(r1).proxySet_(t,r):ehe(t,r);return(r?.scope_??M7()).drafts_.push(a),i.callbacks_=r?.callbacks_??[],i.key_=n,r&&n!==void 0?Zde(r,i,n):i.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:f}=u;i.modified_&&f&&f.generatePatches_(i,[],u)}),a}function Bs(e){return sl(e)||Os(10,e),$7(e)}function $7(e){if(!Ls(e)||Ay(e))return e;const t=e[ni];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=bS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=bS(e,!0);return zp(r,(a,i)=>{t1(r,a,$7(i))},n),t&&(t.finalized_=!1),r}var nhe=new rhe,H7=nhe.produce;function q7(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var ahe=q7(),ihe=q7,she=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zv:Zv.apply(null,arguments)};function ms(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Fi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>R7(n)&&n.type===e,r}var W7=class yh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,yh.prototype)}static get[Symbol.species](){return yh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new yh(...t[0].concat(this)):new yh(...t.concat(this))}};function Lj(e){return Ls(e)?H7(e,()=>{}):e}function Qg(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ohe(e){return typeof e=="boolean"}var lhe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new W7;return r&&(ohe(r)?s.push(ahe):s.push(ihe(r.extraArgument))),s},G7="RTK_autoBatch",Jr=()=>e=>({payload:e,meta:{[G7]:!0}}),zj=e=>t=>{setTimeout(t,e)},K7=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zj(10):e.type==="callback"?e.queueNotification:zj(e.timeout),f=()=>{s=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const m=()=>a&&d(),g=n.subscribe(m);return l.add(d),()=>{g(),l.delete(d)}},dispatch(d){try{return a=!d?.meta?.[G7],i=!a,i&&(s||(s=!0,u(f))),n.dispatch(d)}finally{a=!0}}})},che=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new W7(e);return n&&a.push(K7(typeof n=="object"?n:void 0)),a};function uhe(e){const t=lhe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(WC(r))l=I7(r);else throw new Error(Fi(1));let u;typeof n=="function"?u=n(t):u=t();let f=Zv;a&&(f=she({trace:!1,...typeof a=="object"&&a}));const d=$de(...u),m=che(d);let g=typeof s=="function"?s(m):m();const x=f(...g);return N7(l,i,x)}function X7(e){const t={},r=[];let n;const a={addCase(i,s){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Fi(28));if(l in t)throw new Error(Fi(29));return t[l]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function fhe(e){return typeof e=="function"}function dhe(e,t){let[r,n,a]=X7(t),i;if(fhe(e))i=()=>Lj(e());else{const l=Lj(e);i=()=>l}function s(l=i(),u){let f=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[a]),f.reduce((d,m)=>{if(m)if(sl(d)){const x=m(d,u);return x===void 0?d:x}else{if(Ls(d))return H7(d,g=>m(g,u));{const g=m(d,u);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},l)}return s.getInitialState=i,s}var hhe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",phe=(e=21)=>{let t="",r=e;for(;r--;)t+=hhe[Math.random()*64|0];return t},mhe=Symbol.for("rtk-slice-createasyncthunk");function ghe(e,t){return`${e}/${t}`}function xhe({creators:e}={}){const t=e?.asyncThunk?.[mhe];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(Fi(11));const s=(typeof n.reducers=="function"?n.reducers(yhe()):n.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(S,O){const F=typeof S=="string"?S:S.type;if(!F)throw new Error(Fi(12));if(F in u.sliceCaseReducersByType)throw new Error(Fi(13));return u.sliceCaseReducersByType[F]=O,f},addMatcher(S,O){return u.sliceMatchers.push({matcher:S,reducer:O}),f},exposeAction(S,O){return u.actionCreators[S]=O,f},exposeCaseReducer(S,O){return u.sliceCaseReducersByName[S]=O,f}};l.forEach(S=>{const O=s[S],F={reducerName:S,type:ghe(a,S),createNotation:typeof n.reducers=="function"};_he(O)?Ehe(F,O,f,t):bhe(F,O,f)});function d(){const[S={},O=[],F=void 0]=typeof n.extraReducers=="function"?X7(n.extraReducers):[n.extraReducers],B={...S,...u.sliceCaseReducersByType};return dhe(n.initialState,j=>{for(let k in B)j.addCase(k,B[k]);for(let k of u.sliceMatchers)j.addMatcher(k.matcher,k.reducer);for(let k of O)j.addMatcher(k.matcher,k.reducer);F&&j.addDefaultCase(F)})}const m=S=>S,g=new Map,x=new WeakMap;let y;function _(S,O){return y||(y=d()),y(S,O)}function b(){return y||(y=d()),y.getInitialState()}function w(S,O=!1){function F(j){let k=j[S];return typeof k>"u"&&O&&(k=Qg(x,F,b)),k}function B(j=m){const k=Qg(g,O,()=>new WeakMap);return Qg(k,j,()=>{const P={};for(const[I,R]of Object.entries(n.selectors??{}))P[I]=vhe(R,j,()=>Qg(x,j,b),O);return P})}return{reducerPath:S,getSelectors:B,get selectors(){return B(F)},selectSlice:F}}const C={name:a,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...w(i),injectInto(S,{reducerPath:O,...F}={}){const B=O??i;return S.inject({reducerPath:B,reducer:_},F),{...C,...w(B,!0)}}};return C}}function vhe(e,t,r,n){function a(i,...s){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...s)}return a.unwrapped=e,a}var bi=xhe();function yhe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function bhe({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!whe(n))throw new Error(Fi(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?ms(e,s):ms(e))}function _he(e){return e._reducerDefinitionType==="asyncThunk"}function whe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Ehe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Fi(18));const{payloadCreator:i,fulfilled:s,pending:l,rejected:u,settled:f,options:d}=r,m=a(e,i,d);n.exposeAction(t,m),s&&n.addCase(m.fulfilled,s),l&&n.addCase(m.pending,l),u&&n.addCase(m.rejected,u),f&&n.addMatcher(m.settled,f),n.exposeCaseReducer(t,{fulfilled:s||Zg,pending:l||Zg,rejected:u||Zg,settled:f||Zg})}function Zg(){}var She="task",Y7="listener",Q7="completed",ZC="cancelled",Ahe=`task-${ZC}`,Che=`task-${Q7}`,CS=`${Y7}-${ZC}`,The=`${Y7}-${Q7}`,Ty=class{constructor(e){this.code=e,this.message=`${She} ${ZC} (reason: ${e})`}name="TaskAbortError";message},JC=(e,t)=>{if(typeof e!="function")throw new TypeError(Fi(32))},n1=()=>{},Z7=(e,t=n1)=>(e.catch(t),e),J7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ku=e=>{if(e.aborted)throw new Ty(e.reason)};function eL(e,t){let r=n1;return new Promise((n,a)=>{const i=()=>a(new Ty(e.reason));if(e.aborted){i();return}r=J7(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=n1})}var khe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ty?"cancelled":"rejected",error:r}}finally{t?.()}},a1=e=>t=>Z7(eL(e,t).then(r=>(ku(e),r))),tL=e=>{const t=a1(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:xf}=Object,Uj={},ky="listenerMiddleware",Dhe=(e,t)=>{const r=n=>J7(e,()=>n.abort(e.reason));return(n,a)=>{JC(n);const i=new AbortController;r(i);const s=khe(async()=>{ku(e),ku(i.signal);const l=await n({pause:a1(i.signal),delay:tL(i.signal),signal:i.signal});return ku(i.signal),l},()=>i.abort(Che));return a?.autoJoin&&t.push(s.catch(n1)),{result:a1(e)(s),cancel(){i.abort(Ahe)}}}},Ohe=(e,t)=>{const r=async(n,a)=>{ku(t);let i=()=>{};const l=[new Promise((u,f)=>{let d=e({predicate:n,effect:(m,g)=>{g.unsubscribe(),u([m,g.getState(),g.getOriginalState()])}});i=()=>{d(),f()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await eL(t,Promise.race(l));return ku(t),u}finally{i()}};return(n,a)=>Z7(r(n,a))},rL=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=ms(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Fi(21));return JC(i),{predicate:a,type:t,effect:i}},nL=xf(e=>{const{type:t,predicate:r,effect:n}=rL(e);return{id:phe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Fi(22))}}},{withTypes:()=>nL}),Vj=(e,t)=>{const{type:r,effect:n,predicate:a}=rL(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},TS=e=>{e.pending.forEach(t=>{t.abort(CS)})},jhe=(e,t)=>()=>{for(const r of t.keys())TS(r);e.clear()},$j=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},aL=xf(ms(`${ky}/add`),{withTypes:()=>aL}),Nhe=ms(`${ky}/removeAll`),iL=xf(ms(`${ky}/remove`),{withTypes:()=>iL}),Ihe=(...e)=>{console.error(`${ky}/error`,...e)},Vp=(e={})=>{const t=new Map,r=new Map,n=x=>{const y=r.get(x)??0;r.set(x,y+1)},a=x=>{const y=r.get(x)??1;y===1?r.delete(x):r.set(x,y-1)},{extra:i,onError:s=Ihe}=e;JC(s);const l=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),y=>{x.unsubscribe(),y?.cancelActive&&TS(x)}),u=x=>{const y=Vj(t,x)??nL(x);return l(y)};xf(u,{withTypes:()=>u});const f=x=>{const y=Vj(t,x);return y&&(y.unsubscribe(),x.cancelActive&&TS(y)),!!y};xf(f,{withTypes:()=>f});const d=async(x,y,_,b)=>{const w=new AbortController,C=Ohe(u,w.signal),S=[];try{x.pending.add(w),n(x),await Promise.resolve(x.effect(y,xf({},_,{getOriginalState:b,condition:(O,F)=>C(O,F).then(Boolean),take:C,delay:tL(w.signal),pause:a1(w.signal),extra:i,signal:w.signal,fork:Dhe(w.signal,S),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((O,F,B)=>{O!==w&&(O.abort(CS),B.delete(O))})},cancel:()=>{w.abort(CS),x.pending.delete(w)},throwIfCancelled:()=>{ku(w.signal)}})))}catch(O){O instanceof Ty||$j(s,O,{raisedBy:"effect"})}finally{await Promise.all(S),w.abort(The),a(x),x.pending.delete(w)}},m=jhe(t,r);return{middleware:x=>y=>_=>{if(!R7(_))return y(_);if(aL.match(_))return u(_.payload);if(Nhe.match(_)){m();return}if(iL.match(_))return f(_.payload);let b=x.getState();const w=()=>{if(b===Uj)throw new Error(Fi(23));return b};let C;try{if(C=y(_),t.size>0){const S=x.getState(),O=Array.from(t.values());for(const F of O){let B=!1;try{B=F.predicate(_,S,b)}catch(j){B=!1,$j(s,j,{raisedBy:"predicate"})}B&&d(F,_,x,w)}}}finally{b=Uj}return C},startListening:u,stopListening:f,clearListeners:m}};function Fi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rhe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},sL=bi({name:"chartLayout",initialState:Rhe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Phe,setLayout:Fhe,setChartSize:Bhe,setScale:Mhe}=sL.actions,Lhe=sL.reducer;function oL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Mr(e){return Number.isFinite(e)}function xo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){zhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zhe(e,t,r){return(t=Uhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uhe(e){var t=Vhe(e,"string");return typeof t=="symbol"?t:t+""}function Vhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pr(e,t,r){return sn(e)||sn(t)?r:go(t)?Uu(e,t,r):typeof t=="function"?t(e):r}var $he=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&i!=="center"&&at(e[i]))return of(of({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&s!=="middle"&&at(e[s]))return of(of({},e),{},{[s]:e[s]+(a||0)})}return e},hl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",lL=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,s=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||s.push(t),i||s.push(r),s},cL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:d,ticks:m,niceTicks:g,axisType:x}=e;if(!s)return null;var y=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,_=a==="category"&&s.bandwidth?s.bandwidth()/y:0;if(_=x==="angleAxis"&&i&&i.length>=2?ma(i[0]-i[1])*2*_:_,m||g){var b=(m||g||[]).map((w,C)=>{var S=n?n.indexOf(w):w;return{coordinate:s(S)+_,value:w,offset:_,index:C}});return b.filter(w=>!ps(w.coordinate))}return u&&f?f.map((w,C)=>({coordinate:s(w)+_,value:w,index:C,offset:_})):s.ticks&&d!=null?s.ticks(d).map((w,C)=>({coordinate:s(w)+_,value:w,offset:_,index:C})):s.domain().map((w,C)=>({coordinate:s(w)+_,value:n?n[w]:w,index:C,offset:_}))},qj=1e-4,Hhe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-qj,i=Math.max(n[0],n[1])+qj,s=e(t[0]),l=e(t[r-1]);(s<a||s>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},qhe=(e,t)=>{if(!t||t.length!==2||!at(t[0])||!at(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!at(e[0])||e[0]<r)&&(a[0]=r),(!at(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Whe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,s=0,l=0;l<r;++l){var u=e[l],f=u?.[a];if(f!=null){var d=f[1],m=f[0],g=ps(d)?m:d;g>=0?(f[0]=i,f[1]=i+g,i=d):(f[0]=s,f[1]=s+g,s=d)}}}},Ghe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,s=0;s<r;++s){var l=e[s],u=l?.[a];if(u!=null){var f=ps(u[1])?u[0]:u[1];f>=0?(u[0]=i,u[1]=i+f,i=u[1]):(u[0]=0,u[1]=0)}}}},Khe={sign:Whe,expand:hfe,none:zu,silhouette:pfe,wiggle:mfe,positive:Ghe},Xhe=(e,t,r)=>{var n,a=(n=Khe[r])!==null&&n!==void 0?n:zu,i=dfe().keys(t).value((l,u)=>Number(Pr(l,u,0))).order(gS).offset(a),s=i(e);return s.forEach((l,u)=>{l.forEach((f,d)=>{var m=Pr(e[d],t[u],0);Array.isArray(m)&&m.length===2&&at(m[0])&&at(m[1])&&(f[0]=m[0],f[1]=m[1])})}),s};function uL(e){return e==null?void 0:String(e)}function Wj(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!sn(a[t.dataKey])){var l=p7(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=Pr(a,sn(s)?t.dataKey:s);return sn(u)?null:t.scale(u)}var Gj=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var l=Pr(i,t.dataKey,t.scale.domain()[s]);return sn(l)?null:t.scale(l)-a/2+n},Yhe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Qhe=e=>{var t=e.flat(2).filter(at);return[Math.min(...t),Math.max(...t)]},Zhe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Jhe=(e,t,r)=>{if(e!=null)return Zhe(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:s}=i,l=s.reduce((u,f)=>{var d=oL(f,t,r),m=Qhe(d);return!Mr(m[0])||!Mr(m[1])?u:[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Kj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Of=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=by(t,d=>d.coordinate),i=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];i=Math.min((u?.coordinate||0)-(f?.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Yj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return of(of({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Yf(e,t){if(e)return String(e);if(typeof t=="string")return t}var epe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},tpe=(e,t)=>t==="centric"?e.angle:e.radius,pl=e=>e.layout.width,ml=e=>e.layout.height,rpe=e=>e.layout.scale,fL=e=>e.layout.margin,Dy=je(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Oy=je(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),dL="data-recharts-item-index",hL="data-recharts-item-id",$p=60;function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){npe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function npe(e,t,r){return(t=ape(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ape(e){var t=ipe(e,"string");return typeof t=="symbol"?t:t+""}function ipe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var spe=e=>e.brush.height;function ope(e){var t=Oy(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:$p;return r+a}return r},0)}function lpe(e){var t=Oy(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:$p;return r+a}return r},0)}function cpe(e){var t=Dy(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function upe(e){var t=Dy(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ea=je([pl,ml,fL,spe,ope,lpe,cpe,upe,O7,Fde],(e,t,r,n,a,i,s,l,u,f)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+s,bottom:(r.bottom||0)+l},g=Jg(Jg({},m),d),x=g.bottom;g.bottom+=n,g=$he(g,u,f);var y=e-g.left-g.right,_=t-g.top-g.bottom;return Jg(Jg({brushBottom:x},g),{},{width:Math.max(y,0),height:Math.max(_,0)})}),fpe=je(ea,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),e4=je(pl,ml,(e,t)=>({x:0,y:0,width:e,height:t})),dpe=T.createContext(null),Ga=()=>T.useContext(dpe)!=null,jy=e=>e.brush,Ny=je([jy,ea,fL],(e,t,r)=>({height:e.height,x:at(e.x)?e.x:t.left,y:at(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:at(e.width)?e.width:t.width})),Pw={},Fw={},Bw={},Zj;function hpe(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,l=null;const u=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},m=()=>{f&&d(),_()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},y=()=>{g!==null&&(clearTimeout(g),g=null)},_=()=>{y(),s=void 0,l=null},b=()=>{d()},w=function(...C){if(a?.aborted)return;s=this,l=C;const S=g==null;x(),u&&S&&d()};return w.schedule=x,w.cancel=_,w.flush=b,a?.addEventListener("abort",_,{once:!0}),w}e.debounce=t})(Bw)),Bw}var Jj;function ppe(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hpe();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:l=!0,maxWait:u}=i,f=Array(2);s&&(f[0]="leading"),l&&(f[1]="trailing");let d,m=null;const g=t.debounce(function(..._){d=n.apply(this,_),m=null},a,{edges:f}),x=function(..._){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(d=n.apply(this,_),m=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,_),d)},y=()=>(g.flush(),d);return x.cancel=g.cancel,x.flush=y,x}e.debounce=r})(Fw)),Fw}var eN;function mpe(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ppe();function r(n,a=0,i={}){const{leading:s=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:l})}e.throttle=r})(Pw)),Pw}var Mw,tN;function gpe(){return tN||(tN=1,Mw=mpe().throttle),Mw}var xpe=gpe();const vpe=yo(xpe);var i1=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>a[s++]))}},pL=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,l=il(n)?e:Number(n),u=il(a)?t:Number(a);return i&&i>0&&(l?u=l/i:u&&(l=u*i),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},ype={width:0,height:0,overflow:"visible"},bpe={width:0,overflowX:"visible"},_pe={height:0,overflowY:"visible"},wpe={},Epe=e=>{var{width:t,height:r}=e,n=il(t),a=il(r);return n&&a?ype:n?bpe:a?_pe:wpe};function Spe(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(null,arguments)}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){Ape(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ape(e,t,r){return(t=Cpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cpe(e){var t=Tpe(e,"string");return typeof t=="symbol"?t:t+""}function Tpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mL=T.createContext({width:-1,height:-1});function kpe(e){return xo(e.width)&&xo(e.height)}function gL(e){var{children:t,width:r,height:n}=e,a=T.useMemo(()=>({width:r,height:n}),[r,n]);return kpe(a)?T.createElement(mL.Provider,{value:a},t):null}var t4=()=>T.useContext(mL),Dpe=T.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:l,maxHeight:u,children:f,debounce:d=0,id:m,className:g,onResize:x,style:y={}}=e,_=T.useRef(null),b=T.useRef();b.current=x,T.useImperativeHandle(t,()=>_.current);var[w,C]=T.useState({containerWidth:n.width,containerHeight:n.height}),S=T.useCallback((k,P)=>{C(I=>{var R=Math.round(k),N=Math.round(P);return I.containerWidth===R&&I.containerHeight===N?I:{containerWidth:R,containerHeight:N}})},[]);T.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return Mp;var k=N=>{var M,{width:ce,height:fe}=N[0].contentRect;S(ce,fe),(M=b.current)===null||M===void 0||M.call(b,ce,fe)};d>0&&(k=vpe(k,d,{trailing:!0,leading:!1}));var P=new ResizeObserver(k),{width:I,height:R}=_.current.getBoundingClientRect();return S(I,R),P.observe(_.current),()=>{P.disconnect()}},[S,d]);var{containerWidth:O,containerHeight:F}=w;i1(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:B,calculatedHeight:j}=pL(O,F,{width:a,height:i,aspect:r,maxHeight:u});return i1(B!=null&&B>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,j,a,i,s,l,r),T.createElement("div",{id:m?"".concat(m):void 0,className:fr("recharts-responsive-container",g),style:nN(nN({},y),{},{width:a,height:i,minWidth:s,minHeight:l,maxHeight:u}),ref:_},T.createElement("div",{style:Epe({width:a,height:i})},T.createElement(gL,{width:B,height:j},f)))}),s1=T.forwardRef((e,t)=>{var r=t4();if(xo(r.width)&&xo(r.height))return e.children;var{width:n,height:a}=Spe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=pL(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return at(i)&&at(s)?T.createElement(gL,{width:i,height:s},e.children):T.createElement(Dpe,kS({},e,{width:n,height:a,ref:t}))});function xL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Iy=()=>{var e,t=Ga(),r=dt(fpe),n=dt(Ny),a=(e=dt(jy))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Ope={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vL=()=>{var e;return(e=dt(ea))!==null&&e!==void 0?e:Ope},r4=()=>dt(pl),n4=()=>dt(ml),jpe=()=>dt(e=>e.layout.margin),tr=e=>e.layout.layoutType,s0=()=>dt(tr),Npe=()=>{var e=s0();if(e==="horizontal"||e==="vertical")return e},Ipe=()=>{var e=s0();return e!==void 0},Ry=e=>{var t=Vr(),r=Ga(),{width:n,height:a}=e,i=t4(),s=n,l=a;return i&&(s=i.width>0?i.width:n,l=i.height>0?i.height:a),T.useEffect(()=>{!r&&xo(s)&&xo(l)&&t(Bhe({width:s,height:l}))},[t,r,s,l]),null},yL=Symbol.for("immer-nothing"),aN=Symbol.for("immer-draftable"),zi=Symbol.for("immer-state");function js(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var up=Object.getPrototypeOf;function jf(e){return!!e&&!!e[zi]}function $u(e){return e?bL(e)||Array.isArray(e)||!!e[aN]||!!e.constructor?.[aN]||Hp(e)||Fy(e):!1}var Rpe=Object.prototype.constructor.toString(),iN=new WeakMap;function bL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=iN.get(r);return n===void 0&&(n=Function.toString.call(r),iN.set(r,n)),n===Rpe}function o1(e,t,r=!0){Py(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Py(e){const t=e[zi];return t?t.type_:Array.isArray(e)?1:Hp(e)?2:Fy(e)?3:0}function DS(e,t){return Py(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _L(e,t,r){const n=Py(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Ppe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Hp(e){return e instanceof Map}function Fy(e){return e instanceof Set}function fu(e){return e.copy_||e.base_}function OS(e,t){if(Hp(e))return new Map(e);if(Fy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=bL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[zi];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(up(e),n)}else{const n=up(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function a4(e,t=!1){return By(e)||jf(e)||!$u(e)||(Py(e)>1&&Object.defineProperties(e,{set:ex,add:ex,clear:ex,delete:ex}),Object.freeze(e),t&&Object.values(e).forEach(r=>a4(r,!0))),e}function Fpe(){js(2)}var ex={value:Fpe};function By(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Bpe={};function Hu(e){const t=Bpe[e];return t||js(0,e),t}var fp;function wL(){return fp}function Mpe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sN(e,t){t&&(Hu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jS(e){NS(e),e.drafts_.forEach(Lpe),e.drafts_=null}function NS(e){e===fp&&(fp=e.parent_)}function oN(e){return fp=Mpe(fp,e)}function Lpe(e){const t=e[zi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[zi].modified_&&(jS(t),js(4)),$u(e)&&(e=l1(t,e),t.parent_||c1(t,e)),t.patches_&&Hu("Patches").generateReplacementPatches_(r[zi].base_,e,t.patches_,t.inversePatches_)):e=l1(t,r,[]),jS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yL?e:void 0}function l1(e,t,r){if(By(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[zi];if(!a)return o1(t,(i,s)=>cN(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return c1(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,l=!1;a.type_===3&&(s=new Set(i),i.clear(),l=!0),o1(s,(u,f)=>cN(e,a,i,u,f,r,l),n),c1(e,i,!1),r&&e.patches_&&Hu("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function cN(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const l=By(a);if(!(l&&!s)){if(jf(a)){const u=i&&t&&t.type_!==3&&!DS(t.assigned_,n)?i.concat(n):void 0,f=l1(e,a,u);if(_L(r,n,f),jf(f))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if($u(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;l1(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Hp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&c1(e,a)}}}function c1(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&a4(t,r)}function zpe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:wL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=i4;r&&(a=[n],i=dp);const{revoke:s,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=s,l}var i4={get(e,t){if(t===zi)return e;const r=fu(e);if(!DS(r,t))return Upe(e,r,t);const n=r[t];return e.finalized_||!$u(n)?n:n===Lw(e.base_,t)?(zw(e),e.copy_[t]=RS(n,e)):n},has(e,t){return t in fu(e)},ownKeys(e){return Reflect.ownKeys(fu(e))},set(e,t,r){const n=EL(fu(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Lw(fu(e),t),i=a?.[zi];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Ppe(r,a)&&(r!==void 0||DS(e.base_,t)))return!0;zw(e),IS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Lw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,zw(e),IS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=fu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){js(11)},getPrototypeOf(e){return up(e.base_)},setPrototypeOf(){js(12)}},dp={};o1(i4,(e,t)=>{dp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dp.deleteProperty=function(e,t){return dp.set.call(this,e,t,void 0)};dp.set=function(e,t,r){return i4.set.call(this,e[0],t,r,e[0])};function Lw(e,t){const r=e[zi];return(r?fu(r):e)[t]}function Upe(e,t,r){const n=EL(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function EL(e,t){if(!(t in e))return;let r=up(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=up(r)}}function IS(e){e.modified_||(e.modified_=!0,e.parent_&&IS(e.parent_))}function zw(e){e.copy_||(e.copy_=OS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Vpe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(u=i,...f){return s.produce(u,d=>r.call(this,d,...f))}}typeof r!="function"&&js(6),n!==void 0&&typeof n!="function"&&js(7);let a;if($u(t)){const i=oN(this),s=RS(t,void 0);let l=!0;try{a=r(s),l=!1}finally{l?jS(i):NS(i)}return sN(i,n),lN(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===yL&&(a=void 0),this.autoFreeze_&&a4(a,!0),n){const i=[],s=[];Hu("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else js(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,u=>t(u,...l));let n,a;return[this.produce(t,r,(s,l)=>{n=s,a=l}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){$u(e)||js(8),jf(e)&&(e=$pe(e));const t=oN(this),r=RS(e,void 0);return r[zi].isManual_=!0,NS(t),r}finishDraft(e,t){const r=e&&e[zi];(!r||!r.isManual_)&&js(9);const{scope_:n}=r;return sN(n,t),lN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Hu("Patches").applyPatches_;return jf(e)?n(e,t):this.produce(e,a=>n(a,t))}};function RS(e,t){const r=Hp(e)?Hu("MapSet").proxyMap_(e,t):Fy(e)?Hu("MapSet").proxySet_(e,t):zpe(e,t);return(t?t.scope_:wL()).drafts_.push(r),r}function $pe(e){return jf(e)||js(10,e),SL(e)}function SL(e){if(!$u(e)||By(e))return e;const t=e[zi];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=OS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=OS(e,!0);return o1(r,(a,i)=>{_L(r,a,SL(i))},n),t&&(t.finalized_=!1),r}var Hpe=new Vpe;Hpe.produce;var qpe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},AL=bi({name:"legend",initialState:qpe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Jr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Bs(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Jr()},removeLegendPayload:{reducer(e,t){var r=Bs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Jr()}}}),{setLegendSize:uN,setLegendSettings:Wpe,addLegendPayload:CL,replaceLegendPayload:TL,removeLegendPayload:kL}=AL.actions,Gpe=AL.reducer,Kpe=["contextPayload"];function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PS.apply(null,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){Xpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xpe(e,t,r){return(t=Ype(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ype(e){var t=Qpe(e,"string");return typeof t=="symbol"?t:t+""}function Qpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zpe(e,t){if(e==null)return{};var r,n,a=Jpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eme(e){return e.value}function tme(e){var{contextPayload:t}=e,r=Zpe(e,Kpe),n=C7(t,e.payloadUniqBy,eme),a=Nf(Nf({},r),{},{payload:n});return T.isValidElement(e.content)?T.cloneElement(e.content,a):typeof e.content=="function"?T.createElement(e.content,a):T.createElement(qfe,a)}function rme(e,t,r,n,a,i){var{layout:s,align:l,verticalAlign:u}=t,f,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&s==="vertical"?f={left:((n||0)-i.width)/2}:f=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?d={top:((a||0)-i.height)/2}:d=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Nf(Nf({},f),d)}function nme(e){var t=Vr();return T.useEffect(()=>{t(Wpe(e))},[t,e]),null}function ame(e){var t=Vr();return T.useEffect(()=>(t(uN(e)),()=>{t(uN({width:0,height:0}))}),[t,e]),null}function ime(e,t,r,n){return e==="vertical"&&at(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var sme={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function DL(e){var t=Hn(e,sme),r=Lde(),n=F0e(),a=jpe(),{width:i,height:s,wrapperStyle:l,portal:u}=t,[f,d]=j7([r]),m=r4(),g=n4();if(m==null||g==null)return null;var x=m-(a?.left||0)-(a?.right||0),y=ime(t.layout,s,i,x),_=u?l:Nf(Nf({position:"absolute",width:y?.width||i||"auto",height:y?.height||s||"auto"},rme(l,t,a,m,g,f)),l),b=u??n;if(b==null||r==null)return null;var w=T.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:d},T.createElement(nme,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&T.createElement(ame,{width:f.width,height:f.height}),T.createElement(tme,PS({},t,y,{margin:a,chartWidth:m,chartHeight:g,contextPayload:r})));return V1.createPortal(w,b)}DL.displayName="Legend";function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FS.apply(null,arguments)}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){ome(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ome(e,t,r){return(t=lme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lme(e){var t=cme(e,"string");return typeof t=="symbol"?t:t+""}function cme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ume(e){return Array.isArray(e)&&go(e[0])&&go(e[1])?e.join(" ~ "):e}var fme=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:f,label:d,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var F={padding:0,margin:0},B=(l?by(i,l):i).map((j,k)=>{if(j.type==="none")return null;var P=j.formatter||s||ume,{value:I,name:R}=j,N=I,M=R;if(P){var ce=P(I,R,j,k,i);if(Array.isArray(ce))[N,M]=ce;else if(ce!=null)N=ce;else return null}var fe=Uw({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:fe},go(M)?T.createElement("span",{className:"recharts-tooltip-item-name"},M):null,go(M)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},N),T.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:F},B)}return null},y=Uw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),_=Uw({margin:0},a),b=!sn(d),w=b?d:"",C=fr("recharts-default-tooltip",u),S=fr("recharts-tooltip-label",f);b&&m&&i!==void 0&&i!==null&&(w=m(d,i));var O=g?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",FS({className:C,style:y},O),T.createElement("p",{className:S,style:_},T.isValidElement(w)?w:"".concat(w)),x())},nh="recharts-tooltip-wrapper",dme={visibility:"hidden"};function hme(e){var{coordinate:t,translateX:r,translateY:n}=e;return fr(nh,{["".concat(nh,"-right")]:at(r)&&t&&at(t.x)&&r>=t.x,["".concat(nh,"-left")]:at(r)&&t&&at(t.x)&&r<t.x,["".concat(nh,"-bottom")]:at(n)&&t&&at(t.y)&&n>=t.y,["".concat(nh,"-top")]:at(n)&&t&&at(t.y)&&n<t.y})}function hN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(i&&at(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),m=r[n]+a;if(t[n])return s[n]?d:m;var g=u[n];if(g==null)return 0;if(s[n]){var x=d,y=g;return x<y?Math.max(m,g):Math.max(d,g)}if(f==null)return 0;var _=m+l,b=g+f;return _>b?Math.max(d,g):Math.max(m,g)}function pme(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mme(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:l,viewBox:u}=e,f,d,m;return s.height>0&&s.width>0&&r?(d=hN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),m=hN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),f=pme({translateX:d,translateY:m,useTranslate3d:l})):f=dme,{cssProperties:f,cssClasses:hme({translateX:d,translateY:m,coordinate:r})}}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){BS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BS(e,t,r){return(t=gme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gme(e){var t=xme(e,"string");return typeof t=="symbol"?t:t+""}function xme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vme extends T.PureComponent{constructor(){super(...arguments),BS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),BS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:l,isAnimationActive:u,offset:f,position:d,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:y,lastBoundingBox:_,innerRef:b,hasPortalFromProps:w}=this.props,{cssClasses:C,cssProperties:S}=mme({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:f,position:d,reverseDirection:m,tooltipBox:{height:_.height,width:_.width},useTranslate3d:g,viewBox:x}),O=w?{}:tx(tx({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),F=tx(tx({},O),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:F,ref:b},i)}}var OL=()=>{var e;return(e=dt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MS.apply(null,arguments)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){yme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yme(e,t,r){return(t=bme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bme(e){var t=_me(e,"string");return typeof t=="symbol"?t:t+""}function _me(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xN={curveBasisClosed:tfe,curveBasisOpen:rfe,curveBasis:efe,curveBumpX:z0e,curveBumpY:U0e,curveLinearClosed:nfe,curveLinear:vy,curveMonotoneX:afe,curveMonotoneY:ife,curveNatural:sfe,curveStep:ofe,curveStepAfter:cfe,curveStepBefore:lfe},u1=e=>Mr(e.x)&&Mr(e.y),vN=e=>e.base!=null&&u1(e.base)&&u1(e),ah=e=>e.x,ih=e=>e.y,wme=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Bp(e));return(r==="curveMonotone"||r==="curveBump")&&t?xN["".concat(r).concat(t==="vertical"?"Y":"X")]:xN[r]||vy},Eme=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=wme(t,a),l=i?r.filter(u1):r,u;if(Array.isArray(n)){var f=r.map((x,y)=>gN(gN({},x),{},{base:n[y]}));a==="vertical"?u=Gg().y(ih).x1(ah).x0(x=>x.base.x):u=Gg().x(ah).y1(ih).y0(x=>x.base.y);var d=u.defined(vN).curve(s),m=i?f.filter(vN):f;return d(m)}a==="vertical"&&at(n)?u=Gg().y(ih).x1(ah).x0(n):at(n)?u=Gg().x(ah).y1(ih).y0(n):u=t7().x(ah).y(ih);var g=u.defined(u1).curve(s);return g(l)},vf=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=s0();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?Eme(s):n;return T.createElement("path",MS({},yi(e),$C(e),{className:fr("recharts-curve",t),d:l===null?void 0:l,ref:a}))},Sme=["x","y","top","left","width","height","className"];function LS(){return LS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LS.apply(null,arguments)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ame(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){Cme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cme(e,t,r){return(t=Tme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tme(e){var t=kme(e,"string");return typeof t=="symbol"?t:t+""}function kme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dme(e,t){if(e==null)return{};var r,n,a=Ome(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ome(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jme=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Nme=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:l}=e,u=Dme(e,Sme),f=Ame({x:t,y:r,top:n,left:a,width:i,height:s},u);return!at(t)||!at(r)||!at(i)||!at(s)||!at(n)||!at(a)?null:T.createElement("path",LS({},ri(f),{className:fr("recharts-cross",l),d:jme(t,r,i,s,n,a)}))};function Ime(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){Rme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rme(e,t,r){return(t=Pme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pme(e){var t=Fme(e,"string");return typeof t=="symbol"?t:t+""}function Fme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bme=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),jL=(e,t,r)=>e.map(n=>"".concat(Bme(n)," ").concat(t,"ms ").concat(r)).join(","),Mme=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),hp=(e,t)=>Object.keys(t).reduce((r,n)=>_N(_N({},r),{},{[n]:e(n,t[n])}),{});function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){Lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lme(e,t,r){return(t=zme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zme(e){var t=Ume(e,"string");return typeof t=="symbol"?t:t+""}function Ume(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f1=(e,t,r)=>e+(t-e)*r,zS=e=>{var{from:t,to:r}=e;return t!==r},NL=(e,t,r)=>{var n=hp((a,i)=>{if(zS(i)){var[s,l]=e(i.from,i.to,i.velocity);return Kn(Kn({},i),{},{from:s,velocity:l})}return i},t);return r<1?hp((a,i)=>zS(i)&&n[a]!=null?Kn(Kn({},i),{},{velocity:f1(i.velocity,n[a].velocity,r),from:f1(i.from,n[a].from,r)}):i,t):NL(e,n,r-1)};function Vme(e,t,r,n,a,i){var s,l=n.reduce((g,x)=>Kn(Kn({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>hp((g,x)=>x.from,l),f=()=>!Object.values(l).filter(zS).length,d=null,m=g=>{s||(s=g);var x=g-s,y=x/r.dt;l=NL(r,l,y),a(Kn(Kn(Kn({},e),t),u())),s=g,f()||(d=i.setTimeout(m))};return()=>(d=i.setTimeout(m),()=>{var g;(g=d)===null||g===void 0||g()})}function $me(e,t,r,n,a,i,s){var l=null,u=a.reduce((m,g)=>{var x=e[g],y=t[g];return x==null||y==null?m:Kn(Kn({},m),{},{[g]:[x,y]})},{}),f,d=m=>{f||(f=m);var g=(m-f)/n,x=hp((_,b)=>f1(...b,r(g)),u);if(i(Kn(Kn(Kn({},e),t),x)),g<1)l=s.setTimeout(d);else{var y=hp((_,b)=>f1(...b,r(1)),u);i(Kn(Kn(Kn({},e),t),y))}};return()=>(l=s.setTimeout(d),()=>{var m;(m=l)===null||m===void 0||m()})}const Hme=(e,t,r,n,a,i)=>{var s=Mme(e,t);return r==null?()=>(a(Kn(Kn({},e),t)),()=>{}):r.isStepper===!0?Vme(e,t,r,s,a,i):$me(e,t,r,n,s,a,i)};var d1=1e-4,IL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],RL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),EN=(e,t)=>r=>{var n=IL(e,t);return RL(n,r)},qme=(e,t)=>r=>{var n=IL(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return RL(a,r)},Wme=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},Gme=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=Wme(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},Kme=(e,t,r,n)=>{var a=EN(e,r),i=EN(t,n),s=qme(e,r),l=f=>f>1?1:f<0?0:f,u=f=>{for(var d=f>1?1:f,m=d,g=0;g<8;++g){var x=a(m)-d,y=s(m);if(Math.abs(x-d)<d1||y<d1)return i(m);m=l(m-x/y)}return i(m)};return u.isStepper=!1,u},SN=function(){return Kme(...Gme(...arguments))},Xme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,l,u)=>{var f=-(s-l)*r,d=u*n,m=u+(f-d)*a/1e3,g=u*a/1e3+s;return Math.abs(g-l)<d1&&Math.abs(m)<d1?[l,0]:[g,m]};return i.isStepper=!0,i.dt=a,i},Yme=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SN(e);case"spring":return Xme();default:if(e.split("(")[0]==="cubic-bezier")return SN(e)}return typeof e=="function"?e:null};function Qme(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...f]=l;if(typeof u=="number"){a=e.setTimeout(i.bind(null,f),u);return}i(u),a=e.setTimeout(i.bind(null,f));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class Zme{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function Jme(){return Qme(new Zme)}var ege=T.createContext(Jme);function tge(e,t){var r=T.useContext(ege);return T.useMemo(()=>t??r(e),[e,t,r])}var rge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qp={isSsr:rge()},nge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},AN={t:0},Vw={t:1};function Wp(e){var t=Hn(e,nge),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:l,onAnimationStart:u,children:f}=t,d=r==="auto"?!qp.isSsr:r,m=tge(t.animationId,t.animationManager),[g,x]=T.useState(d?AN:Vw),y=T.useRef(null);return T.useEffect(()=>{d||x(Vw)},[d]),T.useEffect(()=>{if(!d||!n)return Mp;var _=Hme(AN,Vw,Yme(i),a,x,m.getTimeoutController()),b=()=>{y.current=_()};return m.start([u,s,b,a,l]),()=>{m.stop(),y.current&&y.current(),l()}},[d,n,a,i,s,u,l,m]),f(g.t)}function Gp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=T.useRef(sp(t)),n=T.useRef(e);return n.current!==e&&(r.current=sp(t),n.current=e),r.current}var age=["radius"],ige=["radius"],CN,TN,kN,DN,ON,jN,NN,IN,RN,PN;function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){sge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sge(e,t,r){return(t=oge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oge(e){var t=lge(e,"string");return typeof t=="symbol"?t:t+""}function lge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h1.apply(null,arguments)}function MN(e,t){if(e==null)return{};var r,n,a=cge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function no(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var LN=(e,t,r,n,a)=>{var i=sc(r),s=sc(n),l=Math.min(Math.abs(i)/2,Math.abs(s)/2),u=s>=0?1:-1,f=i>=0?1:-1,d=s>=0&&i>=0||s<0&&i<0?1:0,m;if(l>0&&a instanceof Array){for(var g=[0,0,0,0],x=0,y=4;x<y;x++)g[x]=a[x]>l?l:a[x];m=dn(CN||(CN=no(["M",",",""])),e,t+u*g[0]),g[0]>0&&(m+=dn(TN||(TN=no(["A ",",",",0,0,",",",",",""])),g[0],g[0],d,e+f*g[0],t)),m+=dn(kN||(kN=no(["L ",",",""])),e+r-f*g[1],t),g[1]>0&&(m+=dn(DN||(DN=no(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],d,e+r,t+u*g[1])),m+=dn(ON||(ON=no(["L ",",",""])),e+r,t+n-u*g[2]),g[2]>0&&(m+=dn(jN||(jN=no(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],d,e+r-f*g[2],t+n)),m+=dn(NN||(NN=no(["L ",",",""])),e+f*g[3],t+n),g[3]>0&&(m+=dn(IN||(IN=no(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],d,e,t+n-u*g[3])),m+="Z"}else if(l>0&&a===+a&&a>0){var _=Math.min(l,a);m=dn(RN||(RN=no(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*_,_,_,d,e+f*_,t,e+r-f*_,t,_,_,d,e+r,t+u*_,e+r,t+n-u*_,_,_,d,e+r-f*_,t+n,e+f*_,t+n,_,_,d,e,t+n-u*_)}else m=dn(PN||(PN=no(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return m},zN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PL=e=>{var t=Hn(e,zN),r=T.useRef(null),[n,a]=T.useState(-1);T.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ie=r.current.getTotalLength();ie&&a(ie)}catch{}},[]);var{x:i,y:s,width:l,height:u,radius:f,className:d}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:y,isUpdateAnimationActive:_}=t,b=T.useRef(l),w=T.useRef(u),C=T.useRef(i),S=T.useRef(s),O=T.useMemo(()=>({x:i,y:s,width:l,height:u,radius:f}),[i,s,l,u,f]),F=Gp(O,"rectangle-");if(i!==+i||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var B=fr("recharts-rectangle",d);if(!_){var j=ri(t),{radius:k}=j,P=MN(j,age);return T.createElement("path",h1({},P,{x:sc(i),y:sc(s),width:sc(l),height:sc(u),radius:typeof f=="number"?f:void 0,className:B,d:LN(i,s,l,u,f)}))}var I=b.current,R=w.current,N=C.current,M=S.current,ce="0px ".concat(n===-1?1:n,"px"),fe="".concat(n,"px 0px"),ae=jL(["strokeDasharray"],g,typeof m=="string"?m:zN.animationEasing);return T.createElement(Wp,{animationId:F,key:F,canBegin:n>0,duration:g,easing:m,isActive:_,begin:x},ie=>{var me=Gr(I,l,ie),be=Gr(R,u,ie),de=Gr(N,i,ie),U=Gr(M,s,ie);r.current&&(b.current=me,w.current=be,C.current=de,S.current=U);var Z;y?ie>0?Z={transition:ae,strokeDasharray:fe}:Z={strokeDasharray:ce}:Z={strokeDasharray:fe};var te=ri(t),{radius:W}=te,xe=MN(te,ige);return T.createElement("path",h1({},xe,{radius:typeof f=="number"?f:void 0,className:B,d:LN(de,U,me,be,f),ref:r,style:BN(BN({},Z),t.style)}))})};function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){uge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uge(e,t,r){return(t=fge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fge(e){var t=dge(e,"string");return typeof t=="symbol"?t:t+""}function dge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p1=Math.PI/180,hge=e=>e*180/Math.PI,Ln=(e,t,r,n)=>({x:e+Math.cos(-p1*n)*r,y:t+Math.sin(-p1*n)*r}),FL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},pge=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},mge=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=pge({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var l=(r-a)/s,u=Math.acos(l);return n>i&&(u=2*Math.PI-u),{radius:s,angle:hge(u),angleInRadian:u}},gge=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},xge=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},vge=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=mge({x:r,y:n},t),{innerRadius:s,outerRadius:l}=t;if(a<s||a>l||a===0)return null;var{startAngle:u,endAngle:f}=gge(t),d=i,m;if(u<=f){for(;d>f;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=f}else{for(;d>u;)d-=360;for(;d<f;)d+=360;m=d>=f&&d<=u}return m?VN(VN({},t),{},{radius:a,angle:xge(d,t)}):null};function BL(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Ln(t,r,n,a),l=Ln(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var $N,HN,qN,WN,GN,KN,XN;function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},US.apply(null,arguments)}function gu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yge=(e,t)=>{var r=ma(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},rx=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:l,cornerIsExternal:u}=e,f=l*(s?1:-1)+n,d=Math.asin(l/f)/p1,m=u?a:a+i*d,g=Ln(t,r,f,m),x=Ln(t,r,n,m),y=u?a-i*d:a,_=Ln(t,r,f*Math.cos(d*p1),y);return{center:g,circleTangency:x,lineTangency:_,theta:d}},ML=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,l=yge(i,s),u=i+l,f=Ln(t,r,a,i),d=Ln(t,r,a,u),m=dn($N||($N=gu(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,a,a,+(Math.abs(l)>180),+(i>u),d.x,d.y);if(n>0){var g=Ln(t,r,n,i),x=Ln(t,r,n,u);m+=dn(HN||(HN=gu(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,n,n,+(Math.abs(l)>180),+(i<=u),g.x,g.y)}else m+=dn(qN||(qN=gu(["L ",","," Z"])),t,r);return m},bge=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:f}=e,d=ma(f-u),{circleTangency:m,lineTangency:g,theta:x}=rx({cx:t,cy:r,radius:a,angle:u,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:_,theta:b}=rx({cx:t,cy:r,radius:a,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),w=l?Math.abs(u-f):Math.abs(u-f)-x-b;if(w<0)return s?dn(WN||(WN=gu(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,i,i,i*2,i,i,-i*2):ML({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:f});var C=dn(GN||(GN=gu(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,i,i,+(d<0),m.x,m.y,a,a,+(w>180),+(d<0),y.x,y.y,i,i,+(d<0),_.x,_.y);if(n>0){var{circleTangency:S,lineTangency:O,theta:F}=rx({cx:t,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:B,lineTangency:j,theta:k}=rx({cx:t,cy:r,radius:n,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),P=l?Math.abs(u-f):Math.abs(u-f)-F-k;if(P<0&&i===0)return"".concat(C,"L").concat(t,",").concat(r,"Z");C+=dn(KN||(KN=gu(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,i,i,+(d<0),B.x,B.y,n,n,+(P>180),+(d>0),S.x,S.y,i,i,+(d<0),O.x,O.y)}else C+=dn(XN||(XN=gu(["L",",","Z"])),t,r);return C},_ge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LL=e=>{var t=Hn(e,_ge),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d,className:m}=t;if(i<a||f===d)return null;var g=fr("recharts-sector",m),x=i-a,y=Ha(s,x,0,!0),_;return y>0&&Math.abs(f-d)<360?_=bge({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(y,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):_=ML({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:d}),T.createElement("path",US({},ri(t),{className:g,d:_}))};function wge(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(g7(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:s,angle:l}=t,u=Ln(n,a,i,l),f=Ln(n,a,s,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return BL(t)}}var $w={},Hw={},qw={},YN;function Ege(){return YN||(YN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k7();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(qw)),qw}var QN;function Sge(){return QN||(QN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ege();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Hw)),Hw}var ZN;function Age(){return ZN||(ZN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D7(),r=Sge();function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((i-a)/(s||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=a,a+=s;return u}e.range=n})($w)),$w}var Ww,JN;function Cge(){return JN||(JN=1,Ww=Age().range),Ww}var Tge=Cge();const zL=yo(Tge);function mc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kge(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s4(e){let t,r,n;e.length!==2?(t=mc,r=(l,u)=>mc(e(l),u),n=(l,u)=>e(l)-u):(t=e===mc||e===kge?e:Dge,r=e,n=e);function a(l,u,f=0,d=l.length){if(f<d){if(t(u,u)!==0)return d;do{const m=f+d>>>1;r(l[m],u)<0?f=m+1:d=m}while(f<d)}return f}function i(l,u,f=0,d=l.length){if(f<d){if(t(u,u)!==0)return d;do{const m=f+d>>>1;r(l[m],u)<=0?f=m+1:d=m}while(f<d)}return f}function s(l,u,f=0,d=l.length){const m=a(l,u,f,d-1);return m>f&&n(l[m-1],u)>-n(l[m],u)?m-1:m}return{left:a,center:s,right:i}}function Dge(){return 0}function UL(e){return e===null?NaN:+e}function*Oge(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jge=s4(mc),Kp=jge.right;s4(UL).center;class eI extends Map{constructor(t,r=Rge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(tI(this,t))}has(t){return super.has(tI(this,t))}set(t,r){return super.set(Nge(this,t),r)}delete(t){return super.delete(Ige(this,t))}}function tI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Nge({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Ige({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Rge(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pge(e=mc){if(e===mc)return VL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function VL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Fge=Math.sqrt(50),Bge=Math.sqrt(10),Mge=Math.sqrt(2);function m1(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Fge?10:i>=Bge?5:i>=Mge?2:1;let l,u,f;return a<0?(f=Math.pow(10,-a)/s,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,a)*s,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=r&&r<2?m1(e,t,r*2):[l,u,f]}function VS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?m1(t,e,r):m1(e,t,r);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(n)if(s<0)for(let f=0;f<l;++f)u[f]=(i-f)/-s;else for(let f=0;f<l;++f)u[f]=(i-f)*s;else if(s<0)for(let f=0;f<l;++f)u[f]=(a+f)/-s;else for(let f=0;f<l;++f)u[f]=(a+f)*s;return u}function $S(e,t,r){return t=+t,e=+e,r=+r,m1(e,t,r)[2]}function HS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?$S(t,e,r):$S(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function rI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function nI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function $L(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?VL:Pge(a);n>r;){if(n-r>600){const u=n-r+1,f=t-r+1,d=Math.log(u),m=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*m*(u-m)/u)*(f-u/2<0?-1:1),x=Math.max(r,Math.floor(t-f*m/u+g)),y=Math.min(n,Math.floor(t+(u-f)*m/u+g));$L(e,t,x,y,a)}const i=e[t];let s=r,l=n;for(sh(e,r,t),a(e[n],i)>0&&sh(e,r,n);s<l;){for(sh(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?sh(e,r,l):(++l,sh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function sh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Lge(e,t,r){if(e=Float64Array.from(Oge(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return nI(e);if(t>=1)return rI(e);var n,a=(n-1)*t,i=Math.floor(a),s=rI($L(e,i).subarray(0,i+1)),l=nI(e.subarray(i+1));return s+(l-s)*(a-i)}}function zge(e,t,r=UL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function Uge(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ys(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function gl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qS=Symbol("implicit");function o4(){var e=new eI,t=[],r=[],n=qS;function a(i){let s=e.get(i);if(s===void 0){if(n!==qS)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new eI;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return o4(t,r).unknown(n)},ys.apply(a,arguments),a}function l4(){var e=o4().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,u=0,f=0,d=.5;delete e.unknown;function m(){var g=t().length,x=a<n,y=x?a:n,_=x?n:a;i=(_-y)/Math.max(1,g-u+f*2),l&&(i=Math.floor(i)),y+=(_-y-i*(g-u))*d,s=i*(1-u),l&&(y=Math.round(y),s=Math.round(s));var b=Uge(g).map(function(w){return y+i*w});return r(x?b.reverse():b)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,l=!0,m()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(g){return arguments.length?(l=!!g,m()):l},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),m()):d},e.copy=function(){return l4(t(),[n,a]).round(l).paddingInner(u).paddingOuter(f).align(d)},ys.apply(m(),arguments)}function HL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HL(t())},e}function Vge(){return HL(l4.apply(null,arguments).paddingInner(1))}function c4(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function qL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Xp(){}var pp=.7,g1=1/pp,yf="\\s*([+-]?\\d+)\\s*",mp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$ge=/^#([0-9a-f]{3,8})$/,Hge=new RegExp(`^rgb\\(${yf},${yf},${yf}\\)$`),qge=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),Wge=new RegExp(`^rgba\\(${yf},${yf},${yf},${mp}\\)$`),Gge=new RegExp(`^rgba\\(${fo},${fo},${fo},${mp}\\)$`),Kge=new RegExp(`^hsl\\(${mp},${fo},${fo}\\)$`),Xge=new RegExp(`^hsla\\(${mp},${fo},${fo},${mp}\\)$`),aI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c4(Xp,gp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iI,formatHex:iI,formatHex8:Yge,formatHsl:Qge,formatRgb:sI,toString:sI});function iI(){return this.rgb().formatHex()}function Yge(){return this.rgb().formatHex8()}function Qge(){return WL(this).formatHsl()}function sI(){return this.rgb().formatRgb()}function gp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$ge.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oI(t):r===3?new gi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?nx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?nx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hge.exec(e))?new gi(t[1],t[2],t[3],1):(t=qge.exec(e))?new gi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wge.exec(e))?nx(t[1],t[2],t[3],t[4]):(t=Gge.exec(e))?nx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Kge.exec(e))?uI(t[1],t[2]/100,t[3]/100,1):(t=Xge.exec(e))?uI(t[1],t[2]/100,t[3]/100,t[4]):aI.hasOwnProperty(e)?oI(aI[e]):e==="transparent"?new gi(NaN,NaN,NaN,0):null}function oI(e){return new gi(e>>16&255,e>>8&255,e&255,1)}function nx(e,t,r,n){return n<=0&&(e=t=r=NaN),new gi(e,t,r,n)}function Zge(e){return e instanceof Xp||(e=gp(e)),e?(e=e.rgb(),new gi(e.r,e.g,e.b,e.opacity)):new gi}function WS(e,t,r,n){return arguments.length===1?Zge(e):new gi(e,t,r,n??1)}function gi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}c4(gi,WS,qL(Xp,{brighter(e){return e=e==null?g1:Math.pow(g1,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pp:Math.pow(pp,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gi(Du(this.r),Du(this.g),Du(this.b),x1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lI,formatHex:lI,formatHex8:Jge,formatRgb:cI,toString:cI}));function lI(){return`#${xu(this.r)}${xu(this.g)}${xu(this.b)}`}function Jge(){return`#${xu(this.r)}${xu(this.g)}${xu(this.b)}${xu((isNaN(this.opacity)?1:this.opacity)*255)}`}function cI(){const e=x1(this.opacity);return`${e===1?"rgb(":"rgba("}${Du(this.r)}, ${Du(this.g)}, ${Du(this.b)}${e===1?")":`, ${e})`}`}function x1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Du(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xu(e){return e=Du(e),(e<16?"0":"")+e.toString(16)}function uI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ns(e,t,r,n)}function WL(e){if(e instanceof Ns)return new Ns(e.h,e.s,e.l,e.opacity);if(e instanceof Xp||(e=gp(e)),!e)return new Ns;if(e instanceof Ns)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,u=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=u<.5?i+a:2-i-a,s*=60):l=u>0&&u<1?0:s,new Ns(s,l,u,e.opacity)}function exe(e,t,r,n){return arguments.length===1?WL(e):new Ns(e,t,r,n??1)}function Ns(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}c4(Ns,exe,qL(Xp,{brighter(e){return e=e==null?g1:Math.pow(g1,e),new Ns(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pp:Math.pow(pp,e),new Ns(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new gi(Gw(e>=240?e-240:e+120,a,n),Gw(e,a,n),Gw(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ns(fI(this.h),ax(this.s),ax(this.l),x1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=x1(this.opacity);return`${e===1?"hsl(":"hsla("}${fI(this.h)}, ${ax(this.s)*100}%, ${ax(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fI(e){return e=(e||0)%360,e<0?e+360:e}function ax(e){return Math.max(0,Math.min(1,e||0))}function Gw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const u4=e=>()=>e;function txe(e,t){return function(r){return e+r*t}}function rxe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nxe(e){return(e=+e)==1?GL:function(t,r){return r-t?rxe(t,r,e):u4(isNaN(t)?r:t)}}function GL(e,t){var r=t-e;return r?txe(e,r):u4(isNaN(e)?t:e)}const dI=(function e(t){var r=nxe(t);function n(a,i){var s=r((a=WS(a)).r,(i=WS(i)).r),l=r(a.g,i.g),u=r(a.b,i.b),f=GL(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=u(d),a.opacity=f(d),a+""}}return n.gamma=e,n})(1);function axe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function ixe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sxe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Qf(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function oxe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function v1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lxe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Qf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var GS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kw=new RegExp(GS.source,"g");function cxe(e){return function(){return e}}function uxe(e){return function(t){return e(t)+""}}function fxe(e,t){var r=GS.lastIndex=Kw.lastIndex=0,n,a,i,s=-1,l=[],u=[];for(e=e+"",t=t+"";(n=GS.exec(e))&&(a=Kw.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,u.push({i:s,x:v1(n,a)})),r=Kw.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?u[0]?uxe(u[0].x):cxe(t):(t=u.length,function(f){for(var d=0,m;d<t;++d)l[(m=u[d]).i]=m.x(f);return l.join("")})}function Qf(e,t){var r=typeof t,n;return t==null||r==="boolean"?u4(t):(r==="number"?v1:r==="string"?(n=gp(t))?(t=n,dI):fxe:t instanceof gp?dI:t instanceof Date?oxe:ixe(t)?axe:Array.isArray(t)?sxe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lxe:v1)(e,t)}function f4(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function dxe(e,t){t===void 0&&(t=e,e=Qf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function hxe(e){return function(){return e}}function y1(e){return+e}var hI=[0,1];function ti(e){return e}function KS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hxe(isNaN(t)?NaN:.5)}function pxe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mxe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=KS(a,n),i=r(s,i)):(n=KS(n,a),i=r(i,s)),function(l){return i(n(l))}}function gxe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=KS(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var u=Kp(e,l,1,n)-1;return i[u](a[u](l))}}function Yp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function My(){var e=hI,t=hI,r=Qf,n,a,i,s=ti,l,u,f;function d(){var g=Math.min(e.length,t.length);return s!==ti&&(s=pxe(e[0],e[g-1])),l=g>2?gxe:mxe,u=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(u||(u=l(e.map(n),t,r)))(n(s(g)))}return m.invert=function(g){return s(a((f||(f=l(t,e.map(n),v1)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,y1),d()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),d()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=f4,d()},m.clamp=function(g){return arguments.length?(s=g?!0:ti,d()):s!==ti},m.interpolate=function(g){return arguments.length?(r=g,d()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,x){return n=g,a=x,d()}}function d4(){return My()(ti,ti)}function xxe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function b1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function If(e){return e=b1(Math.abs(e)),e?e[1]:NaN}function vxe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function yxe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xp(e){if(!(t=bxe.exec(e)))throw new Error("invalid format: "+e);var t;return new h4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xp.prototype=h4.prototype;function h4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}h4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _xe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var KL;function wxe(e,t){var r=b1(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(KL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+b1(e,Math.max(0,t+i-1))[0]}function pI(e,t){var r=b1(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xxe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pI(e*100,t),r:pI,s:wxe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gI(e){return e}var xI=Array.prototype.map,vI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Exe(e){var t=e.grouping===void 0||e.thousands===void 0?gI:vxe(xI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?gI:yxe(xI.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=xp(m);var g=m.fill,x=m.align,y=m.sign,_=m.symbol,b=m.zero,w=m.width,C=m.comma,S=m.precision,O=m.trim,F=m.type;F==="n"?(C=!0,F="g"):mI[F]||(S===void 0&&(S=12),O=!0,F="g"),(b||g==="0"&&x==="=")&&(b=!0,g="0",x="=");var B=_==="$"?r:_==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",j=_==="$"?n:/[%p]/.test(F)?s:"",k=mI[F],P=/[defgprs%]/.test(F);S=S===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(R){var N=B,M=j,ce,fe,ae;if(F==="c")M=k(R)+M,R="";else{R=+R;var ie=R<0||1/R<0;if(R=isNaN(R)?u:k(Math.abs(R),S),O&&(R=_xe(R)),ie&&+R==0&&y!=="+"&&(ie=!1),N=(ie?y==="("?y:l:y==="-"||y==="("?"":y)+N,M=(F==="s"?vI[8+KL/3]:"")+M+(ie&&y==="("?")":""),P){for(ce=-1,fe=R.length;++ce<fe;)if(ae=R.charCodeAt(ce),48>ae||ae>57){M=(ae===46?a+R.slice(ce+1):R.slice(ce))+M,R=R.slice(0,ce);break}}}C&&!b&&(R=t(R,1/0));var me=N.length+R.length+M.length,be=me<w?new Array(w-me+1).join(g):"";switch(C&&b&&(R=t(be+R,be.length?w-M.length:1/0),be=""),x){case"<":R=N+R+M+be;break;case"=":R=N+be+R+M;break;case"^":R=be.slice(0,me=be.length>>1)+N+R+M+be.slice(me);break;default:R=be+N+R+M;break}return i(R)}return I.toString=function(){return m+""},I}function d(m,g){var x=f((m=xp(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(If(g)/3)))*3,_=Math.pow(10,-y),b=vI[8+y/3];return function(w){return x(_*w)+b}}return{format:f,formatPrefix:d}}var ix,p4,XL;Sxe({thousands:",",grouping:[3],currency:["$",""]});function Sxe(e){return ix=Exe(e),p4=ix.format,XL=ix.formatPrefix,ix}function Axe(e){return Math.max(0,-If(Math.abs(e)))}function Cxe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(If(t)/3)))*3-If(Math.abs(e)))}function Txe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,If(t)-If(e))+1}function YL(e,t,r,n){var a=HS(e,t,r),i;switch(n=xp(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Cxe(a,s))&&(n.precision=i),XL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Txe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Axe(a))&&(n.precision=i-(n.type==="%")*2);break}}return p4(n)}function Rc(e){var t=e.domain;return e.ticks=function(r){var n=t();return VS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return YL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],u,f,d=10;for(l<s&&(f=s,s=l,l=f,f=a,a=i,i=f);d-- >0;){if(f=$S(s,l,r),f===u)return n[a]=s,n[i]=l,t(n);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function QL(){var e=d4();return e.copy=function(){return Yp(e,QL())},ys.apply(e,arguments),Rc(e)}function ZL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,y1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ZL(e).unknown(t)},e=arguments.length?Array.from(e,y1):[0,1],Rc(r)}function JL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function yI(e){return Math.log(e)}function bI(e){return Math.exp(e)}function kxe(e){return-Math.log(-e)}function Dxe(e){return-Math.exp(-e)}function Oxe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jxe(e){return e===10?Oxe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Nxe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _I(e){return(t,r)=>-e(-t,r)}function m4(e){const t=e(yI,bI),r=t.domain;let n=10,a,i;function s(){return a=Nxe(n),i=jxe(n),r()[0]<0?(a=_I(a),i=_I(i),e(kxe,Dxe)):e(yI,bI),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const u=r();let f=u[0],d=u[u.length-1];const m=d<f;m&&([f,d]=[d,f]);let g=a(f),x=a(d),y,_;const b=l==null?10:+l;let w=[];if(!(n%1)&&x-g<b){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(y=1;y<n;++y)if(_=g<0?y/i(-g):y*i(g),!(_<f)){if(_>d)break;w.push(_)}}else for(;g<=x;++g)for(y=n-1;y>=1;--y)if(_=g>0?y/i(-g):y*i(g),!(_<f)){if(_>d)break;w.push(_)}w.length*2<b&&(w=VS(f,d,b))}else w=VS(g,x,Math.min(x-g,b)).map(i);return m?w.reverse():w},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=xp(u)).precision==null&&(u.trim=!0),u=p4(u)),l===1/0)return u;const f=Math.max(1,n*l/t.ticks().length);return d=>{let m=d/i(Math.round(a(d)));return m*n<n-.5&&(m*=n),m<=f?u(d):""}},t.nice=()=>r(JL(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function ez(){const e=m4(My()).domain([1,10]);return e.copy=()=>Yp(e,ez()).base(e.base()),ys.apply(e,arguments),e}function wI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function EI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function g4(e){var t=1,r=e(wI(t),EI(t));return r.constant=function(n){return arguments.length?e(wI(t=+n),EI(t)):t},Rc(r)}function tz(){var e=g4(My());return e.copy=function(){return Yp(e,tz()).constant(e.constant())},ys.apply(e,arguments)}function SI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ixe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Rxe(e){return e<0?-e*e:e*e}function x4(e){var t=e(ti,ti),r=1;function n(){return r===1?e(ti,ti):r===.5?e(Ixe,Rxe):e(SI(r),SI(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Rc(t)}function v4(){var e=x4(My());return e.copy=function(){return Yp(e,v4()).exponent(e.exponent())},ys.apply(e,arguments),e}function Pxe(){return v4.apply(null,arguments).exponent(.5)}function AI(e){return Math.sign(e)*e*e}function Fxe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rz(){var e=d4(),t=[0,1],r=!1,n;function a(i){var s=Fxe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(AI(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,y1)).map(AI)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return rz(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ys.apply(a,arguments),Rc(a)}function nz(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=zge(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Kp(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(mc),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return nz().domain(e).range(t).unknown(n)},ys.apply(i,arguments)}function az(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(u){return u!=null&&u<=u?a[Kp(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},s.invertExtent=function(u){var f=a.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},s.unknown=function(u){return arguments.length&&(i=u),s},s.thresholds=function(){return n.slice()},s.copy=function(){return az().domain([e,t]).range(a).unknown(i)},ys.apply(Rc(s),arguments)}function iz(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Kp(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return iz().domain(e).range(t).unknown(r)},ys.apply(a,arguments)}const Xw=new Date,Yw=new Date;function ta(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return u;let f;do u.push(f=new Date(+i)),t(i,l),e(i);while(f<i&&i<s);return u},a.filter=i=>ta(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Xw.setTime(+i),Yw.setTime(+s),e(Xw),e(Yw),Math.floor(r(Xw,Yw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const _1=ta(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ta(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_1);_1.range;const Wo=1e3,hs=Wo*60,Go=hs*60,ol=Go*24,y4=ol*7,CI=ol*30,Qw=ol*365,vu=ta(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getUTCSeconds());vu.range;const b4=ta(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wo)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getMinutes());b4.range;const _4=ta(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getUTCMinutes());_4.range;const w4=ta(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wo-e.getMinutes()*hs)},(e,t)=>{e.setTime(+e+t*Go)},(e,t)=>(t-e)/Go,e=>e.getHours());w4.range;const E4=ta(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Go)},(e,t)=>(t-e)/Go,e=>e.getUTCHours());E4.range;const Qp=ta(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hs)/ol,e=>e.getDate()-1);Qp.range;const Ly=ta(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ol,e=>e.getUTCDate()-1);Ly.range;const sz=ta(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ol,e=>Math.floor(e/ol));sz.range;function o0(e){return ta(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hs)/y4)}const zy=o0(0),w1=o0(1),Bxe=o0(2),Mxe=o0(3),Rf=o0(4),Lxe=o0(5),zxe=o0(6);zy.range;w1.range;Bxe.range;Mxe.range;Rf.range;Lxe.range;zxe.range;function l0(e){return ta(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/y4)}const Uy=l0(0),E1=l0(1),Uxe=l0(2),Vxe=l0(3),Pf=l0(4),$xe=l0(5),Hxe=l0(6);Uy.range;E1.range;Uxe.range;Vxe.range;Pf.range;$xe.range;Hxe.range;const S4=ta(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());S4.range;const A4=ta(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());A4.range;const ll=ta(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ll.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ta(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ll.range;const cl=ta(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ta(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});cl.range;function oz(e,t,r,n,a,i){const s=[[vu,1,Wo],[vu,5,5*Wo],[vu,15,15*Wo],[vu,30,30*Wo],[i,1,hs],[i,5,5*hs],[i,15,15*hs],[i,30,30*hs],[a,1,Go],[a,3,3*Go],[a,6,6*Go],[a,12,12*Go],[n,1,ol],[n,2,2*ol],[r,1,y4],[t,1,CI],[t,3,3*CI],[e,1,Qw]];function l(f,d,m){const g=d<f;g&&([f,d]=[d,f]);const x=m&&typeof m.range=="function"?m:u(f,d,m),y=x?x.range(f,+d+1):[];return g?y.reverse():y}function u(f,d,m){const g=Math.abs(d-f)/m,x=s4(([,,b])=>b).right(s,g);if(x===s.length)return e.every(HS(f/Qw,d/Qw,m));if(x===0)return _1.every(Math.max(HS(f,d,m),1));const[y,_]=s[g/s[x-1][2]<s[x][2]/g?x-1:x];return y.every(_)}return[l,u]}const[qxe,Wxe]=oz(cl,A4,Uy,sz,E4,_4),[Gxe,Kxe]=oz(ll,S4,zy,Qp,w4,b4);function Zw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function oh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Xxe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,f=lh(a),d=ch(a),m=lh(i),g=ch(i),x=lh(s),y=ch(s),_=lh(l),b=ch(l),w=lh(u),C=ch(u),S={a:ie,A:me,b:be,B:de,c:null,d:NI,e:NI,f:vve,g:kve,G:Ove,H:mve,I:gve,j:xve,L:lz,m:yve,M:bve,p:U,q:Z,Q:PI,s:FI,S:_ve,u:wve,U:Eve,V:Sve,w:Ave,W:Cve,x:null,X:null,y:Tve,Y:Dve,Z:jve,"%":RI},O={a:te,A:W,b:xe,B:Te,c:null,d:II,e:II,f:Pve,g:qve,G:Gve,H:Nve,I:Ive,j:Rve,L:uz,m:Fve,M:Bve,p:Ne,q:X,Q:PI,s:FI,S:Mve,u:Lve,U:zve,V:Uve,w:Vve,W:$ve,x:null,X:null,y:Hve,Y:Wve,Z:Kve,"%":RI},F={a:I,A:R,b:N,B:M,c:ce,d:OI,e:OI,f:fve,g:DI,G:kI,H:jI,I:jI,j:ove,L:uve,m:sve,M:lve,p:P,q:ive,Q:hve,s:pve,S:cve,u:eve,U:tve,V:rve,w:Jxe,W:nve,x:fe,X:ae,y:DI,Y:kI,Z:ave,"%":dve};S.x=B(r,S),S.X=B(n,S),S.c=B(t,S),O.x=B(r,O),O.X=B(n,O),O.c=B(t,O);function B(Q,ue){return function(q){var K=[],H=-1,ve=0,Fe=Q.length,Se,Ge,He;for(q instanceof Date||(q=new Date(+q));++H<Fe;)Q.charCodeAt(H)===37&&(K.push(Q.slice(ve,H)),(Ge=TI[Se=Q.charAt(++H)])!=null?Se=Q.charAt(++H):Ge=Se==="e"?" ":"0",(He=ue[Se])&&(Se=He(q,Ge)),K.push(Se),ve=H+1);return K.push(Q.slice(ve,H)),K.join("")}}function j(Q,ue){return function(q){var K=oh(1900,void 0,1),H=k(K,Q,q+="",0),ve,Fe;if(H!=q.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ue&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ve=Jw(oh(K.y,0,1)),Fe=ve.getUTCDay(),ve=Fe>4||Fe===0?E1.ceil(ve):E1(ve),ve=Ly.offset(ve,(K.V-1)*7),K.y=ve.getUTCFullYear(),K.m=ve.getUTCMonth(),K.d=ve.getUTCDate()+(K.w+6)%7):(ve=Zw(oh(K.y,0,1)),Fe=ve.getDay(),ve=Fe>4||Fe===0?w1.ceil(ve):w1(ve),ve=Qp.offset(ve,(K.V-1)*7),K.y=ve.getFullYear(),K.m=ve.getMonth(),K.d=ve.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Fe="Z"in K?Jw(oh(K.y,0,1)).getUTCDay():Zw(oh(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Fe+5)%7:K.w+K.U*7-(Fe+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Jw(K)):Zw(K)}}function k(Q,ue,q,K){for(var H=0,ve=ue.length,Fe=q.length,Se,Ge;H<ve;){if(K>=Fe)return-1;if(Se=ue.charCodeAt(H++),Se===37){if(Se=ue.charAt(H++),Ge=F[Se in TI?ue.charAt(H++):Se],!Ge||(K=Ge(Q,q,K))<0)return-1}else if(Se!=q.charCodeAt(K++))return-1}return K}function P(Q,ue,q){var K=f.exec(ue.slice(q));return K?(Q.p=d.get(K[0].toLowerCase()),q+K[0].length):-1}function I(Q,ue,q){var K=x.exec(ue.slice(q));return K?(Q.w=y.get(K[0].toLowerCase()),q+K[0].length):-1}function R(Q,ue,q){var K=m.exec(ue.slice(q));return K?(Q.w=g.get(K[0].toLowerCase()),q+K[0].length):-1}function N(Q,ue,q){var K=w.exec(ue.slice(q));return K?(Q.m=C.get(K[0].toLowerCase()),q+K[0].length):-1}function M(Q,ue,q){var K=_.exec(ue.slice(q));return K?(Q.m=b.get(K[0].toLowerCase()),q+K[0].length):-1}function ce(Q,ue,q){return k(Q,t,ue,q)}function fe(Q,ue,q){return k(Q,r,ue,q)}function ae(Q,ue,q){return k(Q,n,ue,q)}function ie(Q){return s[Q.getDay()]}function me(Q){return i[Q.getDay()]}function be(Q){return u[Q.getMonth()]}function de(Q){return l[Q.getMonth()]}function U(Q){return a[+(Q.getHours()>=12)]}function Z(Q){return 1+~~(Q.getMonth()/3)}function te(Q){return s[Q.getUTCDay()]}function W(Q){return i[Q.getUTCDay()]}function xe(Q){return u[Q.getUTCMonth()]}function Te(Q){return l[Q.getUTCMonth()]}function Ne(Q){return a[+(Q.getUTCHours()>=12)]}function X(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ue=B(Q+="",S);return ue.toString=function(){return Q},ue},parse:function(Q){var ue=j(Q+="",!1);return ue.toString=function(){return Q},ue},utcFormat:function(Q){var ue=B(Q+="",O);return ue.toString=function(){return Q},ue},utcParse:function(Q){var ue=j(Q+="",!0);return ue.toString=function(){return Q},ue}}}var TI={"-":"",_:" ",0:"0"},xa=/^\s*\d+/,Yxe=/^%/,Qxe=/[\\^$*+?|[\]().{}]/g;function dr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Zxe(e){return e.replace(Qxe,"\\$&")}function lh(e){return new RegExp("^(?:"+e.map(Zxe).join("|")+")","i")}function ch(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Jxe(e,t,r){var n=xa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eve(e,t,r){var n=xa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tve(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rve(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nve(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function kI(e,t,r){var n=xa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function DI(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ave(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ive(e,t,r){var n=xa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function sve(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function OI(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ove(e,t,r){var n=xa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function jI(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lve(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cve(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function uve(e,t,r){var n=xa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function fve(e,t,r){var n=xa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dve(e,t,r){var n=Yxe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hve(e,t,r){var n=xa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pve(e,t,r){var n=xa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function NI(e,t){return dr(e.getDate(),t,2)}function mve(e,t){return dr(e.getHours(),t,2)}function gve(e,t){return dr(e.getHours()%12||12,t,2)}function xve(e,t){return dr(1+Qp.count(ll(e),e),t,3)}function lz(e,t){return dr(e.getMilliseconds(),t,3)}function vve(e,t){return lz(e,t)+"000"}function yve(e,t){return dr(e.getMonth()+1,t,2)}function bve(e,t){return dr(e.getMinutes(),t,2)}function _ve(e,t){return dr(e.getSeconds(),t,2)}function wve(e){var t=e.getDay();return t===0?7:t}function Eve(e,t){return dr(zy.count(ll(e)-1,e),t,2)}function cz(e){var t=e.getDay();return t>=4||t===0?Rf(e):Rf.ceil(e)}function Sve(e,t){return e=cz(e),dr(Rf.count(ll(e),e)+(ll(e).getDay()===4),t,2)}function Ave(e){return e.getDay()}function Cve(e,t){return dr(w1.count(ll(e)-1,e),t,2)}function Tve(e,t){return dr(e.getFullYear()%100,t,2)}function kve(e,t){return e=cz(e),dr(e.getFullYear()%100,t,2)}function Dve(e,t){return dr(e.getFullYear()%1e4,t,4)}function Ove(e,t){var r=e.getDay();return e=r>=4||r===0?Rf(e):Rf.ceil(e),dr(e.getFullYear()%1e4,t,4)}function jve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dr(t/60|0,"0",2)+dr(t%60,"0",2)}function II(e,t){return dr(e.getUTCDate(),t,2)}function Nve(e,t){return dr(e.getUTCHours(),t,2)}function Ive(e,t){return dr(e.getUTCHours()%12||12,t,2)}function Rve(e,t){return dr(1+Ly.count(cl(e),e),t,3)}function uz(e,t){return dr(e.getUTCMilliseconds(),t,3)}function Pve(e,t){return uz(e,t)+"000"}function Fve(e,t){return dr(e.getUTCMonth()+1,t,2)}function Bve(e,t){return dr(e.getUTCMinutes(),t,2)}function Mve(e,t){return dr(e.getUTCSeconds(),t,2)}function Lve(e){var t=e.getUTCDay();return t===0?7:t}function zve(e,t){return dr(Uy.count(cl(e)-1,e),t,2)}function fz(e){var t=e.getUTCDay();return t>=4||t===0?Pf(e):Pf.ceil(e)}function Uve(e,t){return e=fz(e),dr(Pf.count(cl(e),e)+(cl(e).getUTCDay()===4),t,2)}function Vve(e){return e.getUTCDay()}function $ve(e,t){return dr(E1.count(cl(e)-1,e),t,2)}function Hve(e,t){return dr(e.getUTCFullYear()%100,t,2)}function qve(e,t){return e=fz(e),dr(e.getUTCFullYear()%100,t,2)}function Wve(e,t){return dr(e.getUTCFullYear()%1e4,t,4)}function Gve(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pf(e):Pf.ceil(e),dr(e.getUTCFullYear()%1e4,t,4)}function Kve(){return"+0000"}function RI(){return"%"}function PI(e){return+e}function FI(e){return Math.floor(+e/1e3)}var G0,dz,hz;Xve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xve(e){return G0=Xxe(e),dz=G0.format,G0.parse,hz=G0.utcFormat,G0.utcParse,G0}function Yve(e){return new Date(e)}function Qve(e){return e instanceof Date?+e:+new Date(+e)}function C4(e,t,r,n,a,i,s,l,u,f){var d=d4(),m=d.invert,g=d.domain,x=f(".%L"),y=f(":%S"),_=f("%I:%M"),b=f("%I %p"),w=f("%a %d"),C=f("%b %d"),S=f("%B"),O=f("%Y");function F(B){return(u(B)<B?x:l(B)<B?y:s(B)<B?_:i(B)<B?b:n(B)<B?a(B)<B?w:C:r(B)<B?S:O)(B)}return d.invert=function(B){return new Date(m(B))},d.domain=function(B){return arguments.length?g(Array.from(B,Qve)):g().map(Yve)},d.ticks=function(B){var j=g();return e(j[0],j[j.length-1],B??10)},d.tickFormat=function(B,j){return j==null?F:f(j)},d.nice=function(B){var j=g();return(!B||typeof B.range!="function")&&(B=t(j[0],j[j.length-1],B??10)),B?g(JL(j,B)):d},d.copy=function(){return Yp(d,C4(e,t,r,n,a,i,s,l,u,f))},d}function Zve(){return ys.apply(C4(Gxe,Kxe,ll,S4,zy,Qp,w4,b4,vu,dz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jve(){return ys.apply(C4(qxe,Wxe,cl,A4,Uy,Ly,E4,_4,vu,hz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vy(){var e=0,t=1,r,n,a,i,s=ti,l=!1,u;function f(m){return m==null||isNaN(m=+m)?u:s(a===0?.5:(m=(i(m)-r)*a,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(s=m,f):s};function d(m){return function(g){var x,y;return arguments.length?([x,y]=g,s=m(x,y),f):[s(0),s(1)]}}return f.range=d(Qf),f.rangeRound=d(f4),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),f}}function Pc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pz(){var e=Rc(Vy()(ti));return e.copy=function(){return Pc(e,pz())},gl.apply(e,arguments)}function mz(){var e=m4(Vy()).domain([1,10]);return e.copy=function(){return Pc(e,mz()).base(e.base())},gl.apply(e,arguments)}function gz(){var e=g4(Vy());return e.copy=function(){return Pc(e,gz()).constant(e.constant())},gl.apply(e,arguments)}function T4(){var e=x4(Vy());return e.copy=function(){return Pc(e,T4()).exponent(e.exponent())},gl.apply(e,arguments)}function e1e(){return T4.apply(null,arguments).exponent(.5)}function xz(){var e=[],t=ti;function r(n){if(n!=null&&!isNaN(n=+n))return t((Kp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(mc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Lge(e,i/n))},r.copy=function(){return xz(t).domain(e)},gl.apply(r,arguments)}function $y(){var e=0,t=.5,r=1,n=1,a,i,s,l,u,f=ti,d,m=!1,g;function x(_){return isNaN(_=+_)?g:(_=.5+((_=+d(_))-i)*(n*_<n*i?l:u),f(m?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([e,t,r]=_,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),u=i===s?0:.5/(s-i),n=i<a?-1:1,x):[e,t,r]},x.clamp=function(_){return arguments.length?(m=!!_,x):m},x.interpolator=function(_){return arguments.length?(f=_,x):f};function y(_){return function(b){var w,C,S;return arguments.length?([w,C,S]=b,f=dxe(_,[w,C,S]),x):[f(0),f(.5),f(1)]}}return x.range=y(Qf),x.rangeRound=y(f4),x.unknown=function(_){return arguments.length?(g=_,x):g},function(_){return d=_,a=_(e),i=_(t),s=_(r),l=a===i?0:.5/(i-a),u=i===s?0:.5/(s-i),n=i<a?-1:1,x}}function vz(){var e=Rc($y()(ti));return e.copy=function(){return Pc(e,vz())},gl.apply(e,arguments)}function yz(){var e=m4($y()).domain([.1,1,10]);return e.copy=function(){return Pc(e,yz()).base(e.base())},gl.apply(e,arguments)}function bz(){var e=g4($y());return e.copy=function(){return Pc(e,bz()).constant(e.constant())},gl.apply(e,arguments)}function k4(){var e=x4($y());return e.copy=function(){return Pc(e,k4()).exponent(e.exponent())},gl.apply(e,arguments)}function t1e(){return k4.apply(null,arguments).exponent(.5)}const bh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:l4,scaleDiverging:vz,scaleDivergingLog:yz,scaleDivergingPow:k4,scaleDivergingSqrt:t1e,scaleDivergingSymlog:bz,scaleIdentity:ZL,scaleImplicit:qS,scaleLinear:QL,scaleLog:ez,scaleOrdinal:o4,scalePoint:Vge,scalePow:v4,scaleQuantile:nz,scaleQuantize:az,scaleRadial:rz,scaleSequential:pz,scaleSequentialLog:mz,scaleSequentialPow:T4,scaleSequentialQuantile:xz,scaleSequentialSqrt:e1e,scaleSequentialSymlog:gz,scaleSqrt:Pxe,scaleSymlog:tz,scaleThreshold:iz,scaleTime:Zve,scaleUtc:Jve,tickFormat:YL},Symbol.toStringTag,{value:"Module"}));var xl=e=>e.chartData,Hy=je([xl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),_z=(e,t,r,n)=>n?Hy(e):xl(e),wz=(e,t,r)=>r?Hy(e):xl(e);function Cc(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Mr(t)&&Mr(r))return!0}return!1}function BI(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Ez(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Mr(r))a=r;else if(typeof r=="function")return;if(Mr(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(Cc(s))return s}}function r1e(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Cc(n))return BI(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,l;if(a==="auto")t!=null&&(s=Math.min(...t));else if(at(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t?.[0]))}catch{}else if(typeof a=="string"&&Kj.test(a)){var u=Kj.exec(a);if(u==null||u[1]==null||t==null)s=void 0;else{var f=+u[1];s=t[0]-f}}else s=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(at(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&Xj.test(i)){var d=Xj.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var m=+d[1];l=t[1]+m}}else l=t?.[1];var g=[s,l];if(Cc(g))return t==null?g:BI(g,t,r)}}}var Zf=1e9,n1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O4,en=!0,gs="[DecimalError] ",Ou=gs+"Invalid argument: ",D4=gs+"Exponent out of range: ",Jf=Math.floor,du=Math.pow,a1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ii,ha=1e7,Wr=7,Sz=9007199254740991,S1=Jf(Sz/Wr),ut={};ut.absoluteValue=ut.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ut.comparedTo=ut.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ut.decimalPlaces=ut.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ut.dividedBy=ut.div=function(e){return Zo(this,new this.constructor(e))};ut.dividedToIntegerBy=ut.idiv=function(e){var t=this,r=t.constructor;return Br(Zo(t,new r(e),0,1),r.precision)};ut.equals=ut.eq=function(e){return!this.cmp(e)};ut.exponent=function(){return Vn(this)};ut.greaterThan=ut.gt=function(e){return this.cmp(e)>0};ut.greaterThanOrEqualTo=ut.gte=function(e){return this.cmp(e)>=0};ut.isInteger=ut.isint=function(){return this.e>this.d.length-2};ut.isNegative=ut.isneg=function(){return this.s<0};ut.isPositive=ut.ispos=function(){return this.s>0};ut.isZero=function(){return this.s===0};ut.lessThan=ut.lt=function(e){return this.cmp(e)<0};ut.lessThanOrEqualTo=ut.lte=function(e){return this.cmp(e)<1};ut.logarithm=ut.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ii))throw Error(gs+"NaN");if(r.s<1)throw Error(gs+(r.s?"NaN":"-Infinity"));return r.eq(Ii)?new n(0):(en=!1,t=Zo(vp(r,i),vp(e,i),i),en=!0,Br(t,a))};ut.minus=ut.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Tz(t,e):Az(t,(e.s=-e.s,e))};ut.modulo=ut.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(gs+"NaN");return r.s?(en=!1,t=Zo(r,e,0,1).times(e),en=!0,r.minus(t)):Br(new n(r),a)};ut.naturalExponential=ut.exp=function(){return Cz(this)};ut.naturalLogarithm=ut.ln=function(){return vp(this)};ut.negated=ut.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ut.plus=ut.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Az(t,e):Tz(t,(e.s=-e.s,e))};ut.precision=ut.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ou+e);if(t=Vn(a)+1,n=a.d.length-1,r=n*Wr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ut.squareRoot=ut.sqrt=function(){var e,t,r,n,a,i,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(gs+"NaN")}for(e=Vn(l),en=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=so(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Jf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=s=r+3;;)if(i=n,n=i.plus(Zo(l,i,s+2)).times(.5),so(i.d).slice(0,s)===(t=so(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Br(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return en=!0,Br(n,r)};ut.times=ut.mul=function(e){var t,r,n,a,i,s,l,u,f,d=this,m=d.constructor,g=d.d,x=(e=new m(e)).d;if(!d.s||!e.s)return new m(0);for(e.s*=d.s,r=d.e+e.e,u=g.length,f=x.length,u<f&&(i=g,g=x,x=i,s=u,u=f,f=s),i=[],s=u+f,n=s;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=u+n;a>n;)l=i[a]+x[n]*g[a-n-1]+t,i[a--]=l%ha|0,t=l/ha|0;i[a]=(i[a]+t)%ha|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,en?Br(e,m.precision):e};ut.toDecimalPlaces=ut.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(vo(e,0,Zf),t===void 0?t=n.rounding:vo(t,0,8),Br(r,e+Vn(r)+1,t))};ut.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=qu(n,!0):(vo(e,0,Zf),t===void 0?t=a.rounding:vo(t,0,8),n=Br(new a(n),e+1,t),r=qu(n,!0,e+1)),r};ut.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?qu(a):(vo(e,0,Zf),t===void 0?t=i.rounding:vo(t,0,8),n=Br(new i(a),e+Vn(a)+1,t),r=qu(n.abs(),!1,e+Vn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ut.toInteger=ut.toint=function(){var e=this,t=e.constructor;return Br(new t(e),Vn(e)+1,t.rounding)};ut.toNumber=function(){return+this};ut.toPower=ut.pow=function(e){var t,r,n,a,i,s,l=this,u=l.constructor,f=12,d=+(e=new u(e));if(!e.s)return new u(Ii);if(l=new u(l),!l.s){if(e.s<1)throw Error(gs+"Infinity");return l}if(l.eq(Ii))return l;if(n=u.precision,e.eq(Ii))return Br(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=Sz){for(a=new u(Ii),t=Math.ceil(n/Wr+4),en=!1;r%2&&(a=a.times(l),LI(a.d,t)),r=Jf(r/2),r!==0;)l=l.times(l),LI(l.d,t);return en=!0,e.s<0?new u(Ii).div(a):Br(a,n)}}else if(i<0)throw Error(gs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,en=!1,a=e.times(vp(l,n+f)),en=!0,a=Cz(a),a.s=i,a};ut.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Vn(a),n=qu(a,r<=i.toExpNeg||r>=i.toExpPos)):(vo(e,1,Zf),t===void 0?t=i.rounding:vo(t,0,8),a=Br(new i(a),e,t),r=Vn(a),n=qu(a,e<=r||r<=i.toExpNeg,e)),n};ut.toSignificantDigits=ut.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(vo(e,1,Zf),t===void 0?t=n.rounding:vo(t,0,8)),Br(new n(r),e,t)};ut.toString=ut.valueOf=ut.val=ut.toJSON=ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vn(e),r=e.constructor;return qu(e,t<=r.toExpNeg||t>=r.toExpPos)};function Az(e,t){var r,n,a,i,s,l,u,f,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),en?Br(t,m):t;if(u=e.d,f=t.d,s=e.e,a=t.e,u=u.slice(),i=s-a,i){for(i<0?(n=u,i=-i,l=f.length):(n=f,a=s,l=u.length),s=Math.ceil(m/Wr),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=f.length,l-i<0&&(i=l,n=f,f=u,u=n),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/ha|0,u[i]%=ha;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,en?Br(t,m):t}function vo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ou+e)}function so(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Wr-n.length,r&&(i+=Jl(r)),i+=n;s=e[t],n=s+"",r=Wr-n.length,r&&(i+=Jl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Zo=(function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%ha|0,s=i/ha|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,u;if(i!=s)u=i>s?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ha+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,u,f,d,m,g,x,y,_,b,w,C,S,O,F,B,j,k,P=n.constructor,I=n.s==a.s?1:-1,R=n.d,N=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(gs+"Division by zero");for(u=n.e-a.e,j=N.length,F=R.length,x=new P(I),y=x.d=[],f=0;N[f]==(R[f]||0);)++f;if(N[f]>(R[f]||0)&&--u,i==null?C=i=P.precision:s?C=i+(Vn(n)-Vn(a))+1:C=i,C<0)return new P(0);if(C=C/Wr+2|0,f=0,j==1)for(d=0,N=N[0],C++;(f<F||d)&&C--;f++)S=d*ha+(R[f]||0),y[f]=S/N|0,d=S%N|0;else{for(d=ha/(N[0]+1)|0,d>1&&(N=e(N,d),R=e(R,d),j=N.length,F=R.length),O=j,_=R.slice(0,j),b=_.length;b<j;)_[b++]=0;k=N.slice(),k.unshift(0),B=N[0],N[1]>=ha/2&&++B;do d=0,l=t(N,_,j,b),l<0?(w=_[0],j!=b&&(w=w*ha+(_[1]||0)),d=w/B|0,d>1?(d>=ha&&(d=ha-1),m=e(N,d),g=m.length,b=_.length,l=t(m,_,g,b),l==1&&(d--,r(m,j<g?k:N,g))):(d==0&&(l=d=1),m=N.slice()),g=m.length,g<b&&m.unshift(0),r(_,m,b),l==-1&&(b=_.length,l=t(N,_,j,b),l<1&&(d++,r(_,j<b?k:N,b))),b=_.length):l===0&&(d++,_=[0]),y[f++]=d,l&&_[0]?_[b++]=R[O]||0:(_=[R[O]],b=1);while((O++<F||_[0]!==void 0)&&C--)}return y[0]||y.shift(),x.e=u,Br(x,s?i+Vn(x)+1:i)}})();function Cz(e,t){var r,n,a,i,s,l,u=0,f=0,d=e.constructor,m=d.precision;if(Vn(e)>16)throw Error(D4+Vn(e));if(!e.s)return new d(Ii);for(en=!1,l=m,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log(du(2,f))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Ii),d.precision=l;;){if(a=Br(a.times(e),l),r=r.times(++u),s=i.plus(Zo(a,r,l)),so(s.d).slice(0,l)===so(i.d).slice(0,l)){for(;f--;)i=Br(i.times(i),l);return d.precision=m,t==null?(en=!0,Br(i,m)):i}i=s}}function Vn(e){for(var t=e.e*Wr,r=e.d[0];r>=10;r/=10)t++;return t}function eE(e,t,r){if(t>e.LN10.sd())throw en=!0,r&&(e.precision=r),Error(gs+"LN10 precision limit exceeded");return Br(new e(e.LN10),t)}function Jl(e){for(var t="";e--;)t+="0";return t}function vp(e,t){var r,n,a,i,s,l,u,f,d,m=1,g=10,x=e,y=x.d,_=x.constructor,b=_.precision;if(x.s<1)throw Error(gs+(x.s?"NaN":"-Infinity"));if(x.eq(Ii))return new _(0);if(t==null?(en=!1,f=b):f=t,x.eq(10))return t==null&&(en=!0),eE(_,f);if(f+=g,_.precision=f,r=so(y),n=r.charAt(0),i=Vn(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=so(x.d),n=r.charAt(0),m++;i=Vn(x),n>1?(x=new _("0."+r),i++):x=new _(n+"."+r.slice(1))}else return u=eE(_,f+2,b).times(i+""),x=vp(new _(n+"."+r.slice(1)),f-g).plus(u),_.precision=b,t==null?(en=!0,Br(x,b)):x;for(l=s=x=Zo(x.minus(Ii),x.plus(Ii),f),d=Br(x.times(x),f),a=3;;){if(s=Br(s.times(d),f),u=l.plus(Zo(s,new _(a),f)),so(u.d).slice(0,f)===so(l.d).slice(0,f))return l=l.times(2),i!==0&&(l=l.plus(eE(_,f+2,b).times(i+""))),l=Zo(l,new _(m),f),_.precision=b,t==null?(en=!0,Br(l,b)):l;l=u,a+=2}}function MI(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Jf(r/Wr),e.d=[],n=(r+1)%Wr,r<0&&(n+=Wr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Wr;n<a;)e.d.push(+t.slice(n,n+=Wr));t=t.slice(n),n=Wr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),en&&(e.e>S1||e.e<-S1))throw Error(D4+r)}else e.s=0,e.e=0,e.d=[0];return e}function Br(e,t,r){var n,a,i,s,l,u,f,d,m=e.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Wr,a=t,f=m[d=0];else{if(d=Math.ceil((n+1)/Wr),i=m.length,d>=i)return e;for(f=i=m[d],s=1;i>=10;i/=10)s++;n%=Wr,a=n-Wr+s}if(r!==void 0&&(i=du(10,s-a-1),l=f/i%10|0,u=t<0||m[d+1]!==void 0||f%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?f/du(10,s-a):0:m[d-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=Vn(e),m.length=1,t=t-i-1,m[0]=du(10,(Wr-t%Wr)%Wr),e.e=Jf(-t/Wr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=d,i=1,d--):(m.length=d+1,i=du(10,Wr-n),m[d]=a>0?(f/du(10,s-a)%du(10,a)|0)*i:0),u)for(;;)if(d==0){(m[0]+=i)==ha&&(m[0]=1,++e.e);break}else{if(m[d]+=i,m[d]!=ha)break;m[d--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(en&&(e.e>S1||e.e<-S1))throw Error(D4+Vn(e));return e}function Tz(e,t){var r,n,a,i,s,l,u,f,d,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),en?Br(t,x):t;if(u=e.d,m=t.d,n=t.e,f=e.e,u=u.slice(),s=f-n,s){for(d=s<0,d?(r=u,s=-s,l=m.length):(r=m,n=f,l=u.length),a=Math.max(Math.ceil(x/Wr),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=m.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(u[a]!=m[a]){d=u[a]<m[a];break}s=0}for(d&&(r=u,u=m,m=r,t.s=-t.s),l=u.length,a=m.length-l;a>0;--a)u[l++]=0;for(a=m.length;a>s;){if(u[--a]<m[a]){for(i=a;i&&u[--i]===0;)u[i]=ha-1;--u[i],u[a]+=ha}u[a]-=m[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,en?Br(t,x):t):new g(0)}function qu(e,t,r){var n,a=Vn(e),i=so(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Jl(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Jl(-a-1)+i,r&&(n=r-s)>0&&(i+=Jl(n))):a>=s?(i+=Jl(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Jl(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Jl(n))),e.s<0?"-"+i:i}function LI(e,t){if(e.length>t)return e.length=t,!0}function kz(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ou+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return MI(s,i.toString())}else if(typeof i!="string")throw Error(Ou+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,a1e.test(i))MI(s,i);else throw Error(Ou+i)}if(a.prototype=ut,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=kz,a.config=a.set=i1e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function i1e(e){if(!e||typeof e!="object")throw Error(gs+"Object expected");var t,r,n,a=["precision",1,Zf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Jf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ou+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ou+r+": "+n);return this}var O4=kz(n1e);Ii=new O4(1);const Er=O4;var s1e=e=>e,Dz={},Oz=e=>e===Dz,zI=e=>function t(){return arguments.length===0||arguments.length===1&&Oz(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},jz=(e,t)=>e===1?t:zI(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==Dz).length;return i>=e?t(...n):jz(e-i,zI(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=n.map(d=>Oz(d)?l.shift():d);return t(...f,...l)}))}),o1e=e=>jz(e.length,e),XS=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},l1e=o1e((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),c1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return s1e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((l,u)=>u(l),i(...arguments))}};function Nz(e){var t;return e===0?t=1:t=Math.floor(new Er(e).abs().log(10).toNumber())+1,t}function Iz(e,t,r){for(var n=new Er(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Rz=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},Pz=(e,t,r)=>{if(e.lte(0))return new Er(0);var n=Nz(e.toNumber()),a=new Er(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new Er(Math.ceil(i.div(s).toNumber())).add(r).mul(s),u=l.mul(a);return t?new Er(u.toNumber()):new Er(Math.ceil(u.toNumber()))},u1e=(e,t,r)=>{var n=new Er(1),a=new Er(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Er(10).pow(Nz(e)-1),a=new Er(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Er(Math.floor(e)))}else e===0?a=new Er(Math.floor((t-1)/2)):r||(a=new Er(Math.floor(e)));var s=Math.floor((t-1)/2),l=c1e(l1e(u=>a.add(new Er(u-s).mul(n)).toNumber()),XS);return l(0,t)},Fz=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Er(0),tickMin:new Er(0),tickMax:new Er(0)};var s=Pz(new Er(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new Er(0):(l=new Er(t).add(r).div(2),l=l.sub(new Er(l).mod(s)));var u=Math.ceil(l.sub(t).div(s).toNumber()),f=Math.ceil(new Er(r).sub(l).div(s).toNumber()),d=u+f+1;return d>n?Fz(t,r,n,a,i+1):(d<n&&(f=r>0?f+(n-d):f,u=r>0?u:u+(n-d)),{step:s,tickMin:l.sub(new Er(u).mul(s)),tickMax:l.add(new Er(f).mul(s))})},f1e=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),[l,u]=Rz([r,n]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...XS(0,a-1).map(()=>1/0)]:[...XS(0,a-1).map(()=>-1/0),u];return r>n?f.reverse():f}if(l===u)return u1e(l,a,i);var{step:d,tickMin:m,tickMax:g}=Fz(l,u,s,i,0),x=Iz(m,g.add(new Er(.1).mul(d)),d);return r>n?x.reverse():x},d1e=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=Rz([n,a]);if(s===-1/0||l===1/0)return[n,a];if(s===l)return[s];var u=Math.max(r,2),f=Pz(new Er(l).sub(s).div(u-1),i,0),d=[...Iz(new Er(s),new Er(l),f),l];return i===!1&&(d=d.map(m=>Math.round(m))),n>a?d.reverse():d},Bz=e=>e.rootProps.maxBarSize,h1e=e=>e.rootProps.barGap,Mz=e=>e.rootProps.barCategoryGap,p1e=e=>e.rootProps.barSize,Zp=e=>e.rootProps.stackOffset,Lz=e=>e.rootProps.reverseStackOrder,j4=e=>e.options.chartName,N4=e=>e.rootProps.syncId,zz=e=>e.rootProps.syncMethod,I4=e=>e.options.eventEmitter,m1e=e=>e.rootProps.baseValue,zn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Vo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Oi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},qy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},g1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Vo.angleAxisId,includeHidden:!1,name:void 0,reversed:Vo.reversed,scale:Vo.scale,tick:Vo.tick,tickCount:void 0,ticks:void 0,type:Vo.type,unit:void 0},x1e={allowDataOverflow:Oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:Oi.tickCount,ticks:void 0,type:Oi.type,unit:void 0},v1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Vo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vo.scale,tick:Vo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},y1e={allowDataOverflow:Oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:Oi.tickCount,ticks:void 0,type:"category",unit:void 0},R4=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?v1e:g1e,P4=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?y1e:x1e,Wy=e=>e.polarOptions,F4=je([pl,ml,ea],FL),Uz=je([Wy,F4],(e,t)=>{if(e!=null)return Ha(e.innerRadius,t,0)}),Vz=je([Wy,F4],(e,t)=>{if(e!=null)return Ha(e.outerRadius,t,t*.8)}),b1e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},$z=je([Wy],b1e);je([R4,$z],qy);var Hz=je([F4,Uz,Vz],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});je([P4,Hz],qy);var qz=je([tr,Wy,Uz,Vz,pl,ml],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:l,startAngle:u,endAngle:f}=t;return{cx:Ha(s,a,a/2),cy:Ha(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),rn=(e,t)=>t,Jp=(e,t,r)=>r;function Gy(e){return e?.id}function Wz(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var d=Gy(l);f.forEach((m,g)=>{var x=i==null||a?g:String(Pr(m,i,null)),y=Pr(m,l.dataKey,0),_;s.has(x)?_=s.get(x):_={},Object.assign(_,{[d]:y}),s.set(x,_)})}}),Array.from(s.values())}function Ky(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Xy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Yy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _1e(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ra=e=>{var t=tr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ed=e=>e.tooltip.settings.axisId;function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){w1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w1e(e,t,r){return(t=E1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E1e(e){var t=S1e(e,"string");return typeof t=="symbol"?t:t+""}function S1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YS=[0,"auto"],la={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Gz=(e,t)=>e.cartesianAxis.xAxis[t],vl=(e,t)=>{var r=Gz(e,t);return r??la},ca={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:YS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:$p},Kz=(e,t)=>e.cartesianAxis.yAxis[t],yl=(e,t)=>{var r=Kz(e,t);return r??ca},A1e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},B4=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??A1e},ln=(e,t,r)=>{switch(t){case"xAxis":return vl(e,r);case"yAxis":return yl(e,r);case"zAxis":return B4(e,r);case"angleAxis":return R4(e,r);case"radiusAxis":return P4(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},C1e=(e,t,r)=>{switch(t){case"xAxis":return vl(e,r);case"yAxis":return yl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},em=(e,t,r)=>{switch(t){case"xAxis":return vl(e,r);case"yAxis":return yl(e,r);case"angleAxis":return R4(e,r);case"radiusAxis":return P4(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Xz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function M4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Qy=e=>e.graphicalItems.cartesianItems,T1e=je([rn,Jp],M4),L4=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),tm=je([Qy,ln,T1e],L4,{memoizeOptions:{resultEqualityCheck:Yy}}),Yz=je([tm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ky)),Qz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),k1e=je([tm],Qz),z4=e=>e.map(t=>t.data).filter(Boolean).flat(1),D1e=je([tm],z4,{memoizeOptions:{resultEqualityCheck:Yy}}),U4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},V4=je([D1e,_z],U4),$4=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Pr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Pr(a,n)}))):e.map(n=>({value:n})),Zy=je([V4,ln,tm],$4);function Zz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function cv(e){if(go(e)||e instanceof Date){var t=Number(e);if(Mr(t))return t}}function VI(e){if(Array.isArray(e)){var t=[cv(e[0]),cv(e[1])];return Cc(t)?t:void 0}var r=cv(e);if(r!=null)return[r,r]}function ul(e){return e.map(cv).filter(wfe)}function O1e(e,t,r){return!r||typeof t!="number"||ps(t)?[]:r.length?ul(r.flatMap(n=>{var a=Pr(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Mr(i)||!Mr(s)))return[t-i,t+s]})):[]}var na=e=>{var t=ra(e),r=ed(e);return em(e,t,r)},rm=je([na],e=>e?.dataKey),j1e=je([Yz,_z,na],Wz),Jz=(e,t,r,n)=>{var a={},i=t.reduce((s,l)=>{if(l.stackId==null)return s;var u=s[l.stackId];return u==null&&(u=[]),u.push(l),s[l.stackId]=u,s},a);return Object.fromEntries(Object.entries(i).map(s=>{var[l,u]=s,f=n?[...u].reverse():u,d=f.map(Gy);return[l,{stackedData:Xhe(e,d,r),graphicalItems:f}]}))},C1=je([j1e,Yz,Zp,Lz],Jz),eU=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=Jhe(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},N1e=je([ln],e=>e.allowDataOverflow),H4=e=>{var t;if(e==null||!("domain"in e))return YS;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=ul(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:YS},q4=je([ln],H4),W4=je([q4,N1e],Ez),I1e=je([C1,xl,rn,W4],eU,{memoizeOptions:{resultEqualityCheck:Xy}}),Jy=e=>e.errorBars,R1e=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Zz(r,n)),T1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),l=Math.max(...i);return[s,l]}},G4=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var f,d,m=(f=n[u.id])===null||f===void 0?void 0:f.filter(w=>Zz(a,w)),g=Pr(l,(d=t.dataKey)!==null&&d!==void 0?d:u.dataKey),x=O1e(l,g,m);if(x.length>=2){var y=Math.min(...x),_=Math.max(...x);(i==null||y<i)&&(i=y),(s==null||_>s)&&(s=_)}var b=VI(g);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=VI(Pr(l,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Mr(i)&&Mr(s))return[i,s]},P1e=je([V4,ln,k1e,Jy,rn],G4,{memoizeOptions:{resultEqualityCheck:Xy}});function F1e(e){var{value:t}=e;if(go(t)||t instanceof Date)return t}var B1e=(e,t,r)=>{var n=e.map(F1e).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&h7(n))?zL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},tU=e=>e.referenceElements.dots,td=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),M1e=je([tU,rn,Jp],td),rU=e=>e.referenceElements.areas,L1e=je([rU,rn,Jp],td),nU=e=>e.referenceElements.lines,z1e=je([nU,rn,Jp],td),aU=(e,t)=>{if(e!=null){var r=ul(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},U1e=je(M1e,rn,aU),iU=(e,t)=>{if(e!=null){var r=ul(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},V1e=je([L1e,rn],iU);function $1e(e){var t;if(e.x!=null)return ul([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ul(r)}function H1e(e){var t;if(e.y!=null)return ul([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ul(r)}var sU=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?$1e(n):H1e(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},q1e=je([z1e,rn],sU),W1e=je(U1e,q1e,V1e,(e,t,r)=>T1(e,r,t)),K4=(e,t,r,n,a,i,s,l)=>{if(r!=null)return r;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",f=u?T1(n,i,a):T1(i,a);return r1e(t,f,e.allowDataOverflow)},G1e=je([ln,q4,W4,I1e,P1e,W1e,tr,rn],K4,{memoizeOptions:{resultEqualityCheck:Xy}}),K1e=[0,1],X4=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:u}=e,f=hl(t,i);if(f&&l==null){var d;return zL(0,(d=r?.length)!==null&&d!==void 0?d:0)}return u==="category"?B1e(n,e,f):a==="expand"?K1e:s}},Y4=je([ln,tr,V4,Zy,Zp,rn,G1e],X4),oU=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Bp(i));return l in bh?l:"point"}}},rd=je([ln,tr,Xz,j4,rn],oU);function X1e(e){if(e!=null){if(e in bh)return bh[e]();var t="scale".concat(Bp(e));if(t in bh)return bh[t]()}}function Q4(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=X1e(t);if(a!=null){var i=a.domain(r).range(n);return Hhe(i),i}}}var Z4=(e,t,r)=>{var n=H4(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Cc(e))return f1e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cc(e))return d1e(e,t.tickCount,t.allowDecimals)}},J4=je([Y4,em,rd],Z4),eT=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Cc(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(s,l)]}return t},Y1e=je([ln,Y4,J4,rn],eT),Q1e=je(Zy,ln,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ul(e.map(m=>m.value))).sort((m,g)=>m-g),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var s=i-a;if(s===0)return 1/0;for(var l=0;l<n.length-1;l++){var u=n[l],f=n[l+1];if(!(u==null||f==null)){var d=f-u;r=Math.min(r,d)}}return r/s}}),lU=je(Q1e,tr,Mz,ea,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Mr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=Ha(r,e*i),l=e*i/2;return l-s-(l-s)/i*s}return 0}),Z1e=(e,t,r)=>{var n=vl(e,t);return n==null||typeof n.padding!="string"?0:lU(e,"xAxis",t,r,n.padding)},J1e=(e,t,r)=>{var n=yl(e,t);return n==null||typeof n.padding!="string"?0:lU(e,"yAxis",t,r,n.padding)},eye=je(vl,Z1e,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),tye=je(yl,J1e,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),rye=je([ea,eye,Ny,jy,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),nye=je([ea,tr,tye,Ny,jy,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),nm=(e,t,r,n)=>{var a;switch(t){case"xAxis":return rye(e,r,n);case"yAxis":return nye(e,r,n);case"zAxis":return(a=B4(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return $z(e);case"radiusAxis":return Hz(e,r);default:return}},cU=je([ln,nm],qy),eb=je([ln,rd,Y1e,cU],Q4);je([tm,Jy,rn],R1e);function uU(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var tb=(e,t)=>t,rb=(e,t,r)=>r,aye=je(Dy,tb,rb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(uU)),iye=je(Oy,tb,rb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(uU)),fU=(e,t)=>({width:e.width,height:t.height}),sye=(e,t)=>{var r=typeof t.width=="number"?t.width:$p;return{width:r,height:e.height}},dU=je(ea,vl,fU),oye=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},lye=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},cye=je(ml,ea,aye,tb,rb,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var u=fU(t,l);s==null&&(s=oye(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[l.id]=s-Number(f)*u.height,s+=(f?-1:1)*u.height}),i}),uye=je(pl,ea,iye,tb,rb,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var u=sye(t,l);s==null&&(s=lye(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[l.id]=s-Number(f)*u.width,s+=(f?-1:1)*u.width}),i}),fye=(e,t)=>{var r=vl(e,t);if(r!=null)return cye(e,r.orientation,r.mirror)},dye=je([ea,vl,fye,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),hye=(e,t)=>{var r=yl(e,t);if(r!=null)return uye(e,r.orientation,r.mirror)},pye=je([ea,yl,hye,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),hU=je(ea,yl,(e,t)=>{var r=typeof t.width=="number"?t.width:$p;return{width:r,height:e.height}}),$I=(e,t,r)=>{switch(t){case"xAxis":return dU(e,r).width;case"yAxis":return hU(e,r).height;default:return}},pU=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,l=hl(e,n),u=t.map(f=>f.value);if(s&&l&&i==="category"&&a&&h7(u))return u}},tT=je([tr,Zy,ln,rn],pU),mU=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=hl(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},rT=je([tr,Zy,em,rn],mU),HI=je([tr,C1e,rd,eb,tT,rT,nm,J4,rn],(e,t,r,n,a,i,s,l,u)=>{if(t!=null){var f=hl(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:l,range:s,realScaleType:r,scale:n}}}),mye=(e,t,r,n,a,i,s,l,u)=>{if(!(t==null||n==null)){var f=hl(e,u),{type:d,ticks:m,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=d==="category"&&n.bandwidth?n.bandwidth()/x:0;y=u==="angleAxis"&&i!=null&&i.length>=2?ma(i[0]-i[1])*2*y:y;var _=m||a;if(_){var b=_.map((w,C)=>{var S=s?s.indexOf(w):w;return{index:C,coordinate:n(S)+y,value:w,offset:y}});return b.filter(w=>Mr(w.coordinate))}return f&&l?l.map((w,C)=>({coordinate:n(w)+y,value:w,index:C,offset:y})).filter(w=>Mr(w.coordinate)):n.ticks?n.ticks(g).map(w=>({coordinate:n(w)+y,value:w,offset:y})):n.domain().map((w,C)=>({coordinate:n(w)+y,value:s?s[w]:w,index:C,offset:y}))}},gU=je([tr,em,rd,eb,J4,nm,tT,rT,rn],mye),gye=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=hl(e,s),{tickCount:u}=t,f=0;return f=s==="angleAxis"&&n?.length>=2?ma(n[0]-n[1])*2*f:f,l&&i?i.map((d,m)=>({coordinate:r(d)+f,value:d,index:m,offset:f})):r.ticks?r.ticks(u).map(d=>({coordinate:r(d)+f,value:d,offset:f})):r.domain().map((d,m)=>({coordinate:r(d)+f,value:a?a[d]:d,index:m,offset:f}))}},Tc=je([tr,em,eb,nm,tT,rT,rn],gye),kc=je(ln,eb,(e,t)=>{if(!(e==null||t==null))return A1(A1({},e),{},{scale:t})}),xye=je([ln,rd,Y4,cU],Q4);je((e,t,r)=>B4(e,r),xye,(e,t)=>{if(!(e==null||t==null))return A1(A1({},e),{},{scale:t})});var vye=je([tr,Dy,Oy],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xU=e=>e.options.defaultTooltipEventType,vU=e=>e.options.validateTooltipEventTypes;function yU(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function nT(e,t){var r=xU(e),n=vU(e);return yU(t,r,n)}function yye(e){return dt(t=>nT(t,e))}var bU=(e,t)=>{var r,n=Number(t);if(!(ps(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},bye=e=>e.tooltip.settings,nc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_ye={itemInteraction:{click:nc,hover:nc},axisInteraction:{click:nc,hover:nc},keyboardInteraction:nc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_U=bi({name:"tooltip",initialState:_ye,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Jr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Bs(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Jr()},removeTooltipEntrySettings:{reducer(e,t){var r=Bs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Jr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:wye,replaceTooltipEntrySettings:Eye,removeTooltipEntrySettings:Sye,setTooltipSettingsState:Aye,setActiveMouseOverItemIndex:wU,mouseLeaveItem:Cye,mouseLeaveChart:EU,setActiveClickItemIndex:Tye,setMouseOverAxisIndex:SU,setMouseClickAxisIndex:kye,setSyncInteraction:QS,setKeyboardInteraction:ZS}=_U.actions,Dye=_U.reducer;function qI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(r),!0).forEach(function(n){Oye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oye(e,t,r){return(t=jye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jye(e){var t=Nye(e,"string");return typeof t=="symbol"?t:t+""}function Nye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iye(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Rye(e){return e.index!=null}var AU=(e,t,r,n)=>{if(t==null)return nc;var a=Iye(e,t,r);if(a==null)return nc;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Rye(a)){if(i)return sx(sx({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return sx(sx({},nc),{},{coordinate:a.coordinate})};function Pye(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Fye(e,t){var r=Pye(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),s=Math.max(n,a);return r>=i&&r<=s}function Bye(e,t,r){if(r==null||t==null)return!0;var n=Pr(e,t);return n==null||!Cc(r)?!0:Fye(n,r)}var aT=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var i=Number(a);if(!Mr(i))return a;var s=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(s,Math.min(i,l)),f=t[u];return f==null||Bye(f,r,n)?String(u):null},CU=(e,t,r,n,a,i,s,l)=>{if(!(i==null||l==null)){var u=s[0],f=u==null?void 0:l(u.positions,i);if(f!=null)return f;var d=a?.[Number(i)];if(d)return r==="horizontal"?{x:d.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:d.coordinate}}},TU=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},am=e=>e.options.tooltipPayloadSearcher,nd=e=>e.tooltip;function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(n){Mye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mye(e,t,r){return(t=Lye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lye(e){var t=zye(e,"string");return typeof t=="symbol"?t:t+""}function zye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uye(e,t){return e??t}var kU=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:d}=r,m=[];return e.reduce((g,x)=>{var y,{dataDefinedOnItem:_,settings:b}=x,w=Uye(_,l),C=Array.isArray(w)?oL(w,f,d):w,S=(y=b?.dataKey)!==null&&y!==void 0?y:n,O=b?.nameKey,F;if(n&&Array.isArray(C)&&!Array.isArray(C[0])&&s==="axis"?F=p7(C,n,a):F=i(C,t,u,O),Array.isArray(F))F.forEach(j=>{var k=GI(GI({},b),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});g.push(Yj({tooltipEntrySettings:k,dataKey:j.dataKey,payload:j.payload,value:Pr(j.payload,j.dataKey),name:j.name}))});else{var B;g.push(Yj({tooltipEntrySettings:b,dataKey:S,payload:F,value:Pr(F,S),name:(B=Pr(F,O))!==null&&B!==void 0?B:b?.name}))}return g},m)}},iT=je([na,tr,Xz,j4,ra],oU),Vye=je([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),$ye=je([ra,ed],M4),ad=je([Vye,na,$ye],L4,{memoizeOptions:{resultEqualityCheck:Yy}}),Hye=je([ad],e=>e.filter(Ky)),qye=je([ad],z4,{memoizeOptions:{resultEqualityCheck:Yy}}),id=je([qye,xl],U4),Wye=je([Hye,xl,na],Wz),sT=je([id,na,ad],$4),DU=je([na],H4),Gye=je([na],e=>e.allowDataOverflow),OU=je([DU,Gye],Ez),Kye=je([ad],e=>e.filter(Ky)),Xye=je([Wye,Kye,Zp,Lz],Jz),Yye=je([Xye,xl,ra,OU],eU),Qye=je([ad],Qz),Zye=je([id,na,Qye,Jy,ra],G4,{memoizeOptions:{resultEqualityCheck:Xy}}),Jye=je([tU,ra,ed],td),ebe=je([Jye,ra],aU),tbe=je([rU,ra,ed],td),rbe=je([tbe,ra],iU),nbe=je([nU,ra,ed],td),abe=je([nbe,ra],sU),ibe=je([ebe,abe,rbe],T1),sbe=je([na,DU,OU,Yye,Zye,ibe,tr,ra],K4),im=je([na,tr,id,sT,Zp,ra,sbe],X4),obe=je([im,na,iT],Z4),lbe=je([na,im,obe,ra],eT),jU=e=>{var t=ra(e),r=ed(e),n=!1;return nm(e,t,r,n)},NU=je([na,jU],qy),IU=je([na,iT,lbe,NU],Q4),cbe=je([tr,sT,na,ra],pU),ube=je([tr,sT,na,ra],mU),fbe=(e,t,r,n,a,i,s,l)=>{if(t){var{type:u}=t,f=hl(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return m=l==="angleAxis"&&a!=null&&a?.length>=2?ma(a[0]-a[1])*2*m:m,f&&s?s.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:i?i[g]:g,index:x,offset:m}))}}},bl=je([tr,na,iT,IU,jU,cbe,ube,ra],fbe),oT=je([xU,vU,bye],(e,t,r)=>yU(r.shared,e,t)),RU=e=>e.tooltip.settings.trigger,lT=e=>e.tooltip.settings.defaultIndex,sm=je([nd,oT,RU,lT],AU),Dc=je([sm,id,rm,im],aT),PU=je([bl,Dc],bU),cT=je([sm],e=>{if(e)return e.dataKey}),dbe=je([sm],e=>{if(e)return e.graphicalItemId}),FU=je([nd,oT,RU,lT],TU),hbe=je([pl,ml,tr,ea,bl,lT,FU,am],CU),pbe=je([sm,hbe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),mbe=je([sm],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),gbe=je([FU,Dc,xl,rm,PU,am,oT],kU),xbe=je([gbe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(n){vbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vbe(e,t,r){return(t=ybe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ybe(e){var t=bbe(e,"string");return typeof t=="symbol"?t:t+""}function bbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _be=()=>dt(na),wbe=()=>{var e=_be(),t=dt(bl),r=dt(IU);return Of(!e||!r?void 0:XI(XI({},e),{},{scale:r}),t)};function YI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(r),!0).forEach(function(n){Ebe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ebe(e,t,r){return(t=Sbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sbe(e){var t=Abe(e,"string");return typeof t=="symbol"?t:t+""}function Abe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cbe=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Tbe=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:s}=n;return K0(K0(K0({},n),Ln(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var l=a.coordinate,{angle:u}=n;return K0(K0(K0({},n),Ln(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function kbe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var BU=(e,t,r,n,a)=>{var i,s=(i=t?.length)!==null&&i!==void 0?i:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<s;l++){var u,f,d,m,g,x=l>0?(u=r[l-1])===null||u===void 0?void 0:u.coordinate:(f=r[s-1])===null||f===void 0?void 0:f.coordinate,y=(d=r[l])===null||d===void 0?void 0:d.coordinate,_=l>=s-1?(m=r[0])===null||m===void 0?void 0:m.coordinate:(g=r[l+1])===null||g===void 0?void 0:g.coordinate,b=void 0;if(!(x==null||y==null||_==null))if(ma(y-x)!==ma(_-y)){var w=[];if(ma(_-y)===ma(a[1]-a[0])){b=_;var C=y+a[1]-a[0];w[0]=Math.min(C,(C+x)/2),w[1]=Math.max(C,(C+x)/2)}else{b=x;var S=_+a[1]-a[0];w[0]=Math.min(y,(S+y)/2),w[1]=Math.max(y,(S+y)/2)}var O=[Math.min(y,(b+y)/2),Math.max(y,(b+y)/2)];if(e>O[0]&&e<=O[1]||e>=w[0]&&e<=w[1]){var F;return(F=r[l])===null||F===void 0?void 0:F.index}}else{var B=Math.min(x,_),j=Math.max(x,_);if(e>(B+y)/2&&e<=(j+y)/2){var k;return(k=r[l])===null||k===void 0?void 0:k.index}}}else if(t)for(var P=0;P<s;P++){var I=t[P];if(I!=null){var R=t[P+1],N=t[P-1];if(P===0&&R!=null&&e<=(I.coordinate+R.coordinate)/2||P===s-1&&N!=null&&e>(I.coordinate+N.coordinate)/2||P>0&&P<s-1&&N!=null&&R!=null&&e>(I.coordinate+N.coordinate)/2&&e<=(I.coordinate+R.coordinate)/2)return I.index}}return-1},MU=()=>dt(j4),uT=(e,t)=>t,LU=(e,t,r)=>r,fT=(e,t,r,n)=>n,Dbe=je(bl,e=>by(e,t=>t.coordinate)),dT=je([nd,uT,LU,fT],AU),hT=je([dT,id,rm,im],aT),Obe=(e,t,r)=>{if(t!=null){var n=nd(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},zU=je([nd,uT,LU,fT],TU),k1=je([pl,ml,tr,ea,bl,fT,zU,am],CU),jbe=je([dT,k1],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),UU=je([bl,hT],bU),Nbe=je([zU,hT,xl,rm,UU,am,uT],kU),Ibe=je([dT,hT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Rbe=(e,t,r,n,a,i,s)=>{if(!(!e||!r||!n||!a)&&kbe(e,s)){var l=epe(e,t),u=BU(l,i,a,r,n),f=Cbe(t,a,u,e);return{activeIndex:String(u),activeCoordinate:f}}},Pbe=(e,t,r,n,a,i,s)=>{if(!(!e||!n||!a||!i||!r)){var l=vge(e,r);if(l){var u=tpe(l,t),f=BU(u,s,i,n,a),d=Tbe(t,i,f,l);return{activeIndex:String(f),activeCoordinate:d}}}},Fbe=(e,t,r,n,a,i,s,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?Rbe(e,t,n,a,i,s,l):Pbe(e,t,r,n,a,i,s)},Bbe=je(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Mbe=je(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(zn)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:_1e}});function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){Lbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lbe(e,t,r){return(t=zbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zbe(e){var t=Ube(e,"string");return typeof t=="symbol"?t:t+""}function Ube(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vbe={},$be={zIndexMap:Object.values(zn).reduce((e,t)=>ZI(ZI({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Vbe)},Hbe=new Set(Object.values(zn));function qbe(e){return Hbe.has(e)}var VU=bi({name:"zIndex",initialState:$be,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Jr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!qbe(r)&&delete e.zIndexMap[r])},prepare:Jr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Jr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Jr()}}}),{registerZIndexPortal:Wbe,unregisterZIndexPortal:Gbe,registerZIndexPortalElement:Kbe,unregisterZIndexPortalElement:Xbe}=VU.actions,Ybe=VU.reducer;function _i(e){var{zIndex:t,children:r}=e,n=Ipe(),a=n&&t!==void 0&&t!==0,i=Ga(),s=Vr();T.useLayoutEffect(()=>a?(s(Wbe({zIndex:t})),()=>{s(Gbe({zIndex:t}))}):Mp,[s,t,a]);var l=dt(u=>Bbe(u,t,i));return a?l?V1.createPortal(r,l):null:r}function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JS.apply(null,arguments)}function JI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ox(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(r),!0).forEach(function(n){Qbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qbe(e,t,r){return(t=Zbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zbe(e){var t=Jbe(e,"string");return typeof t=="symbol"?t:t+""}function Jbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e2e(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return T.isValidElement(t)?T.cloneElement(t,n):T.createElement(r,n)}function t2e(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:f,chartName:d}=e,m=r,g=n,x=a;if(!u||!m||d!=="ScatterChart"&&f!=="axis")return null;var y,_,b;if(d==="ScatterChart")y=m,_=Nme,b=zn.cursorLine;else if(d==="BarChart")y=Ime(l,m,i,s),_=PL,b=zn.cursorRectangle;else if(l==="radial"&&g7(m)){var{cx:w,cy:C,radius:S,startAngle:O,endAngle:F}=BL(m);y={cx:w,cy:C,startAngle:O,endAngle:F,innerRadius:S,outerRadius:S},_=LL,b=zn.cursorLine}else y={points:wge(l,m,i)},_=vf,b=zn.cursorLine;var B=typeof u=="object"&&"className"in u?u.className:void 0,j=ox(ox(ox(ox({stroke:"#ccc",pointerEvents:"none"},i),y),Lu(u)),{},{payload:g,payloadIndex:x,className:fr("recharts-tooltip-cursor",B)});return T.createElement(_i,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},T.createElement(e2e,{cursor:u,cursorComp:_,cursorProps:j}))}function r2e(e){var t=wbe(),r=vL(),n=s0(),a=MU();return t==null||r==null||n==null||a==null?null:T.createElement(t2e,JS({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var $U=T.createContext(null),n2e=()=>T.useContext($U),tE={exports:{}},eR;function a2e(){return eR||(eR=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function i(u,f,d,m,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new a(d,m||u,g),y=r?r+f:f;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],x]:u._events[y].push(x):(u._events[y]=x,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,m;if(this._eventsCount===0)return f;for(m in d=this._events)t.call(d,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=r?r+f:f,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,y=new Array(x);g<x;g++)y[g]=m[g].fn;return y},l.prototype.listenerCount=function(f){var d=r?r+f:f,m=this._events[d];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,d,m,g,x,y){var _=r?r+f:f;if(!this._events[_])return!1;var b=this._events[_],w=arguments.length,C,S;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,m),!0;case 4:return b.fn.call(b.context,d,m,g),!0;case 5:return b.fn.call(b.context,d,m,g,x),!0;case 6:return b.fn.call(b.context,d,m,g,x,y),!0}for(S=1,C=new Array(w-1);S<w;S++)C[S-1]=arguments[S];b.fn.apply(b.context,C)}else{var O=b.length,F;for(S=0;S<O;S++)switch(b[S].once&&this.removeListener(f,b[S].fn,void 0,!0),w){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,m);break;case 4:b[S].fn.call(b[S].context,d,m,g);break;default:if(!C)for(F=1,C=new Array(w-1);F<w;F++)C[F-1]=arguments[F];b[S].fn.apply(b[S].context,C)}}return!0},l.prototype.on=function(f,d,m){return i(this,f,d,m,!1)},l.prototype.once=function(f,d,m){return i(this,f,d,m,!0)},l.prototype.removeListener=function(f,d,m,g){var x=r?r+f:f;if(!this._events[x])return this;if(!d)return s(this,x),this;var y=this._events[x];if(y.fn)y.fn===d&&(!g||y.once)&&(!m||y.context===m)&&s(this,x);else{for(var _=0,b=[],w=y.length;_<w;_++)(y[_].fn!==d||g&&!y[_].once||m&&y[_].context!==m)&&b.push(y[_]);b.length?this._events[x]=b.length===1?b[0]:b:s(this,x)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(tE)),tE.exports}var i2e=a2e();const s2e=yo(i2e);var yp=new s2e,eA="recharts.syncEvent.tooltip",tR="recharts.syncEvent.brush";function pT(e,t){if(t){var r=Number.parseInt(t,10);if(!ps(r))return e?.[r]}}var o2e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},HU=bi({name:"options",initialState:o2e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),l2e=HU.reducer,{createEventEmitter:c2e}=HU.actions;function u2e(e){return e.tooltip.syncInteraction}var f2e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},qU=bi({name:"chartData",initialState:f2e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:rR,setDataStartEndIndexes:d2e,setComputedData:tTe}=qU.actions,h2e=qU.reducer,p2e=["x","y"];function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){m2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m2e(e,t,r){return(t=g2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g2e(e){var t=x2e(e,"string");return typeof t=="symbol"?t:t+""}function x2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v2e(e,t){if(e==null)return{};var r,n,a=y2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b2e(){var e=dt(N4),t=dt(I4),r=Vr(),n=dt(zz),a=dt(bl),i=s0(),s=Iy(),l=dt(u=>u.rootProps.className);T.useEffect(()=>{if(e==null)return Mp;var u=(f,d,m)=>{if(t!==m&&e===f){if(n==="index"){var g;if(s&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var x=d.payload.coordinate,{x:y,y:_}=x,b=v2e(x,p2e),{x:w,y:C,width:S,height:O}=d.payload.sourceViewBox,F=X0(X0({},b),{},{x:s.x+(S?(y-w)/S:0)*s.width,y:s.y+(O?(_-C)/O:0)*s.height});r(X0(X0({},d),{},{payload:X0(X0({},d.payload),{},{coordinate:F})}))}else r(d);return}if(a!=null){var B;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=n(a,j);B=a[k]}else n==="value"&&(B=a.find(ae=>String(ae.value)===d.payload.label));var{coordinate:P}=d.payload;if(B==null||d.payload.active===!1||P==null||s==null){r(QS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:R}=P,N=Math.min(I,s.x+s.width),M=Math.min(R,s.y+s.height),ce={x:i==="horizontal"?B.coordinate:N,y:i==="horizontal"?M:B.coordinate},fe=QS({active:d.payload.active,coordinate:ce,dataKey:d.payload.dataKey,index:String(B.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(fe)}}};return yp.on(eA,u),()=>{yp.off(eA,u)}},[l,r,t,e,n,a,i,s])}function _2e(){var e=dt(N4),t=dt(I4),r=Vr();T.useEffect(()=>{if(e==null)return Mp;var n=(a,i,s)=>{t!==s&&e===a&&r(d2e(i))};return yp.on(tR,n),()=>{yp.off(tR,n)}},[r,t,e])}function w2e(){var e=Vr();T.useEffect(()=>{e(c2e())},[e]),b2e(),_2e()}function E2e(e,t,r,n,a,i){var s=dt(x=>Obe(x,e,t)),l=dt(I4),u=dt(N4),f=dt(zz),d=dt(u2e),m=d?.active,g=Iy();T.useEffect(()=>{if(!m&&u!=null&&l!=null){var x=QS({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});yp.emit(eA,u,x,l)}},[m,r,s,a,n,l,u,f,i,g])}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){S2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S2e(e,t,r){return(t=A2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2e(e){var t=C2e(e,"string");return typeof t=="symbol"?t:t+""}function C2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T2e(e){return e.dataKey}function k2e(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(fme,t)}var sR=[],D2e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function D1(e){var t,r,n=Hn(e,D2e),{active:a,allowEscapeViewBox:i,animationDuration:s,animationEasing:l,content:u,filterNull:f,isAnimationActive:d,offset:m,payloadUniqBy:g,position:x,reverseDirection:y,useTranslate3d:_,wrapperStyle:b,cursor:w,shared:C,trigger:S,defaultIndex:O,portal:F,axisId:B}=n,j=Vr(),k=typeof O=="number"?String(O):O;T.useEffect(()=>{j(Aye({shared:C,trigger:S,axisId:B,active:a,defaultIndex:k}))},[j,C,S,B,a,k]);var P=Iy(),I=OL(),R=yye(C),{activeIndex:N,isActive:M}=(t=dt(Ne=>Ibe(Ne,R,S,k)))!==null&&t!==void 0?t:{},ce=dt(Ne=>Nbe(Ne,R,S,k)),fe=dt(Ne=>UU(Ne,R,S,k)),ae=dt(Ne=>jbe(Ne,R,S,k)),ie=ce,me=n2e(),be=(r=a??M)!==null&&r!==void 0?r:!1,[de,U]=j7([ie,be]),Z=R==="axis"?fe:void 0;E2e(R,S,ae,Z,N,be);var te=F??me;if(te==null||P==null||R==null)return null;var W=ie??sR;be||(W=sR),f&&W.length&&(W=C7(W.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||n.includeHidden)),g,T2e));var xe=W.length>0,Te=T.createElement(vme,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:d,active:be,coordinate:ae,hasPayload:xe,offset:m,position:x,reverseDirection:y,useTranslate3d:_,viewBox:P,wrapperStyle:b,lastBoundingBox:de,innerRef:U,hasPortalFromProps:!!F},k2e(u,iR(iR({},n),{},{payload:W,label:Z,active:be,activeIndex:N,coordinate:ae,accessibilityLayer:I})));return T.createElement(T.Fragment,null,V1.createPortal(Te,te),be&&T.createElement(r2e,{cursor:w,tooltipEventType:R,coordinate:ae,payload:W,index:N}))}var Wu=e=>null;Wu.displayName="Cell";function O2e(e,t,r){return(t=j2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j2e(e){var t=N2e(e,"string");return typeof t=="symbol"?t:t+""}function N2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class I2e{constructor(t){O2e(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R2e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){P2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P2e(e,t,r){return(t=F2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F2e(e){var t=B2e(e,"string");return typeof t=="symbol"?t:t+""}function B2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M2e={cacheSize:2e3,enableCache:!0},WU=R2e({},M2e),lR=new I2e(WU.cacheSize),L2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cR="recharts_measurement_span";function z2e(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(l)}var uR=(e,t)=>{try{var r=document.getElementById(cR);r||(r=document.createElement("span"),r.setAttribute("id",cR),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,L2e,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Mh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qp.isSsr)return{width:0,height:0};if(!WU.enableCache)return uR(t,r);var n=z2e(t,r),a=lR.get(n);if(a)return a;var i=uR(t,r);return lR.set(n,i),i},GU;function U2e(e,t,r){return(t=V2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V2e(e){var t=$2e(e,"string");return typeof t=="symbol"?t:t+""}function $2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,q2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,W2e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},G2e=["cm","mm","pt","pc","in","Q","px"];function K2e(e){return G2e.includes(e)}var lf="NaN";function X2e(e,t){return e*W2e[t]}class Aa{static parse(t){var r,[,n,a]=(r=q2e.exec(t))!==null&&r!==void 0?r:[];return n==null?Aa.NaN:new Aa(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ps(t)&&(this.unit=""),r!==""&&!H2e.test(r)&&(this.num=NaN,this.unit=""),K2e(r)&&(this.num=X2e(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Aa(NaN,""):new Aa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Aa(NaN,""):new Aa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Aa(NaN,""):new Aa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Aa(NaN,""):new Aa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ps(this.num)}}GU=Aa;U2e(Aa,"NaN",new GU(NaN,""));function KU(e){if(e==null||e.includes(lf))return lf;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=fR.exec(t))!==null&&r!==void 0?r:[],s=Aa.parse(n??""),l=Aa.parse(i??""),u=a==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return lf;t=t.replace(fR,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,d,m,g]=(f=dR.exec(t))!==null&&f!==void 0?f:[],x=Aa.parse(d??""),y=Aa.parse(g??""),_=m==="+"?x.add(y):x.subtract(y);if(_.isNaN())return lf;t=t.replace(dR,_.toString())}return t}var hR=/\(([^()]*)\)/;function Y2e(e){for(var t=e,r;(r=hR.exec(t))!=null;){var[,n]=r;t=t.replace(hR,KU(n))}return t}function Q2e(e){var t=e.replace(/\s+/g,"");return t=Y2e(t),t=KU(t),t}function Z2e(e){try{return Q2e(e)}catch{return lf}}function rE(e){var t=Z2e(e.slice(5,-1));return t===lf?"":t}var J2e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],e_e=["dx","dy","angle","className","breakAll"];function tA(){return tA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tA.apply(null,arguments)}function pR(e,t){if(e==null)return{};var r,n,a=t_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function t_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XU=/[ \f\n\r\t\v\u2028\u2029]+/,YU=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];sn(t)||(r?a=t.toString().split(""):a=t.toString().split(XU));var i=a.map(l=>({word:l,width:Mh(l,n).width})),s=r?0:Mh("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}};function r_e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var QU=(e,t,r,n)=>e.reduce((a,i)=>{var{word:s,width:l}=i,u=a[a.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(s),u.width+=l+r;else{var f={words:[s],width:l};a.push(f)}return a},[]),ZU=e=>e.reduce((t,r)=>t.width>r.width?t:r),n_e="",mR=(e,t,r,n,a,i,s,l)=>{var u=e.slice(0,t),f=YU({breakAll:r,style:n,children:u+n_e});if(!f)return[!1,[]];var d=QU(f.wordsWithComputedWidth,i,s,l),m=d.length>a||ZU(d).width>Number(i);return[m,d]},a_e=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:l,breakAll:u}=e,f=at(i),d=String(s),m=QU(t,n,r,a);if(!f||a)return m;var g=m.length>i||ZU(m).width>Number(n);if(!g)return m;for(var x=0,y=d.length-1,_=0,b;x<=y&&_<=d.length-1;){var w=Math.floor((x+y)/2),C=w-1,[S,O]=mR(d,C,u,l,i,n,r,a),[F]=mR(d,w,u,l,i,n,r,a);if(!S&&!F&&(x=w+1),S&&F&&(y=w-1),!S&&F){b=O;break}_++}return b||m},gR=e=>{var t=sn(e)?[]:e.toString().split(XU);return[{words:t,width:void 0}]},i_e=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!qp.isSsr){var l,u,f=YU({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:d,spaceWidth:m}=f;l=d,u=m}else return gR(n);return a_e({breakAll:i,children:n,maxLines:s,style:a},l,u,t,!!r)}return gR(n)},JU="#808080",s_e={angle:0,breakAll:!1,capHeight:"0.71em",fill:JU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},nb=T.forwardRef((e,t)=>{var r=Hn(e,s_e),{x:n,y:a,lineHeight:i,capHeight:s,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:d}=r,m=pR(r,J2e),g=T.useMemo(()=>i_e({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:x,dy:y,angle:_,className:b,breakAll:w}=m,C=pR(m,e_e);if(!go(n)||!go(a)||g.length===0)return null;var S=Number(n)+(at(x)?x:0),O=Number(a)+(at(y)?y:0);if(!Mr(S)||!Mr(O))return null;var F;switch(d){case"start":F=rE("calc(".concat(s,")"));break;case"middle":F=rE("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:F=rE("calc(".concat(g.length-1," * -").concat(i,")"));break}var B=[];if(u){var j=g[0].width,{width:k}=m;B.push("scale(".concat(at(k)&&at(j)?k/j:1,")"))}return _&&B.push("rotate(".concat(_,", ").concat(S,", ").concat(O,")")),B.length&&(C.transform=B.join(" ")),T.createElement("text",tA({},ri(C),{ref:t,x:S,y:O,className:fr("recharts-text",b),textAnchor:f,fill:l.includes("url")?JU:l}),g.map((P,I)=>{var R=P.words.join(w?"":" ");return T.createElement("tspan",{x:S,dy:I===0?F:i,key:"".concat(R,"-").concat(I)},R)}))});nb.displayName="Text";var o_e=["labelRef"],l_e=["content"];function xR(e,t){if(e==null)return{};var r,n,a=c_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function c_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){u_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u_e(e,t,r){return(t=f_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f_e(e){var t=d_e(e,"string");return typeof t=="symbol"?t:t+""}function d_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$o.apply(null,arguments)}var eV=T.createContext(null),h_e=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s,children:l}=e,u=T.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s}),[t,r,n,a,i,s]);return T.createElement(eV.Provider,{value:u},l)},tV=()=>{var e=T.useContext(eV),t=Iy();return e||xL(t)},p_e=T.createContext(null),m_e=()=>{var e=T.useContext(p_e),t=dt(qz);return e||t},g_e=e=>{var{value:t,formatter:r}=e,n=sn(e.children)?t:e.children;return typeof r=="function"?r(n):n},mT=e=>e!=null&&typeof e=="function",x_e=(e,t)=>{var r=ma(t-e),n=Math.min(Math.abs(t-e),360);return r*n},v_e=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:l,cy:u,innerRadius:f,outerRadius:d,startAngle:m,endAngle:g,clockWise:x}=a,y=(f+d)/2,_=x_e(m,g),b=_>=0?1:-1,w,C;switch(t){case"insideStart":w=m+b*i,C=x;break;case"insideEnd":w=g-b*i,C=!x;break;case"end":w=g+b*i,C=x;break;default:throw new Error("Unsupported position ".concat(t))}C=_<=0?C:!C;var S=Ln(l,u,y,w),O=Ln(l,u,y,w+(C?1:-1)*359),F="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),B=sn(e.id)?sp("recharts-radial-line-"):e.id;return T.createElement("text",$o({},n,{dominantBaseline:"central",className:fr("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:B,d:F})),T.createElement("textPath",{xlinkHref:"#".concat(B)},r))},y_e=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(r==="outside"){var{x:d,y:m}=Ln(n,a,s+t,f);return{x:d,y:m,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+s)/2,{x,y}=Ln(n,a,g,f);return{x,y,textAnchor:"middle",verticalAnchor:"middle"}},rA=e=>"cx"in e&&at(e.cx),b_e=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!rA(r)&&(i=r);var{x:s,y:l,upperWidth:u,lowerWidth:f,height:d}=t,m=s,g=s+(u-f)/2,x=(m+g)/2,y=(u+f)/2,_=m+u/2,b=d>=0?1:-1,w=b*n,C=b>0?"end":"start",S=b>0?"start":"end",O=u>=0?1:-1,F=O*n,B=O>0?"end":"start",j=O>0?"start":"end";if(a==="top"){var k={x:m+u/2,y:l-w,textAnchor:"middle",verticalAnchor:C};return _n(_n({},k),i?{height:Math.max(l-i.y,0),width:u}:{})}if(a==="bottom"){var P={x:g+f/2,y:l+d+w,textAnchor:"middle",verticalAnchor:S};return _n(_n({},P),i?{height:Math.max(i.y+i.height-(l+d),0),width:f}:{})}if(a==="left"){var I={x:x-F,y:l+d/2,textAnchor:B,verticalAnchor:"middle"};return _n(_n({},I),i?{width:Math.max(I.x-i.x,0),height:d}:{})}if(a==="right"){var R={x:x+y+F,y:l+d/2,textAnchor:j,verticalAnchor:"middle"};return _n(_n({},R),i?{width:Math.max(i.x+i.width-R.x,0),height:d}:{})}var N=i?{width:y,height:d}:{};return a==="insideLeft"?_n({x:x+F,y:l+d/2,textAnchor:j,verticalAnchor:"middle"},N):a==="insideRight"?_n({x:x+y-F,y:l+d/2,textAnchor:B,verticalAnchor:"middle"},N):a==="insideTop"?_n({x:m+u/2,y:l+w,textAnchor:"middle",verticalAnchor:S},N):a==="insideBottom"?_n({x:g+f/2,y:l+d-w,textAnchor:"middle",verticalAnchor:C},N):a==="insideTopLeft"?_n({x:m+F,y:l+w,textAnchor:j,verticalAnchor:S},N):a==="insideTopRight"?_n({x:m+u-F,y:l+w,textAnchor:B,verticalAnchor:S},N):a==="insideBottomLeft"?_n({x:g+F,y:l+d-w,textAnchor:j,verticalAnchor:C},N):a==="insideBottomRight"?_n({x:g+f-F,y:l+d-w,textAnchor:B,verticalAnchor:C},N):a&&typeof a=="object"&&(at(a.x)||il(a.x))&&(at(a.y)||il(a.y))?_n({x:s+Ha(a.x,y),y:l+Ha(a.y,d),textAnchor:"end",verticalAnchor:"end"},N):_n({x:_,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},__e={angle:0,offset:5,zIndex:zn.label,position:"middle",textBreakAll:!1};function ec(e){var t=Hn(e,__e),{viewBox:r,position:n,value:a,children:i,content:s,className:l="",textBreakAll:u,labelRef:f}=t,d=m_e(),m=tV(),g=n==="center"?m:d??m,x,y,_;if(r==null?x=g:rA(r)?x=r:x=xL(r),!x||sn(a)&&sn(i)&&!T.isValidElement(s)&&typeof s!="function")return null;var b=_n(_n({},t),{},{viewBox:x});if(T.isValidElement(s)){var{labelRef:w}=b,C=xR(b,o_e);return T.cloneElement(s,C)}if(typeof s=="function"){var{content:S}=b,O=xR(b,l_e);if(y=T.createElement(s,O),T.isValidElement(y))return y}else y=g_e(t);var F=ri(t);if(rA(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return v_e(t,n,y,F,x);_=y_e(x,t.offset,t.position)}else _=b_e(t,x);return T.createElement(_i,{zIndex:t.zIndex},T.createElement(nb,$o({ref:f,className:fr("recharts-label",l)},F,_,{textAnchor:r_e(F.textAnchor)?F.textAnchor:_.textAnchor,breakAll:u}),y))}ec.displayName="Label";var w_e=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?T.createElement(ec,$o({key:"label-implicit"},n)):go(e)?T.createElement(ec,$o({key:"label-implicit",value:e},n)):T.isValidElement(e)?e.type===ec?T.cloneElement(e,_n({key:"label-implicit"},n)):T.createElement(ec,$o({key:"label-implicit",content:e},n)):mT(e)?T.createElement(ec,$o({key:"label-implicit",content:e},n)):e&&typeof e=="object"?T.createElement(ec,$o({},e,{key:"label-implicit"},n)):null};function E_e(e){var{label:t,labelRef:r}=e,n=tV();return w_e(t,n,r)||null}var nE={},aE={},yR;function S_e(){return yR||(yR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(aE)),aE}var iE={},bR;function A_e(){return bR||(bR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(iE)),iE}var _R;function C_e(){return _R||(_R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S_e(),r=A_e(),n=HC();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(nE)),nE}var sE,wR;function T_e(){return wR||(wR=1,sE=C_e().last),sE}var k_e=T_e();const D_e=yo(k_e);var O_e=["valueAccessor"],j_e=["dataKey","clockWise","id","textBreakAll","zIndex"];function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(null,arguments)}function ER(e,t){if(e==null)return{};var r,n,a=N_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var I_e=e=>Array.isArray(e.value)?D_e(e.value):e.value,rV=T.createContext(void 0),nV=rV.Provider,aV=T.createContext(void 0),R_e=aV.Provider;function P_e(){return T.useContext(rV)}function F_e(){return T.useContext(aV)}function uv(e){var{valueAccessor:t=I_e}=e,r=ER(e,O_e),{dataKey:n,clockWise:a,id:i,textBreakAll:s,zIndex:l}=r,u=ER(r,j_e),f=P_e(),d=F_e(),m=f||d;return!m||!m.length?null:T.createElement(_i,{zIndex:l??zn.label},T.createElement(Sn,{className:"recharts-label-list"},m.map((g,x)=>{var y,_=sn(n)?t(g,x):Pr(g&&g.payload,n),b=sn(i)?{}:{id:"".concat(i,"-").concat(x)};return T.createElement(ec,O1({key:"label-".concat(x)},ri(g),u,b,{fill:(y=r.fill)!==null&&y!==void 0?y:g.fill,parentViewBox:g.parentViewBox,value:_,textBreakAll:s,viewBox:g.viewBox,index:x,zIndex:0}))})))}uv.displayName="LabelList";function gT(e){var{label:t}=e;return t?t===!0?T.createElement(uv,{key:"labelList-implicit"}):T.isValidElement(t)||mT(t)?T.createElement(uv,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(uv,O1({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function nA(){return nA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nA.apply(null,arguments)}var iV=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=fr("recharts-dot",a);return at(t)&&at(r)&&at(n)?T.createElement("circle",nA({},yi(e),$C(e),{className:i,cx:t,cy:r,r:n})):null},sV=e=>e.graphicalItems.polarItems,B_e=je([rn,Jp],M4),ab=je([sV,ln,B_e],L4),M_e=je([ab],z4),ib=je([M_e,Hy],U4),L_e=je([ib,ln,ab],$4);je([ib,ln,ab],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,s=Pr(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Pr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var SR=()=>{},z_e=je([ib,ln,ab,Jy,rn],G4),U_e=je([ln,q4,W4,SR,z_e,SR,tr,rn],K4),oV=je([ln,tr,ib,L_e,Zp,rn,U_e],X4),V_e=je([oV,ln,rd],Z4);je([ln,oV,V_e,rn],eT);var $_e={radiusAxis:{},angleAxis:{}},lV=bi({name:"polarAxis",initialState:$_e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:rTe,removeRadiusAxis:nTe,addAngleAxis:aTe,removeAngleAxis:iTe}=lV.actions,H_e=lV.reducer;function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){q_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q_e(e,t,r){return(t=W_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W_e(e){var t=G_e(e,"string");return typeof t=="symbol"?t:t+""}function G_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K_e=(e,t)=>t,xT=je([sV,K_e],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),X_e=[],vT=(e,t,r)=>r?.length===0?X_e:r,cV=je([Hy,xT,vT],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>CR(CR({},t.presentationProps),i.props))),a!=null)return a}}),Y_e=je([cV,xT,vT],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,s=Pr(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Yf(s,t.dataKey),color:l,payload:n,type:t.legendType}})}),Q_e=je([cV,xT,vT,ea],(e,t,r,n)=>{if(!(t==null||e==null))return Jwe({offset:n,pieSettings:t,displayedData:e,cells:r})}),oE={exports:{}},jr={};var TR;function Z_e(){if(TR)return jr;TR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function y(_){if(typeof _=="object"&&_!==null){var b=_.$$typeof;switch(b){case e:switch(_=_.type,_){case r:case a:case n:case u:case f:case g:return _;default:switch(_=_&&_.$$typeof,_){case s:case l:case m:case d:return _;case i:return _;default:return b}}case t:return b}}}return jr.ContextConsumer=i,jr.ContextProvider=s,jr.Element=e,jr.ForwardRef=l,jr.Fragment=r,jr.Lazy=m,jr.Memo=d,jr.Portal=t,jr.Profiler=a,jr.StrictMode=n,jr.Suspense=u,jr.SuspenseList=f,jr.isContextConsumer=function(_){return y(_)===i},jr.isContextProvider=function(_){return y(_)===s},jr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},jr.isForwardRef=function(_){return y(_)===l},jr.isFragment=function(_){return y(_)===r},jr.isLazy=function(_){return y(_)===m},jr.isMemo=function(_){return y(_)===d},jr.isPortal=function(_){return y(_)===t},jr.isProfiler=function(_){return y(_)===a},jr.isStrictMode=function(_){return y(_)===n},jr.isSuspense=function(_){return y(_)===u},jr.isSuspenseList=function(_){return y(_)===f},jr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===a||_===n||_===u||_===f||typeof _=="object"&&_!==null&&(_.$$typeof===m||_.$$typeof===d||_.$$typeof===s||_.$$typeof===i||_.$$typeof===l||_.$$typeof===x||_.getModuleId!==void 0)},jr.typeOf=y,jr}var kR;function J_e(){return kR||(kR=1,oE.exports=Z_e()),oE.exports}var ewe=J_e(),DR=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",OR=null,lE=null,uV=e=>{if(e===OR&&Array.isArray(lE))return lE;var t=[];return T.Children.forEach(e,r=>{sn(r)||(ewe.isFragment(r)?t=t.concat(uV(r.props.children)):t.push(r))}),lE=t,OR=e,t};function yT(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>DR(a)):n=[DR(t)],uV(e).forEach(a=>{var i=Uu(a,"type.displayName")||Uu(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var fV=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,cE={},jR;function twe(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(cE)),cE}var uE,NR;function rwe(){return NR||(NR=1,uE=twe().isPlainObject),uE}var nwe=rwe();const awe=yo(nwe);var IR,RR,PR,FR,BR;function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){iwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iwe(e,t,r){return(t=swe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function swe(e){var t=owe(e,"string");return typeof t=="symbol"?t:t+""}function owe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(null,arguments)}function uh(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zR=(e,t,r,n,a)=>{var i=r-n,s;return s=dn(IR||(IR=uh(["M ",",",""])),e,t),s+=dn(RR||(RR=uh(["L ",",",""])),e+r,t),s+=dn(PR||(PR=uh(["L ",",",""])),e+r-i/2,t+a),s+=dn(FR||(FR=uh(["L ",",",""])),e+r-i/2-n,t+a),s+=dn(BR||(BR=uh(["L ",","," Z"])),e,t),s},lwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cwe=e=>{var t=Hn(e,lwe),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:l}=t,{animationEasing:u,animationDuration:f,animationBegin:d,isUpdateAnimationActive:m}=t,g=T.useRef(null),[x,y]=T.useState(-1),_=T.useRef(a),b=T.useRef(i),w=T.useRef(s),C=T.useRef(r),S=T.useRef(n),O=Gp(e,"trapezoid-");if(T.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ce=g.current.getTotalLength();ce&&y(ce)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var F=fr("recharts-trapezoid",l);if(!m)return T.createElement("g",null,T.createElement("path",j1({},ri(t),{className:F,d:zR(r,n,a,i,s)})));var B=_.current,j=b.current,k=w.current,P=C.current,I=S.current,R="0px ".concat(x===-1?1:x,"px"),N="".concat(x,"px 0px"),M=jL(["strokeDasharray"],f,u);return T.createElement(Wp,{animationId:O,key:O,canBegin:x>0,duration:f,easing:u,isActive:m,begin:d},ce=>{var fe=Gr(B,a,ce),ae=Gr(j,i,ce),ie=Gr(k,s,ce),me=Gr(P,r,ce),be=Gr(I,n,ce);g.current&&(_.current=fe,b.current=ae,w.current=ie,C.current=me,S.current=be);var de=ce>0?{transition:M,strokeDasharray:N}:{strokeDasharray:R};return T.createElement("path",j1({},ri(t),{className:F,d:zR(me,be,fe,ae,ie),ref:g,style:LR(LR({},de),t.style)}))})},uwe=["option","shapeType","activeClassName"];function fwe(e,t){if(e==null)return{};var r,n,a=dwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){hwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hwe(e,t,r){return(t=pwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pwe(e){var t=mwe(e,"string");return typeof t=="symbol"?t:t+""}function mwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gwe(e,t){return N1(N1({},t),e)}function xwe(e,t){return e==="symbols"}function VR(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return T.createElement(PL,r);case"trapezoid":return T.createElement(cwe,r);case"sector":return T.createElement(LL,r);case"symbols":if(xwe(t))return T.createElement(VC,r);break;case"curve":return T.createElement(vf,r);default:return null}}function vwe(e){return T.isValidElement(e)?e.props:e}function dV(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=fwe(e,uwe),i;if(T.isValidElement(t))i=T.cloneElement(t,N1(N1({},a),vwe(t)));else if(typeof t=="function")i=t(a,a.index);else if(awe(t)&&typeof t!="boolean"){var s=gwe(t,a);i=T.createElement(VR,{shapeType:r,elementProps:s})}else{var l=a;i=T.createElement(VR,{shapeType:r,elementProps:l})}return a.isActive?T.createElement(Sn,{className:n},i):i}var bT=(e,t,r)=>{var n=Vr();return(a,i)=>s=>{e?.(a,i,s),n(wU({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},_T=e=>{var t=Vr();return(r,n)=>a=>{e?.(r,n,a),t(Cye())}},wT=(e,t,r)=>{var n=Vr();return(a,i)=>s=>{e?.(a,i,s),n(Tye({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function ET(e){var{tooltipEntrySettings:t}=e,r=Vr(),n=Ga(),a=T.useRef(null);return T.useLayoutEffect(()=>{n||(a.current===null?r(wye(t)):a.current!==t&&r(Eye({prev:a.current,next:t})),a.current=t)},[t,r,n]),T.useLayoutEffect(()=>()=>{a.current&&(r(Sye(a.current)),a.current=null)},[r]),null}function hV(e){var{legendPayload:t}=e,r=Vr(),n=Ga(),a=T.useRef(null);return T.useLayoutEffect(()=>{n||(a.current===null?r(CL(t)):a.current!==t&&r(TL({prev:a.current,next:t})),a.current=t)},[r,n,t]),T.useLayoutEffect(()=>()=>{a.current&&(r(kL(a.current)),a.current=null)},[r]),null}function ywe(e){var{legendPayload:t}=e,r=Vr(),n=dt(tr),a=T.useRef(null);return T.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(CL(t)):a.current!==t&&r(TL({prev:a.current,next:t})),a.current=t)},[r,n,t]),T.useLayoutEffect(()=>()=>{a.current&&(r(kL(a.current)),a.current=null)},[r]),null}var fE,bwe=()=>{var[e]=T.useState(()=>sp("uid-"));return e},_we=(fE=FH.useId)!==null&&fE!==void 0?fE:bwe;function wwe(e,t){var r=_we();return t||(e?"".concat(e,"-").concat(r):r)}var Ewe=T.createContext(void 0),ST=e=>{var{id:t,type:r,children:n}=e,a=wwe("recharts-".concat(r),t);return T.createElement(Ewe.Provider,{value:a},n(a))},Swe={cartesianItems:[],polarItems:[]},pV=bi({name:"graphicalItems",initialState:Swe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Jr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Bs(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Jr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Bs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Jr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Jr()},removePolarGraphicalItem:{reducer(e,t){var r=Bs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Jr()}}}),{addCartesianGraphicalItem:Awe,replaceCartesianGraphicalItem:Cwe,removeCartesianGraphicalItem:Twe,addPolarGraphicalItem:kwe,removePolarGraphicalItem:Dwe}=pV.actions,Owe=pV.reducer,jwe=e=>{var t=Vr(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?t(Awe(e)):r.current!==e&&t(Cwe({prev:r.current,next:e})),r.current=e},[t,e]),T.useLayoutEffect(()=>()=>{r.current&&(t(Twe(r.current)),r.current=null)},[t]),null},mV=T.memo(jwe);function Nwe(e){var t=Vr();return T.useLayoutEffect(()=>(t(kwe(e)),()=>{t(Dwe(e))}),[t,e]),null}var Iwe=["key"],Rwe=["onMouseEnter","onClick","onMouseLeave"],Pwe=["id"],Fwe=["id"];function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){Bwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bwe(e,t,r){return(t=Mwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mwe(e){var t=Lwe(e,"string");return typeof t=="symbol"?t:t+""}function Lwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(null,arguments)}function sb(e,t){if(e==null)return{};var r,n,a=zwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uwe(e){var t=T.useMemo(()=>yT(e.children,Wu),[e.children]),r=dt(n=>Y_e(n,e.id,t));return r==null?null:T.createElement(ywe,{legendPayload:r})}var Vwe=T.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:l,hide:u,tooltipType:f,id:d}=e,m={dataDefinedOnItem:n.map(g=>g.tooltipPayload),positions:n.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:Yf(l,t),hide:u,type:f,color:s,unit:"",graphicalItemId:d}};return T.createElement(ET,{tooltipEntrySettings:m})}),$we=(e,t)=>e>t?"start":e<t?"end":"middle",Hwe=(e,t,r)=>Ha(typeof t=="function"?t(e):t,r,r*.8),qwe=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,l=FL(i,s),u=a+Ha(e.cx,i,i/2),f=n+Ha(e.cy,s,s/2),d=Ha(e.innerRadius,l,0),m=Hwe(r,e.outerRadius,l),g=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:u,cy:f,innerRadius:d,outerRadius:m,maxRadius:g}},Wwe=(e,t)=>{var r=ma(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Gwe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Kwe=(e,t)=>{if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return e(t);var r=fr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=sb(t,Iwe);return T.createElement(vf,Oc({},a,{type:"linear",className:r}))},Xwe=(e,t,r)=>{if(T.isValidElement(e))return T.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),T.isValidElement(n)))return n;var a=fr("recharts-pie-label-text",Gwe(e));return T.createElement(nb,Oc({},t,{alignmentBaseline:"middle",className:a}),n)};function Ywe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:s}=r;if(!n||!a||!t)return null;var l=yi(r),u=Lu(a),f=Lu(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((g,x)=>{var y=(g.startAngle+g.endAngle)/2,_=Ln(g.cx,g.cy,g.outerRadius+d,y),b=hn(hn(hn(hn({},l),g),{},{stroke:"none"},u),{},{index:x,textAnchor:$we(_.x,g.cx)},_),w=hn(hn(hn(hn({},l),g),{},{fill:"none",stroke:g.fill},f),{},{index:x,points:[Ln(g.cx,g.cy,g.outerRadius,y),_],key:"line"});return T.createElement(_i,{zIndex:zn.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},T.createElement(Sn,null,i&&Kwe(i,w),Xwe(a,b,Pr(g,s))))});return T.createElement(Sn,{className:"recharts-pie-labels"},m)}function Qwe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?T.createElement(gT,{label:a}):T.createElement(Ywe,{sectors:t,props:r,showLabels:n})}function Zwe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:i,id:s}=e,l=dt(Dc),u=dt(cT),f=dt(dbe),{onMouseEnter:d,onClick:m,onMouseLeave:g}=a,x=sb(a,Rwe),y=bT(d,a.dataKey,s),_=_T(g),b=wT(m,a.dataKey,s);return t==null||t.length===0?null:T.createElement(T.Fragment,null,t.map((w,C)=>{if(w?.startAngle===0&&w?.endAngle===0&&t.length!==1)return null;var S=f==null||f===s,O=String(C)===l&&(u==null||a.dataKey===u)&&S,F=l?n:null,B=r&&O?r:F,j=hn(hn({},w),{},{stroke:w.stroke,tabIndex:-1,[dL]:C,[hL]:s});return T.createElement(Sn,Oc({key:"sector-".concat(w?.startAngle,"-").concat(w?.endAngle,"-").concat(w.midAngle,"-").concat(C),tabIndex:-1,className:"recharts-pie-sector"},Lp(x,w,C),{onMouseEnter:y(w,C),onMouseLeave:_(w,C),onClick:b(w,C)}),T.createElement(dV,Oc({option:i??B,index:C,shapeType:"sector",isActive:O},j)))}))}function Jwe(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:s,startAngle:l,endAngle:u,dataKey:f,nameKey:d,tooltipType:m}=r,g=Math.abs(r.minAngle),x=Wwe(l,u),y=Math.abs(x),_=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=n.filter(B=>Pr(B,f,0)!==0).length,w=(y>=360?b:b-1)*_,C=y-b*g-w,S=n.reduce((B,j)=>{var k=Pr(j,f,0);return B+(at(k)?k:0)},0),O;if(S>0){var F;O=n.map((B,j)=>{var k=Pr(B,f,0),P=Pr(B,d,j),I=qwe(r,i,B),R=(at(k)?k:0)/S,N,M=hn(hn({},B),a&&a[j]&&a[j].props);j?N=F.endAngle+ma(x)*_*(k!==0?1:0):N=l;var ce=N+ma(x)*((k!==0?g:0)+R*C),fe=(N+ce)/2,ae=(I.innerRadius+I.outerRadius)/2,ie=[{name:P,value:k,payload:M,dataKey:f,type:m,graphicalItemId:r.id}],me=Ln(I.cx,I.cy,ae,fe);return F=hn(hn(hn(hn({},r.presentationProps),{},{percent:R,cornerRadius:typeof s=="string"?parseFloat(s):s,name:P,tooltipPayload:ie,midAngle:fe,middleRadius:ae,tooltipPosition:me},M),I),{},{value:k,dataKey:f,startAngle:N,endAngle:ce,payload:M,paddingAngle:ma(x)*_}),F})}return O}function eEe(e){var{showLabels:t,sectors:r,children:n}=e,a=T.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return T.createElement(R_e,{value:t?a:void 0},n)}function tEe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:u,activeShape:f,inactiveShape:d,onAnimationStart:m,onAnimationEnd:g}=t,x=Gp(t,"recharts-pie-"),y=r.current,[_,b]=T.useState(!1),w=T.useCallback(()=>{typeof g=="function"&&g(),b(!1)},[g]),C=T.useCallback(()=>{typeof m=="function"&&m(),b(!0)},[m]);return T.createElement(eEe,{showLabels:!_,sectors:a},T.createElement(Wp,{animationId:x,begin:s,duration:l,isActive:i,easing:u,onAnimationStart:C,onAnimationEnd:w,key:x},S=>{var O=[],F=a&&a[0],B=F?.startAngle;return a?.forEach((j,k)=>{var P=y&&y[k],I=k>0?Uu(j,"paddingAngle",0):0;if(P){var R=Gr(P.endAngle-P.startAngle,j.endAngle-j.startAngle,S),N=hn(hn({},j),{},{startAngle:B+I,endAngle:B+R+I});O.push(N),B=N.endAngle}else{var{endAngle:M,startAngle:ce}=j,fe=Gr(0,M-ce,S),ae=hn(hn({},j),{},{startAngle:B+I,endAngle:B+fe+I});O.push(ae),B=ae.endAngle}}),r.current=O,T.createElement(Sn,null,T.createElement(Zwe,{sectors:O,activeShape:f,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),T.createElement(Qwe,{showLabels:!_,sectors:a,props:t}),t.children)}var rEe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:zn.area};function nEe(e){var{id:t}=e,r=sb(e,Pwe),{hide:n,className:a,rootTabIndex:i}=e,s=T.useMemo(()=>yT(e.children,Wu),[e.children]),l=dt(d=>Q_e(d,t,s)),u=T.useRef(null),f=fr("recharts-pie",a);return n||l==null?(u.current=null,T.createElement(Sn,{tabIndex:i,className:f})):T.createElement(_i,{zIndex:e.zIndex},T.createElement(Vwe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),T.createElement(Sn,{tabIndex:i,className:f},T.createElement(tEe,{props:hn(hn({},r),{},{sectors:l}),previousSectorsRef:u,id:t})))}function AT(e){var t=Hn(e,rEe),{id:r}=t,n=sb(t,Fwe),a=yi(n);return T.createElement(ST,{id:r,type:"pie"},i=>T.createElement(T.Fragment,null,T.createElement(Nwe,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),T.createElement(Uwe,Oc({},n,{id:i})),T.createElement(nEe,Oc({},n,{id:i}))))}AT.displayName="Pie";var aEe=["points"];function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){iEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iEe(e,t,r){return(t=sEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sEe(e){var t=oEe(e,"string");return typeof t=="symbol"?t:t+""}function oEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I1.apply(null,arguments)}function lEe(e,t){if(e==null)return{};var r,n,a=cEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uEe(e){var{option:t,dotProps:r,className:n}=e;if(T.isValidElement(t))return T.cloneElement(t,r);if(typeof t=="function")return t(r);var a=fr(n,typeof t!="boolean"?t.className:""),i=r??{},{points:s}=i,l=lEe(i,aEe);return T.createElement(iV,I1({},l,{className:a}))}function fEe(e,t){return e==null?!1:t?!0:e.length===1}function dEe(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:s,needClip:l,clipPathId:u,zIndex:f=zn.scatter}=e;if(!fEe(t,r))return null;var d=fV(r),m=D0e(r),g=t.map((y,_)=>{var b,w,C=dE(dE(dE({r:3},s),m),{},{index:_,cx:(b=y.x)!==null&&b!==void 0?b:void 0,cy:(w=y.y)!==null&&w!==void 0?w:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return T.createElement(uEe,{key:"dot-".concat(_),option:r,dotProps:C,className:a})}),x={};return l&&u!=null&&(x.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),T.createElement(_i,{zIndex:f},T.createElement(Sn,I1({className:n},x),g))}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){hEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hEe(e,t,r){return(t=pEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pEe(e){var t=mEe(e,"string");return typeof t=="symbol"?t:t+""}function mEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gV=0,gEe={xAxis:{},yAxis:{},zAxis:{}},xV=bi({name:"cartesianAxis",initialState:gEe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Jr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Jr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Jr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Jr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Jr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Jr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Jr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Jr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Jr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=WR(WR({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:xEe,replaceXAxis:vEe,removeXAxis:yEe,addYAxis:bEe,replaceYAxis:_Ee,removeYAxis:wEe,addZAxis:sTe,replaceZAxis:oTe,removeZAxis:lTe,updateYAxisWidth:EEe}=xV.actions,SEe=xV.reducer,AEe=je([ea],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),CEe=je([AEe,pl,ml],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),CT=()=>dt(CEe),TEe=()=>dt(xbe);function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){kEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kEe(e,t,r){return(t=DEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DEe(e){var t=OEe(e,"string");return typeof t=="symbol"?t:t+""}function OEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jEe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:s}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=hE(hE(hE({},l),Lu(a)),$C(a)),f;return T.isValidElement(a)?f=T.cloneElement(a,u):typeof a=="function"?f=a(u):f=T.createElement(iV,u),T.createElement(Sn,{className:"recharts-active-dot",clipPath:s},f)};function KR(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:s=zn.activeDot}=e,l=dt(Dc),u=TEe();if(t==null||u==null)return null;var f=t.find(d=>u.includes(d.payload));return sn(f)?null:T.createElement(_i,{zIndex:s},T.createElement(jEe,{point:f,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var XR=(e,t,r)=>{var n=r??e;if(!sn(n))return Ha(n,t,0)},NEe=(e,t,r)=>{var n={},a=e.filter(Ky),i=e.filter(f=>f.stackId==null),s=a.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),n),l=Object.entries(s).map(f=>{var[d,m]=f,g=m.map(y=>y.dataKey),x=XR(t,r,m[0].barSize);return{stackId:d,dataKeys:g,barSize:x}}),u=i.map(f=>{var d=[f.dataKey].filter(g=>g!=null),m=XR(t,r,f.barSize);return{stackId:void 0,dataKeys:d,barSize:m}});return[...l,...u]};function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){IEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IEe(e,t,r){return(t=REe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function REe(e){var t=PEe(e,"string");return typeof t=="symbol"?t:t+""}function PEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FEe(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=Ha(e,r,0,!0),l,u=[];if(Mr(n[0].barSize)){var f=!1,d=r/i,m=n.reduce((w,C)=>w+(C.barSize||0),0);m+=(i-1)*s,m>=r&&(m-=(i-1)*s,s=0),m>=r&&d>0&&(f=!0,d*=.9,m=i*d);var g=(r-m)/2>>0,x={offset:g-s,size:0};l=n.reduce((w,C)=>{var S,O={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:x.offset+x.size+s,size:f?d:(S=C.barSize)!==null&&S!==void 0?S:0}},F=[...w,O];return x=F[F.length-1].position,F},u)}else{var y=Ha(t,r,0,!0);r-2*y-(i-1)*s<=0&&(s=0);var _=(r-2*y-(i-1)*s)/i;_>1&&(_>>=0);var b=Mr(a)?Math.min(_,a):_;l=n.reduce((w,C,S)=>[...w,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:y+(_+s)*S+(_-b)/2,size:b}}],u)}return l}}var BEe=(e,t,r,n,a,i,s)=>{var l=sn(s)?t:s,u=FEe(r,n,a!==i?a:i,e,l);return a!==i&&u!=null&&(u=u.map(f=>lx(lx({},f),{},{position:lx(lx({},f.position),{},{offset:f.position.offset-a/2})}))),u},MEe=(e,t)=>{var r=Gy(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}};function LEe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Mr(e.zIndex)?e.zIndex:t}var vV=e=>{var{chartData:t}=e,r=Vr(),n=Ga();return T.useEffect(()=>n?()=>{}:(r(rR(t)),()=>{r(rR(void 0))}),[t,r,n]),null},QR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yV=bi({name:"brush",initialState:QR,reducers:{setBrushSettings(e,t){return t.payload==null?QR:t.payload}}}),{setBrushSettings:cTe}=yV.actions,zEe=yV.reducer;function UEe(e,t,r){return(t=VEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VEe(e){var t=$Ee(e,"string");return typeof t=="symbol"?t:t+""}function $Ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TT{static create(t){return new TT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}UEe(TT,"EPS",1e-4);function HEe(e){return(e%180+180)%180}var qEe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=HEe(a),s=i*Math.PI/180,l=Math.atan(n/r),u=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(u)},WEe={dots:[],areas:[],lines:[]},bV=bi({name:"referenceElements",initialState:WEe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Bs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Bs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Bs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:uTe,removeDot:fTe,addArea:dTe,removeArea:hTe,addLine:pTe,removeLine:mTe}=bV.actions,GEe=bV.reducer,KEe=T.createContext(void 0),XEe=e=>{var{children:t}=e,[r]=T.useState("".concat(sp("recharts"),"-clip")),n=CT();if(n==null)return null;var{x:a,y:i,width:s,height:l}=n;return T.createElement(KEe.Provider,{value:r},T.createElement("defs",null,T.createElement("clipPath",{id:r},T.createElement("rect",{x:a,y:i,height:l,width:s}))),t)};function _V(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function YEe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return qEe(n,r)}function QEe(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:l}=e;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function bp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ZEe(e,t){return _V(e,t+1)}function JEe(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:l}=t,u=0,f=1,d=s,m=function(){var y=n?.[u];if(y===void 0)return{v:_V(n,f)};var _=u,b,w=()=>(b===void 0&&(b=r(y,_)),b),C=y.coordinate,S=u===0||bp(e,C,w,d,l);S||(u=0,d=s,f+=1),S&&(d=C+e*(w()/2+a),u+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function eSe(e,t,r,n,a){var i=(n||[]).slice(),s=i.length;if(s===0)return[];for(var{start:l,end:u}=t,f=1;f<=s;f++){for(var d=(s-1)%f,m=l,g=!0,x=function(){var C=n[y],S=y,O,F=()=>(O===void 0&&(O=r(C,S)),O),B=C.coordinate,j=y===d||bp(e,B,F,m,u);if(!j)return g=!1,1;j&&(m=B+e*(F()/2+a))},y=d;y<s&&!x();y+=f);if(g){for(var _=[],b=d;b<s;b+=f)_.push(n[b]);return _}}return[]}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){tSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tSe(e,t,r){return(t=rSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rSe(e){var t=nSe(e,"string");return typeof t=="symbol"?t:t+""}function nSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aSe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:l}=t,{end:u}=t,f=function(g){var x=i[g],y,_=()=>(y===void 0&&(y=r(x,g)),y);if(g===s-1){var b=e*(x.coordinate+e*_()/2-u);i[g]=x=Fa(Fa({},x),{},{tickCoord:b>0?x.coordinate-b*e:x.coordinate})}else i[g]=x=Fa(Fa({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var w=bp(e,x.tickCoord,_,l,u);w&&(u=x.tickCoord-e*(_()/2+a),i[g]=Fa(Fa({},x),{},{isShow:!0}))}},d=s-1;d>=0;d--)f(d);return i}function iSe(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,{start:u,end:f}=t;if(i){var d=n[l-1],m=r(d,l-1),g=e*(d.coordinate+e*m/2-f);if(s[l-1]=d=Fa(Fa({},d),{},{tickCoord:g>0?d.coordinate-g*e:d.coordinate}),d.tickCoord!=null){var x=bp(e,d.tickCoord,()=>m,u,f);x&&(f=d.tickCoord-e*(m/2+a),s[l-1]=Fa(Fa({},d),{},{isShow:!0}))}}for(var y=i?l-1:l,_=function(C){var S=s[C],O,F=()=>(O===void 0&&(O=r(S,C)),O);if(C===0){var B=e*(S.coordinate-e*F()/2-u);s[C]=S=Fa(Fa({},S),{},{tickCoord:B<0?S.coordinate-B*e:S.coordinate})}else s[C]=S=Fa(Fa({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var j=bp(e,S.tickCoord,F,u,f);j&&(u=S.tickCoord+e*(F()/2+a),s[C]=Fa(Fa({},S),{},{isShow:!0}))}},b=0;b<y;b++)_(b);return s}function kT(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:l,interval:u,tickFormatter:f,unit:d,angle:m}=e;if(!a||!a.length||!n)return[];if(at(u)||qp.isSsr){var g;return(g=ZEe(a,at(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],y=l==="top"||l==="bottom"?"width":"height",_=d&&y==="width"?Mh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(S,O)=>{var F=typeof f=="function"?f(S.value,O):S.value;return y==="width"?YEe(Mh(F,{fontSize:t,letterSpacing:r}),_,m):Mh(F,{fontSize:t,letterSpacing:r})[y]},w=a.length>=2?ma(a[1].coordinate-a[0].coordinate):1,C=QEe(i,w,y);return u==="equidistantPreserveStart"?JEe(w,C,b,a,s):u==="equidistantPreserveEnd"?eSe(w,C,b,a,s):(u==="preserveStart"||u==="preserveStartEnd"?x=iSe(w,C,b,a,s,u==="preserveStartEnd"):x=aSe(w,C,b,a,s),x.filter(S=>S.isShow))}var sSe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>s&&(s=m.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+i,f=s+u+l+(r?n:0);return Math.round(f)}return 0},oSe=["axisLine","width","height","className","hide","ticks","axisType"];function lSe(e,t){if(e==null)return{};var r,n,a=cSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gu.apply(null,arguments)}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){uSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uSe(e,t,r){return(t=fSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fSe(e){var t=dSe(e,"string");return typeof t=="symbol"?t:t+""}function dSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:zn.axis};function hSe(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=Pn(Pn(Pn({},u),yi(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);f=Pn(Pn({},f),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var m=+(i==="left"&&!s||i==="right"&&s);f=Pn(Pn({},f),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return T.createElement("line",Gu({},f,{className:fr("recharts-cartesian-axis-line",Uu(l,"className"))}))}function pSe(e,t,r,n,a,i,s,l,u){var f,d,m,g,x,y,_=l?-1:1,b=e.tickSize||s,w=at(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=d=e.coordinate,g=r+ +!l*a,m=g-_*b,y=m-_*u,x=w;break;case"left":m=g=e.coordinate,d=t+ +!l*n,f=d-_*b,x=f-_*u,y=w;break;case"right":m=g=e.coordinate,d=t+ +l*n,f=d+_*b,x=f+_*u,y=w;break;default:f=d=e.coordinate,g=r+ +l*a,m=g+_*b,y=m+_*u,x=w;break}return{line:{x1:f,y1:m,x2:d,y2:g},tick:{x,y}}}function mSe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function gSe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function xSe(e){var{option:t,tickProps:r,value:n}=e,a,i=fr(r.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))a=T.cloneElement(t,Pn(Pn({},r),{},{className:i}));else if(typeof t=="function")a=t(Pn(Pn({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=fr(s,t?.className)),a=T.createElement(nb,Gu({},r,{className:s}),n)}return a}var vSe=T.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:s,unit:l,padding:u,tickTextProps:f,orientation:d,mirror:m,x:g,y:x,width:y,height:_,tickSize:b,tickMargin:w,fontSize:C,letterSpacing:S,getTicksConfig:O,events:F,axisType:B}=e,j=kT(Pn(Pn({},O),{},{ticks:r}),C,S),k=mSe(d,m),P=gSe(d,m),I=yi(O),R=Lu(n),N={};typeof a=="object"&&(N=a);var M=Pn(Pn({},I),{},{fill:"none"},N),ce=j.map(ie=>Pn({entry:ie},pSe(ie,g,x,y,_,d,b,m,w))),fe=ce.map(ie=>{var{entry:me,line:be}=ie;return T.createElement(Sn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},a&&T.createElement("line",Gu({},M,be,{className:fr("recharts-cartesian-axis-tick-line",Uu(a,"className"))})))}),ae=ce.map((ie,me)=>{var{entry:be,tick:de}=ie,U=Pn(Pn(Pn(Pn({textAnchor:k,verticalAnchor:P},I),{},{stroke:"none",fill:i},R),de),{},{index:me,payload:be,visibleTicksCount:j.length,tickFormatter:s,padding:u},f);return T.createElement(Sn,Gu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(be.value,"-").concat(be.coordinate,"-").concat(be.tickCoord)},Lp(F,be,me)),n&&T.createElement(xSe,{option:n,tickProps:U,value:"".concat(typeof s=="function"?s(be.value,me):be.value).concat(l||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(B,"-ticks")},ae.length>0&&T.createElement(_i,{zIndex:zn.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(B,"-tick-labels"),ref:t},ae)),fe.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(B,"-tick-lines")},fe))}),ySe=T.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:l,axisType:u}=e,f=lSe(e,oSe),[d,m]=T.useState(""),[g,x]=T.useState(""),y=T.useRef(null);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return sSe({ticks:y.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=T.useCallback(b=>{if(b){var w=b.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=w;var C=w[0];if(C){var S=window.getComputedStyle(C),O=S.fontSize,F=S.letterSpacing;(O!==d||F!==g)&&(m(O),x(F))}}},[d,g]);return s||n!=null&&n<=0||a!=null&&a<=0?null:T.createElement(_i,{zIndex:e.zIndex},T.createElement(Sn,{className:fr("recharts-cartesian-axis",i)},T.createElement(hSe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:yi(e)}),T.createElement(vSe,{ref:_,axisType:u,events:f,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),T.createElement(h_e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},T.createElement(E_e,{label:e.label,labelRef:e.labelRef}),e.children)))}),DT=T.forwardRef((e,t)=>{var r=Hn(e,Jo);return T.createElement(ySe,Gu({},r,{ref:t}))});DT.displayName="CartesianAxis";var bSe=["x1","y1","x2","y2","key"],_Se=["offset"],wSe=["xAxisId","yAxisId"],ESe=["xAxisId","yAxisId"];function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){SSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SSe(e,t,r){return(t=ASe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ASe(e){var t=CSe(e,"string");return typeof t=="symbol"?t:t+""}function CSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(null,arguments)}function R1(e,t){if(e==null)return{};var r,n,a=TSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:l}=e;return T.createElement("rect",{x:n,y:a,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wV(e){var{option:t,lineItemProps:r}=e,n;if(T.isValidElement(t))n=T.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:s,x2:l,y2:u,key:f}=r,d=R1(r,bSe),m=(a=yi(d))!==null&&a!==void 0?a:{},{offset:g}=m,x=R1(m,_Se);n=T.createElement("line",yu({},x,{x1:i,y1:s,x2:l,y2:u,fill:"none",key:f}))}return n}function DSe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,l=R1(e,wSe),u=a.map((f,d)=>{var m=za(za({},l),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(d),index:d});return T.createElement(wV,{key:"line-".concat(d),option:n,lineItemProps:m})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function OSe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,l=R1(e,ESe),u=a.map((f,d)=>{var m=za(za({},l),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(d),index:d});return T.createElement(wV,{option:n,lineItemProps:m,key:"line-".concat(d)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function jSe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var f=l.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var d=f.map((m,g)=>{var x=!f[g+1],y=x?a+s-m:f[g+1]-m;if(y<=0)return null;var _=g%t.length;return T.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:y,width:i,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function NSe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var f=u.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var d=f.map((m,g)=>{var x=!f[g+1],y=x?a+s-m:f[g+1]-m;if(y<=0)return null;var _=g%r.length;return T.createElement("rect",{key:"react-".concat(g),x:m,y:i,width:y,height:l,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ISe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return lL(kT(za(za(za({},Jo),r),{},{ticks:cL(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},RSe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return lL(kT(za(za(za({},Jo),r),{},{ticks:cL(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},PSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:zn.grid};function OT(e){var t=r4(),r=n4(),n=vL(),a=za(za({},Hn(e,PSe)),{},{x:at(e.x)?e.x:n.left,y:at(e.y)?e.y:n.top,width:at(e.width)?e.width:n.width,height:at(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:l,y:u,width:f,height:d,syncWithTicks:m,horizontalValues:g,verticalValues:x}=a,y=Ga(),_=dt(P=>HI(P,"xAxis",i,y)),b=dt(P=>HI(P,"yAxis",s,y));if(!xo(f)||!xo(d)||!at(l)||!at(u))return null;var w=a.verticalCoordinatesGenerator||ISe,C=a.horizontalCoordinatesGenerator||RSe,{horizontalPoints:S,verticalPoints:O}=a;if((!S||!S.length)&&typeof C=="function"){var F=g&&g.length,B=C({yAxis:b?za(za({},b),{},{ticks:F?g:b.ticks}):void 0,width:t??f,height:r??d,offset:n},F?!0:m);i1(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(S=B)}if((!O||!O.length)&&typeof w=="function"){var j=x&&x.length,k=w({xAxis:_?za(za({},_),{},{ticks:j?x:_.ticks}):void 0,width:t??f,height:r??d,offset:n},j?!0:m);i1(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(O=k)}return T.createElement(_i,{zIndex:a.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(kSe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),T.createElement(jSe,yu({},a,{horizontalPoints:S})),T.createElement(NSe,yu({},a,{verticalPoints:O})),T.createElement(DSe,yu({},a,{offset:n,horizontalPoints:S,xAxis:_,yAxis:b})),T.createElement(OSe,yu({},a,{offset:n,verticalPoints:O,xAxis:_,yAxis:b}))))}OT.displayName="CartesianGrid";var FSe={},EV=bi({name:"errorBars",initialState:FSe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:gTe,replaceErrorBar:xTe,removeErrorBar:vTe}=EV.actions,BSe=EV.reducer,MSe=["children"];function LSe(e,t){if(e==null)return{};var r,n,a=zSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var USe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},VSe=T.createContext(USe);function $Se(e){var{children:t}=e,r=LSe(e,MSe);return T.createElement(VSe.Provider,{value:r},t)}function jT(e,t){var r,n,a=dt(f=>vl(f,e)),i=dt(f=>yl(f,t)),s=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:la.allowDataOverflow,l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ca.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function SV(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=CT(),{needClipX:i,needClipY:s,needClip:l}=jT(t,r);if(!l||!a)return null;var{x:u,y:f,width:d,height:m}=a;return T.createElement("clipPath",{id:"clipPath-".concat(n)},T.createElement("rect",{x:i?u:u-d/2,y:s?f:f-m/2,width:i?d:d*2,height:s?m:m*2}))}function HSe(e){var t=Lu(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,s=Number(a),l=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(l)||l<0)&&(l=n),{r:s,strokeWidth:l}}return{r,strokeWidth:n}}var pE={exports:{}},mE={};var tP;function qSe(){if(tP)return mE;tP=1;var e=Ff();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,s=e.useMemo,l=e.useDebugValue;return mE.useSyncExternalStoreWithSelector=function(u,f,d,m,g){var x=a(null);if(x.current===null){var y={hasValue:!1,value:null};x.current=y}else y=x.current;x=s(function(){function b(F){if(!w){if(w=!0,C=F,F=m(F),g!==void 0&&y.hasValue){var B=y.value;if(g(B,F))return S=B}return S=F}if(B=S,r(C,F))return B;var j=m(F);return g!==void 0&&g(B,j)?(C=F,B):(C=F,S=j)}var w=!1,C,S,O=d===void 0?null:d;return[function(){return b(f())},O===null?void 0:function(){return b(O())}]},[f,d,m,g]);var _=n(u,x[0],x[1]);return i(function(){y.hasValue=!0,y.value=_},[_]),l(_),_},mE}var rP;function WSe(){return rP||(rP=1,pE.exports=qSe()),pE.exports}WSe();function GSe(e){e()}function KSe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){GSe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var nP={notify(){},get:()=>[]};function XSe(e,t){let r,n=nP,a=0,i=!1;function s(_){d();const b=n.subscribe(_);let w=!1;return()=>{w||(w=!0,b(),m())}}function l(){n.notify()}function u(){y.onStateChange&&y.onStateChange()}function f(){return i}function d(){a++,r||(r=e.subscribe(u),n=KSe())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=nP)}function g(){i||(i=!0,d())}function x(){i&&(i=!1,m())}const y={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return y}var YSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QSe=YSe(),ZSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",JSe=ZSe(),eAe=()=>QSe||JSe?T.useLayoutEffect:T.useEffect,tAe=eAe();function aP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function rAe(e,t){if(aP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!aP(e[r[a]],t[r[a]]))return!1;return!0}var nAe=Symbol.for("react-redux-context"),aAe=typeof globalThis<"u"?globalThis:{};function iAe(){if(!T.createContext)return{};const e=aAe[nAe]??=new Map;let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var sAe=iAe();function oAe(e){const{children:t,context:r,serverState:n,store:a}=e,i=T.useMemo(()=>{const u=XSe(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),s=T.useMemo(()=>a.getState(),[a]);tAe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const l=r||sAe;return T.createElement(l.Provider,{value:i},t)}var lAe=oAe,cAe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function uAe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ob(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(cAe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!rAe(e[n],t[n]))return!1}else if(!uAe(e[n],t[n]))return!1;return!0}function bo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:gV}function _o(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:gV}var AV=(e,t,r)=>kc(e,"xAxis",bo(e,t),r),CV=(e,t,r)=>Tc(e,"xAxis",bo(e,t),r),TV=(e,t,r)=>kc(e,"yAxis",_o(e,t),r),kV=(e,t,r)=>Tc(e,"yAxis",_o(e,t),r),fAe=je([tr,AV,TV,CV,kV],(e,t,r,n,a)=>hl(e,"xAxis")?Of(t,n,!1):Of(r,a,!1)),dAe=(e,t)=>t,DV=je([Qy,dAe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),OV=e=>{var t=tr(e),r=hl(t,"xAxis");return r?"yAxis":"xAxis"},hAe=(e,t)=>{var r=OV(e);return r==="yAxis"?_o(e,t):bo(e,t)},pAe=(e,t,r)=>C1(e,OV(e),hAe(e,t),r),mAe=je([DV,pAe],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=Gy(e);if(!(n==null||a==null)){var i=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=i?.find(l=>l.key===a);if(s!=null)return s.map(l=>[l[0],l[1]])}}}),gAe=je([tr,AV,TV,CV,kV,mAe,wz,fAe,DV,m1e],(e,t,r,n,a,i,s,l,u,f)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:g}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{data:x}=u,y;if(x&&x.length>0?y=x:y=d?.slice(m,g+1),y!=null)return PAe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:m,areaSettings:u,stackedData:i,displayedData:y,chartBaseValue:f,bandSize:l})}}),xAe=["id"],vAe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(null,arguments)}function jV(e,t){if(e==null)return{};var r,n,a=yAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){bAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bAe(e,t,r){return(t=_Ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ae(e){var t=wAe(e,"string");return typeof t=="symbol"?t:t+""}function wAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P1(e,t){return e&&e!=="none"?e:t}var EAe=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:P1(n,a),value:Yf(r,t),payload:e}]},SAe=T.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:l,unit:u,tooltipType:f,id:d}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Yf(s,t),hide:l,type:f,color:P1(n,i),unit:u,graphicalItemId:d}};return T.createElement(ET,{tooltipEntrySettings:m})});function AAe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:s}=n,l=yi(n);return T.createElement(dEe,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:a,clipPathId:t})}function CAe(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var s,l,u={x:(s=i.x)!==null&&s!==void 0?s:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return cf(cf({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return T.createElement(nV,{value:t?a:void 0},r)}function sP(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:s,type:l,stroke:u,connectNulls:f,isRange:d}=i,{id:m}=i,g=jV(i,xAe),x=yi(g),y=ri(g);return T.createElement(T.Fragment,null,t?.length>1&&T.createElement(Sn,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},T.createElement(vf,ju({},y,{id:m,points:t,connectNulls:f,type:l,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&T.createElement(vf,ju({},x,{className:"recharts-area-curve",layout:s,type:l,connectNulls:f,fill:"none",points:t})),u!=="none"&&d&&T.createElement(vf,ju({},x,{className:"recharts-area-curve",layout:s,type:l,connectNulls:f,fill:"none",points:r}))),T.createElement(AAe,{points:t,props:g,clipPathId:a}))}function TAe(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:s}=e,l=(t=i[0])===null||t===void 0?void 0:t.y,u=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!Mr(l)||!Mr(u))return null;var f=n*Math.abs(l-u),d=Math.max(...i.map(m=>m.x||0));return at(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(m=>m.x||0),d)),at(d)?T.createElement("rect",{x:0,y:l<u?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}function kAe(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:s}=e,l=(t=i[0])===null||t===void 0?void 0:t.x,u=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!Mr(l)||!Mr(u))return null;var f=n*Math.abs(l-u),d=Math.max(...i.map(m=>m.y||0));return at(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(m=>m.y||0),d)),at(d)?T.createElement("rect",{x:l<u?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function DAe(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?T.createElement(TAe,{alpha:t,points:n,baseLine:a,strokeWidth:i}):T.createElement(kAe,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function OAe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:s,baseLine:l,isAnimationActive:u,animationBegin:f,animationDuration:d,animationEasing:m,onAnimationStart:g,onAnimationEnd:x}=n,y=T.useMemo(()=>({points:s,baseLine:l}),[s,l]),_=Gp(y,"recharts-area-"),b=Npe(),[w,C]=T.useState(!1),S=!w,O=T.useCallback(()=>{typeof x=="function"&&x(),C(!1)},[x]),F=T.useCallback(()=>{typeof g=="function"&&g(),C(!0)},[g]);if(b==null)return null;var B=a.current,j=i.current;return T.createElement(CAe,{showLabels:S,points:s},n.children,T.createElement(Wp,{animationId:_,begin:f,duration:d,isActive:u,easing:m,onAnimationEnd:O,onAnimationStart:F,key:_},k=>{if(B){var P=B.length/s.length,I=k===1?s:s.map((N,M)=>{var ce=Math.floor(M*P);if(B[ce]){var fe=B[ce];return cf(cf({},N),{},{x:Gr(fe.x,N.x,k),y:Gr(fe.y,N.y,k)})}return N}),R;return at(l)?R=Gr(j,l,k):sn(l)||ps(l)?R=Gr(j,0,k):R=l.map((N,M)=>{var ce=Math.floor(M*P);if(Array.isArray(j)&&j[ce]){var fe=j[ce];return cf(cf({},N),{},{x:Gr(fe.x,N.x,k),y:Gr(fe.y,N.y,k)})}return N}),k>0&&(a.current=I,i.current=R),T.createElement(sP,{points:I,baseLine:R,needClip:t,clipPathId:r,props:n})}return k>0&&(a.current=s,i.current=l),T.createElement(Sn,null,u&&T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(r)},T.createElement(DAe,{alpha:k,points:s,baseLine:l,layout:b,strokeWidth:n.strokeWidth}))),T.createElement(Sn,{clipPath:"url(#animationClipPath-".concat(r,")")},T.createElement(sP,{points:s,baseLine:l,needClip:t,clipPathId:r,props:n})))}),T.createElement(gT,{label:n.label}))}function jAe(e){var{needClip:t,clipPathId:r,props:n}=e,a=T.useRef(null),i=T.useRef();return T.createElement(OAe,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class NAe extends T.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:s,needClip:l,xAxisId:u,yAxisId:f,width:d,height:m,id:g,baseLine:x,zIndex:y}=this.props;if(t)return null;var _=fr("recharts-area",a),b=g,{r:w,strokeWidth:C}=HSe(r),S=fV(r),O=w*2+C,F=l?"url(#clipPath-".concat(S?"":"dots-").concat(b,")"):void 0;return T.createElement(_i,{zIndex:y},T.createElement(Sn,{className:_},l&&T.createElement("defs",null,T.createElement(SV,{clipPathId:b,xAxisId:u,yAxisId:f}),!S&&T.createElement("clipPath",{id:"clipPath-dots-".concat(b)},T.createElement("rect",{x:s-O/2,y:i-O/2,width:d+O,height:m+O}))),T.createElement(jAe,{needClip:l,clipPathId:b,props:this.props})),T.createElement(KR,{points:n,mainColor:P1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:F}),this.props.isRange&&Array.isArray(x)&&T.createElement(KR,{points:x,mainColor:P1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:F}))}}var NV={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:zn.area};function IAe(e){var t,r=Hn(e,NV),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:l,dot:u,fill:f,fillOpacity:d,hide:m,isAnimationActive:g,legendType:x,stroke:y,xAxisId:_,yAxisId:b}=r,w=jV(r,vAe),C=s0(),S=MU(),{needClip:O}=jT(_,b),F=Ga(),{points:B,isRange:j,baseLine:k}=(t=dt(ce=>gAe(ce,e.id,F)))!==null&&t!==void 0?t:{},P=CT();if(C!=="horizontal"&&C!=="vertical"||P==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:I,width:R,x:N,y:M}=P;return!B||!B.length?null:T.createElement(NAe,ju({},w,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,baseLine:k,connectNulls:l,dot:u,fill:f,fillOpacity:d,height:I,hide:m,layout:C,isAnimationActive:g==="auto"?!qp.isSsr:g,isRange:j,legendType:x,needClip:O,points:B,stroke:y,width:R,left:N,top:M,xAxisId:_,yAxisId:b}))}var RAe=(e,t,r,n,a)=>{var i=r??t;if(at(i))return i;var s=e==="horizontal"?a:n,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),f=Math.min(l[0],l[1]);return i==="dataMin"?f:i==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function PAe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:f,dataStartIndex:d,xAxisTicks:m,yAxisTicks:g,bandSize:x}=e,y=a&&a.length,_=RAe(i,s,r,l,u),b=i==="horizontal",w=!1,C=f.map((O,F)=>{var B,j,k;if(y)k=a[d+F];else{var P=Pr(O,n);Array.isArray(P)?(k=P,w=!0):k=[_,P]}var I=(B=(j=k)===null||j===void 0?void 0:j[1])!==null&&B!==void 0?B:null,R=I==null||y&&!t&&Pr(O,n)==null;return b?{x:Wj({axis:l,ticks:m,bandSize:x,entry:O,index:F}),y:R?null:u.scale(I),value:k,payload:O}:{x:R?null:l.scale(I),y:Wj({axis:u,ticks:g,bandSize:x,entry:O,index:F}),value:k,payload:O}}),S;return y||w?S=C.map(O=>{var F=Array.isArray(O.value)?O.value[0]:null;return b?{x:O.x,y:F!=null&&O.y!=null?u.scale(F):null,payload:O.payload}:{x:F!=null?l.scale(F):null,y:O.y,payload:O.payload}}):S=b?u.scale(_):l.scale(_),{points:C,baseLine:S,isRange:w}}function FAe(e){var t=Hn(e,NV),r=Ga();return T.createElement(ST,{id:t.id,type:"area"},n=>T.createElement(T.Fragment,null,T.createElement(hV,{legendPayload:EAe(t)}),T.createElement(SAe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),T.createElement(mV,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:uL(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),T.createElement(IAe,ju({},t,{id:n}))))}var aA=T.memo(FAe,ob);aA.displayName="Area";var BAe="Invariant failed";function MAe(e,t){throw new Error(BAe)}function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iA.apply(null,arguments)}function F1(e){return T.createElement(dV,iA({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var LAe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(at(t))return t;var i=at(n)||sn(n);return i?t(n,a):(i||MAe(),r)}},zAe=(e,t,r)=>r,UAe=(e,t)=>t,om=je([Qy,UAe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),VAe=je([om],e=>e?.maxBarSize),$Ae=(e,t,r,n)=>n,HAe=je([tr,Qy,bo,_o,zAe],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),qAe=(e,t,r)=>{var n=tr(e),a=bo(e,t),i=_o(e,t);if(!(a==null||i==null))return n==="horizontal"?C1(e,"yAxis",i,r):C1(e,"xAxis",a,r)},WAe=(e,t)=>{var r=tr(e),n=bo(e,t),a=_o(e,t);if(!(n==null||a==null))return r==="horizontal"?$I(e,"xAxis",n):$I(e,"yAxis",a)},GAe=je([HAe,p1e,WAe],NEe),KAe=(e,t,r)=>{var n,a,i=om(e,t);if(i!=null){var s=bo(e,t),l=_o(e,t);if(!(s==null||l==null)){var u=tr(e),f=Bz(e),{maxBarSize:d}=i,m=sn(d)?f:d,g,x;return u==="horizontal"?(g=kc(e,"xAxis",s,r),x=Tc(e,"xAxis",s,r)):(g=kc(e,"yAxis",l,r),x=Tc(e,"yAxis",l,r)),(n=(a=Of(g,x,!0))!==null&&a!==void 0?a:m)!==null&&n!==void 0?n:0}}},IV=(e,t,r)=>{var n=tr(e),a=bo(e,t),i=_o(e,t);if(!(a==null||i==null)){var s,l;return n==="horizontal"?(s=kc(e,"xAxis",a,r),l=Tc(e,"xAxis",a,r)):(s=kc(e,"yAxis",i,r),l=Tc(e,"yAxis",i,r)),Of(s,l)}},XAe=je([GAe,Bz,h1e,Mz,KAe,IV,VAe],BEe),YAe=(e,t,r)=>{var n=bo(e,t);if(n!=null)return kc(e,"xAxis",n,r)},QAe=(e,t,r)=>{var n=_o(e,t);if(n!=null)return kc(e,"yAxis",n,r)},ZAe=(e,t,r)=>{var n=bo(e,t);if(n!=null)return Tc(e,"xAxis",n,r)},JAe=(e,t,r)=>{var n=_o(e,t);if(n!=null)return Tc(e,"yAxis",n,r)},eCe=je([XAe,om],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),tCe=je([qAe,om],MEe),rCe=je([ea,e4,YAe,QAe,ZAe,JAe,eCe,tr,wz,IV,tCe,om,$Ae],(e,t,r,n,a,i,s,l,u,f,d,m,g)=>{var{chartData:x,dataStartIndex:y,dataEndIndex:_}=u;if(!(m==null||s==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||f==null)){var{data:b}=m,w;if(b!=null&&b.length>0?w=b:w=x?.slice(y,_+1),w!=null)return jCe({layout:l,barSettings:m,pos:s,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:w,offset:e,cells:g,dataStartIndex:y})}}),nCe=["index"];function sA(){return sA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sA.apply(null,arguments)}function aCe(e,t){if(e==null)return{};var r,n,a=iCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RV=T.createContext(void 0),sCe=e=>{var t=T.useContext(RV);if(t!=null)return t.stackId;if(e!=null)return uL(e)},oCe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),lCe=e=>{var t=T.useContext(RV);if(t!=null){var{stackId:r}=t;return"url(#".concat(oCe(r,e),")")}},cCe=e=>{var{index:t}=e,r=aCe(e,nCe),n=lCe(t);return T.createElement(Sn,sA({className:"recharts-bar-stack-layer",clipPath:n},r))},uCe=["onMouseEnter","onMouseLeave","onClick"],fCe=["value","background","tooltipPosition"],dCe=["id"],hCe=["onMouseEnter","onClick","onMouseLeave"];function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fl.apply(null,arguments)}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){pCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pCe(e,t,r){return(t=mCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mCe(e){var t=gCe(e,"string");return typeof t=="symbol"?t:t+""}function gCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B1(e,t){if(e==null)return{};var r,n,a=xCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vCe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Yf(r,t),payload:e}]},yCe=T.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:l,tooltipType:u,id:f}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Yf(i,t),hide:s,type:u,color:a,unit:l,graphicalItemId:f}};return T.createElement(ET,{tooltipEntrySettings:d})});function bCe(e){var t=dt(Dc),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:l,onClick:u}=i,f=B1(i,uCe),d=bT(s,n,i.id),m=_T(l),g=wT(u,n,i.id);if(!a||r==null)return null;var x=Lu(a);return T.createElement(_i,{zIndex:LEe(a,zn.barBackground)},r.map((y,_)=>{var{value:b,background:w,tooltipPosition:C}=y,S=B1(y,fCe);if(!w)return null;var O=d(y,_),F=m(y,_),B=g(y,_),j=Ja(Ja(Ja(Ja(Ja({option:a,isActive:String(_)===t},S),{},{fill:"#eee"},w),x),Lp(f,y,_)),{},{onMouseEnter:O,onMouseLeave:F,onClick:B,dataKey:n,index:_,className:"recharts-bar-background-rectangle"});return T.createElement(F1,fl({key:"background-bar-".concat(_)},j))}))}function _Ce(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var s={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Ja(Ja({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return T.createElement(nV,{value:t?a:void 0},r)}function wCe(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,l=dt(Dc),u=dt(cT),f=r&&String(i)===l&&(u==null||s===u),d=f?r:t;return f?T.createElement(_i,{zIndex:zn.activeBar},T.createElement(F1,fl({},n,{name:String(n.name)},a,{isActive:f,option:d,index:i,dataKey:s}))):T.createElement(F1,fl({},n,{name:String(n.name)},a,{isActive:f,option:d,index:i,dataKey:s}))}function ECe(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return T.createElement(F1,fl({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function SCe(e){var t,{data:r,props:n}=e,a=(t=yi(n))!==null&&t!==void 0?t:{},{id:i}=a,s=B1(a,dCe),{shape:l,dataKey:u,activeBar:f}=n,{onMouseEnter:d,onClick:m,onMouseLeave:g}=n,x=B1(n,hCe),y=bT(d,u,i),_=_T(g),b=wT(m,u,i);return r?T.createElement(T.Fragment,null,r.map((w,C)=>T.createElement(cCe,fl({index:C,key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(C),className:"recharts-bar-rectangle"},Lp(x,w,C),{onMouseEnter:y(w,C),onMouseLeave:_(w,C),onClick:b(w,C)}),f?T.createElement(wCe,{shape:l,activeBar:f,baseProps:s,entry:w,index:C,dataKey:u}):T.createElement(ECe,{shape:l,baseProps:s,entry:w,index:C,dataKey:u})))):null}function ACe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:f,onAnimationStart:d}=t,m=r.current,g=Gp(t,"recharts-bar-"),[x,y]=T.useState(!1),_=!x,b=T.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),w=T.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return T.createElement(_Ce,{showLabels:_,rects:n},T.createElement(Wp,{animationId:g,begin:s,duration:l,isActive:i,easing:u,onAnimationEnd:b,onAnimationStart:w,key:g},C=>{var S=C===1?n:n?.map((O,F)=>{var B=m&&m[F];if(B)return Ja(Ja({},O),{},{x:Gr(B.x,O.x,C),y:Gr(B.y,O.y,C),width:Gr(B.width,O.width,C),height:Gr(B.height,O.height,C)});if(a==="horizontal"){var j=Gr(0,O.height,C),k=Gr(O.stackedBarStart,O.y,C);return Ja(Ja({},O),{},{y:k,height:j})}var P=Gr(0,O.width,C),I=Gr(O.stackedBarStart,O.x,C);return Ja(Ja({},O),{},{width:P,x:I})});return C>0&&(r.current=S??null),S==null?null:T.createElement(Sn,null,T.createElement(SCe,{props:t,data:S}))}),T.createElement(gT,{label:t.label}),t.children)}function CCe(e){var t=T.useRef(null);return T.createElement(ACe,{previousRectanglesRef:t,props:e})}var PV=0,TCe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Pr(e,t)}};class kCe extends T.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:l,background:u,id:f}=this.props;if(t||r==null)return null;var d=fr("recharts-bar",a),m=f;return T.createElement(Sn,{className:d,id:f},l&&T.createElement("defs",null,T.createElement(SV,{clipPathId:m,xAxisId:i,yAxisId:s})),T.createElement(Sn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},T.createElement(bCe,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),T.createElement(CCe,this.props)))}}var DCe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:PV,xAxisId:0,yAxisId:0,zIndex:zn.bar};function OCe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d}=e,{needClip:m}=jT(t,r),g=s0(),x=Ga(),y=yT(e.children,Wu),_=dt(C=>rCe(C,e.id,x,y));if(g!=="vertical"&&g!=="horizontal")return null;var b,w=_?.[0];return w==null||w.height==null||w.width==null?b=0:b=g==="vertical"?w.height/2:w.width/2,T.createElement($Se,{xAxisId:t,yAxisId:r,data:_,dataPointFormatter:TCe,errorBarOffset:b},T.createElement(kCe,fl({},e,{layout:g,needClip:m,data:_,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d})))}function jCe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:l,xAxisTicks:u,yAxisTicks:f,stackedData:d,displayedData:m,offset:g,cells:x,parentViewBox:y,dataStartIndex:_}=e,b=t==="horizontal"?l:s,w=d?b.scale.domain():null,C=Yhe({numericAxis:b}),S=b.scale(C);return m.map((O,F)=>{var B,j,k,P,I,R;if(d){var N=d[F+_];if(N==null)return null;B=qhe(N,w)}else B=Pr(O,r),Array.isArray(B)||(B=[C,B]);var M=LAe(n,PV)(B[1],F);if(t==="horizontal"){var ce,[fe,ae]=[l.scale(B[0]),l.scale(B[1])];j=Gj({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:O,index:F}),k=(ce=ae??fe)!==null&&ce!==void 0?ce:void 0,P=a.size;var ie=fe-ae;if(I=ps(ie)?0:ie,R={x:j,y:g.top,width:P,height:g.height},Math.abs(M)>0&&Math.abs(I)<Math.abs(M)){var me=ma(I||M)*(Math.abs(M)-Math.abs(I));k-=me,I+=me}}else{var[be,de]=[s.scale(B[0]),s.scale(B[1])];if(j=be,k=Gj({axis:l,ticks:f,bandSize:i,offset:a.offset,entry:O,index:F}),P=de-be,I=a.size,R={x:g.left,y:k,width:g.width,height:I},Math.abs(M)>0&&Math.abs(P)<Math.abs(M)){var U=ma(P||M)*(Math.abs(M)-Math.abs(P));P+=U}}if(j==null||k==null||P==null||I==null)return null;var Z=Ja(Ja({},O),{},{stackedBarStart:S,x:j,y:k,width:P,height:I,value:d?B:B[1],payload:O,background:R,tooltipPosition:{x:j+P/2,y:k+I/2},parentViewBox:y},x&&x[F]&&x[F].props);return Z}).filter(Boolean)}function NCe(e){var t=Hn(e,DCe),r=sCe(t.stackId),n=Ga();return T.createElement(ST,{id:t.id,type:"bar"},a=>T.createElement(T.Fragment,null,T.createElement(hV,{legendPayload:vCe(t)}),T.createElement(yCe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),T.createElement(mV,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),T.createElement(_i,{zIndex:t.zIndex},T.createElement(OCe,fl({},t,{id:a})))))}var FV=T.memo(NCe,ob);FV.displayName="Bar";var ICe=["domain","range"],RCe=["domain","range"];function lP(e,t){if(e==null)return{};var r,n,a=PCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function BV(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=lP(e,ICe),{domain:i,range:s}=t,l=lP(t,RCe);return!cP(r,i)||!cP(n,s)?!1:ob(a,l)}var FCe=["dangerouslySetInnerHTML","ticks","scale"],BCe=["id","scale"];function oA(){return oA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oA.apply(null,arguments)}function uP(e,t){if(e==null)return{};var r,n,a=MCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LCe(e){var t=Vr(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?t(xEe(e)):r.current!==e&&t(vEe({prev:r.current,next:e})),r.current=e},[e,t]),T.useLayoutEffect(()=>()=>{r.current&&(t(yEe(r.current)),r.current=null)},[t]),null}var zCe=e=>{var{xAxisId:t,className:r}=e,n=dt(e4),a=Ga(),i="xAxis",s=dt(w=>gU(w,i,t,a)),l=dt(w=>dU(w,t)),u=dt(w=>dye(w,t)),f=dt(w=>Gz(w,t));if(l==null||u==null||f==null)return null;var{dangerouslySetInnerHTML:d,ticks:m,scale:g}=e,x=uP(e,FCe),{id:y,scale:_}=f,b=uP(f,BCe);return T.createElement(DT,oA({},x,b,{x:u.x,y:u.y,width:l.width,height:l.height,className:fr("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:s,axisType:i}))},UCe={allowDataOverflow:la.allowDataOverflow,allowDecimals:la.allowDecimals,allowDuplicatedCategory:la.allowDuplicatedCategory,angle:la.angle,axisLine:Jo.axisLine,height:la.height,hide:!1,includeHidden:la.includeHidden,interval:la.interval,minTickGap:la.minTickGap,mirror:la.mirror,orientation:la.orientation,padding:la.padding,reversed:la.reversed,scale:la.scale,tick:la.tick,tickCount:la.tickCount,tickLine:Jo.tickLine,tickSize:Jo.tickSize,type:la.type,xAxisId:0},VCe=e=>{var t=Hn(e,UCe);return T.createElement(T.Fragment,null,T.createElement(LCe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),T.createElement(zCe,t))},NT=T.memo(VCe,BV);NT.displayName="XAxis";var $Ce=["dangerouslySetInnerHTML","ticks","scale"],HCe=["id","scale"];function lA(){return lA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lA.apply(null,arguments)}function fP(e,t){if(e==null)return{};var r,n,a=qCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WCe(e){var t=Vr(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?t(bEe(e)):r.current!==e&&t(_Ee({prev:r.current,next:e})),r.current=e},[e,t]),T.useLayoutEffect(()=>()=>{r.current&&(t(wEe(r.current)),r.current=null)},[t]),null}var GCe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=T.useRef(null),s=T.useRef(null),l=dt(e4),u=Ga(),f=Vr(),d="yAxis",m=dt(B=>hU(B,t)),g=dt(B=>pye(B,t)),x=dt(B=>gU(B,d,t,u)),y=dt(B=>Kz(B,t));if(T.useLayoutEffect(()=>{if(!(n!=="auto"||!m||mT(a)||T.isValidElement(a)||y==null)){var B=i.current;if(B){var j=B.getCalculatedWidth();Math.round(m.width)!==Math.round(j)&&f(EEe({id:t,width:j}))}}},[x,m,f,a,t,n,y]),m==null||g==null||y==null)return null;var{dangerouslySetInnerHTML:_,ticks:b,scale:w}=e,C=fP(e,$Ce),{id:S,scale:O}=y,F=fP(y,HCe);return T.createElement(DT,lA({},C,F,{ref:i,labelRef:s,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:fr("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:x,axisType:d}))},KCe={allowDataOverflow:ca.allowDataOverflow,allowDecimals:ca.allowDecimals,allowDuplicatedCategory:ca.allowDuplicatedCategory,angle:ca.angle,axisLine:Jo.axisLine,hide:!1,includeHidden:ca.includeHidden,interval:ca.interval,minTickGap:ca.minTickGap,mirror:ca.mirror,orientation:ca.orientation,padding:ca.padding,reversed:ca.reversed,scale:ca.scale,tick:ca.tick,tickCount:ca.tickCount,tickLine:Jo.tickLine,tickSize:Jo.tickSize,type:ca.type,width:ca.width,yAxisId:0},XCe=e=>{var t=Hn(e,KCe);return T.createElement(T.Fragment,null,T.createElement(WCe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),T.createElement(GCe,t))},IT=T.memo(XCe,BV);IT.displayName="YAxis";var YCe=(e,t)=>t,RT=je([YCe,tr,qz,ra,NU,bl,Dbe,ea],Fbe),PT=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},MV=ms("mouseClick"),LV=Vp();LV.startListening({actionCreator:MV,effect:(e,t)=>{var r=e.payload,n=RT(t.getState(),PT(r));n?.activeIndex!=null&&t.dispatch(kye({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var cA=ms("mouseMove"),zV=Vp(),cx=null;zV.startListening({actionCreator:cA,effect:(e,t)=>{var r=e.payload;cx!==null&&cancelAnimationFrame(cx);var n=PT(r);cx=requestAnimationFrame(()=>{var a=t.getState(),i=nT(a,a.tooltip.settings.shared);if(i==="axis"){var s=RT(a,n);s?.activeIndex!=null?t.dispatch(SU({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(EU())}cx=null})}});function QCe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var dP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},UV=bi({name:"rootProps",initialState:dP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:dP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ZCe=UV.reducer,{updateOptions:JCe}=UV.actions,VV=bi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:e4e}=VV.actions,t4e=VV.reducer,$V=ms("keyDown"),HV=ms("focus"),FT=Vp();FT.startListening({actionCreator:$V,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=aT(a,id(r),rm(r),im(r)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=bl(r);if(i==="Enter"){var f=k1(r,"axis","hover",String(a.index));t.dispatch(ZS({active:!a.active,activeIndex:a.index,activeCoordinate:f}));return}var d=vye(r),m=d==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,x=l+g*m;if(!(u==null||x>=u.length||x<0)){var y=k1(r,"axis","hover",String(x));t.dispatch(ZS({active:!0,activeIndex:x.toString(),activeCoordinate:y}))}}}}}});FT.startListening({actionCreator:HV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=k1(r,"axis","hover",String(i));t.dispatch(ZS({active:!0,activeIndex:i,activeCoordinate:s}))}}}});var as=ms("externalEvent"),qV=Vp(),gE=new Map;qV.startListening({actionCreator:as,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=gE.get(a);i!==void 0&&cancelAnimationFrame(i);var s=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:pbe(l),activeDataKey:cT(l),activeIndex:Dc(l),activeLabel:PU(l),activeTooltipIndex:Dc(l),isTooltipActive:mbe(l)};r(u,n)}finally{gE.delete(a)}});gE.set(a,s)}}});var r4e=je([nd],e=>e.tooltipItemPayloads),n4e=je([r4e,am,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),WV=ms("touchMove"),GV=Vp();GV.startListening({actionCreator:WV,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=nT(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var s=RT(n,PT({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(SU({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(dL),m=(l=f.getAttribute(hL))!==null&&l!==void 0?l:void 0,g=ad(n).find(_=>_.id===m);if(d==null||g==null||m==null)return;var{dataKey:x}=g,y=n4e(n,d,m);t.dispatch(wU({activeDataKey:x,activeIndex:d,activeCoordinate:y,activeGraphicalItemId:m}))}}}});var a4e=I7({brush:zEe,cartesianAxis:SEe,chartData:h2e,errorBars:BSe,graphicalItems:Owe,layout:Lhe,legend:Gpe,options:l2e,polarAxis:H_e,polarOptions:t4e,referenceElements:GEe,rootProps:ZCe,tooltip:Dye,zIndex:Ybe}),i4e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return uhe({reducer:a4e,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([LV.middleware,zV.middleware,FT.middleware,qV.middleware,GV.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(K7({type:"raf"}))},devTools:{serialize:{replacer:QCe},name:"recharts-".concat(r)}})};function KV(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ga(),i=T.useRef(null);if(a)return r;i.current==null&&(i.current=i4e(t,n));var s=qC;return T.createElement(lAe,{context:s,store:i.current},r)}function s4e(e){var{layout:t,margin:r}=e,n=Vr(),a=Ga();return T.useEffect(()=>{a||(n(Fhe(t)),n(Phe(r)))},[n,a,t,r]),null}var XV=T.memo(s4e,ob);function YV(e){var t=Vr();return T.useEffect(()=>{t(JCe(e))},[t,e]),null}function hP(e){var{zIndex:t,isPanorama:r}=e,n=T.useRef(null),a=Vr();return T.useLayoutEffect(()=>(n.current&&a(Kbe({zIndex:t,element:n.current,isPanorama:r})),()=>{a(Xbe({zIndex:t,isPanorama:r}))}),[a,t,r]),T.createElement("g",{tabIndex:-1,ref:n})}function pP(e){var{children:t,isPanorama:r}=e,n=dt(Mbe);if(!n||n.length===0)return t;var a=n.filter(s=>s<0),i=n.filter(s=>s>0);return T.createElement(T.Fragment,null,a.map(s=>T.createElement(hP,{key:s,zIndex:s,isPanorama:r})),t,i.map(s=>T.createElement(hP,{key:s,zIndex:s,isPanorama:r})))}var o4e=["children"];function l4e(e,t){if(e==null)return{};var r,n,a=c4e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function c4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M1.apply(null,arguments)}var u4e={width:"100%",height:"100%",display:"block"},f4e=T.forwardRef((e,t)=>{var r=r4(),n=n4(),a=OL();if(!xo(r)||!xo(n))return null;var{children:i,otherAttributes:s,title:l,desc:u}=e,f,d;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0),T.createElement(PC,M1({},s,{title:l,desc:u,role:d,tabIndex:f,width:r,height:n,style:u4e,ref:t}),i)}),d4e=e=>{var{children:t}=e,r=dt(Ny);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return T.createElement(PC,{width:n,height:a,x:s,y:i},t)},mP=T.forwardRef((e,t)=>{var{children:r}=e,n=l4e(e,o4e),a=Ga();return a?T.createElement(d4e,null,T.createElement(pP,{isPanorama:!0},r)):T.createElement(f4e,M1({ref:t},n),T.createElement(pP,{isPanorama:!1},r))});function h4e(){var e=Vr(),[t,r]=T.useState(null),n=dt(rpe);return T.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Mr(i)&&i!==n&&e(Mhe(i))}},[t,e,n]),r}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p4e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){m4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m4e(e,t,r){return(t=g4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g4e(e){var t=x4e(e,"string");return typeof t=="symbol"?t:t+""}function x4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(null,arguments)}var v4e=()=>(w2e(),null);function L1(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var y4e=T.forwardRef((e,t)=>{var r,n,a=T.useRef(null),[i,s]=T.useState({containerWidth:L1((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:L1((n=e.style)===null||n===void 0?void 0:n.height)}),l=T.useCallback((f,d)=>{s(m=>{var g=Math.round(f),x=Math.round(d);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),u=T.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:d,height:m}=f.getBoundingClientRect();l(d,m);var g=y=>{var{width:_,height:b}=y[0].contentRect;l(_,b)},x=new ResizeObserver(g);x.observe(f),a.current=x}},[t,l]);return T.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[l]),T.createElement(T.Fragment,null,T.createElement(Ry,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Ku({ref:u},e)))}),b4e=T.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=T.useState({containerWidth:L1(r),containerHeight:L1(n)}),s=T.useCallback((u,f)=>{i(d=>{var m=Math.round(u),g=Math.round(f);return d.containerWidth===m&&d.containerHeight===g?d:{containerWidth:m,containerHeight:g}})},[]),l=T.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:d}=u.getBoundingClientRect();s(f,d)}},[t,s]);return T.createElement(T.Fragment,null,T.createElement(Ry,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",Ku({ref:l},e)))}),_4e=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return T.createElement(T.Fragment,null,T.createElement(Ry,{width:r,height:n}),T.createElement("div",Ku({ref:t},e)))}),w4e=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return il(r)||il(n)?T.createElement(b4e,Ku({},e,{ref:t})):T.createElement(_4e,Ku({},e,{ref:t}))});function E4e(e){return e===!0?y4e:w4e}var S4e=T.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:d,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:y,onTouchStart:_,style:b,width:w,responsive:C,dispatchTouchEvents:S=!0}=e,O=T.useRef(null),F=Vr(),[B,j]=T.useState(null),[k,P]=T.useState(null),I=h4e(),R=t4(),N=R?.width>0?R.width:w,M=R?.height>0?R.height:a,ce=T.useCallback(Q=>{I(Q),typeof t=="function"&&t(Q),j(Q),P(Q),Q!=null&&(O.current=Q)},[I,t,j,P]),fe=T.useCallback(Q=>{F(MV(Q)),F(as({handler:i,reactEvent:Q}))},[F,i]),ae=T.useCallback(Q=>{F(cA(Q)),F(as({handler:f,reactEvent:Q}))},[F,f]),ie=T.useCallback(Q=>{F(EU()),F(as({handler:d,reactEvent:Q}))},[F,d]),me=T.useCallback(Q=>{F(cA(Q)),F(as({handler:m,reactEvent:Q}))},[F,m]),be=T.useCallback(()=>{F(HV())},[F]),de=T.useCallback(Q=>{F($V(Q.key))},[F]),U=T.useCallback(Q=>{F(as({handler:s,reactEvent:Q}))},[F,s]),Z=T.useCallback(Q=>{F(as({handler:l,reactEvent:Q}))},[F,l]),te=T.useCallback(Q=>{F(as({handler:u,reactEvent:Q}))},[F,u]),W=T.useCallback(Q=>{F(as({handler:g,reactEvent:Q}))},[F,g]),xe=T.useCallback(Q=>{F(as({handler:_,reactEvent:Q}))},[F,_]),Te=T.useCallback(Q=>{S&&F(WV(Q)),F(as({handler:y,reactEvent:Q}))},[F,S,y]),Ne=T.useCallback(Q=>{F(as({handler:x,reactEvent:Q}))},[F,x]),X=E4e(C);return T.createElement($U.Provider,{value:B},T.createElement(X9.Provider,{value:k},T.createElement(X,{width:N??b?.width,height:M??b?.height,className:fr("recharts-wrapper",n),style:p4e({position:"relative",cursor:"default",width:N,height:M},b),onClick:fe,onContextMenu:U,onDoubleClick:Z,onFocus:be,onKeyDown:de,onMouseDown:te,onMouseEnter:ae,onMouseLeave:ie,onMouseMove:me,onMouseUp:W,onTouchEnd:Ne,onTouchMove:Te,onTouchStart:xe,ref:ce},T.createElement(v4e,null),r)))}),A4e=["width","height","responsive","children","className","style","compact","title","desc"];function C4e(e,t){if(e==null)return{};var r,n,a=T4e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QV=T.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:l,compact:u,title:f,desc:d}=e,m=C4e(e,A4e),g=yi(m);return u?T.createElement(T.Fragment,null,T.createElement(Ry,{width:r,height:n}),T.createElement(mP,{otherAttributes:g,title:f,desc:d},i)):T.createElement(S4e,{className:s,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},T.createElement(mP,{otherAttributes:g,title:f,desc:d,ref:t},T.createElement(XEe,null,i)))});function uA(){return uA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uA.apply(null,arguments)}var k4e={top:5,right:5,bottom:5,left:5},D4e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:k4e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ZV=T.forwardRef(function(t,r){var n,a=Hn(t.categoricalChartProps,D4e),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,d={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(KV,{preloadedState:{options:d},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},T.createElement(vV,{chartData:f.data}),T.createElement(XV,{layout:a.layout,margin:a.margin}),T.createElement(YV,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),T.createElement(QV,uA({},a,{ref:r})))}),O4e=["axis","item"],j4e=T.forwardRef((e,t)=>T.createElement(ZV,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:O4e,tooltipPayloadSearcher:pT,categoricalChartProps:e,ref:t}));function N4e(e){var t=Vr();return T.useEffect(()=>{t(e4e(e))},[t,e]),null}var I4e=["layout"];function fA(){return fA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fA.apply(null,arguments)}function R4e(e,t){if(e==null)return{};var r,n,a=P4e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var F4e={top:5,right:5,bottom:5,left:5},JV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:F4e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},B4e=T.forwardRef(function(t,r){var n,a=Hn(t.categoricalChartProps,JV),{layout:i}=a,s=R4e(a,I4e),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d}=t,m={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(KV,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},T.createElement(vV,{chartData:a.data}),T.createElement(XV,{layout:i,margin:a.margin}),T.createElement(YV,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),T.createElement(N4e,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),T.createElement(QV,fA({},s,{ref:r})))});function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){M4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M4e(e,t,r){return(t=L4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4e(e){var t=z4e(e,"string");return typeof t=="symbol"?t:t+""}function z4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U4e=["item"],V4e=vP(vP({},JV),{},{layout:"centric",startAngle:0,endAngle:360}),e$=T.forwardRef((e,t)=>{var r=Hn(e,V4e);return T.createElement(B4e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:U4e,tooltipPayloadSearcher:pT,categoricalChartProps:r,ref:t})}),$4e=["axis"],H4e=T.forwardRef((e,t)=>T.createElement(ZV,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$4e,tooltipPayloadSearcher:pT,categoricalChartProps:e,ref:t}));const dA=e=>{e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1)),r=Math.ceil(((e-t)/864e5+1)/7);return r},xE=(e,t,r,n=0)=>{const a=new Date(r);if(t==="week"){a.setDate(a.getDate()-n*7);const i=dA(a),s=a.getFullYear();return e.filter(l=>{const u=new Date(l.date);return dA(u)===i&&u.getFullYear()===s})}else{a.setMonth(a.getMonth()-n);const i=a.getMonth(),s=a.getFullYear();return e.filter(l=>{const u=new Date(l.date);return u.getMonth()===i&&u.getFullYear()===s})}},Y0=({title:e,breakdown:t,currency:r,isMini:n=!1})=>!t||t.length===0?n?h.jsxs("div",{className:"text-[10px] text-gray-700 italic mt-1 flex items-center gap-1 opacity-50",children:[h.jsx(hu,{size:10})," Sin arqueo"]}):null:n?h.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-1",children:[t.slice(0,4).map((a,i)=>h.jsxs("div",{className:"bg-white/10 px-1.5 py-0.5 rounded text-[8px] border border-white/5",children:[h.jsx("span",{className:"text-gray-400",children:a.denomination}),h.jsxs("span",{className:"font-bold text-orange-400 ml-1",children:["x",a.count]})]},i)),t.length>4&&h.jsx("span",{className:"text-[8px] text-gray-500 self-center",children:"..."})]}):h.jsxs("div",{className:"bg-black/20 rounded-lg p-2 border border-white/5 mt-2",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase block mb-1",children:e}),h.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:t.map((a,i)=>h.jsxs("div",{className:"flex justify-between text-[10px] border-b border-white/5 pb-0.5",children:[h.jsxs("span",{className:"text-gray-400",children:[r==="BS"?"Bs":"$"," ",a.denomination]}),h.jsxs("span",{className:"font-bold text-white",children:["x",a.count]})]},i))})]}),q4e=({label:e,nativeAmount:t,usdAmount:r,currency:n,color:a,formatAmount:i})=>h.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-white/5 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:a}}),h.jsx("span",{className:"font-medium text-gray-300",children:e})]}),h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsxs("span",{className:"font-bold text-white",children:[n==="BS"?"Bs":"$"," ",i(t,n)]}),n==="BS"&&h.jsxs("span",{className:"text-[10px] text-gray-500 font-medium whitespace-nowrap",children:["($ ",i(r,"$"),")"]})]})]}),W4e=()=>{const{currentUser:e}=Gf(),{data:t,updateData:r,updateExchangeRate:n,formatAmount:a}=Jn();console.log("--- Sistema POS v2.3.0 Active ---");const{confirm:i,alert:s}=$n(),l=e?.role==="admin",u=e?.role==="cashier"||e?.role==="manager";if(!e||!l&&!u)return h.jsx(yE,{to:"/",replace:!0});const{exchangeRate:f,cashRegister:d,sales:m}=t||{},g=T.useMemo(()=>Array.isArray(m)?m:[],[m]),[x,y]=T.useState(d.openingBalanceBs||0),[_,b]=T.useState(d.openingBalanceUsd||0),[w,C]=T.useState(d.withdrawalsBs||0),[S,O]=T.useState(d.withdrawalsUsd||0),[F,B]=T.useState(d.withdrawalComment||""),[j,k]=T.useState(d.closingBalanceBs||0),[P,I]=T.useState(d.closingBalanceUsd||0),[R,N]=T.useState(d.openingBreakdownBs||[]),[M,ce]=T.useState(d.openingBreakdownUsd||[]),[fe,ae]=T.useState(d.closingBreakdownBs||[]),[ie,me]=T.useState(d.closingBreakdownUsd||[]),[be,de]=T.useState(null),[U,Z]=T.useState(!1),[te,W]=T.useState(!1),[xe,Te]=T.useState("rates"),[Ne,X]=T.useState(f),[Q,ue]=T.useState(""),[q,K]=T.useState("week"),[H,ve]=T.useState(!1),[Fe,Se]=T.useState(!1),[Ge,He]=T.useState(!1),[Je,rt]=T.useState(!1),[tt,le]=T.useState(window.innerWidth<=768);Nr.useEffect(()=>{const J=()=>le(window.innerWidth<=768);return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]);const[_e,Qe]=T.useState(new Date),[Le,wt]=T.useState(!1),[vt,St]=T.useState(new Date(new Date().setDate(new Date().getDate()-7))),[Tt,Bt]=T.useState(!1);Nr.useEffect(()=>{d.isOpen?Se(!0):ve(!0)},[d.isOpen]);const[Xe,it]=T.useState(!1),[bt,ht]=T.useState("USD"),[Ot,mt]=T.useState("closing"),pn=(J,pe="closing")=>{ht(J),mt(pe),it(!0)},qn=(J,pe)=>{Ot==="opening"?bt==="BS"?(y(pe),N(J)):(b(pe),ce(J)):bt==="BS"?(k(pe),ae(J)):(I(pe),me(J)),it(!1)},aa=()=>{if(q==="week"){const J=dA(_e),pe=_e.getFullYear();return`Semana ${J} - ${pe}`}else return _e.toLocaleDateString("es-ES",{month:"long",year:"numeric"})},An=J=>{const pe=new Date(_e);q==="week"?pe.setDate(pe.getDate()+J*7):pe.setMonth(pe.getMonth()+J),Qe(pe)},ia=T.useMemo(()=>xE(g,q,_e,0),[g,q,_e]),hr=T.useMemo(()=>xE(g,q,_e,1),[g,q,_e]),$r=ia.reduce((J,pe)=>J+pe.total,0),nn=hr.reduce((J,pe)=>J+pe.total,0),Yr=nn===0?$r>0?100:0:($r-nn)/nn*100,sa=T.useMemo(()=>Le?xE(g,q,vt,0):[],[g,q,vt,Le]),Vi=T.useMemo(()=>{const J={},pe={};if(q==="week"){const ye=["Lun","Mar","Mie","Jue","Vie","Sab","Dom"];return ye.forEach(Ie=>{J[Ie]=0,pe[Ie]=0}),ia.forEach(Ie=>{const $e=new Date(Ie.date),Ze=$e.getDay()===0?6:$e.getDay()-1;J[ye[Ze]]+=Ie.total}),Le&&sa.forEach(Ie=>{const $e=new Date(Ie.date),Ze=$e.getDay()===0?6:$e.getDay()-1;pe[ye[Ze]]+=Ie.total}),ye.map(Ie=>({name:Ie,sales:J[Ie],comparison:Le?pe[Ie]:null}))}else{const ye=new Date(_e.getFullYear(),_e.getMonth()+1,0).getDate();for(let Ie=1;Ie<=ye;Ie++)J[Ie]=0,pe[Ie]=0;return ia.forEach(Ie=>{const $e=new Date(Ie.date);J[$e.getDate()]!==void 0&&(J[$e.getDate()]+=Ie.total)}),Le&&sa.forEach(Ie=>{const $e=new Date(Ie.date);pe[$e.getDate()]!==void 0&&(pe[$e.getDate()]+=Ie.total)}),Object.keys(J).map(Ie=>({name:Ie,sales:J[Ie],comparison:Le?pe[Ie]:null}))}},[ia,sa,q,_e,Le]),mn=T.useMemo(()=>{const J=new Date().toDateString();return g.filter(pe=>new Date(pe.date).toDateString()===J)},[g]),{methods:Pt,totalCashBs:ai,totalCashUsd:gn}=T.useMemo(()=>{const J={methods:{},totalCashBs:0,totalCashUsd:0};return mn.forEach(pe=>{if(pe.payments&&Array.isArray(pe.payments))pe.payments.forEach(ye=>{const Ie=ye.method,$e=ye.currency==="BS"?ye.amount/(ye.rate||f):ye.amount;J.methods[Ie]||(J.methods[Ie]={usd:0,native:0,currency:ye.currency}),J.methods[Ie].usd+=$e,J.methods[Ie].native+=ye.amount,ye.currency==="BS"?Ie.toLowerCase().includes("efectivo")&&(J.totalCashBs+=ye.amount):Ie.toLowerCase().includes("efectivo")&&(J.totalCashUsd+=ye.amount)});else{const ye=pe.paymentMethod||"Otros",Ie=ye.toLowerCase().includes("bs")||ye.toLowerCase().includes("pago mvil")||ye.toLowerCase().includes("punto"),$e=Ie?"BS":"USD",Ze=Ie?pe.total*(pe.exchangeRate||f):pe.total;J.methods[ye]||(J.methods[ye]={usd:0,native:0,currency:$e}),J.methods[ye].usd+=pe.total,J.methods[ye].native+=Ze,Ie?ye.toLowerCase().includes("efectivo")&&(J.totalCashBs+=Ze):ye.toLowerCase().includes("efectivo")&&(J.totalCashUsd+=pe.total)}}),J},[mn,f]),Sr=T.useMemo(()=>{const J={};return Object.values(Pt).forEach(pe=>{J[pe.currency]=(J[pe.currency]||0)+pe.native}),J},[Pt]);(Pt["Banplus (Punto)"]||0)+(Pt["Bancaribe (Punto)"]||0)+(Pt["Banesco (Punto)"]||0)+(Pt.Banplus||0)+(Pt.Bancaribe||0)+(Pt.Banesco||0)+(Pt["Punto de Venta"]||0)+(Pt.Punto||0)+(Pt["Otro Punto"]||0),(Pt["Pago movil Banesco PS"]||0)+(Pt["Pago Movil Banesco Raquel"]||0)+(Pt["Pago Movil BDV PS"]||0)+(Pt["Pago Movil Banplus"]||0)+(Pt["Pago Mvil"]||0),Pt.Zelle,Pt["Efectivo Bs"],Pt["USD ($)"]||Pt.usd;const an=T.useMemo(()=>{const J=t.paymentMethods||[],pe=Object.entries(Pt).map(([ye,Ie])=>{const $e=J.find(Ze=>Ze.name===ye);return{name:ye,value:Ie.usd,color:$e?.color||"#3b82f6"}}).filter(ye=>ye.value>0);return pe.length>0?pe:[{name:"Sin Ventas",value:1,color:"rgba(255,255,255,0.05)"}]},[Pt,t.paymentMethods]),Wn=mn.reduce((J,pe)=>J+pe.total,0),Ar=x+ai-w,G=_+gn-S,oe=j-Ar,ee=P-G,re=async()=>{r("cashRegister",{...d,openingBalanceBs:parseFloat(x)||0,openingBalanceUsd:parseFloat(_)||0,openingBreakdownBs:R,openingBreakdownUsd:M,isOpen:!0,openingTime:d.isOpen?d.openingTime:new Date().toISOString()}),await s({title:"xito",message:"Fondo de apertura guardado."})},se=async()=>{r("cashRegister",{...d,withdrawalsBs:parseFloat(w)||0,withdrawalsUsd:parseFloat(S)||0,withdrawalComment:F}),await s({title:"xito",message:"Movimientos guardados."})},he=async()=>{if(!await i({title:"Cerrar Caja",message:"Ests seguro de cerrar la caja? Esto finalizar el turno actual."}))return;const pe={id:window.crypto.randomUUID(),openingTime:d.openingTime,closingTime:new Date().toISOString(),openingBalanceBs:d.openingBalanceBs,openingBalanceUsd:d.openingBalanceUsd,openingBreakdownBs:d.openingBreakdownBs||[],openingBreakdownUsd:d.openingBreakdownUsd||[],closingBalanceBs:parseFloat(j)||0,closingBalanceUsd:parseFloat(P)||0,closingBreakdownBs:fe,closingBreakdownUsd:ie,expectedCashBs:Ar,expectedCashUsd:G,differenceBs:(parseFloat(j)||0)-Ar,differenceUsd:(parseFloat(P)||0)-G,salesCount:mn.length,totalSalesUsd:Wn},ye=[pe,...t.cashRegisterHistory||[]];r("cashRegisterHistory",ye),r("cashRegister",{...d,closingBalanceBs:parseFloat(j)||0,closingBalanceUsd:parseFloat(P)||0,closingBreakdownBs:fe,closingBreakdownUsd:ie,closingTime:pe.closingTime,status:"closed",isOpen:!1}),await s({title:"xito",message:"Caja cerrada exitosamente y guardada en el historial."})},Ce=()=>{n(Ne),Z(!1)},Me=async()=>{rt(!0);try{const pe=localStorage.getItem("pos_server_url")||`http://${window.location.hostname}:3001`,ye=await fetch(`${pe}/api/bcv-rate`);if(ye.ok){const Ie=await ye.json();Ie&&Ie.promedio&&X(Ie.promedio.toFixed(2))}else throw new Error("API Error")}catch(J){console.error("Error fetching BCV rate:",J),await s({title:"Error",message:"No se pudo conectar con el BCV. Verifique su internet."})}finally{rt(!1)}};return h.jsxs("div",{className:"cr-container fade-in p-4 md:p-6 pb-24 max-w-[1400px] mx-auto min-h-screen",children:[h.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-lg md:text-2xl font-bold text-white flex items-center gap-2",children:[h.jsx("div",{className:"bg-orange-600 p-1 rounded-lg",children:h.jsx(hu,{className:"text-white",size:tt?18:24})}),"Control de Caja"]}),!tt&&h.jsx("p",{className:"text-gray-400 text-xs md:text-sm mt-1",children:"Gestin de flujo de efectivo y mtricas diarias"})]}),h.jsxs("div",{className:`flex items-center gap-2 ${tt?"w-full":"auto"}`,children:[h.jsxs("button",{onClick:()=>Z(!0),className:"glass-panel px-3 py-1.5 flex items-center gap-2 hover:bg-white/5 transition-colors group cursor-pointer flex-1",children:[h.jsxs("div",{className:"flex flex-col items-start",children:[h.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider",children:"Tasa Actual"}),h.jsxs("span",{className:"text-sm font-bold text-green-400 group-hover:text-green-300 transition-colors",children:[f," Bs"]})]}),h.jsx(XP,{size:12,className:"text-gray-500 group-hover:text-white transition-colors ml-auto"})]}),l&&h.jsx("button",{onClick:()=>W(!0),className:"glass-button flex items-center justify-center p-3 rounded-xl aspect-square",title:"Ver historial",children:h.jsx(f_,{size:20})})]})]}),h.jsxs("div",{className:`grid gap-3 mb-6 ${tt?"grid-cols-2":"grid-cols-3"}`,children:[h.jsxs("div",{className:`glass-panel p-3 flex flex-col justify-between ${tt?"h-26 col-span-2 order-first":"h-28"} relative overflow-hidden group border-t-2 border-t-green-500`,children:[!tt&&h.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(TE,{size:64,className:"text-green-500"})}),h.jsxs("div",{className:"z-10 flex justify-between items-start",children:[h.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Efectivo en Caja (Terico)"}),h.jsx(TE,{size:14,className:"text-green-500/50"})]}),h.jsxs("div",{className:"flex justify-between items-end z-10",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-2xl font-bold text-white mb-0.5",children:a(G,"$")}),h.jsx(Y0,{title:"Billetes USD",breakdown:M,currency:"USD",isMini:!0}),h.jsx("div",{className:"text-[9px] text-gray-500 font-bold mt-1 uppercase tracking-tighter",children:"EFECTIVO USD"})]}),h.jsxs("div",{className:"text-right flex-1",children:[h.jsx("div",{className:"text-xl font-bold text-gray-300 mb-0.5",children:a(Ar,"Bs")}),h.jsx(Y0,{title:"Billetes Bs",breakdown:R,currency:"BS",isMini:!0}),h.jsx("div",{className:"text-[9px] text-gray-500 font-bold mt-1 uppercase tracking-tighter",children:"EFECTIVO BS"})]})]})]}),h.jsxs("div",{className:`glass-panel p-3 flex flex-col justify-between ${tt?"h-24":"h-28"} relative overflow-hidden group`,children:[!tt&&h.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(_h,{size:64,className:"text-orange-500"})}),h.jsxs("div",{className:"flex justify-between items-start z-10",children:[h.jsxs("div",{children:[h.jsxs("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider",children:["Ventas ",q==="week"?"Sem":"Mes"]}),h.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:h.jsx("h2",{className:`${tt?"text-xl":"text-3xl"} font-bold text-white`,children:a($r,"$")})})]}),l&&!tt&&h.jsxs("div",{className:"flex bg-black/40 rounded-lg p-0.5",children:[h.jsx("button",{onClick:()=>K("week"),className:`px-2 py-1 text-[10px] font-bold rounded-md transition-colors ${q==="week"?"bg-orange-600 text-white":"text-gray-500 hover:text-gray-300"}`,children:"SEM"}),h.jsx("button",{onClick:()=>K("month"),className:`px-2 py-1 text-[10px] font-bold rounded-md transition-colors ${q==="month"?"bg-orange-600 text-white":"text-gray-500 hover:text-gray-300"}`,children:"MES"})]})]}),h.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-medium ${Yr>=0?"text-green-400":"text-red-400"} z-10`,children:[Yr>=0?h.jsx(d_,{size:10}):h.jsx(d_,{size:10,className:"rotate-180"}),h.jsxs("span",{children:[Math.abs(Yr).toFixed(0),"%"]})]})]}),h.jsxs("div",{className:`glass-panel p-3 flex flex-col justify-between ${tt?"h-24":"h-28"} relative overflow-hidden group`,children:[!tt&&h.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(f_,{size:64,className:"text-purple-500"})}),h.jsxs("div",{className:"z-10",children:[h.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider",children:"Ventas de Hoy"}),h.jsx("div",{className:"flex items-baseline gap-2 mt-0.5",children:h.jsx("h2",{className:`${tt?"text-xl":"text-3xl"} font-bold text-white`,children:a(Wn,"$")})})]}),h.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-400 z-10",children:[h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),h.jsx("span",{className:"font-bold text-gray-300",children:mn.length})," ",h.jsx("span",{className:"opacity-50",children:"Trans."})]})]})]}),h.jsxs("div",{className:"manual-grid-3 gap-6 mb-6",children:[h.jsxs("div",{className:"glass-panel flex flex-col h-full border-t-4 border-t-orange-500 overflow-hidden transition-all duration-300",children:[h.jsxs("div",{className:"bg-white/5 p-3 flex justify-between items-center border-b border-white/5 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>ve(!H),children:[h.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[h.jsx("div",{className:`transition-transform duration-300 ${H?"rotate-180":""}`,children:h.jsx(Tg,{size:16,className:"text-orange-400"})}),h.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-orange-500/20 text-orange-400 text-xs font-bold",children:"1"}),"Apertura de Caja"]}),H&&h.jsx("button",{onClick:J=>{J.stopPropagation(),re()},className:"p-1.5 rounded-md bg-orange-500/20 text-orange-400 hover:bg-orange-500 hover:text-white transition-all animate-in fade-in",title:"Guardar Apertura",children:h.jsx(Uh,{size:16})})]}),H&&h.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200",children:[h.jsxs("div",{className:"p-4 space-y-4 flex-1",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-gray-400 uppercase font-bold mb-1.5 block tracking-wider",children:"Fondo Inicial en Bs"}),h.jsxs("div",{className:"relative group flex gap-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-bold group-focus-within:text-orange-400 transition-colors",children:"Bs"}),h.jsx("input",{type:"number",className:"glass-input w-full pl-9 py-2 text-sm font-bold bg-black/20 focus:bg-black/40 transition-all border-white/10 focus:border-orange-500",value:x===0?"":x,onChange:J=>y(parseFloat(J.target.value)||0),placeholder:"0.00"})]}),h.jsxs("button",{onClick:()=>pn("BS","opening"),className:"w-12 h-10 flex flex-col items-center justify-center rounded-lg bg-orange-500 text-white hover:bg-orange-600 transition-all border border-orange-400 shadow-lg shadow-orange-500/40 relative overflow-hidden group",title:"Desglose de Apertura (Bs)",children:[h.jsx(hu,{size:16}),h.jsx("span",{className:"text-[7px] font-black uppercase leading-none mt-0.5",children:"NUEVO"}),h.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse pointer-events-none"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-gray-400 uppercase font-bold mb-1.5 block tracking-wider",children:"Fondo Inicial en USD"}),h.jsxs("div",{className:"relative group flex gap-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-bold group-focus-within:text-green-400 transition-colors",children:"$"}),h.jsx("input",{type:"number",className:"glass-input w-full pl-9 py-2 text-sm font-bold bg-black/20 focus:bg-black/40 transition-all border-white/10 focus:border-green-500",value:_===0?"":_,onChange:J=>b(parseFloat(J.target.value)||0),placeholder:"0.00"})]}),h.jsxs("button",{onClick:()=>pn("USD","opening"),className:"w-12 h-10 flex flex-col items-center justify-center rounded-lg bg-orange-500 text-white hover:bg-orange-600 transition-all border border-orange-400 shadow-lg shadow-orange-500/40 relative overflow-hidden group",title:"Desglose de Apertura (USD)",children:[h.jsx(hu,{size:16}),h.jsx("span",{className:"text-[7px] font-black uppercase leading-none mt-0.5",children:"NUEVO"}),h.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse pointer-events-none"})]})]})]})]}),h.jsx("div",{className:"p-3 bg-black/20 border-t border-white/5",children:h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-gray-500",children:"Total Apertura"}),h.jsx("span",{className:"text-gray-300 font-bold bg-white/5 px-2 py-0.5 rounded",children:a(_+x/f,"$")})]})})]})]}),h.jsxs("div",{className:"glass-panel flex flex-col h-full border-t-4 border-t-orange-500 overflow-hidden transition-all duration-300",children:[h.jsxs("div",{className:"bg-white/5 p-3 flex justify-between items-center border-b border-white/5 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>Se(!Fe),children:[h.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[h.jsx("div",{className:`transition-transform duration-300 ${Fe?"rotate-180":""}`,children:h.jsx(Tg,{size:16,className:"text-orange-400"})}),h.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-orange-500/20 text-orange-400 text-xs font-bold",children:"2"}),"Movimientos"]}),Fe&&h.jsx("button",{onClick:J=>{J.stopPropagation(),se()},className:"p-1.5 rounded-md bg-orange-500/20 text-orange-400 hover:bg-orange-500 hover:text-white transition-all animate-in fade-in",title:"Guardar Movimientos",children:h.jsx(Uh,{size:16})})]}),Fe&&h.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200",children:[h.jsxs("div",{className:"p-4 space-y-4 flex-1",children:[h.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/5",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Ventas Efectivo"}),h.jsxs("span",{className:"text-green-400 font-bold text-sm",children:["+",a(gn+ai/f,"$")]})]}),h.jsxs("div",{className:"flex justify-end gap-3 text-[10px] text-gray-500",children:[h.jsx("span",{children:a(ai,"Bs")}),h.jsx("span",{children:a(gn,"$")})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-red-400 uppercase font-bold mb-1.5 block",children:"Retiros Bs"}),h.jsx("input",{type:"number",className:"glass-input w-full px-3 py-2 text-xs text-right font-bold text-red-300 border-red-500/20 focus:border-red-500 bg-red-500/5 placeholder-red-800/50",placeholder:"0.00",value:w===0?"":w,onChange:J=>C(parseFloat(J.target.value)||0)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-red-400 uppercase font-bold mb-1.5 block",children:"Retiros $"}),h.jsx("input",{type:"number",className:"glass-input w-full px-3 py-2 text-xs text-right font-bold text-red-300 border-red-500/20 focus:border-red-500 bg-red-500/5 placeholder-red-800/50",placeholder:"0.00",value:S===0?"":S,onChange:J=>O(parseFloat(J.target.value)||0)})]})]}),h.jsx("input",{type:"text",className:"glass-input w-full px-3 py-2 text-xs border-dashed border-gray-700 focus:border-orange-500 transition-colors",placeholder:"Comentario (ej: Compra de Hielo)",value:F,onChange:J=>B(J.target.value)})]}),h.jsx("div",{className:"p-3 bg-black/20 border-t border-white/5",children:h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-gray-500 font-bold uppercase",children:"Esperado en Caja"}),h.jsx("span",{className:"text-white font-bold bg-orange-600/20 text-orange-300 border border-orange-500/30 px-2 py-0.5 rounded",children:a(G+Ar/f,"$")})]})})]})]}),h.jsxs("div",{className:"glass-panel flex flex-col h-full border-t-4 border-t-purple-500 overflow-hidden transition-all duration-300",children:[h.jsxs("div",{className:"bg-white/5 p-3 flex justify-between items-center border-b border-white/5 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>He(!Ge),children:[h.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[h.jsx("div",{className:`transition-transform duration-300 ${Ge?"rotate-180":""}`,children:h.jsx(Tg,{size:16,className:"text-purple-400"})}),h.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-purple-500/20 text-purple-400 text-xs font-bold",children:"3"}),"Cierre y Arqueo"]}),Ge&&h.jsxs("button",{onClick:J=>{J.stopPropagation(),he()},className:"px-3 py-1.5 rounded-md bg-red-500 text-white hover:bg-red-600 transition-all text-xs font-bold shadow-lg shadow-red-500/20 flex items-center gap-2 animate-in fade-in",children:[h.jsx(Ep,{size:14})," Cerrar Turno"]})]}),Ge&&h.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200",children:h.jsxs("div",{className:"p-4 space-y-4 flex-1",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-purple-300 uppercase font-bold mb-1.5 block",children:"Total Efectivo Bs"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"number",className:"glass-input flex-1 py-2 px-3 text-lg font-bold border-purple-500/30 focus:border-purple-500 text-right bg-purple-500/5",placeholder:"0.00",value:j===0?"":j,onChange:J=>k(parseFloat(J.target.value)||0)}),h.jsxs("button",{onClick:()=>pn("BS"),className:"w-14 h-11 flex flex-col items-center justify-center rounded-lg bg-orange-600 text-white hover:bg-orange-500 transition-all border border-orange-400 shadow-md shadow-orange-500/30 relative overflow-hidden group",title:"Arqueo de Billetes (Bs)",children:[h.jsx(hu,{size:18}),h.jsx("span",{className:"text-[8px] font-black uppercase mt-0.5",children:"ARQUEO"}),h.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse pointer-events-none"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-green-300 uppercase font-bold mb-1.5 block",children:"Total Efectivo USD"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"number",className:"glass-input flex-1 py-2 px-3 text-lg font-bold border-green-500/30 focus:border-green-500 text-right bg-green-500/5",placeholder:"0.00",value:P===0?"":P,onChange:J=>I(parseFloat(J.target.value)||0)}),h.jsxs("button",{onClick:()=>pn("USD"),className:"w-14 h-11 flex flex-col items-center justify-center rounded-lg bg-orange-600 text-white hover:bg-orange-500 transition-all border border-orange-400 shadow-md shadow-orange-500/30 relative overflow-hidden group",title:"Arqueo de Billetes (USD)",children:[h.jsx(hu,{size:18}),h.jsx("span",{className:"text-[8px] font-black uppercase mt-0.5",children:"ARQUEO"}),h.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse pointer-events-none"})]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[h.jsxs("div",{className:`rounded-lg border p-2 text-center transition-all duration-300 ${Math.abs(oe)<1?"border-green-500/30 bg-green-500/10":"border-red-500/30 bg-red-500/10"}`,children:[h.jsx("span",{className:"text-[10px] text-gray-400 uppercase block mb-1",children:"Dif. Bs"}),h.jsxs("span",{className:`text-sm font-bold ${Math.abs(oe)<1?"text-green-400":"text-red-400"}`,children:[oe>0?"+":"",a(oe,"Bs")]})]}),h.jsxs("div",{className:`rounded-lg border p-2 text-center transition-all duration-300 ${Math.abs(ee)<.1?"border-green-500/30 bg-green-500/10":"border-red-500/30 bg-red-500/10"}`,children:[h.jsx("span",{className:"text-[10px] text-gray-400 uppercase block mb-1",children:"Dif. $"}),h.jsxs("span",{className:`text-sm font-bold ${Math.abs(ee)<.1?"text-green-400":"text-red-400"}`,children:[ee>0?"+":"",a(ee,"$")]})]})]})]})})]})]}),h.jsxs("div",{className:"manual-grid-2 gap-6 pb-6",children:[h.jsxs("div",{className:"glass-panel p-4 chart-container-manual",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-gray-400 font-bold text-xs flex items-center gap-2 uppercase tracking-wider",children:[h.jsx(d_,{size:16,className:"text-orange-500"})," Tendencia de Ventas"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>wt(!Le),className:`p-1.5 rounded-md transition-all ${Le?"bg-purple-500/20 text-purple-400":"bg-white/5 text-gray-500 hover:text-white"}`,title:"Comparar con otra fecha",children:h.jsx(gc,{size:14,className:Le?"":"opacity-50"})}),h.jsx("button",{onClick:()=>Bt(!Tt),className:`p-1.5 rounded-md transition-all ${Tt?"bg-orange-500/20 text-orange-400":"bg-white/5 text-gray-500 hover:text-white"}`,title:"Seleccionar fecha especfica",children:h.jsx(f_,{size:14})}),h.jsxs("div",{className:"flex items-center gap-1 bg-black/40 rounded-full px-2 py-1 border border-white/5",children:[h.jsx("button",{onClick:()=>An(-1),className:"p-1 hover:text-white text-gray-500 transition-colors",children:h.jsx($P,{size:14})}),h.jsx("span",{className:"text-[10px] font-mono text-gray-300 w-24 text-center",children:aa()}),h.jsx("button",{onClick:()=>An(1),className:"p-1 hover:text-white text-gray-500 transition-colors",children:h.jsx(HP,{size:14})})]})]})]}),Tt&&h.jsxs("div",{className:"mb-4 p-3 bg-black/20 rounded-lg border border-white/5 flex flex-wrap gap-4 items-end fade-in",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-gray-400 uppercase font-bold block mb-1",children:"Fecha Principal"}),h.jsx("input",{type:"date",value:_e.toISOString().split("T")[0],onChange:J=>{const pe=new Date(J.target.value),ye=pe.getTimezoneOffset()*6e4;Qe(new Date(pe.getTime()+ye))},className:"glass-input py-1 px-2 text-xs"})]}),Le&&h.jsxs("div",{className:"fade-in",children:[h.jsx("label",{className:"text-[10px] text-purple-400 uppercase font-bold block mb-1",children:"Comparar con"}),h.jsx("input",{type:"date",value:vt.toISOString().split("T")[0],onChange:J=>{const pe=new Date(J.target.value),ye=pe.getTimezoneOffset()*6e4;St(new Date(pe.getTime()+ye))},className:"glass-input py-1 px-2 text-xs border-purple-500/30 focus:border-purple-500"})]})]}),h.jsx("div",{className:"flex-1 w-full min-h-0 h-[400px]",children:h.jsx(s1,{width:"100%",height:"100%",children:h.jsxs(H4e,{data:Vi,children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]}),h.jsxs("linearGradient",{id:"colorComparison",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#a855f7",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#a855f7",stopOpacity:0})]})]}),h.jsx(OT,{strokeDasharray:"3 3",vertical:!1}),h.jsx(NT,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10},dy:10}),h.jsx(IT,{axisLine:!1,tickLine:!1,tick:{fontSize:10},tickFormatter:J=>`$${J}`}),h.jsx(D1,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",borderRadius:"8px"},itemStyle:{color:"#e5e7eb",fontSize:"12px"},labelStyle:{color:"#9ca3af",fontSize:"10px",marginBottom:"4px"}}),h.jsx(DL,{}),h.jsx(aA,{type:"monotone",dataKey:"sales",name:"Ventas Actuales",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)"}),Le&&h.jsx(aA,{type:"monotone",dataKey:"comparison",name:"Comparacin",stroke:"#a855f7",strokeWidth:2,strokeDasharray:"5 5",fillOpacity:1,fill:"url(#colorComparison)"})]})})})]}),h.jsxs("div",{className:"glass-panel p-0 flex flex-col h-full overflow-hidden",children:[h.jsxs("div",{className:"p-4 border-b border-white/5 bg-white/5 flex justify-between items-center",children:[h.jsxs("h3",{className:"text-gray-400 font-bold text-xs uppercase tracking-wider flex items-center gap-2",children:[h.jsx(zf,{size:16,className:"text-purple-500"})," Desglose de Ventas (Hoy)"]}),h.jsxs("span",{className:"text-xs font-bold text-white bg-black/40 px-2 py-1 rounded-md border border-white/5",children:["Total: ",Object.entries(Sr).map(([J,pe],ye)=>h.jsxs("span",{children:[J==="BS"?"Bs ":"$ ",a(pe,J),ye<Object.keys(Sr).length-1?" + ":""]},J)),h.jsxs("span",{className:"ml-2 text-gray-500 font-medium",children:[" $",a(Wn,"$")]})]})]}),h.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2",children:[h.jsx("div",{className:"p-4 space-y-4 border-b md:border-b-0 md:border-r border-white/5 overflow-y-auto custom-scrollbar max-h-[300px]",children:Object.entries(Pt).map(([J,pe])=>{const ye=(t.paymentMethods||[]).find(Ie=>Ie.name===J);return h.jsx(q4e,{label:J,nativeAmount:pe.native,usdAmount:pe.usd,currency:pe.currency,color:ye?.color||"#3b82f6",formatAmount:a},J)})}),h.jsxs("div",{className:"p-4 flex flex-col items-center justify-center bg-black/10",children:[h.jsx("div",{className:"pie-chart-container",children:h.jsx(s1,{width:"100%",height:"100%",children:h.jsxs(e$,{children:[h.jsx(AT,{data:an,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:4,dataKey:"value",children:an.map((J,pe)=>h.jsx(Wu,{fill:J.color,stroke:"rgba(0,0,0,0.5)",strokeWidth:2},`cell-${pe}`))}),h.jsx(D1,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",fontSize:"11px",padding:"8px",borderRadius:"8px"},formatter:J=>a(J,"$"),itemStyle:{color:"#fff"}})]})})}),h.jsx("div",{className:"text-center mt-2",children:h.jsx("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-widest",children:"Distribucin"})})]})]})]})]}),h.jsx(Ir,{isOpen:U,onClose:()=>Z(!1),title:"Actualizar Tasa de Cambio",children:h.jsxs("div",{className:"space-y-4 pt-2",children:[h.jsxs("button",{onClick:Me,disabled:Je,className:"w-full py-2 mb-2 bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/30 text-blue-400 font-bold rounded-lg flex items-center justify-center gap-2 transition-all text-xs uppercase tracking-wider",children:[h.jsx(gc,{size:14,className:Je?"animate-spin":""}),Je?"Consultando BCV...":"Sincronizar con BCV"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-400 font-bold uppercase mb-2 block",children:"Nueva Tasa (Bs/$)"}),h.jsx("input",{type:"number",className:"glass-input w-full text-center text-2xl font-bold py-3 text-green-400 focus:border-green-500",value:Ne,onChange:J=>X(J.target.value),autoFocus:!0})]}),h.jsx("button",{onClick:Ce,className:"w-full py-3 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded-lg transition-all shadow-lg shadow-orange-600/20",children:"Confirmar Cambio"})]})]})}),h.jsx(Ir,{isOpen:te,onClose:()=>W(!1),title:"Historial del Sistema",children:h.jsxs("div",{className:"flex flex-col h-full max-h-[75vh]",children:[h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>Te("rates"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${xe==="rates"?"bg-orange-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"TASAS DE CAMBIO"}),h.jsx("button",{onClick:()=>Te("closures"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${xe==="closures"?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"CIERRES DE CAJA"})]})}),h.jsx("div",{className:"mb-4",children:h.jsx("input",{type:"text",placeholder:`Buscar en ${xe==="rates"?"tasas":"cierres"}...`,className:"glass-input w-full pl-4 py-2 text-sm",value:Q,onChange:J=>ue(J.target.value)})}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-2",children:xe==="rates"?t.rateHistory&&t.rateHistory.length>0?t.rateHistory.filter(J=>{if(!Q)return!0;const pe=Q.toLowerCase();return new Date(J.date).toLocaleDateString().includes(pe)||J.rate.toString().includes(pe)}).map((J,pe)=>h.jsxs("div",{className:"bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-colors flex justify-between items-center border border-white/5",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-gray-400 font-mono",children:new Date(J.date).toLocaleString()}),h.jsxs("div",{className:"text-lg font-bold text-green-400 mt-0.5",children:[J.rate.toFixed(2)," Bs/$"]})]}),pe<t.rateHistory.length-1&&h.jsx("div",{className:"text-xs",children:(()=>{const ye=J.rate-t.rateHistory[pe+1].rate,Ie=ye>0;return h.jsxs("span",{className:`font-bold px-2 py-1 rounded ${Ie?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:[Ie?"":""," ",Math.abs(ye).toFixed(2)]})})()})]},J.id)):h.jsxs("div",{className:"text-center text-gray-500 py-12 flex flex-col items-center gap-3",children:[h.jsx("div",{className:"p-3 bg-white/5 rounded-full",children:h.jsx(EE,{size:32,className:"opacity-50"})}),"No hay historial de tasas disponible"]}):t.cashRegisterHistory&&t.cashRegisterHistory.length>0?t.cashRegisterHistory.filter(J=>{if(!Q)return!0;const pe=Q.toLowerCase();return new Date(J.closingTime).toLocaleDateString().includes(pe)||J.totalSalesUsd.toString().includes(pe)}).map(J=>h.jsxs("div",{className:`bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors border border-white/5 cursor-pointer ${be===J.id?"ring-1 ring-purple-500":""}`,onClick:()=>de(be===J.id?null:J.id),children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-purple-400 font-bold uppercase tracking-widest",children:"Cierre de Caja"}),h.jsx("div",{className:"text-sm font-bold text-white",children:new Date(J.closingTime).toLocaleString()})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[60px] p-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/20 transition-all",children:[h.jsx("div",{className:`transition-transform duration-300 ${be===J.id?"rotate-180":""}`,children:h.jsx(Tg,{size:20,className:"text-purple-400"})}),h.jsx("span",{className:"text-[8px] text-gray-500 font-bold mt-1 uppercase",children:"DETALLES"})]}),h.jsxs("div",{className:"text-right flex-1",children:[h.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-tighter",children:"Ventas Totales"}),h.jsxs("div",{className:"text-lg font-bold text-green-400",children:["$",J.totalSalesUsd.toFixed(2)]})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 py-2 border-t border-white/5 mt-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Transacciones"}),h.jsx("div",{className:"font-bold text-xs",children:J.salesCount})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Efectivo Bs"}),h.jsxs("div",{className:`font-bold text-xs ${J.differenceBs!==0?"text-orange-400":"text-gray-300"}`,children:[J.closingBalanceBs.toFixed(2),J.differenceBs!==0&&h.jsxs("span",{className:"ml-1 text-[8px] opacity-70",children:["(",J.differenceBs>0?"+":"",J.differenceBs.toFixed(2),")"]})]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Efectivo USD"}),h.jsxs("div",{className:`font-bold text-xs ${J.differenceUsd!==0?"text-orange-400":"text-gray-300"}`,children:[J.closingBalanceUsd.toFixed(2),J.differenceUsd!==0&&h.jsxs("span",{className:"ml-1 text-[8px] opacity-70",children:["(",J.differenceUsd>0?"+":"",J.differenceUsd.toFixed(2),")"]})]})]})]}),be===J.id&&h.jsx("div",{className:"mt-4 pt-4 border-t border-white/10 space-y-4 animate-in slide-in-from-top-2 duration-200",children:h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-orange-400 font-bold uppercase mb-1 tracking-widest",children:"Desglose Apertura"}),h.jsx(Y0,{title:"Efectivo en Bs",breakdown:J.openingBreakdownBs,currency:"BS"}),h.jsx(Y0,{title:"Efectivo en USD",breakdown:J.openingBreakdownUsd,currency:"USD"}),(!J.openingBreakdownBs||J.openingBreakdownBs.length===0)&&(!J.openingBreakdownUsd||J.openingBreakdownUsd.length===0)&&h.jsx("div",{className:"text-[10px] text-gray-600 italic mt-2",children:"Sin desglose registrado"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-purple-400 font-bold uppercase mb-1 tracking-widest",children:"Desglose Cierre"}),h.jsx(Y0,{title:"Efectivo en Bs",breakdown:J.closingBreakdownBs,currency:"BS"}),h.jsx(Y0,{title:"Efectivo en USD",breakdown:J.closingBreakdownUsd,currency:"USD"}),(!J.closingBreakdownBs||J.closingBreakdownBs.length===0)&&(!J.closingBreakdownUsd||J.closingBreakdownUsd.length===0)&&h.jsx("div",{className:"text-[10px] text-gray-600 italic mt-2",children:"Sin desglose registrado"})]})]})})]},J.id)):h.jsxs("div",{className:"text-center text-gray-500 py-12 flex flex-col items-center gap-3",children:[h.jsx("div",{className:"p-3 bg-white/5 rounded-full",children:h.jsx(EE,{size:32,className:"opacity-50"})}),"No hay historial de cierres disponible"]})})]})}),h.jsx(cM,{isOpen:Xe,onClose:()=>it(!1),onConfirm:qn,currency:bt,amount:0,debtAmount:0,isAuditMode:!0})]})},lu=(e,t=[])=>{const r=t.find(a=>a.id===e||a.name===e);return r?r.name:{efectivo_usd:"Efectivo $",efectivo_bs:"Efectivo Bs",zelle:"Zelle",pm_banesco:"Pago Mvil Banesco",punto:"Punto de Venta",credito:"Crdito"}[e]||e||"Otro"},G4e=()=>{const{data:e}=Jn(),[t,r]=xW(),n=T.useMemo(()=>e.sales||[],[e.sales]),a=T.useMemo(()=>e.customers||[],[e.customers]),i=e.exchangeRate||1,[s,l]=T.useState(null),u=t.get("customerId")||"",[f,d]=T.useState(u?"all":"today"),[m,g]=T.useState(window.innerWidth<=768);Nr.useEffect(()=>{const w=()=>g(window.innerWidth<=768);return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const x=w=>{const C=w.target.value;C?(r({customerId:C}),d("all")):(r({}),d("today"))},y=(w,C)=>{const S=new Date(w),O=new Date,F=new Date(O.getFullYear(),O.getMonth(),O.getDate());if(C==="today")return S>=F;if(C==="week"){const B=new Date(O);return B.setDate(O.getDate()-7),S>=B}if(C==="month"){const B=new Date(O.getFullYear(),O.getMonth(),1);return S>=B}return!0},_=T.useMemo(()=>n.filter(w=>!(u&&w.customerId!==u||!y(w.date,f))),[n,f,u]),b=T.useMemo(()=>{let w=0,C=0,S=0,O=0,F=0,B=0;const j={},k={Restaurante:0,Quesera:0};_.forEach(N=>{if(N.departmentTotals)Object.entries(N.departmentTotals).forEach(([M,ce])=>{k[M]!==void 0?k[M]+=ce:k[M]=ce});else{const M=N.department||"Restaurante";k[M]!==void 0?k[M]+=N.total:k[M]=N.total}if(N.payments&&Array.isArray(N.payments)&&N.payments.length>0)N.payments.forEach(M=>{const ce=parseFloat(M.amount),fe=lu(M.method,e.paymentMethods),ae=M.currency==="USD"?ce:ce/(M.rate||i);j[fe]||(j[fe]={native:0,usd:0,currency:M.currency}),j[fe].native+=ce,j[fe].usd+=ae,M.currency==="USD"?w+=ce:C+=ce,S+=ae,(fe.toLowerCase().includes("credito")||fe.toLowerCase().includes("fiado"))&&(O+=ae)});else{const M=parseFloat(N.total),ce=N.paymentMethod,fe=(e.paymentMethods||[]).find(be=>be.id===ce||be.name===ce),ae=fe?fe.currency:label.toLowerCase().includes("bs")||label.toLowerCase().includes("punto")||label.toLowerCase().includes("pago movil")?"Bs":"USD",ie=ae==="Bs"?M*i:M,me=M;j[label]||(j[label]={native:0,usd:0,currency:ae}),j[label].native+=ie,j[label].usd+=me,isBs?C+=ie:w+=M,S+=me,(label.toLowerCase().includes("credito")||label.toLowerCase().includes("fiado"))&&(O+=me)}});const P=Object.entries(j).map(([N,M])=>({name:N,value:M.usd,nativeValue:M.native,usdValue:M.usd,currency:M.currency,percentage:M.usd/(S||1)*100,color:(M.paymentMethods||[]).find(ce=>ce.name===N)?.color||"#3498db"})).sort((N,M)=>M.value-N.value),I=(e.suppliers||[]).reduce((N,M)=>N+(M.debt||0),0);let R=0;return(e.suppliers||[]).forEach(N=>{(N.transactions||[]).forEach(M=>{M.type==="Pago"&&y(M.date,f)&&(R+=M.amount)})}),F=(e.expenses||[]).filter(N=>!N.date||y(N.date,f)).reduce((N,M)=>N+(M.amount||0),0),B=(e.debts||[]).reduce((N,M)=>N+(M.amount||0),0)+I,O+=(e.accountsReceivable||[]).reduce((N,M)=>N+(M.amount||0),0),{totalUSD:w,totalBs:C,totalConverted:S,totalReceivable:O,totalExpenses:F,totalDebts:B,allPaymentsChartData:P,departmentTotals:k,supplierDebts:I,supplierPaymentsInRange:R}},[_,i,e.expenses,e.debts,e.accountsReceivable,e.suppliers,f]);return h.jsxs("div",{style:{padding:m?"0.5rem":"1rem",height:"100%",display:"flex",flexDirection:"column",gap:"1rem",overflowY:"auto",background:"#0b0e14"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:m?"column":"row",alignItems:m?"stretch":"center",justifyContent:"space-between",gap:"1rem",flexShrink:0},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[h.jsx("h1",{style:{margin:0,fontSize:m?"1.25rem":"1.5rem",fontWeight:"900",color:"#fff",letterSpacing:"-0.5px"},children:"ANLISIS DE VENTAS"}),h.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.75rem"},children:"Dashboard Financiero en Tiempo Real"})]}),h.jsx("div",{className:"no-scrollbar",style:{display:"flex",gap:"0.5rem",overflowX:"auto",padding:"0.25rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px",flexShrink:0},children:["today","week","month","all"].map(w=>h.jsx("button",{className:`glass-button ${f===w?"primary":""}`,onClick:()=>d(w),style:{fontSize:"0.7rem",padding:"0.4rem 0.75rem",borderRadius:"8px",background:f===w?"var(--accent-blue)":"transparent",color:f===w?"#000":"#fff",whiteSpace:"nowrap",flex:1,minWidth:"60px"},children:w==="today"?"Hoy":w==="week"?"Semana":w==="month"?"Mes":"Todo"},w))}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.4rem 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(lG,{size:14,className:"text-gray-400"}),h.jsxs("select",{className:"glass-input",value:u,onChange:x,style:{border:"none",background:"transparent",fontSize:"0.8rem",color:"#fff",width:"100%"},children:[h.jsx("option",{value:"",style:{background:"#1a1a1a"},children:"-- Clientes --"}),a.map(w=>h.jsx("option",{value:w.id,style:{background:"#1a1a1a"},children:w.name},w.id))]})]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:m?"repeat(2, 1fr)":"repeat(4, 1fr) repeat(3, 1fr)",gap:"0.75rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid var(--accent-orange)",background:"rgba(255, 165, 0, 0.05)"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"RESTAURANTE"}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1.1rem":"1.3rem",fontWeight:"bold",color:"#fff"},children:Ya(b.departmentTotals.Restaurante,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid #f1c40f",background:"rgba(241, 196, 15, 0.05)"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"QUESERA"}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1.1rem":"1.3rem",fontWeight:"bold",color:"#fff"},children:Ya(b.departmentTotals.Quesera||0,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid var(--accent-green)",background:"rgba(39, 174, 96, 0.05)"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"VENTA TOTAL"}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1.1rem":"1.3rem",fontWeight:"bold",color:"#fff"},children:Ya(b.totalConverted,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid #e74c3c",background:"rgba(231, 76, 60, 0.05)"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"PAGOS PROV."}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1.1rem":"1.3rem",fontWeight:"bold",color:"#e74c3c"},children:Ya(b.supplierPaymentsInRange,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid #9b59b6",background:"rgba(155, 89, 182, 0.05)"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"DEUDA PROV."}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1.1rem":"1.3rem",fontWeight:"bold",color:"#9b59b6"},children:Ya(b.supplierDebts,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid #27ae60"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"DIVISAS ($)"}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1rem":"1.2rem",fontWeight:"bold",color:"#27ae60"},children:Ya(b.totalUSD,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid #3498db"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"BOLVARES"}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1rem":"1.2rem",fontWeight:"bold",color:"#3498db"},children:Ya(b.totalBs,"Bs")})]})]}),h.jsxs("div",{style:{display:"flex",flexDirection:m?"column":"row",gap:"0.75rem",flex:1,minHeight:0,overflowY:m?"visible":"hidden"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",flex:1,minHeight:m?"auto":0},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",height:m?"250px":"200px",flexShrink:0},children:[h.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"0.8rem",fontWeight:"bold",color:"var(--text-secondary)"},children:"COMPARATIVA DE SALDOS ($)"}),h.jsx(s1,{width:"100%",height:"100%",children:h.jsxs(j4e,{data:[{name:"Ventas",valor:b.totalConverted,color:"#2ecc71"},{name:"Gastos",valor:b.totalExpenses,color:"#e74c3c"},{name:"Deudas",valor:b.totalDebts,color:"#9b59b6"},{name:"Por Cobrar",valor:b.totalReceivable,color:"#3498db"}],children:[h.jsx(OT,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(255,255,255,0.05)"}),h.jsx(NT,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9ca3af"}}),h.jsx(IT,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9ca3af"}}),h.jsx(D1,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",borderRadius:"8px"},itemStyle:{color:"#fff"},labelStyle:{color:"#fff"},cursor:{fill:"rgba(255,255,255,0.05)"}}),h.jsx(FV,{dataKey:"valor",radius:[4,4,0,0],children:[0,1,2,3].map(w=>h.jsx(Wu,{fill:["#27ae60","#e74c3c","#9b59b6","#3498db"][w]},w))})]})})]}),h.jsxs("div",{className:"glass-panel",style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",minHeight:m?"400px":"auto",maxHeight:m?"500px":"none"},children:[h.jsx("div",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:h.jsx("h3",{style:{margin:0,fontSize:"0.8rem",fontWeight:"bold"},children:"HISTORIAL DE VENTAS"})}),h.jsx("div",{style:{overflowY:"auto",flex:1},children:h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:m?"0.75rem":"0.8rem"},children:[h.jsx("thead",{style:{position:"sticky",top:0,background:"#161922",zIndex:10},children:h.jsxs("tr",{style:{textAlign:"left",color:"var(--text-secondary)"},children:[h.jsx("th",{style:{padding:"0.75rem 1rem",fontWeight:"bold"},children:"HORA"}),h.jsx("th",{style:{padding:"0.75rem 1rem",fontWeight:"bold"},children:"TOTAL"}),!m&&h.jsx("th",{style:{padding:"0.75rem 1rem",fontWeight:"bold"},children:"MTODO"}),!m&&h.jsx("th",{style:{padding:"0.75rem 1rem",fontWeight:"bold"},children:"CAJERO"})]})}),h.jsx("tbody",{children:_.slice().reverse().map(w=>h.jsxs("tr",{onClick:()=>l(w),style:{borderBottom:"1px solid rgba(255,255,255,0.03)",cursor:"pointer",background:"transparent"},onMouseOver:C=>C.currentTarget.style.background="rgba(255,255,255,0.02)",onMouseOut:C=>C.currentTarget.style.background="transparent",children:[h.jsx("td",{style:{padding:"0.75rem 1rem"},children:new Date(w.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),h.jsxs("td",{style:{padding:"0.75rem 1rem",fontWeight:"bold",color:"var(--accent-green)"},children:[Ya(w.total,"$"),m&&h.jsx("div",{style:{fontSize:"0.65rem",color:"#ccc",fontWeight:"normal"},children:w.payments?w.payments.map(C=>lu(C.method,e.paymentMethods).split(" ")[0]).join(", "):lu(w.paymentMethod,e.paymentMethods).split(" ")[0]})]}),!m&&h.jsx("td",{style:{padding:"0.75rem 1rem",color:"#ccc"},children:w.payments?w.payments.map(C=>lu(C.method,e.paymentMethods)).join(", "):lu(w.paymentMethod,e.paymentMethods)}),!m&&h.jsx("td",{style:{padding:"0.75rem 1rem",color:"var(--text-secondary)"},children:w.cashier||"Cajero 1"})]},w.id))})]})})]})]}),h.jsxs("div",{className:"glass-panel",style:{display:"flex",flexDirection:"column",overflow:"hidden",background:"#11141d",border:"1px solid rgba(255,255,255,0.05)",width:m?"100%":"350px",flexShrink:0,minHeight:m?"auto":0},children:[h.jsx("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255,255,255,0.05)",background:"rgba(255,255,255,0.02)"},children:h.jsxs("h3",{style:{margin:0,fontSize:"0.85rem",fontWeight:"bold",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},children:[h.jsx(zf,{size:18,color:"var(--accent-blue)"})," POR MEDIO DE PAGO"]})}),h.jsxs("div",{style:{padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",flex:1,overflowY:m?"visible":"auto"},children:[h.jsx("div",{style:{height:"240px",flexShrink:0},children:h.jsx(s1,{children:h.jsxs(e$,{margin:{top:10,right:40,left:40,bottom:10},children:[h.jsx(AT,{data:b.allPaymentsChartData,dataKey:"value",innerRadius:35,outerRadius:55,paddingAngle:2,labelLine:!0,label:({name:w,percent:C})=>m?`${(C*100).toFixed(0)}%`:`${w.split(" ")[0]} ${(C*100).toFixed(0)}%`,children:b.allPaymentsChartData.map((w,C)=>h.jsx(Wu,{fill:w.color,stroke:"rgba(0,0,0,0.5)",strokeWidth:2},C))}),h.jsx(D1,{formatter:w=>`$${w.toFixed(2)}`,contentStyle:{background:"#111",border:"1px solid #333",borderRadius:"8px",fontSize:"11px"},itemStyle:{color:"#fff"},labelStyle:{color:"#fff"}})]})})}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:b.allPaymentsChartData.map((w,C)=>h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.03)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[h.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:w.color,boxShadow:`0 0 10px ${w.color}44`}}),h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:"0.8rem",fontWeight:"bold",color:"#fff"},children:w.name}),h.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",display:"flex",flexDirection:"column"},children:[h.jsx("span",{children:w.currency==="Bs"?`Bs ${w.nativeValue.toLocaleString()}`:`$${w.nativeValue.toFixed(2)}`}),w.currency==="Bs"&&h.jsxs("span",{style:{color:"var(--accent-green)"},children:["($",w.usdValue.toFixed(2),")"]})]})]})]}),h.jsxs("div",{style:{textAlign:"right"},children:[h.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"var(--accent-green)"},children:[w.percentage.toFixed(1),"%"]}),h.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)"},children:"de la venta"})]})]},C))}),h.jsxs("div",{style:{marginTop:m?"1rem":"auto",paddingTop:"1rem",borderTop:"2px dashed rgba(255,255,255,0.05)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem",fontWeight:"bold"},children:"TOTAL BOLVARES"}),h.jsx("span",{style:{color:"#3498db",fontSize:"0.85rem",fontWeight:"bold"},children:Ya(b.totalBs,"Bs")})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[h.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem",fontWeight:"bold"},children:"TOTAL DIVISAS"}),h.jsx("span",{style:{color:"#27ae60",fontSize:"0.85rem",fontWeight:"bold"},children:Ya(b.totalUSD,"$")})]})]})]})]})]}),s&&h.jsx(Ir,{isOpen:!!s,onClose:()=>l(null),title:"Detalle de Transaccin",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.05)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[h.jsxs("div",{children:[h.jsxs("h2",{style:{fontSize:"1.2rem",fontWeight:"bold",margin:0},children:["Ticket #",s.id.toString().slice(-6)]}),h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:new Date(s.date).toLocaleString()})]}),h.jsx("div",{style:{background:"var(--accent-blue)",color:"#fff",padding:"0.2rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold"},children:"PAGADO"})]}),h.jsx("div",{style:{marginBottom:"1rem"},children:s.items?.map((w,C)=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.85rem",padding:"0.4rem 0",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[h.jsxs("span",{children:[w.quantity,"x ",w.name]}),h.jsx("span",{style:{fontWeight:"bold"},children:Ya(w.price*w.quantity,"$")})]},C))}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.5rem",fontWeight:"bold",fontSize:"1.1rem"},children:[h.jsx("span",{children:"TOTAL VENTA"}),h.jsx("span",{style:{color:"var(--accent-green)"},children:Ya(s.total,"$")})]})]}),h.jsxs("div",{children:[h.jsx("h3",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase"},children:"Desglose de Pago Realizado"}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:s.payments?s.payments.map((w,C)=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",background:"rgba(255,255,255,0.03)",padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)"},children:[h.jsxs("div",{children:[h.jsx("div",{style:{fontWeight:"bold",fontSize:"0.85rem"},children:lu(w.method,e.paymentMethods)}),w.note&&h.jsx("div",{style:{fontSize:"0.7rem",color:"var(--accent-orange)"},children:w.note})]}),h.jsx("div",{style:{fontWeight:"bold",color:w.currency==="Bs"?"#3498db":"#27ae60"},children:Ya(w.amount,w.currency==="Bs"?"Bs":"$")})]},C)):h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",background:"rgba(255,255,255,0.03)",padding:"0.75rem",borderRadius:"8px"},children:[h.jsx("div",{style:{fontWeight:"bold"},children:lu(s.paymentMethod,e.paymentMethods)}),h.jsx("div",{style:{fontWeight:"bold"},children:Ya(s.total,"$")})]})})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[h.jsx(fK,{size:14})," Cajero: ",s.cashier||"Cajero 1"]}),s.tableName&&h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[h.jsx(UG,{size:14})," Mesa: ",s.tableName]})]})]})})]})};class K4e extends Nr.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?h.jsx("div",{style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"#fff",fontFamily:"sans-serif"},children:h.jsxs("div",{className:"glass-panel",style:{padding:"2rem",borderRadius:"16px",background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center",maxWidth:"500px"},children:[h.jsx(EA,{size:48,color:"#ff6b6b",style:{marginBottom:"1rem"}}),h.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Ups! Algo sali mal"}),h.jsx("p",{style:{color:"#a0a0a0",marginBottom:"1.5rem"},children:"Ha ocurrido un error inesperado en la aplicacin."}),this.state.error&&h.jsx("div",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",textAlign:"left",overflow:"auto",maxHeight:"150px",fontSize:"0.8rem",fontFamily:"monospace"},children:this.state.error.toString()}),h.jsxs("button",{onClick:this.handleReload,style:{background:"linear-gradient(135deg, #00f260 0%, #0575e6 100%)",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[h.jsx(gc,{size:18}),"Recargar Pgina"]})]})}):this.props.children}}const X4e=({onUnlock:e})=>{const[t,r]=T.useState(""),[n,a]=T.useState(!0);T.useEffect(()=>{const s=localStorage.getItem("pos_encryption_key"),l=localStorage.getItem("pos_local_mode")==="true";(s||l)&&(s&&nS(s),e())},[e]);const i=s=>{s.preventDefault(),t.trim().length>0&&(localStorage.removeItem("pos_local_mode"),n?localStorage.setItem("pos_encryption_key",t):sessionStorage.setItem("pos_encryption_key",t),nS(t),e())};return h.jsx("div",{className:"fixed inset-0 bg-gray-900 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 max-w-md w-full text-center",children:[h.jsx("div",{className:"mb-6",children:h.jsx("span",{className:"text-6xl",children:""})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Acceso de Seguridad"}),h.jsxs("p",{className:"text-gray-600 mb-6",children:["Ingresa tu ",h.jsx("b",{children:"Llave Maestra"})," para cifrar y proteger tus datos en este servidor."]}),h.jsxs("form",{onSubmit:i,className:"space-y-4",children:[h.jsxs("div",{className:"text-left",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Llave Maestra"}),h.jsx("input",{type:"password",value:t,onChange:s=>r(s.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Tu llave secreta...",autoComplete:"current-password",name:"password",id:"master_key_input"}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:" Tip: Puedes guardar esta llave en tu Gestor de Contraseas de Google."})]}),h.jsxs("div",{className:"flex items-center justify-start",children:[h.jsx("input",{id:"remember-me",type:"checkbox",checked:n,onChange:s=>a(s.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Recordar permanentemente en este mvil"})]}),h.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors shadow-lg mb-4",children:"Desbloquear y Entrar"}),h.jsxs("div",{className:"relative flex py-2 items-center",children:[h.jsx("div",{className:"flex-grow border-t border-gray-300"}),h.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-400 text-xs",children:"O"}),h.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),h.jsxs("button",{type:"button",onClick:()=>{n&&localStorage.setItem("pos_local_mode","true"),e()},className:"w-full bg-gray-50 hover:bg-gray-100 text-gray-600 font-semibold py-3 rounded-lg transition-colors border border-gray-200",children:["Continuar en Modo Local",h.jsx("span",{className:"block text-[10px] font-normal text-gray-400 mt-1",children:"(Solo para ver datos bsicos sin cifrado en la nube)"})]}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-4 leading-tight",children:"* Tu llave es privada. Si la pierdes, no podremos recuperar tus ventas cifradas. Gurdala bien."})]})]})})},Zl=({children:e,requiredRole:t})=>{const{currentUser:r,hasPermission:n}=Gf(),a=Us();return r?t&&!n(t)?h.jsxs("div",{style:{color:"white",padding:"2rem",textAlign:"center"},children:[h.jsx("h2",{children:"Acceso Denegado"}),h.jsx("p",{children:"No tienes permisos para ver esta pgina."})]}):r.role==="kitchen"&&!a.pathname.startsWith("/kitchen")?h.jsx(yE,{to:"/kitchen",replace:!0}):e:h.jsx(yE,{to:"/login",state:{from:a},replace:!0})};function Y4e(){const[e,t]=Nr.useState(!1);return e?h.jsx(K4e,{children:h.jsx(vK,{children:h.jsx(Bte,{children:h.jsx(Mte,{children:h.jsx(hW,{children:h.jsxs(Vq,{children:[h.jsx(di,{path:"/login",element:h.jsx(b0e,{})}),h.jsxs(di,{path:"/",element:h.jsx(Zl,{children:h.jsx(zte,{})}),children:[h.jsx(di,{index:!0,element:h.jsx(qte,{})}),h.jsx(di,{path:"inventory",element:h.jsx(Zl,{requiredRole:"manager",children:h.jsx(Wte,{})})}),h.jsx(di,{path:"suppliers",element:h.jsx(Zl,{requiredRole:"manager",children:h.jsx(Gte,{})})}),h.jsx(di,{path:"products",element:h.jsx(Zl,{requiredRole:"manager",children:h.jsx(d0e,{})})}),h.jsx(di,{path:"personnel",element:h.jsx(Zl,{requiredRole:"admin",children:h.jsx(h0e,{})})}),h.jsx(di,{path:"reports",element:h.jsx(Zl,{requiredRole:"manager",children:h.jsx(G4e,{})})}),h.jsx(di,{path:"tables",element:h.jsx(_0e,{})}),h.jsx(di,{path:"kitchen",element:h.jsx(S0e,{})}),h.jsx(di,{path:"customers",element:h.jsx(A0e,{})}),h.jsx(di,{path:"cash-register",element:h.jsx(Zl,{requiredRole:"manager",children:h.jsx(W4e,{})})}),h.jsx(di,{path:"settings",element:h.jsx(Zl,{requiredRole:"admin",children:h.jsx(g0e,{})})})]})]})})})})})}):h.jsx(X4e,{onUnlock:()=>t(!0)})}console.log("Main.jsx is running");try{const e=document.getElementById("root");console.log("Root element:",e),e||console.error("Root element not found!"),VH.createRoot(e).render(h.jsx(T.StrictMode,{children:h.jsx(Vte,{children:h.jsx(Pte,{children:h.jsx(Y4e,{})})})}))}catch(e){console.error("Error rendering app:",e)}
