function bH(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _H(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Yb={exports:{}},Gd={};var tD;function wH(){if(tD)return Gd;tD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:s,ref:a!==void 0?a:null,props:i}}return Gd.Fragment=t,Gd.jsx=r,Gd.jsxs=r,Gd}var rD;function EH(){return rD||(rD=1,Yb.exports=wH()),Yb.exports}var h=EH(),Qb={exports:{}},jt={};var nD;function SH(){if(nD)return jt;nD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,y={};function w(U,Y,Z){this.props=U,this.context=Y,this.refs=y,this.updater=Z||b}w.prototype.isReactComponent={},w.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},w.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=w.prototype;function A(U,Y,Z){this.props=U,this.context=Y,this.refs=y,this.updater=Z||b}var O=A.prototype=new C;O.constructor=A,_(O,w.prototype),O.isPureReactComponent=!0;var F=Array.isArray;function M(){}var j={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function R(U,Y,Z){var q=Z.ref;return{$$typeof:e,type:U,key:Y,ref:q!==void 0?q:null,props:Z}}function I(U,Y){return R(U.type,Y,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function N(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Z){return Y[Z]})}var B=/\/+/g;function oe(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?N(""+U.key):Y.toString(36)}function he(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(M,M):(U.status="pending",U.then(function(Y){U.status==="pending"&&(U.status="fulfilled",U.value=Y)},function(Y){U.status==="pending"&&(U.status="rejected",U.reason=Y)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ne(U,Y,Z,q,se){var me=typeof U;(me==="undefined"||me==="boolean")&&(U=null);var ve=!1;if(U===null)ve=!0;else switch(me){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(U.$$typeof){case e:case t:ve=!0;break;case d:return ve=U._init,ne(ve(U._payload),Y,Z,q,se)}}if(ve)return se=se(U),ve=q===""?"."+oe(U,0):q,F(se)?(Z="",ve!=null&&(Z=ve.replace(B,"$&/")+"/"),ne(se,Y,Z,"",function(ee){return ee})):se!=null&&(P(se)&&(se=I(se,Z+(se.key==null||U&&U.key===se.key?"":(""+se.key).replace(B,"$&/")+"/")+ve)),Y.push(se)),1;ve=0;var H=q===""?".":q+":";if(F(U))for(var G=0;G<U.length;G++)q=U[G],me=H+oe(q,G),ve+=ne(q,Y,Z,me,se);else if(G=x(U),typeof G=="function")for(U=G.call(U),G=0;!(q=U.next()).done;)q=q.value,me=H+oe(q,G++),ve+=ne(q,Y,Z,me,se);else if(me==="object"){if(typeof U.then=="function")return ne(he(U),Y,Z,q,se);throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function de(U,Y,Z){if(U==null)return U;var q=[],se=0;return ne(U,q,"","",function(me){return Y.call(Z,me,se++)}),q}function be(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(Z){(U._status===0||U._status===-1)&&(U._status=1,U._result=Z)},function(Z){(U._status===0||U._status===-1)&&(U._status=2,U._result=Z)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var we=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ue={map:de,forEach:function(U,Y,Z){de(U,function(){Y.apply(this,arguments)},Z)},count:function(U){var Y=0;return de(U,function(){Y++}),Y},toArray:function(U){return de(U,function(Y){return Y})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return jt.Activity=m,jt.Children=ue,jt.Component=w,jt.Fragment=r,jt.Profiler=a,jt.PureComponent=A,jt.StrictMode=n,jt.Suspense=u,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,jt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return j.H.useMemoCache(U)}},jt.cache=function(U){return function(){return U.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(U,Y,Z){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var q=_({},U.props),se=U.key;if(Y!=null)for(me in Y.key!==void 0&&(se=""+Y.key),Y)!k.call(Y,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Y.ref===void 0||(q[me]=Y[me]);var me=arguments.length-2;if(me===1)q.children=Z;else if(1<me){for(var ve=Array(me),H=0;H<me;H++)ve[H]=arguments[H+2];q.children=ve}return R(U.type,se,q)},jt.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},jt.createElement=function(U,Y,Z){var q,se={},me=null;if(Y!=null)for(q in Y.key!==void 0&&(me=""+Y.key),Y)k.call(Y,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(se[q]=Y[q]);var ve=arguments.length-2;if(ve===1)se.children=Z;else if(1<ve){for(var H=Array(ve),G=0;G<ve;G++)H[G]=arguments[G+2];se.children=H}if(U&&U.defaultProps)for(q in ve=U.defaultProps,ve)se[q]===void 0&&(se[q]=ve[q]);return R(U,me,se)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(U){return{$$typeof:l,render:U}},jt.isValidElement=P,jt.lazy=function(U){return{$$typeof:d,_payload:{_status:-1,_result:U},_init:be}},jt.memo=function(U,Y){return{$$typeof:f,type:U,compare:Y===void 0?null:Y}},jt.startTransition=function(U){var Y=j.T,Z={};j.T=Z;try{var q=U(),se=j.S;se!==null&&se(Z,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(M,we)}catch(me){we(me)}finally{Y!==null&&Z.types!==null&&(Y.types=Z.types),j.T=Y}},jt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},jt.use=function(U){return j.H.use(U)},jt.useActionState=function(U,Y,Z){return j.H.useActionState(U,Y,Z)},jt.useCallback=function(U,Y){return j.H.useCallback(U,Y)},jt.useContext=function(U){return j.H.useContext(U)},jt.useDebugValue=function(){},jt.useDeferredValue=function(U,Y){return j.H.useDeferredValue(U,Y)},jt.useEffect=function(U,Y){return j.H.useEffect(U,Y)},jt.useEffectEvent=function(U){return j.H.useEffectEvent(U)},jt.useId=function(){return j.H.useId()},jt.useImperativeHandle=function(U,Y,Z){return j.H.useImperativeHandle(U,Y,Z)},jt.useInsertionEffect=function(U,Y){return j.H.useInsertionEffect(U,Y)},jt.useLayoutEffect=function(U,Y){return j.H.useLayoutEffect(U,Y)},jt.useMemo=function(U,Y){return j.H.useMemo(U,Y)},jt.useOptimistic=function(U,Y){return j.H.useOptimistic(U,Y)},jt.useReducer=function(U,Y,Z){return j.H.useReducer(U,Y,Z)},jt.useRef=function(U){return j.H.useRef(U)},jt.useState=function(U){return j.H.useState(U)},jt.useSyncExternalStore=function(U,Y,Z){return j.H.useSyncExternalStore(U,Y,Z)},jt.useTransition=function(){return j.H.useTransition()},jt.version="19.2.3",jt}var aD;function Nf(){return aD||(aD=1,Qb.exports=SH()),Qb.exports}var T=Nf();const gr=vo(T),AH=bH({__proto__:null,default:gr},[T]);var Zb={exports:{}},Kd={},Jb={exports:{}},e_={};var iD;function CH(){return iD||(iD=1,(function(e){function t(ne,de){var be=ne.length;ne.push(de);e:for(;0<be;){var we=be-1>>>1,ue=ne[we];if(0<a(ue,de))ne[we]=de,ne[be]=ue,be=we;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var de=ne[0],be=ne.pop();if(be!==de){ne[0]=be;e:for(var we=0,ue=ne.length,U=ue>>>1;we<U;){var Y=2*(we+1)-1,Z=ne[Y],q=Y+1,se=ne[q];if(0>a(Z,be))q<ue&&0>a(se,Z)?(ne[we]=se,ne[q]=be,we=q):(ne[we]=Z,ne[Y]=be,we=Y);else if(q<ue&&0>a(se,be))ne[we]=se,ne[q]=be,we=q;else break e}}return de}function a(ne,de){var be=ne.sortIndex-de.sortIndex;return be!==0?be:ne.id-de.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],f=[],d=1,m=null,g=3,x=!1,b=!1,_=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(ne){for(var de=r(f);de!==null;){if(de.callback===null)n(f);else if(de.startTime<=ne)n(f),de.sortIndex=de.expirationTime,t(u,de);else break;de=r(f)}}function F(ne){if(_=!1,O(ne),!b)if(r(u)!==null)b=!0,M||(M=!0,N());else{var de=r(f);de!==null&&he(F,de.startTime-ne)}}var M=!1,j=-1,k=5,R=-1;function I(){return y?!0:!(e.unstable_now()-R<k)}function P(){if(y=!1,M){var ne=e.unstable_now();R=ne;var de=!0;try{e:{b=!1,_&&(_=!1,C(j),j=-1),x=!0;var be=g;try{t:{for(O(ne),m=r(u);m!==null&&!(m.expirationTime>ne&&I());){var we=m.callback;if(typeof we=="function"){m.callback=null,g=m.priorityLevel;var ue=we(m.expirationTime<=ne);if(ne=e.unstable_now(),typeof ue=="function"){m.callback=ue,O(ne),de=!0;break t}m===r(u)&&n(u),O(ne)}else n(u);m=r(u)}if(m!==null)de=!0;else{var U=r(f);U!==null&&he(F,U.startTime-ne),de=!1}}break e}finally{m=null,g=be,x=!1}de=void 0}}finally{de?N():M=!1}}}var N;if(typeof A=="function")N=function(){A(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,oe=B.port2;B.port1.onmessage=P,N=function(){oe.postMessage(null)}}else N=function(){w(P,0)};function he(ne,de){j=w(function(){ne(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var de=3;break;default:de=g}var be=g;g=de;try{return ne()}finally{g=be}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var be=g;g=ne;try{return de()}finally{g=be}},e.unstable_scheduleCallback=function(ne,de,be){var we=e.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?we+be:we):be=we,ne){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=be+ue,ne={id:d++,callback:de,priorityLevel:ne,startTime:be,expirationTime:ue,sortIndex:-1},be>we?(ne.sortIndex=be,t(f,ne),r(u)===null&&ne===r(f)&&(_?(C(j),j=-1):_=!0,he(F,be-we))):(ne.sortIndex=ue,t(u,ne),b||x||(b=!0,M||(M=!0,N()))),ne},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(ne){var de=g;return function(){var be=g;g=de;try{return ne.apply(this,arguments)}finally{g=be}}}})(e_)),e_}var sD;function TH(){return sD||(sD=1,Jb.exports=CH()),Jb.exports}var t_={exports:{}},Na={};var oD;function kH(){if(oD)return Na;oD=1;var e=Nf();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:f,implementation:d}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Na.createPortal=function(u,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(u,f,null,d)},Na.flushSync=function(u){var f=s.T,d=n.p;try{if(s.T=null,n.p=2,u)return u()}finally{s.T=f,n.p=d,n.d.f()}},Na.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Na.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Na.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var d=f.as,m=l(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):d==="script"&&n.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Na.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=l(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Na.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=l(d,f.crossOrigin);n.d.L(u,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Na.preloadModule=function(u,f){if(typeof u=="string")if(f){var d=l(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Na.requestFormReset=function(u){n.d.r(u)},Na.unstable_batchedUpdates=function(u,f){return u(f)},Na.useFormState=function(u,f,d){return s.H.useFormState(u,f,d)},Na.useFormStatus=function(){return s.H.useHostTransitionStatus()},Na.version="19.2.3",Na}var lD;function mR(){if(lD)return t_.exports;lD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),t_.exports=kH(),t_.exports}var cD;function DH(){if(cD)return Kd;cD=1;var e=TH(),t=Nf(),r=mR();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(n(188))}function f(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(n(188));return c!==o?null:o}for(var p=o,v=c;;){var S=p.return;if(S===null)break;var D=S.alternate;if(D===null){if(v=S.return,v!==null){p=v;continue}break}if(S.child===D.child){for(D=S.child;D;){if(D===p)return u(S),o;if(D===v)return u(S),c;D=D.sibling}throw Error(n(188))}if(p.return!==v.return)p=S,v=D;else{for(var z=!1,K=S.child;K;){if(K===p){z=!0,p=S,v=D;break}if(K===v){z=!0,v=S,p=D;break}K=K.sibling}if(!z){for(K=D.child;K;){if(K===p){z=!0,p=D,v=S;break}if(K===v){z=!0,v=D,p=S;break}K=K.sibling}if(!z)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function N(o){return o===null||typeof o!="object"?null:(o=P&&o[P]||o["@@iterator"],typeof o=="function"?o:null)}var B=Symbol.for("react.client.reference");function oe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===B?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case w:return"Profiler";case y:return"StrictMode";case F:return"Suspense";case M:return"SuspenseList";case R:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case A:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case O:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case j:return c=o.displayName||null,c!==null?c:oe(o.type)||"Memo";case k:c=o._payload,o=o._init;try{return oe(o(c))}catch{}}return null}var he=Array.isArray,ne=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},we=[],ue=-1;function U(o){return{current:o}}function Y(o){0>ue||(o.current=we[ue],we[ue]=null,ue--)}function Z(o,c){ue++,we[ue]=o.current,o.current=c}var q=U(null),se=U(null),me=U(null),ve=U(null);function H(o,c){switch(Z(me,c),Z(se,o),Z(q,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?S3(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=S3(c),o=A3(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Y(q),Z(q,o)}function G(){Y(q),Y(se),Y(me)}function ee(o){o.memoizedState!==null&&Z(ve,o);var c=q.current,p=A3(c,o.type);c!==p&&(Z(se,o),Z(q,p))}function ae(o){se.current===o&&(Y(q),Y(se)),ve.current===o&&(Y(ve),$d._currentValue=be)}var pe,X;function je(o){if(pe===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);pe=c&&c[1]||"",X=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+o+X}var He=!1;function Be(o,c){if(!o||He)return"";He=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Re){var Ne=Re}Reflect.construct(o,[],Ve)}else{try{Ve.call()}catch(Re){Ne=Re}o.call(Ve.prototype)}}else{try{throw Error()}catch(Re){Ne=Re}(Ve=o())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Re){if(Re&&Ne&&typeof Re.stack=="string")return[Re.stack,Ne.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=v.DetermineComponentFrameRoot(),z=D[0],K=D[1];if(z&&K){var ye=z.split(`
`),De=K.split(`
`);for(S=v=0;v<ye.length&&!ye[v].includes("DetermineComponentFrameRoot");)v++;for(;S<De.length&&!De[S].includes("DetermineComponentFrameRoot");)S++;if(v===ye.length||S===De.length)for(v=ye.length-1,S=De.length-1;1<=v&&0<=S&&ye[v]!==De[S];)S--;for(;1<=v&&0<=S;v--,S--)if(ye[v]!==De[S]){if(v!==1||S!==1)do if(v--,S--,0>S||ye[v]!==De[S]){var Le=`
`+ye[v].replace(" at new "," at ");return o.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",o.displayName)),Le}while(1<=v&&0<=S);break}}}finally{He=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?je(p):""}function Ke(o,c){switch(o.tag){case 26:case 27:case 5:return je(o.type);case 16:return je("Lazy");case 13:return o.child!==c&&c!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return Be(o.type,!1);case 11:return Be(o.type.render,!1);case 1:return Be(o.type,!0);case 31:return je("Activity");default:return""}}function Je(o){try{var c="",p=null;do c+=Ke(o,p),p=o,o=o.return;while(o);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var et=Object.prototype.hasOwnProperty,st=e.unstable_scheduleCallback,rt=e.unstable_cancelCallback,ce=e.unstable_shouldYield,Se=e.unstable_requestPaint,Ye=e.unstable_now,Me=e.unstable_getCurrentPriorityLevel,wt=e.unstable_ImmediatePriority,Dt=e.unstable_UserBlockingPriority,Et=e.unstable_NormalPriority,At=e.unstable_LowPriority,Ut=e.unstable_IdlePriority,Ge=e.log,it=e.unstable_setDisableYieldValue,bt=null,xt=null;function It(o){if(typeof Ge=="function"&&it(o),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(bt,o)}catch{}}var pt=Math.clz32?Math.clz32:fn,rn=Math.log,yn=Math.LN2;function fn(o){return o>>>=0,o===0?32:31-(rn(o)/yn|0)|0}var Vr=256,ia=262144,Cr=4194304;function nn(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function dn(o,c,p){var v=o.pendingLanes;if(v===0)return 0;var S=0,D=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var K=v&134217727;return K!==0?(v=K&~D,v!==0?S=nn(v):(z&=K,z!==0?S=nn(z):p||(p=K&~o,p!==0&&(S=nn(p))))):(K=v&~D,K!==0?S=nn(K):z!==0?S=nn(z):p||(p=v&~o,p!==0&&(S=nn(p)))),S===0?0:c!==0&&c!==S&&(c&D)===0&&(D=S&-S,p=c&-c,D>=p||D===32&&(p&4194048)!==0)?c:S}function Kr(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Ga(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wi(){var o=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),o}function an(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Ft(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ai(o,c,p,v,S,D){var z=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var K=o.entanglements,ye=o.expirationTimes,De=o.hiddenUpdates;for(p=z&~p;0<p;){var Le=31-pt(p),Ve=1<<Le;K[Le]=0,ye[Le]=-1;var Ne=De[Le];if(Ne!==null)for(De[Le]=null,Le=0;Le<Ne.length;Le++){var Re=Ne[Le];Re!==null&&(Re.lane&=-536870913)}p&=~Ve}v!==0&&bn(o,v,0),D!==0&&S===0&&o.tag!==0&&(o.suspendedLanes|=D&~(z&~c))}function bn(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-pt(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|p&261930}function Tr(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var v=31-pt(p),S=1<<v;S&c|o[v]&c&&(o[v]|=c),p&=~S}}function sn(o,c){var p=c&-c;return p=(p&42)!==0?1:Gn(p),(p&(o.suspendedLanes|c))!==0?0:p}function Gn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function kr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function W(){var o=de.p;return o!==0?o:(o=window.event,o===void 0?32:K3(o.type))}function le(o,c){var p=de.p;try{return de.p=o,c()}finally{de.p=p}}var Q=Math.random().toString(36).slice(2),J="__reactFiber$"+Q,ie="__reactProps$"+Q,fe="__reactContainer$"+Q,Ce="__reactEvents$"+Q,Fe="__reactListeners$"+Q,te="__reactHandles$"+Q,ge="__reactResources$"+Q,xe="__reactMarker$"+Q;function Ie(o){delete o[J],delete o[ie],delete o[Ce],delete o[Fe],delete o[te]}function Ue(o){var c=o[J];if(c)return c;for(var p=o.parentNode;p;){if(c=p[fe]||p[J]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=N3(o);o!==null;){if(p=o[J])return p;o=N3(o)}return c}o=p,p=o.parentNode}return null}function Qe(o){if(o=o[J]||o[fe]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function qe(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function Xe(o){var c=o[ge];return c||(c=o[ge]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ct(o){o[xe]=!0}var cr=new Set,_e={};function Ze(o,c){ht(o,c),ht(o+"Capture",c)}function ht(o,c){for(_e[o]=c,o=0;o<c.length;o++)cr.add(c[o])}var gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bt={},Tt={};function xr(o){return et.call(Tt,o)?!0:et.call(Bt,o)?!1:gt.test(o)?Tt[o]=!0:(Bt[o]=!0,!1)}function Vt(o,c,p){if(xr(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function Xr(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function vr(o,c,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+v)}}function Fr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ka(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ic(o,c,p){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,D=v.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return S.call(this)},set:function(z){p=""+z,D.call(this,z)}}),Object.defineProperty(o,c,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(z){p=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function nr(o){if(!o._valueTracker){var c=Ka(o)?"checked":"value";o._valueTracker=Ic(o,c,""+o[c])}}function Pc(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return o&&(v=Ka(o)?o.checked?"true":"false":o.value),o=v,o!==p?(c.setValue(o),!0):!1}function Hs(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Rc=/[\n"\\]/g;function ii(o){return o.replace(Rc,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function o0(o,c,p,v,S,D,z,K){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Fr(c)):o.value!==""+Fr(c)&&(o.value=""+Fr(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?rd(o,z,Fr(c)):p!=null?rd(o,z,Fr(p)):v!=null&&o.removeAttribute("value"),S==null&&D!=null&&(o.defaultChecked=!!D),S!=null&&(o.checked=S&&typeof S!="function"&&typeof S!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.name=""+Fr(K):o.removeAttribute("name")}function am(o,c,p,v,S,D,z,K){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.type=D),c!=null||p!=null){if(!(D!=="submit"&&D!=="reset"||c!=null)){nr(o);return}p=p!=null?""+Fr(p):"",c=c!=null?""+Fr(c):p,K||c===o.value||(o.value=c),o.defaultValue=c}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=K?o.checked:!!v,o.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z),nr(o)}function rd(o,c,p){c==="number"&&Hs(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function bl(o,c,p,v){if(o=o.options,c){c={};for(var S=0;S<p.length;S++)c["$"+p[S]]=!0;for(p=0;p<o.length;p++)S=c.hasOwnProperty("$"+o[p].value),o[p].selected!==S&&(o[p].selected=S),S&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Fr(p),c=null,S=0;S<o.length;S++){if(o[S].value===p){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}c!==null||o[S].disabled||(c=o[S])}c!==null&&(c.selected=!0)}}function im(o,c,p){if(c!=null&&(c=""+Fr(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+Fr(p):""}function _l(o,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(n(92));if(he(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=Fr(c),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v),nr(o)}function si(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var sm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nd(o,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,p):typeof p!="number"||p===0||sm.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function ad(o,c,p){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var S in c)v=c[S],c.hasOwnProperty(S)&&p[S]!==v&&nd(o,S,v)}else for(var D in c)c.hasOwnProperty(D)&&nd(o,D,c[D])}function l0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function c0(o){return wl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function bs(){}var id=null;function $i(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var El=null,qs=null;function Fc(o){var c=Qe(o);if(c&&(o=c.stateNode)){var p=o[ie]||null;e:switch(o=c.stateNode,c.type){case"input":if(o0(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ii(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==o&&v.form===o.form){var S=v[ie]||null;if(!S)throw Error(n(90));o0(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===o.form&&Pc(v)}break e;case"textarea":im(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&bl(o,!!p.multiple,c,!1)}}}var u0=!1;function Sl(o,c,p){if(u0)return o(c,p);u0=!0;try{var v=o(c);return v}finally{if(u0=!1,(El!==null||qs!==null)&&(eg(),El&&(c=El,o=qs,qs=El=null,Fc(c),o)))for(c=0;c<o.length;c++)Fc(o[c])}}function _s(o,c){var p=o.stateNode;if(p===null)return null;var v=p[ie]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(n(231,c,typeof p));return p}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=!1;if(Hi)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{Bc=!1}var Ws=null,sd=null,Mc=null;function od(){if(Mc)return Mc;var o,c=sd,p=c.length,v,S="value"in Ws?Ws.value:Ws.textContent,D=S.length;for(o=0;o<p&&c[o]===S[o];o++);var z=p-o;for(v=1;v<=z&&c[p-v]===S[D-v];v++);return Mc=S.slice(o,1<v?1-v:void 0)}function Lc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function _o(){return!0}function ws(){return!1}function va(o){function c(p,v,S,D,z){this._reactName=p,this._targetInst=S,this.type=v,this.nativeEvent=D,this.target=z,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(p=o[K],this[K]=p?p(D):D[K]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?_o:ws,this.isPropagationStopped=ws,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),c}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=va(wo),Al=m({},wo,{view:0,detail:0}),ld=va(Al),Cl,f0,Ks,d0=m({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ks&&(Ks&&o.type==="mousemove"?(Cl=o.screenX-Ks.screenX,f0=o.screenY-Ks.screenY):f0=Cl=0,Ks=o),Cl)},movementY:function(o){return"movementY"in o?o.movementY:f0}}),cd=va(d0),zc=m({},d0,{dataTransfer:0}),lm=va(zc),cm=m({},Al,{relatedTarget:0}),Uc=va(cm),ud=m({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),um=va(ud),h0=m({},wo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),fm=va(h0),dm=m({},wo,{data:0}),Xs=va(dm),hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gm(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=mm[o])?!!c[o]:!1}function Tl(){return gm}var Xa=m({},Al,{key:function(o){if(o.key){var c=hm[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Lc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?pm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(o){return o.type==="keypress"?Lc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Lc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),xm=va(Xa),vm=m({},d0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=va(vm),E=m({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),L=va(E),V=m({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),re=va(V),Te=m({},d0,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=va(Te),tt=m({},wo,{newState:0,oldState:0}),Pt=va(tt),_n=[9,13,27,32],pr=Hi&&"CompositionEvent"in window,Yr=null;Hi&&"documentMode"in document&&(Yr=document.documentMode);var qi=Hi&&"TextEvent"in window&&!Yr,Ys=Hi&&(!pr||Yr&&8<Yr&&11>=Yr),Es=" ",Ss=!1;function Vc(o,c){switch(o){case"keyup":return _n.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var m0=!1;function HV(o,c){switch(o){case"compositionend":return p0(c);case"keypress":return c.which!==32?null:(Ss=!0,Es);case"textInput":return o=c.data,o===Es&&Ss?null:o;default:return null}}function qV(o,c){if(m0)return o==="compositionend"||!pr&&Vc(o,c)?(o=od(),Mc=sd=Ws=null,m0=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ys&&c.locale!=="ko"?null:c.data;default:return null}}var WV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R5(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!WV[o.type]:c==="textarea"}function F5(o,c,p,v){El?qs?qs.push(v):qs=[v]:El=v,c=og(c,"onChange"),0<c.length&&(p=new Gs("onChange","change",null,p,v),o.push({event:p,listeners:c}))}var fd=null,dd=null;function GV(o){v3(o,0)}function ym(o){var c=qe(o);if(Pc(c))return o}function B5(o,c){if(o==="change")return c}var M5=!1;if(Hi){var r2;if(Hi){var n2="oninput"in document;if(!n2){var L5=document.createElement("div");L5.setAttribute("oninput","return;"),n2=typeof L5.oninput=="function"}r2=n2}else r2=!1;M5=r2&&(!document.documentMode||9<document.documentMode)}function z5(){fd&&(fd.detachEvent("onpropertychange",U5),dd=fd=null)}function U5(o){if(o.propertyName==="value"&&ym(dd)){var c=[];F5(c,dd,o,$i(o)),Sl(GV,c)}}function KV(o,c,p){o==="focusin"?(z5(),fd=c,dd=p,fd.attachEvent("onpropertychange",U5)):o==="focusout"&&z5()}function XV(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ym(dd)}function YV(o,c){if(o==="click")return ym(c)}function QV(o,c){if(o==="input"||o==="change")return ym(c)}function ZV(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ei=typeof Object.is=="function"?Object.is:ZV;function hd(o,c){if(Ei(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var S=p[v];if(!et.call(c,S)||!Ei(o[S],c[S]))return!1}return!0}function V5(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function $5(o,c){var p=V5(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=c&&v>=c)return{node:p,offset:c-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=V5(p)}}function H5(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?H5(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function q5(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Hs(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=Hs(o.document)}return c}function a2(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var JV=Hi&&"documentMode"in document&&11>=document.documentMode,g0=null,i2=null,pd=null,s2=!1;function W5(o,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;s2||g0==null||g0!==Hs(v)||(v=g0,"selectionStart"in v&&a2(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),pd&&hd(pd,v)||(pd=v,v=og(i2,"onSelect"),0<v.length&&(c=new Gs("onSelect","select",null,c,p),o.push({event:c,listeners:v}),c.target=g0)))}function $c(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var x0={animationend:$c("Animation","AnimationEnd"),animationiteration:$c("Animation","AnimationIteration"),animationstart:$c("Animation","AnimationStart"),transitionrun:$c("Transition","TransitionRun"),transitionstart:$c("Transition","TransitionStart"),transitioncancel:$c("Transition","TransitionCancel"),transitionend:$c("Transition","TransitionEnd")},o2={},G5={};Hi&&(G5=document.createElement("div").style,"AnimationEvent"in window||(delete x0.animationend.animation,delete x0.animationiteration.animation,delete x0.animationstart.animation),"TransitionEvent"in window||delete x0.transitionend.transition);function Hc(o){if(o2[o])return o2[o];if(!x0[o])return o;var c=x0[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in G5)return o2[o]=c[p];return o}var K5=Hc("animationend"),X5=Hc("animationiteration"),Y5=Hc("animationstart"),e$=Hc("transitionrun"),t$=Hc("transitionstart"),r$=Hc("transitioncancel"),Q5=Hc("transitionend"),Z5=new Map,l2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");l2.push("scrollEnd");function As(o,c){Z5.set(o,c),Ze(c,[o])}var bm=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Wi=[],v0=0,c2=0;function _m(){for(var o=v0,c=c2=v0=0;c<o;){var p=Wi[c];Wi[c++]=null;var v=Wi[c];Wi[c++]=null;var S=Wi[c];Wi[c++]=null;var D=Wi[c];if(Wi[c++]=null,v!==null&&S!==null){var z=v.pending;z===null?S.next=S:(S.next=z.next,z.next=S),v.pending=S}D!==0&&J5(p,S,D)}}function wm(o,c,p,v){Wi[v0++]=o,Wi[v0++]=c,Wi[v0++]=p,Wi[v0++]=v,c2|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function u2(o,c,p,v){return wm(o,c,p,v),Em(o)}function qc(o,c){return wm(o,null,null,c),Em(o)}function J5(o,c,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var S=!1,D=o.return;D!==null;)D.childLanes|=p,v=D.alternate,v!==null&&(v.childLanes|=p),D.tag===22&&(o=D.stateNode,o===null||o._visibility&1||(S=!0)),o=D,D=D.return;return o.tag===3?(D=o.stateNode,S&&c!==null&&(S=31-pt(p),o=D.hiddenUpdates,v=o[S],v===null?o[S]=[c]:v.push(c),c.lane=p|536870912),D):null}function Em(o){if(50<Fd)throw Fd=0,yb=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var y0={};function n$(o,c,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(o,c,p,v){return new n$(o,c,p,v)}function f2(o){return o=o.prototype,!(!o||!o.isReactComponent)}function So(o,c){var p=o.alternate;return p===null?(p=Si(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function eT(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Sm(o,c,p,v,S,D){var z=0;if(v=o,typeof o=="function")f2(o)&&(z=1);else if(typeof o=="string")z=lH(o,p,q.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case R:return o=Si(31,p,c,S),o.elementType=R,o.lanes=D,o;case _:return Wc(p.children,S,D,c);case y:z=8,S|=24;break;case w:return o=Si(12,p,c,S|2),o.elementType=w,o.lanes=D,o;case F:return o=Si(13,p,c,S),o.elementType=F,o.lanes=D,o;case M:return o=Si(19,p,c,S),o.elementType=M,o.lanes=D,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:z=10;break e;case C:z=9;break e;case O:z=11;break e;case j:z=14;break e;case k:z=16,v=null;break e}z=29,p=Error(n(130,o===null?"null":typeof o,"")),v=null}return c=Si(z,p,c,S),c.elementType=o,c.type=v,c.lanes=D,c}function Wc(o,c,p,v){return o=Si(7,o,v,c),o.lanes=p,o}function d2(o,c,p){return o=Si(6,o,null,c),o.lanes=p,o}function tT(o){var c=Si(18,null,null,0);return c.stateNode=o,c}function h2(o,c,p){return c=Si(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var rT=new WeakMap;function Gi(o,c){if(typeof o=="object"&&o!==null){var p=rT.get(o);return p!==void 0?p:(c={value:o,source:c,stack:Je(c)},rT.set(o,c),c)}return{value:o,source:c,stack:Je(c)}}var b0=[],_0=0,Am=null,md=0,Ki=[],Xi=0,kl=null,Qs=1,Zs="";function Ao(o,c){b0[_0++]=md,b0[_0++]=Am,Am=o,md=c}function nT(o,c,p){Ki[Xi++]=Qs,Ki[Xi++]=Zs,Ki[Xi++]=kl,kl=o;var v=Qs;o=Zs;var S=32-pt(v)-1;v&=~(1<<S),p+=1;var D=32-pt(c)+S;if(30<D){var z=S-S%5;D=(v&(1<<z)-1).toString(32),v>>=z,S-=z,Qs=1<<32-pt(c)+S|p<<S|v,Zs=D+o}else Qs=1<<D|p<<S|v,Zs=o}function p2(o){o.return!==null&&(Ao(o,1),nT(o,1,0))}function m2(o){for(;o===Am;)Am=b0[--_0],b0[_0]=null,md=b0[--_0],b0[_0]=null;for(;o===kl;)kl=Ki[--Xi],Ki[Xi]=null,Zs=Ki[--Xi],Ki[Xi]=null,Qs=Ki[--Xi],Ki[Xi]=null}function aT(o,c){Ki[Xi++]=Qs,Ki[Xi++]=Zs,Ki[Xi++]=kl,Qs=c.id,Zs=c.overflow,kl=o}var ya=null,$r=null,Zt=!1,Dl=null,Yi=!1,g2=Error(n(519));function Ol(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gd(Gi(c,o)),g2}function iT(o){var c=o.stateNode,p=o.type,v=o.memoizedProps;switch(c[J]=o,c[ie]=v,p){case"dialog":Ht("cancel",c),Ht("close",c);break;case"iframe":case"object":case"embed":Ht("load",c);break;case"video":case"audio":for(p=0;p<Md.length;p++)Ht(Md[p],c);break;case"source":Ht("error",c);break;case"img":case"image":case"link":Ht("error",c),Ht("load",c);break;case"details":Ht("toggle",c);break;case"input":Ht("invalid",c),am(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Ht("invalid",c);break;case"textarea":Ht("invalid",c),_l(c,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||w3(c.textContent,p)?(v.popover!=null&&(Ht("beforetoggle",c),Ht("toggle",c)),v.onScroll!=null&&Ht("scroll",c),v.onScrollEnd!=null&&Ht("scrollend",c),v.onClick!=null&&(c.onclick=bs),c=!0):c=!1,c||Ol(o,!0)}function sT(o){for(ya=o.return;ya;)switch(ya.tag){case 5:case 31:case 13:Yi=!1;return;case 27:case 3:Yi=!0;return;default:ya=ya.return}}function w0(o){if(o!==ya)return!1;if(!Zt)return sT(o),Zt=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||Pb(o.type,o.memoizedProps)),p=!p),p&&$r&&Ol(o),sT(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));$r=j3(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));$r=j3(o)}else c===27?(c=$r,Hl(o.type)?(o=Lb,Lb=null,$r=o):$r=c):$r=ya?Zi(o.stateNode.nextSibling):null;return!0}function Gc(){$r=ya=null,Zt=!1}function x2(){var o=Dl;return o!==null&&(ui===null?ui=o:ui.push.apply(ui,o),Dl=null),o}function gd(o){Dl===null?Dl=[o]:Dl.push(o)}var v2=U(null),Kc=null,Co=null;function jl(o,c,p){Z(v2,c._currentValue),c._currentValue=p}function To(o){o._currentValue=v2.current,Y(v2)}function y2(o,c,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===p)break;o=o.return}}function b2(o,c,p,v){var S=o.child;for(S!==null&&(S.return=o);S!==null;){var D=S.dependencies;if(D!==null){var z=S.child;D=D.firstContext;e:for(;D!==null;){var K=D;D=S;for(var ye=0;ye<c.length;ye++)if(K.context===c[ye]){D.lanes|=p,K=D.alternate,K!==null&&(K.lanes|=p),y2(D.return,p,o),v||(z=null);break e}D=K.next}}else if(S.tag===18){if(z=S.return,z===null)throw Error(n(341));z.lanes|=p,D=z.alternate,D!==null&&(D.lanes|=p),y2(z,p,o),z=null}else z=S.child;if(z!==null)z.return=S;else for(z=S;z!==null;){if(z===o){z=null;break}if(S=z.sibling,S!==null){S.return=z.return,z=S;break}z=z.return}S=z}}function E0(o,c,p,v){o=null;for(var S=c,D=!1;S!==null;){if(!D){if((S.flags&524288)!==0)D=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var z=S.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var K=S.type;Ei(S.pendingProps.value,z.value)||(o!==null?o.push(K):o=[K])}}else if(S===ve.current){if(z=S.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(o!==null?o.push($d):o=[$d])}S=S.return}o!==null&&b2(c,o,p,v),c.flags|=262144}function Cm(o){for(o=o.firstContext;o!==null;){if(!Ei(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Xc(o){Kc=o,Co=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ba(o){return oT(Kc,o)}function Tm(o,c){return Kc===null&&Xc(o),oT(o,c)}function oT(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},Co===null){if(o===null)throw Error(n(308));Co=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Co=Co.next=c;return p}var a$=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},i$=e.unstable_scheduleCallback,s$=e.unstable_NormalPriority,Dn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _2(){return{controller:new a$,data:new Map,refCount:0}}function xd(o){o.refCount--,o.refCount===0&&i$(s$,function(){o.controller.abort()})}var vd=null,w2=0,S0=0,A0=null;function o$(o,c){if(vd===null){var p=vd=[];w2=0,S0=Ab(),A0={status:"pending",value:void 0,then:function(v){p.push(v)}}}return w2++,c.then(lT,lT),c}function lT(){if(--w2===0&&vd!==null){A0!==null&&(A0.status="fulfilled");var o=vd;vd=null,S0=0,A0=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function l$(o,c){var p=[],v={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var S=0;S<p.length;S++)(0,p[S])(c)},function(S){for(v.status="rejected",v.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),v}var cT=ne.S;ne.S=function(o,c){Wk=Ye(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&o$(o,c),cT!==null&&cT(o,c)};var Yc=U(null);function E2(){var o=Yc.current;return o!==null?o:Br.pooledCache}function km(o,c){c===null?Z(Yc,Yc.current):Z(Yc,c.pool)}function uT(){var o=E2();return o===null?null:{parent:Dn._currentValue,pool:o}}var C0=Error(n(460)),S2=Error(n(474)),Dm=Error(n(542)),Om={then:function(){}};function fT(o){return o=o.status,o==="fulfilled"||o==="rejected"}function dT(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(bs,bs),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,pT(o),o;default:if(typeof c.status=="string")c.then(bs,bs);else{if(o=Br,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=v}},function(v){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,pT(o),o}throw Zc=c,C0}}function Qc(o){try{var c=o._init;return c(o._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Zc=p,C0):p}}var Zc=null;function hT(){if(Zc===null)throw Error(n(459));var o=Zc;return Zc=null,o}function pT(o){if(o===C0||o===Dm)throw Error(n(483))}var T0=null,yd=0;function jm(o){var c=yd;return yd+=1,T0===null&&(T0=[]),dT(T0,o,c)}function bd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Nm(o,c){throw c.$$typeof===g?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function mT(o){function c(Ae,Ee){if(o){var ke=Ae.deletions;ke===null?(Ae.deletions=[Ee],Ae.flags|=16):ke.push(Ee)}}function p(Ae,Ee){if(!o)return null;for(;Ee!==null;)c(Ae,Ee),Ee=Ee.sibling;return null}function v(Ae){for(var Ee=new Map;Ae!==null;)Ae.key!==null?Ee.set(Ae.key,Ae):Ee.set(Ae.index,Ae),Ae=Ae.sibling;return Ee}function S(Ae,Ee){return Ae=So(Ae,Ee),Ae.index=0,Ae.sibling=null,Ae}function D(Ae,Ee,ke){return Ae.index=ke,o?(ke=Ae.alternate,ke!==null?(ke=ke.index,ke<Ee?(Ae.flags|=67108866,Ee):ke):(Ae.flags|=67108866,Ee)):(Ae.flags|=1048576,Ee)}function z(Ae){return o&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function K(Ae,Ee,ke,ze){return Ee===null||Ee.tag!==6?(Ee=d2(ke,Ae.mode,ze),Ee.return=Ae,Ee):(Ee=S(Ee,ke),Ee.return=Ae,Ee)}function ye(Ae,Ee,ke,ze){var yt=ke.type;return yt===_?Le(Ae,Ee,ke.props.children,ze,ke.key):Ee!==null&&(Ee.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===k&&Qc(yt)===Ee.type)?(Ee=S(Ee,ke.props),bd(Ee,ke),Ee.return=Ae,Ee):(Ee=Sm(ke.type,ke.key,ke.props,null,Ae.mode,ze),bd(Ee,ke),Ee.return=Ae,Ee)}function De(Ae,Ee,ke,ze){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==ke.containerInfo||Ee.stateNode.implementation!==ke.implementation?(Ee=h2(ke,Ae.mode,ze),Ee.return=Ae,Ee):(Ee=S(Ee,ke.children||[]),Ee.return=Ae,Ee)}function Le(Ae,Ee,ke,ze,yt){return Ee===null||Ee.tag!==7?(Ee=Wc(ke,Ae.mode,ze,yt),Ee.return=Ae,Ee):(Ee=S(Ee,ke),Ee.return=Ae,Ee)}function Ve(Ae,Ee,ke){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=d2(""+Ee,Ae.mode,ke),Ee.return=Ae,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case x:return ke=Sm(Ee.type,Ee.key,Ee.props,null,Ae.mode,ke),bd(ke,Ee),ke.return=Ae,ke;case b:return Ee=h2(Ee,Ae.mode,ke),Ee.return=Ae,Ee;case k:return Ee=Qc(Ee),Ve(Ae,Ee,ke)}if(he(Ee)||N(Ee))return Ee=Wc(Ee,Ae.mode,ke,null),Ee.return=Ae,Ee;if(typeof Ee.then=="function")return Ve(Ae,jm(Ee),ke);if(Ee.$$typeof===A)return Ve(Ae,Tm(Ae,Ee),ke);Nm(Ae,Ee)}return null}function Ne(Ae,Ee,ke,ze){var yt=Ee!==null?Ee.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return yt!==null?null:K(Ae,Ee,""+ke,ze);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:return ke.key===yt?ye(Ae,Ee,ke,ze):null;case b:return ke.key===yt?De(Ae,Ee,ke,ze):null;case k:return ke=Qc(ke),Ne(Ae,Ee,ke,ze)}if(he(ke)||N(ke))return yt!==null?null:Le(Ae,Ee,ke,ze,null);if(typeof ke.then=="function")return Ne(Ae,Ee,jm(ke),ze);if(ke.$$typeof===A)return Ne(Ae,Ee,Tm(Ae,ke),ze);Nm(Ae,ke)}return null}function Re(Ae,Ee,ke,ze,yt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Ae=Ae.get(ke)||null,K(Ee,Ae,""+ze,yt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case x:return Ae=Ae.get(ze.key===null?ke:ze.key)||null,ye(Ee,Ae,ze,yt);case b:return Ae=Ae.get(ze.key===null?ke:ze.key)||null,De(Ee,Ae,ze,yt);case k:return ze=Qc(ze),Re(Ae,Ee,ke,ze,yt)}if(he(ze)||N(ze))return Ae=Ae.get(ke)||null,Le(Ee,Ae,ze,yt,null);if(typeof ze.then=="function")return Re(Ae,Ee,ke,jm(ze),yt);if(ze.$$typeof===A)return Re(Ae,Ee,ke,Tm(Ee,ze),yt);Nm(Ee,ze)}return null}function ft(Ae,Ee,ke,ze){for(var yt=null,ur=null,mt=Ee,Mt=Ee=0,Gt=null;mt!==null&&Mt<ke.length;Mt++){mt.index>Mt?(Gt=mt,mt=null):Gt=mt.sibling;var fr=Ne(Ae,mt,ke[Mt],ze);if(fr===null){mt===null&&(mt=Gt);break}o&&mt&&fr.alternate===null&&c(Ae,mt),Ee=D(fr,Ee,Mt),ur===null?yt=fr:ur.sibling=fr,ur=fr,mt=Gt}if(Mt===ke.length)return p(Ae,mt),Zt&&Ao(Ae,Mt),yt;if(mt===null){for(;Mt<ke.length;Mt++)mt=Ve(Ae,ke[Mt],ze),mt!==null&&(Ee=D(mt,Ee,Mt),ur===null?yt=mt:ur.sibling=mt,ur=mt);return Zt&&Ao(Ae,Mt),yt}for(mt=v(mt);Mt<ke.length;Mt++)Gt=Re(mt,Ae,Mt,ke[Mt],ze),Gt!==null&&(o&&Gt.alternate!==null&&mt.delete(Gt.key===null?Mt:Gt.key),Ee=D(Gt,Ee,Mt),ur===null?yt=Gt:ur.sibling=Gt,ur=Gt);return o&&mt.forEach(function(Xl){return c(Ae,Xl)}),Zt&&Ao(Ae,Mt),yt}function St(Ae,Ee,ke,ze){if(ke==null)throw Error(n(151));for(var yt=null,ur=null,mt=Ee,Mt=Ee=0,Gt=null,fr=ke.next();mt!==null&&!fr.done;Mt++,fr=ke.next()){mt.index>Mt?(Gt=mt,mt=null):Gt=mt.sibling;var Xl=Ne(Ae,mt,fr.value,ze);if(Xl===null){mt===null&&(mt=Gt);break}o&&mt&&Xl.alternate===null&&c(Ae,mt),Ee=D(Xl,Ee,Mt),ur===null?yt=Xl:ur.sibling=Xl,ur=Xl,mt=Gt}if(fr.done)return p(Ae,mt),Zt&&Ao(Ae,Mt),yt;if(mt===null){for(;!fr.done;Mt++,fr=ke.next())fr=Ve(Ae,fr.value,ze),fr!==null&&(Ee=D(fr,Ee,Mt),ur===null?yt=fr:ur.sibling=fr,ur=fr);return Zt&&Ao(Ae,Mt),yt}for(mt=v(mt);!fr.done;Mt++,fr=ke.next())fr=Re(mt,Ae,Mt,fr.value,ze),fr!==null&&(o&&fr.alternate!==null&&mt.delete(fr.key===null?Mt:fr.key),Ee=D(fr,Ee,Mt),ur===null?yt=fr:ur.sibling=fr,ur=fr);return o&&mt.forEach(function(yH){return c(Ae,yH)}),Zt&&Ao(Ae,Mt),yt}function Nr(Ae,Ee,ke,ze){if(typeof ke=="object"&&ke!==null&&ke.type===_&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:e:{for(var yt=ke.key;Ee!==null;){if(Ee.key===yt){if(yt=ke.type,yt===_){if(Ee.tag===7){p(Ae,Ee.sibling),ze=S(Ee,ke.props.children),ze.return=Ae,Ae=ze;break e}}else if(Ee.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===k&&Qc(yt)===Ee.type){p(Ae,Ee.sibling),ze=S(Ee,ke.props),bd(ze,ke),ze.return=Ae,Ae=ze;break e}p(Ae,Ee);break}else c(Ae,Ee);Ee=Ee.sibling}ke.type===_?(ze=Wc(ke.props.children,Ae.mode,ze,ke.key),ze.return=Ae,Ae=ze):(ze=Sm(ke.type,ke.key,ke.props,null,Ae.mode,ze),bd(ze,ke),ze.return=Ae,Ae=ze)}return z(Ae);case b:e:{for(yt=ke.key;Ee!==null;){if(Ee.key===yt)if(Ee.tag===4&&Ee.stateNode.containerInfo===ke.containerInfo&&Ee.stateNode.implementation===ke.implementation){p(Ae,Ee.sibling),ze=S(Ee,ke.children||[]),ze.return=Ae,Ae=ze;break e}else{p(Ae,Ee);break}else c(Ae,Ee);Ee=Ee.sibling}ze=h2(ke,Ae.mode,ze),ze.return=Ae,Ae=ze}return z(Ae);case k:return ke=Qc(ke),Nr(Ae,Ee,ke,ze)}if(he(ke))return ft(Ae,Ee,ke,ze);if(N(ke)){if(yt=N(ke),typeof yt!="function")throw Error(n(150));return ke=yt.call(ke),St(Ae,Ee,ke,ze)}if(typeof ke.then=="function")return Nr(Ae,Ee,jm(ke),ze);if(ke.$$typeof===A)return Nr(Ae,Ee,Tm(Ae,ke),ze);Nm(Ae,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,Ee!==null&&Ee.tag===6?(p(Ae,Ee.sibling),ze=S(Ee,ke),ze.return=Ae,Ae=ze):(p(Ae,Ee),ze=d2(ke,Ae.mode,ze),ze.return=Ae,Ae=ze),z(Ae)):p(Ae,Ee)}return function(Ae,Ee,ke,ze){try{yd=0;var yt=Nr(Ae,Ee,ke,ze);return T0=null,yt}catch(mt){if(mt===C0||mt===Dm)throw mt;var ur=Si(29,mt,null,Ae.mode);return ur.lanes=ze,ur.return=Ae,ur}}}var Jc=mT(!0),gT=mT(!1),Nl=!1;function A2(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function C2(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Il(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Pl(o,c,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(mr&2)!==0){var S=v.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),v.pending=c,c=Em(o),J5(o,null,p),c}return wm(o,v,c,p),Em(o)}function _d(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,Tr(o,p)}}function T2(o,c){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var S=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var z={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};D===null?S=D=z:D=D.next=z,p=p.next}while(p!==null);D===null?S=D=c:D=D.next=c}else S=D=c;p={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:D,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var k2=!1;function wd(){if(k2){var o=A0;if(o!==null)throw o}}function Ed(o,c,p,v){k2=!1;var S=o.updateQueue;Nl=!1;var D=S.firstBaseUpdate,z=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var ye=K,De=ye.next;ye.next=null,z===null?D=De:z.next=De,z=ye;var Le=o.alternate;Le!==null&&(Le=Le.updateQueue,K=Le.lastBaseUpdate,K!==z&&(K===null?Le.firstBaseUpdate=De:K.next=De,Le.lastBaseUpdate=ye))}if(D!==null){var Ve=S.baseState;z=0,Le=De=ye=null,K=D;do{var Ne=K.lane&-536870913,Re=Ne!==K.lane;if(Re?(Wt&Ne)===Ne:(v&Ne)===Ne){Ne!==0&&Ne===S0&&(k2=!0),Le!==null&&(Le=Le.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var ft=o,St=K;Ne=c;var Nr=p;switch(St.tag){case 1:if(ft=St.payload,typeof ft=="function"){Ve=ft.call(Nr,Ve,Ne);break e}Ve=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=St.payload,Ne=typeof ft=="function"?ft.call(Nr,Ve,Ne):ft,Ne==null)break e;Ve=m({},Ve,Ne);break e;case 2:Nl=!0}}Ne=K.callback,Ne!==null&&(o.flags|=64,Re&&(o.flags|=8192),Re=S.callbacks,Re===null?S.callbacks=[Ne]:Re.push(Ne))}else Re={lane:Ne,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Le===null?(De=Le=Re,ye=Ve):Le=Le.next=Re,z|=Ne;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;Re=K,K=Re.next,Re.next=null,S.lastBaseUpdate=Re,S.shared.pending=null}}while(!0);Le===null&&(ye=Ve),S.baseState=ye,S.firstBaseUpdate=De,S.lastBaseUpdate=Le,D===null&&(S.shared.lanes=0),Ll|=z,o.lanes=z,o.memoizedState=Ve}}function xT(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function vT(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)xT(p[o],c)}var k0=U(null),Im=U(0);function yT(o,c){o=Fo,Z(Im,o),Z(k0,c),Fo=o|c.baseLanes}function D2(){Z(Im,Fo),Z(k0,k0.current)}function O2(){Fo=Im.current,Y(k0),Y(Im)}var Ai=U(null),Qi=null;function Rl(o){var c=o.alternate;Z(wn,wn.current&1),Z(Ai,o),Qi===null&&(c===null||k0.current!==null||c.memoizedState!==null)&&(Qi=o)}function j2(o){Z(wn,wn.current),Z(Ai,o),Qi===null&&(Qi=o)}function bT(o){o.tag===22?(Z(wn,wn.current),Z(Ai,o),Qi===null&&(Qi=o)):Fl()}function Fl(){Z(wn,wn.current),Z(Ai,Ai.current)}function Ci(o){Y(Ai),Qi===o&&(Qi=null),Y(wn)}var wn=U(0);function Pm(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Bb(p)||Mb(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ko=0,Rt=null,Or=null,On=null,Rm=!1,D0=!1,eu=!1,Fm=0,Sd=0,O0=null,c$=0;function hn(){throw Error(n(321))}function N2(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Ei(o[p],c[p]))return!1;return!0}function I2(o,c,p,v,S,D){return ko=D,Rt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ne.H=o===null||o.memoizedState===null?nk:K2,eu=!1,D=p(v,S),eu=!1,D0&&(D=wT(c,p,v,S)),_T(o),D}function _T(o){ne.H=Td;var c=Or!==null&&Or.next!==null;if(ko=0,On=Or=Rt=null,Rm=!1,Sd=0,O0=null,c)throw Error(n(300));o===null||jn||(o=o.dependencies,o!==null&&Cm(o)&&(jn=!0))}function wT(o,c,p,v){Rt=o;var S=0;do{if(D0&&(O0=null),Sd=0,D0=!1,25<=S)throw Error(n(301));if(S+=1,On=Or=null,o.updateQueue!=null){var D=o.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}ne.H=ak,D=c(p,v)}while(D0);return D}function u$(){var o=ne.H,c=o.useState()[0];return c=typeof c.then=="function"?Ad(c):c,o=o.useState()[0],(Or!==null?Or.memoizedState:null)!==o&&(Rt.flags|=1024),c}function P2(){var o=Fm!==0;return Fm=0,o}function R2(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function F2(o){if(Rm){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Rm=!1}ko=0,On=Or=Rt=null,D0=!1,Sd=Fm=0,O0=null}function Ya(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Rt.memoizedState=On=o:On=On.next=o,On}function En(){if(Or===null){var o=Rt.alternate;o=o!==null?o.memoizedState:null}else o=Or.next;var c=On===null?Rt.memoizedState:On.next;if(c!==null)On=c,Or=o;else{if(o===null)throw Rt.alternate===null?Error(n(467)):Error(n(310));Or=o,o={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},On===null?Rt.memoizedState=On=o:On=On.next=o}return On}function Bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ad(o){var c=Sd;return Sd+=1,O0===null&&(O0=[]),o=dT(O0,o,c),c=Rt,(On===null?c.memoizedState:On.next)===null&&(c=c.alternate,ne.H=c===null||c.memoizedState===null?nk:K2),o}function Mm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ad(o);if(o.$$typeof===A)return ba(o)}throw Error(n(438,String(o)))}function B2(o){var c=null,p=Rt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=Rt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=Bm(),Rt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),v=0;v<o;v++)p[v]=I;return c.index++,p}function Do(o,c){return typeof c=="function"?c(o):c}function Lm(o){var c=En();return M2(c,Or,o)}function M2(o,c,p){var v=o.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=p;var S=o.baseQueue,D=v.pending;if(D!==null){if(S!==null){var z=S.next;S.next=D.next,D.next=z}c.baseQueue=S=D,v.pending=null}if(D=o.baseState,S===null)o.memoizedState=D;else{c=S.next;var K=z=null,ye=null,De=c,Le=!1;do{var Ve=De.lane&-536870913;if(Ve!==De.lane?(Wt&Ve)===Ve:(ko&Ve)===Ve){var Ne=De.revertLane;if(Ne===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Ve===S0&&(Le=!0);else if((ko&Ne)===Ne){De=De.next,Ne===S0&&(Le=!0);continue}else Ve={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ye===null?(K=ye=Ve,z=D):ye=ye.next=Ve,Rt.lanes|=Ne,Ll|=Ne;Ve=De.action,eu&&p(D,Ve),D=De.hasEagerState?De.eagerState:p(D,Ve)}else Ne={lane:Ve,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ye===null?(K=ye=Ne,z=D):ye=ye.next=Ne,Rt.lanes|=Ve,Ll|=Ve;De=De.next}while(De!==null&&De!==c);if(ye===null?z=D:ye.next=K,!Ei(D,o.memoizedState)&&(jn=!0,Le&&(p=A0,p!==null)))throw p;o.memoizedState=D,o.baseState=z,o.baseQueue=ye,v.lastRenderedState=D}return S===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function L2(o){var c=En(),p=c.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var v=p.dispatch,S=p.pending,D=c.memoizedState;if(S!==null){p.pending=null;var z=S=S.next;do D=o(D,z.action),z=z.next;while(z!==S);Ei(D,c.memoizedState)||(jn=!0),c.memoizedState=D,c.baseQueue===null&&(c.baseState=D),p.lastRenderedState=D}return[D,v]}function ET(o,c,p){var v=Rt,S=En(),D=Zt;if(D){if(p===void 0)throw Error(n(407));p=p()}else p=c();var z=!Ei((Or||S).memoizedState,p);if(z&&(S.memoizedState=p,jn=!0),S=S.queue,V2(CT.bind(null,v,S,o),[o]),S.getSnapshot!==c||z||On!==null&&On.memoizedState.tag&1){if(v.flags|=2048,j0(9,{destroy:void 0},AT.bind(null,v,S,p,c),null),Br===null)throw Error(n(349));D||(ko&127)!==0||ST(v,c,p)}return p}function ST(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=Rt.updateQueue,c===null?(c=Bm(),Rt.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function AT(o,c,p,v){c.value=p,c.getSnapshot=v,TT(c)&&kT(o)}function CT(o,c,p){return p(function(){TT(c)&&kT(o)})}function TT(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Ei(o,p)}catch{return!0}}function kT(o){var c=qc(o,2);c!==null&&fi(c,o,2)}function z2(o){var c=Ya();if(typeof o=="function"){var p=o;if(o=p(),eu){It(!0);try{p()}finally{It(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:o},c}function DT(o,c,p,v){return o.baseState=p,M2(o,Or,typeof v=="function"?v:Do)}function f$(o,c,p,v,S){if(Vm(o))throw Error(n(485));if(o=c.action,o!==null){var D={payload:S,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){D.listeners.push(z)}};ne.T!==null?p(!0):D.isTransition=!1,v(D),p=c.pending,p===null?(D.next=c.pending=D,OT(c,D)):(D.next=p.next,c.pending=p.next=D)}}function OT(o,c){var p=c.action,v=c.payload,S=o.state;if(c.isTransition){var D=ne.T,z={};ne.T=z;try{var K=p(S,v),ye=ne.S;ye!==null&&ye(z,K),jT(o,c,K)}catch(De){U2(o,c,De)}finally{D!==null&&z.types!==null&&(D.types=z.types),ne.T=D}}else try{D=p(S,v),jT(o,c,D)}catch(De){U2(o,c,De)}}function jT(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){NT(o,c,v)},function(v){return U2(o,c,v)}):NT(o,c,p)}function NT(o,c,p){c.status="fulfilled",c.value=p,IT(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,OT(o,p)))}function U2(o,c,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,IT(c),c=c.next;while(c!==v)}o.action=null}function IT(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function PT(o,c){return c}function RT(o,c){if(Zt){var p=Br.formState;if(p!==null){e:{var v=Rt;if(Zt){if($r){t:{for(var S=$r,D=Yi;S.nodeType!==8;){if(!D){S=null;break t}if(S=Zi(S.nextSibling),S===null){S=null;break t}}D=S.data,S=D==="F!"||D==="F"?S:null}if(S){$r=Zi(S.nextSibling),v=S.data==="F!";break e}}Ol(v)}v=!1}v&&(c=p[0])}}return p=Ya(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PT,lastRenderedState:c},p.queue=v,p=ek.bind(null,Rt,v),v.dispatch=p,v=z2(!1),D=G2.bind(null,Rt,!1,v.queue),v=Ya(),S={state:c,dispatch:null,action:o,pending:null},v.queue=S,p=f$.bind(null,Rt,S,D,p),S.dispatch=p,v.memoizedState=o,[c,p,!1]}function FT(o){var c=En();return BT(c,Or,o)}function BT(o,c,p){if(c=M2(o,c,PT)[0],o=Lm(Do)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Ad(c)}catch(z){throw z===C0?Dm:z}else v=c;c=En();var S=c.queue,D=S.dispatch;return p!==c.memoizedState&&(Rt.flags|=2048,j0(9,{destroy:void 0},d$.bind(null,S,p),null)),[v,D,o]}function d$(o,c){o.action=c}function MT(o){var c=En(),p=Or;if(p!==null)return BT(c,p,o);En(),c=c.memoizedState,p=En();var v=p.queue.dispatch;return p.memoizedState=o,[c,v,!1]}function j0(o,c,p,v){return o={tag:o,create:p,deps:v,inst:c,next:null},c=Rt.updateQueue,c===null&&(c=Bm(),Rt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,c.lastEffect=o),o}function LT(){return En().memoizedState}function zm(o,c,p,v){var S=Ya();Rt.flags|=o,S.memoizedState=j0(1|c,{destroy:void 0},p,v===void 0?null:v)}function Um(o,c,p,v){var S=En();v=v===void 0?null:v;var D=S.memoizedState.inst;Or!==null&&v!==null&&N2(v,Or.memoizedState.deps)?S.memoizedState=j0(c,D,p,v):(Rt.flags|=o,S.memoizedState=j0(1|c,D,p,v))}function zT(o,c){zm(8390656,8,o,c)}function V2(o,c){Um(2048,8,o,c)}function h$(o){Rt.flags|=4;var c=Rt.updateQueue;if(c===null)c=Bm(),Rt.updateQueue=c,c.events=[o];else{var p=c.events;p===null?c.events=[o]:p.push(o)}}function UT(o){var c=En().memoizedState;return h$({ref:c,nextImpl:o}),function(){if((mr&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function VT(o,c){return Um(4,2,o,c)}function $T(o,c){return Um(4,4,o,c)}function HT(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function qT(o,c,p){p=p!=null?p.concat([o]):null,Um(4,4,HT.bind(null,c,o),p)}function $2(){}function WT(o,c){var p=En();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&N2(c,v[1])?v[0]:(p.memoizedState=[o,c],o)}function GT(o,c){var p=En();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&N2(c,v[1]))return v[0];if(v=o(),eu){It(!0);try{o()}finally{It(!1)}}return p.memoizedState=[v,c],v}function H2(o,c,p){return p===void 0||(ko&1073741824)!==0&&(Wt&261930)===0?o.memoizedState=c:(o.memoizedState=p,o=Kk(),Rt.lanes|=o,Ll|=o,p)}function KT(o,c,p,v){return Ei(p,c)?p:k0.current!==null?(o=H2(o,p,v),Ei(o,c)||(jn=!0),o):(ko&42)===0||(ko&1073741824)!==0&&(Wt&261930)===0?(jn=!0,o.memoizedState=p):(o=Kk(),Rt.lanes|=o,Ll|=o,c)}function XT(o,c,p,v,S){var D=de.p;de.p=D!==0&&8>D?D:8;var z=ne.T,K={};ne.T=K,G2(o,!1,c,p);try{var ye=S(),De=ne.S;if(De!==null&&De(K,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Le=l$(ye,v);Cd(o,c,Le,Di(o))}else Cd(o,c,v,Di(o))}catch(Ve){Cd(o,c,{then:function(){},status:"rejected",reason:Ve},Di())}finally{de.p=D,z!==null&&K.types!==null&&(z.types=K.types),ne.T=z}}function p$(){}function q2(o,c,p,v){if(o.tag!==5)throw Error(n(476));var S=YT(o).queue;XT(o,S,c,be,p===null?p$:function(){return QT(o),p(v)})}function YT(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:be},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function QT(o){var c=YT(o);c.next===null&&(c=o.alternate.memoizedState),Cd(o,c.next.queue,{},Di())}function W2(){return ba($d)}function ZT(){return En().memoizedState}function JT(){return En().memoizedState}function m$(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=Di();o=Il(p);var v=Pl(c,o,p);v!==null&&(fi(v,c,p),_d(v,c,p)),c={cache:_2()},o.payload=c;return}c=c.return}}function g$(o,c,p){var v=Di();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Vm(o)?tk(c,p):(p=u2(o,c,p,v),p!==null&&(fi(p,o,v),rk(p,c,v)))}function ek(o,c,p){var v=Di();Cd(o,c,p,v)}function Cd(o,c,p,v){var S={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Vm(o))tk(c,S);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=c.lastRenderedReducer,D!==null))try{var z=c.lastRenderedState,K=D(z,p);if(S.hasEagerState=!0,S.eagerState=K,Ei(K,z))return wm(o,c,S,0),Br===null&&_m(),!1}catch{}if(p=u2(o,c,S,v),p!==null)return fi(p,o,v),rk(p,c,v),!0}return!1}function G2(o,c,p,v){if(v={lane:2,revertLane:Ab(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Vm(o)){if(c)throw Error(n(479))}else c=u2(o,p,v,2),c!==null&&fi(c,o,2)}function Vm(o){var c=o.alternate;return o===Rt||c!==null&&c===Rt}function tk(o,c){D0=Rm=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function rk(o,c,p){if((p&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,Tr(o,p)}}var Td={readContext:ba,use:Mm,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn};Td.useEffectEvent=hn;var nk={readContext:ba,use:Mm,useCallback:function(o,c){return Ya().memoizedState=[o,c===void 0?null:c],o},useContext:ba,useEffect:zT,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,zm(4194308,4,HT.bind(null,c,o),p)},useLayoutEffect:function(o,c){return zm(4194308,4,o,c)},useInsertionEffect:function(o,c){zm(4,2,o,c)},useMemo:function(o,c){var p=Ya();c=c===void 0?null:c;var v=o();if(eu){It(!0);try{o()}finally{It(!1)}}return p.memoizedState=[v,c],v},useReducer:function(o,c,p){var v=Ya();if(p!==void 0){var S=p(c);if(eu){It(!0);try{p(c)}finally{It(!1)}}}else S=c;return v.memoizedState=v.baseState=S,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:S},v.queue=o,o=o.dispatch=g$.bind(null,Rt,o),[v.memoizedState,o]},useRef:function(o){var c=Ya();return o={current:o},c.memoizedState=o},useState:function(o){o=z2(o);var c=o.queue,p=ek.bind(null,Rt,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:$2,useDeferredValue:function(o,c){var p=Ya();return H2(p,o,c)},useTransition:function(){var o=z2(!1);return o=XT.bind(null,Rt,o.queue,!0,!1),Ya().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var v=Rt,S=Ya();if(Zt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=c(),Br===null)throw Error(n(349));(Wt&127)!==0||ST(v,c,p)}S.memoizedState=p;var D={value:p,getSnapshot:c};return S.queue=D,zT(CT.bind(null,v,D,o),[o]),v.flags|=2048,j0(9,{destroy:void 0},AT.bind(null,v,D,p,c),null),p},useId:function(){var o=Ya(),c=Br.identifierPrefix;if(Zt){var p=Zs,v=Qs;p=(v&~(1<<32-pt(v)-1)).toString(32)+p,c="_"+c+"R_"+p,p=Fm++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=c$++,c="_"+c+"r_"+p.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:W2,useFormState:RT,useActionState:RT,useOptimistic:function(o){var c=Ya();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=G2.bind(null,Rt,!0,p),p.dispatch=c,[o,c]},useMemoCache:B2,useCacheRefresh:function(){return Ya().memoizedState=m$.bind(null,Rt)},useEffectEvent:function(o){var c=Ya(),p={impl:o};return c.memoizedState=p,function(){if((mr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},K2={readContext:ba,use:Mm,useCallback:WT,useContext:ba,useEffect:V2,useImperativeHandle:qT,useInsertionEffect:VT,useLayoutEffect:$T,useMemo:GT,useReducer:Lm,useRef:LT,useState:function(){return Lm(Do)},useDebugValue:$2,useDeferredValue:function(o,c){var p=En();return KT(p,Or.memoizedState,o,c)},useTransition:function(){var o=Lm(Do)[0],c=En().memoizedState;return[typeof o=="boolean"?o:Ad(o),c]},useSyncExternalStore:ET,useId:ZT,useHostTransitionStatus:W2,useFormState:FT,useActionState:FT,useOptimistic:function(o,c){var p=En();return DT(p,Or,o,c)},useMemoCache:B2,useCacheRefresh:JT};K2.useEffectEvent=UT;var ak={readContext:ba,use:Mm,useCallback:WT,useContext:ba,useEffect:V2,useImperativeHandle:qT,useInsertionEffect:VT,useLayoutEffect:$T,useMemo:GT,useReducer:L2,useRef:LT,useState:function(){return L2(Do)},useDebugValue:$2,useDeferredValue:function(o,c){var p=En();return Or===null?H2(p,o,c):KT(p,Or.memoizedState,o,c)},useTransition:function(){var o=L2(Do)[0],c=En().memoizedState;return[typeof o=="boolean"?o:Ad(o),c]},useSyncExternalStore:ET,useId:ZT,useHostTransitionStatus:W2,useFormState:MT,useActionState:MT,useOptimistic:function(o,c){var p=En();return Or!==null?DT(p,Or,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:B2,useCacheRefresh:JT};ak.useEffectEvent=UT;function X2(o,c,p,v){c=o.memoizedState,p=p(v,c),p=p==null?c:m({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var Y2={enqueueSetState:function(o,c,p){o=o._reactInternals;var v=Di(),S=Il(v);S.payload=c,p!=null&&(S.callback=p),c=Pl(o,S,v),c!==null&&(fi(c,o,v),_d(c,o,v))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var v=Di(),S=Il(v);S.tag=1,S.payload=c,p!=null&&(S.callback=p),c=Pl(o,S,v),c!==null&&(fi(c,o,v),_d(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Di(),v=Il(p);v.tag=2,c!=null&&(v.callback=c),c=Pl(o,v,p),c!==null&&(fi(c,o,p),_d(c,o,p))}};function ik(o,c,p,v,S,D,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,D,z):c.prototype&&c.prototype.isPureReactComponent?!hd(p,v)||!hd(S,D):!0}function sk(o,c,p,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==o&&Y2.enqueueReplaceState(c,c.state,null)}function tu(o,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(o=o.defaultProps){p===c&&(p=m({},p));for(var S in o)p[S]===void 0&&(p[S]=o[S])}return p}function ok(o){bm(o)}function lk(o){console.error(o)}function ck(o){bm(o)}function $m(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function uk(o,c,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Q2(o,c,p){return p=Il(p),p.tag=3,p.payload={element:null},p.callback=function(){$m(o,c)},p}function fk(o){return o=Il(o),o.tag=3,o}function dk(o,c,p,v){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var D=v.value;o.payload=function(){return S(D)},o.callback=function(){uk(c,p,v)}}var z=p.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){uk(c,p,v),typeof S!="function"&&(zl===null?zl=new Set([this]):zl.add(this));var K=v.stack;this.componentDidCatch(v.value,{componentStack:K!==null?K:""})})}function x$(o,c,p,v,S){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&E0(c,p,S,!0),p=Ai.current,p!==null){switch(p.tag){case 31:case 13:return Qi===null?tg():p.alternate===null&&pn===0&&(pn=3),p.flags&=-257,p.flags|=65536,p.lanes=S,v===Om?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),wb(o,v,S)),!1;case 22:return p.flags|=65536,v===Om?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),wb(o,v,S)),!1}throw Error(n(435,p.tag))}return wb(o,v,S),tg(),!1}if(Zt)return c=Ai.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,v!==g2&&(o=Error(n(422),{cause:v}),gd(Gi(o,p)))):(v!==g2&&(c=Error(n(423),{cause:v}),gd(Gi(c,p))),o=o.current.alternate,o.flags|=65536,S&=-S,o.lanes|=S,v=Gi(v,p),S=Q2(o.stateNode,v,S),T2(o,S),pn!==4&&(pn=2)),!1;var D=Error(n(520),{cause:v});if(D=Gi(D,p),Rd===null?Rd=[D]:Rd.push(D),pn!==4&&(pn=2),c===null)return!0;v=Gi(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=S&-S,p.lanes|=o,o=Q2(p.stateNode,v,o),T2(p,o),!1;case 1:if(c=p.type,D=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(zl===null||!zl.has(D))))return p.flags|=65536,S&=-S,p.lanes|=S,S=fk(S),dk(S,o,p,v),T2(p,S),!1}p=p.return}while(p!==null);return!1}var Z2=Error(n(461)),jn=!1;function _a(o,c,p,v){c.child=o===null?gT(c,null,p,v):Jc(c,o.child,p,v)}function hk(o,c,p,v,S){p=p.render;var D=c.ref;if("ref"in v){var z={};for(var K in v)K!=="ref"&&(z[K]=v[K])}else z=v;return Xc(c),v=I2(o,c,p,z,D,S),K=P2(),o!==null&&!jn?(R2(o,c,S),Oo(o,c,S)):(Zt&&K&&p2(c),c.flags|=1,_a(o,c,v,S),c.child)}function pk(o,c,p,v,S){if(o===null){var D=p.type;return typeof D=="function"&&!f2(D)&&D.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=D,mk(o,c,D,v,S)):(o=Sm(p.type,null,v,c,c.mode,S),o.ref=c.ref,o.return=c,c.child=o)}if(D=o.child,!sb(o,S)){var z=D.memoizedProps;if(p=p.compare,p=p!==null?p:hd,p(z,v)&&o.ref===c.ref)return Oo(o,c,S)}return c.flags|=1,o=So(D,v),o.ref=c.ref,o.return=c,c.child=o}function mk(o,c,p,v,S){if(o!==null){var D=o.memoizedProps;if(hd(D,v)&&o.ref===c.ref)if(jn=!1,c.pendingProps=v=D,sb(o,S))(o.flags&131072)!==0&&(jn=!0);else return c.lanes=o.lanes,Oo(o,c,S)}return J2(o,c,p,v,S)}function gk(o,c,p,v){var S=v.children,D=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(D=D!==null?D.baseLanes|p:p,o!==null){for(v=c.child=o.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~D}else v=0,c.child=null;return xk(o,c,D,p,v)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&km(c,D!==null?D.cachePool:null),D!==null?yT(c,D):D2(),bT(c);else return v=c.lanes=536870912,xk(o,c,D!==null?D.baseLanes|p:p,p,v)}else D!==null?(km(c,D.cachePool),yT(c,D),Fl(),c.memoizedState=null):(o!==null&&km(c,null),D2(),Fl());return _a(o,c,S,p),c.child}function kd(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function xk(o,c,p,v,S){var D=E2();return D=D===null?null:{parent:Dn._currentValue,pool:D},c.memoizedState={baseLanes:p,cachePool:D},o!==null&&km(c,null),D2(),bT(c),o!==null&&E0(o,c,v,!0),c.childLanes=S,null}function Hm(o,c){return c=Wm({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function vk(o,c,p){return Jc(c,o.child,null,p),o=Hm(c,c.pendingProps),o.flags|=2,Ci(c),c.memoizedState=null,o}function v$(o,c,p){var v=c.pendingProps,S=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Zt){if(v.mode==="hidden")return o=Hm(c,v),c.lanes=536870912,kd(null,o);if(j2(c),(o=$r)?(o=O3(o,Yi),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:kl!==null?{id:Qs,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},p=tT(o),p.return=c,c.child=p,ya=c,$r=null)):o=null,o===null)throw Ol(c);return c.lanes=536870912,null}return Hm(c,v)}var D=o.memoizedState;if(D!==null){var z=D.dehydrated;if(j2(c),S)if(c.flags&256)c.flags&=-257,c=vk(o,c,p);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(jn||E0(o,c,p,!1),S=(p&o.childLanes)!==0,jn||S){if(v=Br,v!==null&&(z=sn(v,p),z!==0&&z!==D.retryLane))throw D.retryLane=z,qc(o,z),fi(v,o,z),Z2;tg(),c=vk(o,c,p)}else o=D.treeContext,$r=Zi(z.nextSibling),ya=c,Zt=!0,Dl=null,Yi=!1,o!==null&&aT(c,o),c=Hm(c,v),c.flags|=4096;return c}return o=So(o.child,{mode:v.mode,children:v.children}),o.ref=c.ref,c.child=o,o.return=c,o}function qm(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function J2(o,c,p,v,S){return Xc(c),p=I2(o,c,p,v,void 0,S),v=P2(),o!==null&&!jn?(R2(o,c,S),Oo(o,c,S)):(Zt&&v&&p2(c),c.flags|=1,_a(o,c,p,S),c.child)}function yk(o,c,p,v,S,D){return Xc(c),c.updateQueue=null,p=wT(c,v,p,S),_T(o),v=P2(),o!==null&&!jn?(R2(o,c,D),Oo(o,c,D)):(Zt&&v&&p2(c),c.flags|=1,_a(o,c,p,D),c.child)}function bk(o,c,p,v,S){if(Xc(c),c.stateNode===null){var D=y0,z=p.contextType;typeof z=="object"&&z!==null&&(D=ba(z)),D=new p(v,D),c.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=Y2,c.stateNode=D,D._reactInternals=c,D=c.stateNode,D.props=v,D.state=c.memoizedState,D.refs={},A2(c),z=p.contextType,D.context=typeof z=="object"&&z!==null?ba(z):y0,D.state=c.memoizedState,z=p.getDerivedStateFromProps,typeof z=="function"&&(X2(c,p,z,v),D.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(z=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),z!==D.state&&Y2.enqueueReplaceState(D,D.state,null),Ed(c,v,D,S),wd(),D.state=c.memoizedState),typeof D.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){D=c.stateNode;var K=c.memoizedProps,ye=tu(p,K);D.props=ye;var De=D.context,Le=p.contextType;z=y0,typeof Le=="object"&&Le!==null&&(z=ba(Le));var Ve=p.getDerivedStateFromProps;Le=typeof Ve=="function"||typeof D.getSnapshotBeforeUpdate=="function",K=c.pendingProps!==K,Le||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K||De!==z)&&sk(c,D,v,z),Nl=!1;var Ne=c.memoizedState;D.state=Ne,Ed(c,v,D,S),wd(),De=c.memoizedState,K||Ne!==De||Nl?(typeof Ve=="function"&&(X2(c,p,Ve,v),De=c.memoizedState),(ye=Nl||ik(c,p,ye,v,Ne,De,z))?(Le||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=De),D.props=v,D.state=De,D.context=z,v=ye):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{D=c.stateNode,C2(o,c),z=c.memoizedProps,Le=tu(p,z),D.props=Le,Ve=c.pendingProps,Ne=D.context,De=p.contextType,ye=y0,typeof De=="object"&&De!==null&&(ye=ba(De)),K=p.getDerivedStateFromProps,(De=typeof K=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==Ve||Ne!==ye)&&sk(c,D,v,ye),Nl=!1,Ne=c.memoizedState,D.state=Ne,Ed(c,v,D,S),wd();var Re=c.memoizedState;z!==Ve||Ne!==Re||Nl||o!==null&&o.dependencies!==null&&Cm(o.dependencies)?(typeof K=="function"&&(X2(c,p,K,v),Re=c.memoizedState),(Le=Nl||ik(c,p,Le,v,Ne,Re,ye)||o!==null&&o.dependencies!==null&&Cm(o.dependencies))?(De||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,Re,ye),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,Re,ye)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||z===o.memoizedProps&&Ne===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Ne===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Re),D.props=v,D.state=Re,D.context=ye,v=Le):(typeof D.componentDidUpdate!="function"||z===o.memoizedProps&&Ne===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Ne===o.memoizedState||(c.flags|=1024),v=!1)}return D=v,qm(o,c),v=(c.flags&128)!==0,D||v?(D=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:D.render(),c.flags|=1,o!==null&&v?(c.child=Jc(c,o.child,null,S),c.child=Jc(c,null,p,S)):_a(o,c,p,S),c.memoizedState=D.state,o=c.child):o=Oo(o,c,S),o}function _k(o,c,p,v){return Gc(),c.flags|=256,_a(o,c,p,v),c.child}var eb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tb(o){return{baseLanes:o,cachePool:uT()}}function rb(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=ki),o}function wk(o,c,p){var v=c.pendingProps,S=!1,D=(c.flags&128)!==0,z;if((z=D)||(z=o!==null&&o.memoizedState===null?!1:(wn.current&2)!==0),z&&(S=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(Zt){if(S?Rl(c):Fl(),(o=$r)?(o=O3(o,Yi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:kl!==null?{id:Qs,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},p=tT(o),p.return=c,c.child=p,ya=c,$r=null)):o=null,o===null)throw Ol(c);return Mb(o)?c.lanes=32:c.lanes=536870912,null}var K=v.children;return v=v.fallback,S?(Fl(),S=c.mode,K=Wm({mode:"hidden",children:K},S),v=Wc(v,S,p,null),K.return=c,v.return=c,K.sibling=v,c.child=K,v=c.child,v.memoizedState=tb(p),v.childLanes=rb(o,z,p),c.memoizedState=eb,kd(null,v)):(Rl(c),nb(c,K))}var ye=o.memoizedState;if(ye!==null&&(K=ye.dehydrated,K!==null)){if(D)c.flags&256?(Rl(c),c.flags&=-257,c=ab(o,c,p)):c.memoizedState!==null?(Fl(),c.child=o.child,c.flags|=128,c=null):(Fl(),K=v.fallback,S=c.mode,v=Wm({mode:"visible",children:v.children},S),K=Wc(K,S,p,null),K.flags|=2,v.return=c,K.return=c,v.sibling=K,c.child=v,Jc(c,o.child,null,p),v=c.child,v.memoizedState=tb(p),v.childLanes=rb(o,z,p),c.memoizedState=eb,c=kd(null,v));else if(Rl(c),Mb(K)){if(z=K.nextSibling&&K.nextSibling.dataset,z)var De=z.dgst;z=De,v=Error(n(419)),v.stack="",v.digest=z,gd({value:v,source:null,stack:null}),c=ab(o,c,p)}else if(jn||E0(o,c,p,!1),z=(p&o.childLanes)!==0,jn||z){if(z=Br,z!==null&&(v=sn(z,p),v!==0&&v!==ye.retryLane))throw ye.retryLane=v,qc(o,v),fi(z,o,v),Z2;Bb(K)||tg(),c=ab(o,c,p)}else Bb(K)?(c.flags|=192,c.child=o.child,c=null):(o=ye.treeContext,$r=Zi(K.nextSibling),ya=c,Zt=!0,Dl=null,Yi=!1,o!==null&&aT(c,o),c=nb(c,v.children),c.flags|=4096);return c}return S?(Fl(),K=v.fallback,S=c.mode,ye=o.child,De=ye.sibling,v=So(ye,{mode:"hidden",children:v.children}),v.subtreeFlags=ye.subtreeFlags&65011712,De!==null?K=So(De,K):(K=Wc(K,S,p,null),K.flags|=2),K.return=c,v.return=c,v.sibling=K,c.child=v,kd(null,v),v=c.child,K=o.child.memoizedState,K===null?K=tb(p):(S=K.cachePool,S!==null?(ye=Dn._currentValue,S=S.parent!==ye?{parent:ye,pool:ye}:S):S=uT(),K={baseLanes:K.baseLanes|p,cachePool:S}),v.memoizedState=K,v.childLanes=rb(o,z,p),c.memoizedState=eb,kd(o.child,v)):(Rl(c),p=o.child,o=p.sibling,p=So(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=p,c.memoizedState=null,p)}function nb(o,c){return c=Wm({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Wm(o,c){return o=Si(22,o,null,c),o.lanes=0,o}function ab(o,c,p){return Jc(c,o.child,null,p),o=nb(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Ek(o,c,p){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),y2(o.return,c,p)}function ib(o,c,p,v,S,D){var z=o.memoizedState;z===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:S,treeForkCount:D}:(z.isBackwards=c,z.rendering=null,z.renderingStartTime=0,z.last=v,z.tail=p,z.tailMode=S,z.treeForkCount=D)}function Sk(o,c,p){var v=c.pendingProps,S=v.revealOrder,D=v.tail;v=v.children;var z=wn.current,K=(z&2)!==0;if(K?(z=z&1|2,c.flags|=128):z&=1,Z(wn,z),_a(o,c,v,p),v=Zt?md:0,!K&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Ek(o,p,c);else if(o.tag===19)Ek(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(S){case"forwards":for(p=c.child,S=null;p!==null;)o=p.alternate,o!==null&&Pm(o)===null&&(S=p),p=p.sibling;p=S,p===null?(S=c.child,c.child=null):(S=p.sibling,p.sibling=null),ib(c,!1,S,p,D,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=c.child,c.child=null;S!==null;){if(o=S.alternate,o!==null&&Pm(o)===null){c.child=S;break}o=S.sibling,S.sibling=p,p=S,S=o}ib(c,!0,p,null,D,v);break;case"together":ib(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Oo(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),Ll|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(E0(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,p=So(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=So(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function sb(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Cm(o)))}function y$(o,c,p){switch(c.tag){case 3:H(c,c.stateNode.containerInfo),jl(c,Dn,o.memoizedState.cache),Gc();break;case 27:case 5:ee(c);break;case 4:H(c,c.stateNode.containerInfo);break;case 10:jl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,j2(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Rl(c),c.flags|=128,null):(p&c.child.childLanes)!==0?wk(o,c,p):(Rl(c),o=Oo(o,c,p),o!==null?o.sibling:null);Rl(c);break;case 19:var S=(o.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||(E0(o,c,p,!1),v=(p&c.childLanes)!==0),S){if(v)return Sk(o,c,p);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Z(wn,wn.current),v)break;return null;case 22:return c.lanes=0,gk(o,c,p,c.pendingProps);case 24:jl(c,Dn,o.memoizedState.cache)}return Oo(o,c,p)}function Ak(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)jn=!0;else{if(!sb(o,p)&&(c.flags&128)===0)return jn=!1,y$(o,c,p);jn=(o.flags&131072)!==0}else jn=!1,Zt&&(c.flags&1048576)!==0&&nT(c,md,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(o=Qc(c.elementType),c.type=o,typeof o=="function")f2(o)?(v=tu(o,v),c.tag=1,c=bk(null,c,o,v,p)):(c.tag=0,c=J2(null,c,o,v,p));else{if(o!=null){var S=o.$$typeof;if(S===O){c.tag=11,c=hk(null,c,o,v,p);break e}else if(S===j){c.tag=14,c=pk(null,c,o,v,p);break e}}throw c=oe(o)||o,Error(n(306,c,""))}}return c;case 0:return J2(o,c,c.type,c.pendingProps,p);case 1:return v=c.type,S=tu(v,c.pendingProps),bk(o,c,v,S,p);case 3:e:{if(H(c,c.stateNode.containerInfo),o===null)throw Error(n(387));v=c.pendingProps;var D=c.memoizedState;S=D.element,C2(o,c),Ed(c,v,null,p);var z=c.memoizedState;if(v=z.cache,jl(c,Dn,v),v!==D.cache&&b2(c,[Dn],p,!0),wd(),v=z.element,D.isDehydrated)if(D={element:v,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=D,c.memoizedState=D,c.flags&256){c=_k(o,c,v,p);break e}else if(v!==S){S=Gi(Error(n(424)),c),gd(S),c=_k(o,c,v,p);break e}else for(o=c.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,$r=Zi(o.firstChild),ya=c,Zt=!0,Dl=null,Yi=!0,p=gT(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Gc(),v===S){c=Oo(o,c,p);break e}_a(o,c,v,p)}c=c.child}return c;case 26:return qm(o,c),o===null?(p=F3(c.type,null,c.pendingProps,null))?c.memoizedState=p:Zt||(p=c.type,o=c.pendingProps,v=lg(me.current).createElement(p),v[J]=c,v[ie]=o,wa(v,p,o),ct(v),c.stateNode=v):c.memoizedState=F3(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return ee(c),o===null&&Zt&&(v=c.stateNode=I3(c.type,c.pendingProps,me.current),ya=c,Yi=!0,S=$r,Hl(c.type)?(Lb=S,$r=Zi(v.firstChild)):$r=S),_a(o,c,c.pendingProps.children,p),qm(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Zt&&((S=v=$r)&&(v=X$(v,c.type,c.pendingProps,Yi),v!==null?(c.stateNode=v,ya=c,$r=Zi(v.firstChild),Yi=!1,S=!0):S=!1),S||Ol(c)),ee(c),S=c.type,D=c.pendingProps,z=o!==null?o.memoizedProps:null,v=D.children,Pb(S,D)?v=null:z!==null&&Pb(S,z)&&(c.flags|=32),c.memoizedState!==null&&(S=I2(o,c,u$,null,null,p),$d._currentValue=S),qm(o,c),_a(o,c,v,p),c.child;case 6:return o===null&&Zt&&((o=p=$r)&&(p=Y$(p,c.pendingProps,Yi),p!==null?(c.stateNode=p,ya=c,$r=null,o=!0):o=!1),o||Ol(c)),null;case 13:return wk(o,c,p);case 4:return H(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=Jc(c,null,v,p):_a(o,c,v,p),c.child;case 11:return hk(o,c,c.type,c.pendingProps,p);case 7:return _a(o,c,c.pendingProps,p),c.child;case 8:return _a(o,c,c.pendingProps.children,p),c.child;case 12:return _a(o,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,jl(c,c.type,v.value),_a(o,c,v.children,p),c.child;case 9:return S=c.type._context,v=c.pendingProps.children,Xc(c),S=ba(S),v=v(S),c.flags|=1,_a(o,c,v,p),c.child;case 14:return pk(o,c,c.type,c.pendingProps,p);case 15:return mk(o,c,c.type,c.pendingProps,p);case 19:return Sk(o,c,p);case 31:return v$(o,c,p);case 22:return gk(o,c,p,c.pendingProps);case 24:return Xc(c),v=ba(Dn),o===null?(S=E2(),S===null&&(S=Br,D=_2(),S.pooledCache=D,D.refCount++,D!==null&&(S.pooledCacheLanes|=p),S=D),c.memoizedState={parent:v,cache:S},A2(c),jl(c,Dn,S)):((o.lanes&p)!==0&&(C2(o,c),Ed(c,null,null,p),wd()),S=o.memoizedState,D=c.memoizedState,S.parent!==v?(S={parent:v,cache:v},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),jl(c,Dn,v)):(v=D.cache,jl(c,Dn,v),v!==S.cache&&b2(c,[Dn],p,!0))),_a(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function jo(o){o.flags|=4}function ob(o,c,p,v,S){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(S&335544128)===S)if(o.stateNode.complete)o.flags|=8192;else if(Zk())o.flags|=8192;else throw Zc=Om,S2}else o.flags&=-16777217}function Ck(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!U3(c))if(Zk())o.flags|=8192;else throw Zc=Om,S2}function Gm(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?wi():536870912,o.lanes|=c,R0|=c)}function Dd(o,c){if(!Zt)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Hr(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(c)for(var S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=p,c}function b$(o,c,p){var v=c.pendingProps;switch(m2(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(c),null;case 1:return Hr(c),null;case 3:return p=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),To(Dn),G(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(w0(c)?jo(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,x2())),Hr(c),null;case 26:var S=c.type,D=c.memoizedState;return o===null?(jo(c),D!==null?(Hr(c),Ck(c,D)):(Hr(c),ob(c,S,null,v,p))):D?D!==o.memoizedState?(jo(c),Hr(c),Ck(c,D)):(Hr(c),c.flags&=-16777217):(o=o.memoizedProps,o!==v&&jo(c),Hr(c),ob(c,S,o,v,p)),null;case 27:if(ae(c),p=me.current,S=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&jo(c);else{if(!v){if(c.stateNode===null)throw Error(n(166));return Hr(c),null}o=q.current,w0(c)?iT(c):(o=I3(S,v,p),c.stateNode=o,jo(c))}return Hr(c),null;case 5:if(ae(c),S=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&jo(c);else{if(!v){if(c.stateNode===null)throw Error(n(166));return Hr(c),null}if(D=q.current,w0(c))iT(c);else{var z=lg(me.current);switch(D){case 1:D=z.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:D=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":D=z.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":D=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":D=z.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof v.is=="string"?z.createElement("select",{is:v.is}):z.createElement("select"),v.multiple?D.multiple=!0:v.size&&(D.size=v.size);break;default:D=typeof v.is=="string"?z.createElement(S,{is:v.is}):z.createElement(S)}}D[J]=c,D[ie]=v;e:for(z=c.child;z!==null;){if(z.tag===5||z.tag===6)D.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===c)break e;for(;z.sibling===null;){if(z.return===null||z.return===c)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}c.stateNode=D;e:switch(wa(D,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&jo(c)}}return Hr(c),ob(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,p),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&jo(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(n(166));if(o=me.current,w0(c)){if(o=c.stateNode,p=c.memoizedProps,v=null,S=ya,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}o[J]=c,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||w3(o.nodeValue,p)),o||Ol(c,!0)}else o=lg(o).createTextNode(v),o[J]=c,c.stateNode=o}return Hr(c),null;case 31:if(p=c.memoizedState,o===null||o.memoizedState!==null){if(v=w0(c),p!==null){if(o===null){if(!v)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[J]=c}else Gc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Hr(c),o=!1}else p=x2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),o=!0;if(!o)return c.flags&256?(Ci(c),c):(Ci(c),null);if((c.flags&128)!==0)throw Error(n(558))}return Hr(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(S=w0(c),v!==null&&v.dehydrated!==null){if(o===null){if(!S)throw Error(n(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[J]=c}else Gc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Hr(c),S=!1}else S=x2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=S),S=!0;if(!S)return c.flags&256?(Ci(c),c):(Ci(c),null)}return Ci(c),(c.flags&128)!==0?(c.lanes=p,c):(p=v!==null,o=o!==null&&o.memoizedState!==null,p&&(v=c.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),D=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(D=v.memoizedState.cachePool.pool),D!==S&&(v.flags|=2048)),p!==o&&p&&(c.child.flags|=8192),Gm(c,c.updateQueue),Hr(c),null);case 4:return G(),o===null&&Db(c.stateNode.containerInfo),Hr(c),null;case 10:return To(c.type),Hr(c),null;case 19:if(Y(wn),v=c.memoizedState,v===null)return Hr(c),null;if(S=(c.flags&128)!==0,D=v.rendering,D===null)if(S)Dd(v,!1);else{if(pn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(D=Pm(o),D!==null){for(c.flags|=128,Dd(v,!1),o=D.updateQueue,c.updateQueue=o,Gm(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)eT(p,o),p=p.sibling;return Z(wn,wn.current&1|2),Zt&&Ao(c,v.treeForkCount),c.child}o=o.sibling}v.tail!==null&&Ye()>Zm&&(c.flags|=128,S=!0,Dd(v,!1),c.lanes=4194304)}else{if(!S)if(o=Pm(D),o!==null){if(c.flags|=128,S=!0,o=o.updateQueue,c.updateQueue=o,Gm(c,o),Dd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!D.alternate&&!Zt)return Hr(c),null}else 2*Ye()-v.renderingStartTime>Zm&&p!==536870912&&(c.flags|=128,S=!0,Dd(v,!1),c.lanes=4194304);v.isBackwards?(D.sibling=c.child,c.child=D):(o=v.last,o!==null?o.sibling=D:c.child=D,v.last=D)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ye(),o.sibling=null,p=wn.current,Z(wn,S?p&1|2:p&1),Zt&&Ao(c,v.treeForkCount),o):(Hr(c),null);case 22:case 23:return Ci(c),O2(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&(Hr(c),c.subtreeFlags&6&&(c.flags|=8192)):Hr(c),p=c.updateQueue,p!==null&&Gm(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),o!==null&&Y(Yc),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),To(Dn),Hr(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function _$(o,c){switch(m2(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return To(Dn),G(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return ae(c),null;case 31:if(c.memoizedState!==null){if(Ci(c),c.alternate===null)throw Error(n(340));Gc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Ci(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Gc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Y(wn),null;case 4:return G(),null;case 10:return To(c.type),null;case 22:case 23:return Ci(c),O2(),o!==null&&Y(Yc),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return To(Dn),null;case 25:return null;default:return null}}function Tk(o,c){switch(m2(c),c.tag){case 3:To(Dn),G();break;case 26:case 27:case 5:ae(c);break;case 4:G();break;case 31:c.memoizedState!==null&&Ci(c);break;case 13:Ci(c);break;case 19:Y(wn);break;case 10:To(c.type);break;case 22:case 23:Ci(c),O2(),o!==null&&Y(Yc);break;case 24:To(Dn)}}function Od(o,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var S=v.next;p=S;do{if((p.tag&o)===o){v=void 0;var D=p.create,z=p.inst;v=D(),z.destroy=v}p=p.next}while(p!==S)}}catch(K){Sr(c,c.return,K)}}function Bl(o,c,p){try{var v=c.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var D=S.next;v=D;do{if((v.tag&o)===o){var z=v.inst,K=z.destroy;if(K!==void 0){z.destroy=void 0,S=c;var ye=p,De=K;try{De()}catch(Le){Sr(S,ye,Le)}}}v=v.next}while(v!==D)}}catch(Le){Sr(c,c.return,Le)}}function kk(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{vT(c,p)}catch(v){Sr(o,o.return,v)}}}function Dk(o,c,p){p.props=tu(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){Sr(o,c,v)}}function jd(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(S){Sr(o,c,S)}}function Js(o,c){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(S){Sr(o,c,S)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){Sr(o,c,S)}else p.current=null}function Ok(o){var c=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(S){Sr(o,o.return,S)}}function lb(o,c,p){try{var v=o.stateNode;$$(v,o.type,p,c),v[ie]=c}catch(S){Sr(o,o.return,S)}}function jk(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Hl(o.type)||o.tag===4}function cb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||jk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Hl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ub(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=bs));else if(v!==4&&(v===27&&Hl(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(ub(o,c,p),o=o.sibling;o!==null;)ub(o,c,p),o=o.sibling}function Km(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(v!==4&&(v===27&&Hl(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Km(o,c,p),o=o.sibling;o!==null;)Km(o,c,p),o=o.sibling}function Nk(o){var c=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,S=c.attributes;S.length;)c.removeAttributeNode(S[0]);wa(c,v,p),c[J]=o,c[ie]=p}catch(D){Sr(o,o.return,D)}}var No=!1,Nn=!1,fb=!1,Ik=typeof WeakSet=="function"?WeakSet:Set,sa=null;function w$(o,c){if(o=o.containerInfo,Nb=mg,o=q5(o),a2(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var S=v.anchorOffset,D=v.focusNode;v=v.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var z=0,K=-1,ye=-1,De=0,Le=0,Ve=o,Ne=null;t:for(;;){for(var Re;Ve!==p||S!==0&&Ve.nodeType!==3||(K=z+S),Ve!==D||v!==0&&Ve.nodeType!==3||(ye=z+v),Ve.nodeType===3&&(z+=Ve.nodeValue.length),(Re=Ve.firstChild)!==null;)Ne=Ve,Ve=Re;for(;;){if(Ve===o)break t;if(Ne===p&&++De===S&&(K=z),Ne===D&&++Le===v&&(ye=z),(Re=Ve.nextSibling)!==null)break;Ve=Ne,Ne=Ve.parentNode}Ve=Re}p=K===-1||ye===-1?null:{start:K,end:ye}}else p=null}p=p||{start:0,end:0}}else p=null;for(Ib={focusedElem:o,selectionRange:p},mg=!1,sa=c;sa!==null;)if(c=sa,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,sa=o;else for(;sa!==null;){switch(c=sa,D=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(p=0;p<o.length;p++)S=o[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&D!==null){o=void 0,p=c,S=D.memoizedProps,D=D.memoizedState,v=p.stateNode;try{var ft=tu(p.type,S);o=v.getSnapshotBeforeUpdate(ft,D),v.__reactInternalSnapshotBeforeUpdate=o}catch(St){Sr(p,p.return,St)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)Fb(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Fb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,sa=o;break}sa=c.return}}function Pk(o,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Po(o,p),v&4&&Od(5,p);break;case 1:if(Po(o,p),v&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(z){Sr(p,p.return,z)}else{var S=tu(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(S,c,o.__reactInternalSnapshotBeforeUpdate)}catch(z){Sr(p,p.return,z)}}v&64&&kk(p),v&512&&jd(p,p.return);break;case 3:if(Po(o,p),v&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{vT(o,c)}catch(z){Sr(p,p.return,z)}}break;case 27:c===null&&v&4&&Nk(p);case 26:case 5:Po(o,p),c===null&&v&4&&Ok(p),v&512&&jd(p,p.return);break;case 12:Po(o,p);break;case 31:Po(o,p),v&4&&Bk(o,p);break;case 13:Po(o,p),v&4&&Mk(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=j$.bind(null,p),Q$(o,p))));break;case 22:if(v=p.memoizedState!==null||No,!v){c=c!==null&&c.memoizedState!==null||Nn,S=No;var D=Nn;No=v,(Nn=c)&&!D?Ro(o,p,(p.subtreeFlags&8772)!==0):Po(o,p),No=S,Nn=D}break;case 30:break;default:Po(o,p)}}function Rk(o){var c=o.alternate;c!==null&&(o.alternate=null,Rk(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Ie(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Qr=null,oi=!1;function Io(o,c,p){for(p=p.child;p!==null;)Fk(o,c,p),p=p.sibling}function Fk(o,c,p){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(bt,p)}catch{}switch(p.tag){case 26:Nn||Js(p,c),Io(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Nn||Js(p,c);var v=Qr,S=oi;Hl(p.type)&&(Qr=p.stateNode,oi=!1),Io(o,c,p),zd(p.stateNode),Qr=v,oi=S;break;case 5:Nn||Js(p,c);case 6:if(v=Qr,S=oi,Qr=null,Io(o,c,p),Qr=v,oi=S,Qr!==null)if(oi)try{(Qr.nodeType===9?Qr.body:Qr.nodeName==="HTML"?Qr.ownerDocument.body:Qr).removeChild(p.stateNode)}catch(D){Sr(p,c,D)}else try{Qr.removeChild(p.stateNode)}catch(D){Sr(p,c,D)}break;case 18:Qr!==null&&(oi?(o=Qr,k3(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),$0(o)):k3(Qr,p.stateNode));break;case 4:v=Qr,S=oi,Qr=p.stateNode.containerInfo,oi=!0,Io(o,c,p),Qr=v,oi=S;break;case 0:case 11:case 14:case 15:Bl(2,p,c),Nn||Bl(4,p,c),Io(o,c,p);break;case 1:Nn||(Js(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&Dk(p,c,v)),Io(o,c,p);break;case 21:Io(o,c,p);break;case 22:Nn=(v=Nn)||p.memoizedState!==null,Io(o,c,p),Nn=v;break;default:Io(o,c,p)}}function Bk(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{$0(o)}catch(p){Sr(c,c.return,p)}}}function Mk(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{$0(o)}catch(p){Sr(c,c.return,p)}}function E$(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Ik),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Ik),c;default:throw Error(n(435,o.tag))}}function Xm(o,c){var p=E$(o);c.forEach(function(v){if(!p.has(v)){p.add(v);var S=N$.bind(null,o,v);v.then(S,S)}})}function li(o,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var S=p[v],D=o,z=c,K=z;e:for(;K!==null;){switch(K.tag){case 27:if(Hl(K.type)){Qr=K.stateNode,oi=!1;break e}break;case 5:Qr=K.stateNode,oi=!1;break e;case 3:case 4:Qr=K.stateNode.containerInfo,oi=!0;break e}K=K.return}if(Qr===null)throw Error(n(160));Fk(D,z,S),Qr=null,oi=!1,D=S.alternate,D!==null&&(D.return=null),S.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Lk(c,o),c=c.sibling}var Cs=null;function Lk(o,c){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:li(c,o),ci(o),v&4&&(Bl(3,o,o.return),Od(3,o),Bl(5,o,o.return));break;case 1:li(c,o),ci(o),v&512&&(Nn||p===null||Js(p,p.return)),v&64&&No&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var S=Cs;if(li(c,o),ci(o),v&512&&(Nn||p===null||Js(p,p.return)),v&4){var D=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":D=S.getElementsByTagName("title")[0],(!D||D[xe]||D[J]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=S.createElement(v),S.head.insertBefore(D,S.querySelector("head > title"))),wa(D,v,p),D[J]=o,ct(D),v=D;break e;case"link":var z=L3("link","href",S).get(v+(p.href||""));if(z){for(var K=0;K<z.length;K++)if(D=z[K],D.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&D.getAttribute("rel")===(p.rel==null?null:p.rel)&&D.getAttribute("title")===(p.title==null?null:p.title)&&D.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){z.splice(K,1);break t}}D=S.createElement(v),wa(D,v,p),S.head.appendChild(D);break;case"meta":if(z=L3("meta","content",S).get(v+(p.content||""))){for(K=0;K<z.length;K++)if(D=z[K],D.getAttribute("content")===(p.content==null?null:""+p.content)&&D.getAttribute("name")===(p.name==null?null:p.name)&&D.getAttribute("property")===(p.property==null?null:p.property)&&D.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&D.getAttribute("charset")===(p.charSet==null?null:p.charSet)){z.splice(K,1);break t}}D=S.createElement(v),wa(D,v,p),S.head.appendChild(D);break;default:throw Error(n(468,v))}D[J]=o,ct(D),v=D}o.stateNode=v}else z3(S,o.type,o.stateNode);else o.stateNode=M3(S,v,o.memoizedProps);else D!==v?(D===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):D.count--,v===null?z3(S,o.type,o.stateNode):M3(S,v,o.memoizedProps)):v===null&&o.stateNode!==null&&lb(o,o.memoizedProps,p.memoizedProps)}break;case 27:li(c,o),ci(o),v&512&&(Nn||p===null||Js(p,p.return)),p!==null&&v&4&&lb(o,o.memoizedProps,p.memoizedProps);break;case 5:if(li(c,o),ci(o),v&512&&(Nn||p===null||Js(p,p.return)),o.flags&32){S=o.stateNode;try{si(S,"")}catch(ft){Sr(o,o.return,ft)}}v&4&&o.stateNode!=null&&(S=o.memoizedProps,lb(o,S,p!==null?p.memoizedProps:S)),v&1024&&(fb=!0);break;case 6:if(li(c,o),ci(o),v&4){if(o.stateNode===null)throw Error(n(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(ft){Sr(o,o.return,ft)}}break;case 3:if(fg=null,S=Cs,Cs=cg(c.containerInfo),li(c,o),Cs=S,ci(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{$0(c.containerInfo)}catch(ft){Sr(o,o.return,ft)}fb&&(fb=!1,zk(o));break;case 4:v=Cs,Cs=cg(o.stateNode.containerInfo),li(c,o),ci(o),Cs=v;break;case 12:li(c,o),ci(o);break;case 31:li(c,o),ci(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Xm(o,v)));break;case 13:li(c,o),ci(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Qm=Ye()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Xm(o,v)));break;case 22:S=o.memoizedState!==null;var ye=p!==null&&p.memoizedState!==null,De=No,Le=Nn;if(No=De||S,Nn=Le||ye,li(c,o),Nn=Le,No=De,ci(o),v&8192)e:for(c=o.stateNode,c._visibility=S?c._visibility&-2:c._visibility|1,S&&(p===null||ye||No||Nn||ru(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){ye=p=c;try{if(D=ye.stateNode,S)z=D.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{K=ye.stateNode;var Ve=ye.memoizedProps.style,Ne=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;K.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(ft){Sr(ye,ye.return,ft)}}}else if(c.tag===6){if(p===null){ye=c;try{ye.stateNode.nodeValue=S?"":ye.memoizedProps}catch(ft){Sr(ye,ye.return,ft)}}}else if(c.tag===18){if(p===null){ye=c;try{var Re=ye.stateNode;S?D3(Re,!0):D3(ye.stateNode,!1)}catch(ft){Sr(ye,ye.return,ft)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,Xm(o,p))));break;case 19:li(c,o),ci(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Xm(o,v)));break;case 30:break;case 21:break;default:li(c,o),ci(o)}}function ci(o){var c=o.flags;if(c&2){try{for(var p,v=o.return;v!==null;){if(jk(v)){p=v;break}v=v.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var S=p.stateNode,D=cb(o);Km(o,D,S);break;case 5:var z=p.stateNode;p.flags&32&&(si(z,""),p.flags&=-33);var K=cb(o);Km(o,K,z);break;case 3:case 4:var ye=p.stateNode.containerInfo,De=cb(o);ub(o,De,ye);break;default:throw Error(n(161))}}catch(Le){Sr(o,o.return,Le)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function zk(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;zk(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Po(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Pk(o,c.alternate,c),c=c.sibling}function ru(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Bl(4,c,c.return),ru(c);break;case 1:Js(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&Dk(c,c.return,p),ru(c);break;case 27:zd(c.stateNode);case 26:case 5:Js(c,c.return),ru(c);break;case 22:c.memoizedState===null&&ru(c);break;case 30:ru(c);break;default:ru(c)}o=o.sibling}}function Ro(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,S=o,D=c,z=D.flags;switch(D.tag){case 0:case 11:case 15:Ro(S,D,p),Od(4,D);break;case 1:if(Ro(S,D,p),v=D,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(De){Sr(v,v.return,De)}if(v=D,S=v.updateQueue,S!==null){var K=v.stateNode;try{var ye=S.shared.hiddenCallbacks;if(ye!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ye.length;S++)xT(ye[S],K)}catch(De){Sr(v,v.return,De)}}p&&z&64&&kk(D),jd(D,D.return);break;case 27:Nk(D);case 26:case 5:Ro(S,D,p),p&&v===null&&z&4&&Ok(D),jd(D,D.return);break;case 12:Ro(S,D,p);break;case 31:Ro(S,D,p),p&&z&4&&Bk(S,D);break;case 13:Ro(S,D,p),p&&z&4&&Mk(S,D);break;case 22:D.memoizedState===null&&Ro(S,D,p),jd(D,D.return);break;case 30:break;default:Ro(S,D,p)}c=c.sibling}}function db(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&xd(p))}function hb(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&xd(o))}function Ts(o,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Uk(o,c,p,v),c=c.sibling}function Uk(o,c,p,v){var S=c.flags;switch(c.tag){case 0:case 11:case 15:Ts(o,c,p,v),S&2048&&Od(9,c);break;case 1:Ts(o,c,p,v);break;case 3:Ts(o,c,p,v),S&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&xd(o)));break;case 12:if(S&2048){Ts(o,c,p,v),o=c.stateNode;try{var D=c.memoizedProps,z=D.id,K=D.onPostCommit;typeof K=="function"&&K(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ye){Sr(c,c.return,ye)}}else Ts(o,c,p,v);break;case 31:Ts(o,c,p,v);break;case 13:Ts(o,c,p,v);break;case 23:break;case 22:D=c.stateNode,z=c.alternate,c.memoizedState!==null?D._visibility&2?Ts(o,c,p,v):Nd(o,c):D._visibility&2?Ts(o,c,p,v):(D._visibility|=2,N0(o,c,p,v,(c.subtreeFlags&10256)!==0||!1)),S&2048&&db(z,c);break;case 24:Ts(o,c,p,v),S&2048&&hb(c.alternate,c);break;default:Ts(o,c,p,v)}}function N0(o,c,p,v,S){for(S=S&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var D=o,z=c,K=p,ye=v,De=z.flags;switch(z.tag){case 0:case 11:case 15:N0(D,z,K,ye,S),Od(8,z);break;case 23:break;case 22:var Le=z.stateNode;z.memoizedState!==null?Le._visibility&2?N0(D,z,K,ye,S):Nd(D,z):(Le._visibility|=2,N0(D,z,K,ye,S)),S&&De&2048&&db(z.alternate,z);break;case 24:N0(D,z,K,ye,S),S&&De&2048&&hb(z.alternate,z);break;default:N0(D,z,K,ye,S)}c=c.sibling}}function Nd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,v=c,S=v.flags;switch(v.tag){case 22:Nd(p,v),S&2048&&db(v.alternate,v);break;case 24:Nd(p,v),S&2048&&hb(v.alternate,v);break;default:Nd(p,v)}c=c.sibling}}var Id=8192;function I0(o,c,p){if(o.subtreeFlags&Id)for(o=o.child;o!==null;)Vk(o,c,p),o=o.sibling}function Vk(o,c,p){switch(o.tag){case 26:I0(o,c,p),o.flags&Id&&o.memoizedState!==null&&cH(p,Cs,o.memoizedState,o.memoizedProps);break;case 5:I0(o,c,p);break;case 3:case 4:var v=Cs;Cs=cg(o.stateNode.containerInfo),I0(o,c,p),Cs=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=Id,Id=16777216,I0(o,c,p),Id=v):I0(o,c,p));break;default:I0(o,c,p)}}function $k(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Pd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];sa=v,qk(v,o)}$k(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Hk(o),o=o.sibling}function Hk(o){switch(o.tag){case 0:case 11:case 15:Pd(o),o.flags&2048&&Bl(9,o,o.return);break;case 3:Pd(o);break;case 12:Pd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Ym(o)):Pd(o);break;default:Pd(o)}}function Ym(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];sa=v,qk(v,o)}$k(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Bl(8,c,c.return),Ym(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Ym(c));break;default:Ym(c)}o=o.sibling}}function qk(o,c){for(;sa!==null;){var p=sa;switch(p.tag){case 0:case 11:case 15:Bl(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:xd(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,sa=v;else e:for(p=o;sa!==null;){v=sa;var S=v.sibling,D=v.return;if(Rk(v),v===p){sa=null;break e}if(S!==null){S.return=D,sa=S;break e}sa=D}}}var S$={getCacheForType:function(o){var c=ba(Dn),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p},cacheSignal:function(){return ba(Dn).controller.signal}},A$=typeof WeakMap=="function"?WeakMap:Map,mr=0,Br=null,$t=null,Wt=0,Er=0,Ti=null,Ml=!1,P0=!1,pb=!1,Fo=0,pn=0,Ll=0,nu=0,mb=0,ki=0,R0=0,Rd=null,ui=null,gb=!1,Qm=0,Wk=0,Zm=1/0,Jm=null,zl=null,Kn=0,Ul=null,F0=null,Bo=0,xb=0,vb=null,Gk=null,Fd=0,yb=null;function Di(){return(mr&2)!==0&&Wt!==0?Wt&-Wt:ne.T!==null?Ab():W()}function Kk(){if(ki===0)if((Wt&536870912)===0||Zt){var o=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),ki=o}else ki=536870912;return o=Ai.current,o!==null&&(o.flags|=32),ki}function fi(o,c,p){(o===Br&&(Er===2||Er===9)||o.cancelPendingCommit!==null)&&(B0(o,0),Vl(o,Wt,ki,!1)),Ft(o,p),((mr&2)===0||o!==Br)&&(o===Br&&((mr&2)===0&&(nu|=p),pn===4&&Vl(o,Wt,ki,!1)),eo(o))}function Xk(o,c,p){if((mr&6)!==0)throw Error(n(327));var v=!p&&(c&127)===0&&(c&o.expiredLanes)===0||Kr(o,c),S=v?k$(o,c):_b(o,c,!0),D=v;do{if(S===0){P0&&!v&&Vl(o,c,0,!1);break}else{if(p=o.current.alternate,D&&!C$(p)){S=_b(o,c,!1),D=!1;continue}if(S===2){if(D=c,o.errorRecoveryDisabledLanes&D)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var K=o;S=Rd;var ye=K.current.memoizedState.isDehydrated;if(ye&&(B0(K,z).flags|=256),z=_b(K,z,!1),z!==2){if(pb&&!ye){K.errorRecoveryDisabledLanes|=D,nu|=D,S=4;break e}D=ui,ui=S,D!==null&&(ui===null?ui=D:ui.push.apply(ui,D))}S=z}if(D=!1,S!==2)continue}}if(S===1){B0(o,0),Vl(o,c,0,!0);break}e:{switch(v=o,D=S,D){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Vl(v,c,ki,!Ml);break e;case 2:ui=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(S=Qm+300-Ye(),10<S)){if(Vl(v,c,ki,!Ml),dn(v,0,!0)!==0)break e;Bo=c,v.timeoutHandle=C3(Yk.bind(null,v,p,ui,Jm,gb,c,ki,nu,R0,Ml,D,"Throttled",-0,0),S);break e}Yk(v,p,ui,Jm,gb,c,ki,nu,R0,Ml,D,null,-0,0)}}break}while(!0);eo(o)}function Yk(o,c,p,v,S,D,z,K,ye,De,Le,Ve,Ne,Re){if(o.timeoutHandle=-1,Ve=c.subtreeFlags,Ve&8192||(Ve&16785408)===16785408){Ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},Vk(c,D,Ve);var ft=(D&62914560)===D?Qm-Ye():(D&4194048)===D?Wk-Ye():0;if(ft=uH(Ve,ft),ft!==null){Bo=D,o.cancelPendingCommit=ft(a3.bind(null,o,c,D,p,v,S,z,K,ye,Le,Ve,null,Ne,Re)),Vl(o,D,z,!De);return}}a3(o,c,D,p,v,S,z,K,ye)}function C$(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var S=p[v],D=S.getSnapshot;S=S.value;try{if(!Ei(D(),S))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Vl(o,c,p,v){c&=~mb,c&=~nu,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var S=c;0<S;){var D=31-pt(S),z=1<<D;v[D]=-1,S&=~z}p!==0&&bn(o,p,c)}function eg(){return(mr&6)===0?(Bd(0),!1):!0}function bb(){if($t!==null){if(Er===0)var o=$t.return;else o=$t,Co=Kc=null,F2(o),T0=null,yd=0,o=$t;for(;o!==null;)Tk(o.alternate,o),o=o.return;$t=null}}function B0(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,W$(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Bo=0,bb(),Br=o,$t=p=So(o.current,null),Wt=c,Er=0,Ti=null,Ml=!1,P0=Kr(o,c),pb=!1,R0=ki=mb=nu=Ll=pn=0,ui=Rd=null,gb=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var S=31-pt(v),D=1<<S;c|=o[S],v&=~D}return Fo=c,_m(),p}function Qk(o,c){Rt=null,ne.H=Td,c===C0||c===Dm?(c=hT(),Er=3):c===S2?(c=hT(),Er=4):Er=c===Z2?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ti=c,$t===null&&(pn=1,$m(o,Gi(c,o.current)))}function Zk(){var o=Ai.current;return o===null?!0:(Wt&4194048)===Wt?Qi===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?o===Qi:!1}function Jk(){var o=ne.H;return ne.H=Td,o===null?Td:o}function e3(){var o=ne.A;return ne.A=S$,o}function tg(){pn=4,Ml||(Wt&4194048)!==Wt&&Ai.current!==null||(P0=!0),(Ll&134217727)===0&&(nu&134217727)===0||Br===null||Vl(Br,Wt,ki,!1)}function _b(o,c,p){var v=mr;mr|=2;var S=Jk(),D=e3();(Br!==o||Wt!==c)&&(Jm=null,B0(o,c)),c=!1;var z=pn;e:do try{if(Er!==0&&$t!==null){var K=$t,ye=Ti;switch(Er){case 8:bb(),z=6;break e;case 3:case 2:case 9:case 6:Ai.current===null&&(c=!0);var De=Er;if(Er=0,Ti=null,M0(o,K,ye,De),p&&P0){z=0;break e}break;default:De=Er,Er=0,Ti=null,M0(o,K,ye,De)}}T$(),z=pn;break}catch(Le){Qk(o,Le)}while(!0);return c&&o.shellSuspendCounter++,Co=Kc=null,mr=v,ne.H=S,ne.A=D,$t===null&&(Br=null,Wt=0,_m()),z}function T$(){for(;$t!==null;)t3($t)}function k$(o,c){var p=mr;mr|=2;var v=Jk(),S=e3();Br!==o||Wt!==c?(Jm=null,Zm=Ye()+500,B0(o,c)):P0=Kr(o,c);e:do try{if(Er!==0&&$t!==null){c=$t;var D=Ti;t:switch(Er){case 1:Er=0,Ti=null,M0(o,c,D,1);break;case 2:case 9:if(fT(D)){Er=0,Ti=null,r3(c);break}c=function(){Er!==2&&Er!==9||Br!==o||(Er=7),eo(o)},D.then(c,c);break e;case 3:Er=7;break e;case 4:Er=5;break e;case 7:fT(D)?(Er=0,Ti=null,r3(c)):(Er=0,Ti=null,M0(o,c,D,7));break;case 5:var z=null;switch($t.tag){case 26:z=$t.memoizedState;case 5:case 27:var K=$t;if(z?U3(z):K.stateNode.complete){Er=0,Ti=null;var ye=K.sibling;if(ye!==null)$t=ye;else{var De=K.return;De!==null?($t=De,rg(De)):$t=null}break t}}Er=0,Ti=null,M0(o,c,D,5);break;case 6:Er=0,Ti=null,M0(o,c,D,6);break;case 8:bb(),pn=6;break e;default:throw Error(n(462))}}D$();break}catch(Le){Qk(o,Le)}while(!0);return Co=Kc=null,ne.H=v,ne.A=S,mr=p,$t!==null?0:(Br=null,Wt=0,_m(),pn)}function D$(){for(;$t!==null&&!ce();)t3($t)}function t3(o){var c=Ak(o.alternate,o,Fo);o.memoizedProps=o.pendingProps,c===null?rg(o):$t=c}function r3(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=yk(p,c,c.pendingProps,c.type,void 0,Wt);break;case 11:c=yk(p,c,c.pendingProps,c.type.render,c.ref,Wt);break;case 5:F2(c);default:Tk(p,c),c=$t=eT(c,Fo),c=Ak(p,c,Fo)}o.memoizedProps=o.pendingProps,c===null?rg(o):$t=c}function M0(o,c,p,v){Co=Kc=null,F2(c),T0=null,yd=0;var S=c.return;try{if(x$(o,S,c,p,Wt)){pn=1,$m(o,Gi(p,o.current)),$t=null;return}}catch(D){if(S!==null)throw $t=S,D;pn=1,$m(o,Gi(p,o.current)),$t=null;return}c.flags&32768?(Zt||v===1?o=!0:P0||(Wt&536870912)!==0?o=!1:(Ml=o=!0,(v===2||v===9||v===3||v===6)&&(v=Ai.current,v!==null&&v.tag===13&&(v.flags|=16384))),n3(c,o)):rg(c)}function rg(o){var c=o;do{if((c.flags&32768)!==0){n3(c,Ml);return}o=c.return;var p=b$(c.alternate,c,Fo);if(p!==null){$t=p;return}if(c=c.sibling,c!==null){$t=c;return}$t=c=o}while(c!==null);pn===0&&(pn=5)}function n3(o,c){do{var p=_$(o.alternate,o);if(p!==null){p.flags&=32767,$t=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){$t=o;return}$t=o=p}while(o!==null);pn=6,$t=null}function a3(o,c,p,v,S,D,z,K,ye){o.cancelPendingCommit=null;do ng();while(Kn!==0);if((mr&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(D=c.lanes|c.childLanes,D|=c2,ai(o,p,D,z,K,ye),o===Br&&($t=Br=null,Wt=0),F0=c,Ul=o,Bo=p,xb=D,vb=S,Gk=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,I$(Et,function(){return c3(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=ne.T,ne.T=null,S=de.p,de.p=2,z=mr,mr|=4;try{w$(o,c,p)}finally{mr=z,de.p=S,ne.T=v}}Kn=1,i3(),s3(),o3()}}function i3(){if(Kn===1){Kn=0;var o=Ul,c=F0,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=ne.T,ne.T=null;var v=de.p;de.p=2;var S=mr;mr|=4;try{Lk(c,o);var D=Ib,z=q5(o.containerInfo),K=D.focusedElem,ye=D.selectionRange;if(z!==K&&K&&K.ownerDocument&&H5(K.ownerDocument.documentElement,K)){if(ye!==null&&a2(K)){var De=ye.start,Le=ye.end;if(Le===void 0&&(Le=De),"selectionStart"in K)K.selectionStart=De,K.selectionEnd=Math.min(Le,K.value.length);else{var Ve=K.ownerDocument||document,Ne=Ve&&Ve.defaultView||window;if(Ne.getSelection){var Re=Ne.getSelection(),ft=K.textContent.length,St=Math.min(ye.start,ft),Nr=ye.end===void 0?St:Math.min(ye.end,ft);!Re.extend&&St>Nr&&(z=Nr,Nr=St,St=z);var Ae=$5(K,St),Ee=$5(K,Nr);if(Ae&&Ee&&(Re.rangeCount!==1||Re.anchorNode!==Ae.node||Re.anchorOffset!==Ae.offset||Re.focusNode!==Ee.node||Re.focusOffset!==Ee.offset)){var ke=Ve.createRange();ke.setStart(Ae.node,Ae.offset),Re.removeAllRanges(),St>Nr?(Re.addRange(ke),Re.extend(Ee.node,Ee.offset)):(ke.setEnd(Ee.node,Ee.offset),Re.addRange(ke))}}}}for(Ve=[],Re=K;Re=Re.parentNode;)Re.nodeType===1&&Ve.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Ve.length;K++){var ze=Ve[K];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}mg=!!Nb,Ib=Nb=null}finally{mr=S,de.p=v,ne.T=p}}o.current=c,Kn=2}}function s3(){if(Kn===2){Kn=0;var o=Ul,c=F0,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=ne.T,ne.T=null;var v=de.p;de.p=2;var S=mr;mr|=4;try{Pk(o,c.alternate,c)}finally{mr=S,de.p=v,ne.T=p}}Kn=3}}function o3(){if(Kn===4||Kn===3){Kn=0,Se();var o=Ul,c=F0,p=Bo,v=Gk;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Kn=5:(Kn=0,F0=Ul=null,l3(o,o.pendingLanes));var S=o.pendingLanes;if(S===0&&(zl=null),kr(p),c=c.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(bt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=ne.T,S=de.p,de.p=2,ne.T=null;try{for(var D=o.onRecoverableError,z=0;z<v.length;z++){var K=v[z];D(K.value,{componentStack:K.stack})}}finally{ne.T=c,de.p=S}}(Bo&3)!==0&&ng(),eo(o),S=o.pendingLanes,(p&261930)!==0&&(S&42)!==0?o===yb?Fd++:(Fd=0,yb=o):Fd=0,Bd(0)}}function l3(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,xd(c)))}function ng(){return i3(),s3(),o3(),c3()}function c3(){if(Kn!==5)return!1;var o=Ul,c=xb;xb=0;var p=kr(Bo),v=ne.T,S=de.p;try{de.p=32>p?32:p,ne.T=null,p=vb,vb=null;var D=Ul,z=Bo;if(Kn=0,F0=Ul=null,Bo=0,(mr&6)!==0)throw Error(n(331));var K=mr;if(mr|=4,Hk(D.current),Uk(D,D.current,z,p),mr=K,Bd(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(bt,D)}catch{}return!0}finally{de.p=S,ne.T=v,l3(o,c)}}function u3(o,c,p){c=Gi(p,c),c=Q2(o.stateNode,c,2),o=Pl(o,c,2),o!==null&&(Ft(o,2),eo(o))}function Sr(o,c,p){if(o.tag===3)u3(o,o,p);else for(;c!==null;){if(c.tag===3){u3(c,o,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(zl===null||!zl.has(v))){o=Gi(p,o),p=fk(2),v=Pl(c,p,2),v!==null&&(dk(p,v,c,o),Ft(v,2),eo(v));break}}c=c.return}}function wb(o,c,p){var v=o.pingCache;if(v===null){v=o.pingCache=new A$;var S=new Set;v.set(c,S)}else S=v.get(c),S===void 0&&(S=new Set,v.set(c,S));S.has(p)||(pb=!0,S.add(p),o=O$.bind(null,o,c,p),c.then(o,o))}function O$(o,c,p){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Br===o&&(Wt&p)===p&&(pn===4||pn===3&&(Wt&62914560)===Wt&&300>Ye()-Qm?(mr&2)===0&&B0(o,0):mb|=p,R0===Wt&&(R0=0)),eo(o)}function f3(o,c){c===0&&(c=wi()),o=qc(o,c),o!==null&&(Ft(o,c),eo(o))}function j$(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),f3(o,p)}function N$(o,c){var p=0;switch(o.tag){case 31:case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(p=S.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(c),f3(o,p)}function I$(o,c){return st(o,c)}var ag=null,L0=null,Eb=!1,ig=!1,Sb=!1,$l=0;function eo(o){o!==L0&&o.next===null&&(L0===null?ag=L0=o:L0=L0.next=o),ig=!0,Eb||(Eb=!0,R$())}function Bd(o,c){if(!Sb&&ig){Sb=!0;do for(var p=!1,v=ag;v!==null;){if(o!==0){var S=v.pendingLanes;if(S===0)var D=0;else{var z=v.suspendedLanes,K=v.pingedLanes;D=(1<<31-pt(42|o)+1)-1,D&=S&~(z&~K),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(p=!0,m3(v,D))}else D=Wt,D=dn(v,v===Br?D:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(D&3)===0||Kr(v,D)||(p=!0,m3(v,D));v=v.next}while(p);Sb=!1}}function P$(){d3()}function d3(){ig=Eb=!1;var o=0;$l!==0&&q$()&&(o=$l);for(var c=Ye(),p=null,v=ag;v!==null;){var S=v.next,D=h3(v,c);D===0?(v.next=null,p===null?ag=S:p.next=S,S===null&&(L0=p)):(p=v,(o!==0||(D&3)!==0)&&(ig=!0)),v=S}Kn!==0&&Kn!==5||Bd(o),$l!==0&&($l=0)}function h3(o,c){for(var p=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,D=o.pendingLanes&-62914561;0<D;){var z=31-pt(D),K=1<<z,ye=S[z];ye===-1?((K&p)===0||(K&v)!==0)&&(S[z]=Ga(K,c)):ye<=c&&(o.expiredLanes|=K),D&=~K}if(c=Br,p=Wt,p=dn(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===c&&(Er===2||Er===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&rt(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||Kr(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(v!==null&&rt(v),kr(p)){case 2:case 8:p=Dt;break;case 32:p=Et;break;case 268435456:p=Ut;break;default:p=Et}return v=p3.bind(null,o),p=st(p,v),o.callbackPriority=c,o.callbackNode=p,c}return v!==null&&v!==null&&rt(v),o.callbackPriority=2,o.callbackNode=null,2}function p3(o,c){if(Kn!==0&&Kn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(ng()&&o.callbackNode!==p)return null;var v=Wt;return v=dn(o,o===Br?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(Xk(o,v,c),h3(o,Ye()),o.callbackNode!=null&&o.callbackNode===p?p3.bind(null,o):null)}function m3(o,c){if(ng())return null;Xk(o,c,!0)}function R$(){G$(function(){(mr&6)!==0?st(wt,P$):d3()})}function Ab(){if($l===0){var o=S0;o===0&&(o=Vr,Vr<<=1,(Vr&261888)===0&&(Vr=256)),$l=o}return $l}function g3(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:c0(""+o)}function x3(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function F$(o,c,p,v,S){if(c==="submit"&&p&&p.stateNode===S){var D=g3((S[ie]||null).action),z=v.submitter;z&&(c=(c=z[ie]||null)?g3(c.formAction):z.getAttribute("formAction"),c!==null&&(D=c,z=null));var K=new Gs("action","action",null,v,S);o.push({event:K,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if($l!==0){var ye=z?x3(S,z):new FormData(S);q2(p,{pending:!0,data:ye,method:S.method,action:D},null,ye)}}else typeof D=="function"&&(K.preventDefault(),ye=z?x3(S,z):new FormData(S),q2(p,{pending:!0,data:ye,method:S.method,action:D},D,ye))},currentTarget:S}]})}}for(var Cb=0;Cb<l2.length;Cb++){var Tb=l2[Cb],B$=Tb.toLowerCase(),M$=Tb[0].toUpperCase()+Tb.slice(1);As(B$,"on"+M$)}As(K5,"onAnimationEnd"),As(X5,"onAnimationIteration"),As(Y5,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(e$,"onTransitionRun"),As(t$,"onTransitionStart"),As(r$,"onTransitionCancel"),As(Q5,"onTransitionEnd"),ht("onMouseEnter",["mouseout","mouseover"]),ht("onMouseLeave",["mouseout","mouseover"]),ht("onPointerEnter",["pointerout","pointerover"]),ht("onPointerLeave",["pointerout","pointerover"]),Ze("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ze("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ze("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function v3(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],S=v.event;v=v.listeners;e:{var D=void 0;if(c)for(var z=v.length-1;0<=z;z--){var K=v[z],ye=K.instance,De=K.currentTarget;if(K=K.listener,ye!==D&&S.isPropagationStopped())break e;D=K,S.currentTarget=De;try{D(S)}catch(Le){bm(Le)}S.currentTarget=null,D=ye}else for(z=0;z<v.length;z++){if(K=v[z],ye=K.instance,De=K.currentTarget,K=K.listener,ye!==D&&S.isPropagationStopped())break e;D=K,S.currentTarget=De;try{D(S)}catch(Le){bm(Le)}S.currentTarget=null,D=ye}}}}function Ht(o,c){var p=c[Ce];p===void 0&&(p=c[Ce]=new Set);var v=o+"__bubble";p.has(v)||(y3(c,o,2,!1),p.add(v))}function kb(o,c,p){var v=0;c&&(v|=4),y3(p,o,v,c)}var sg="_reactListening"+Math.random().toString(36).slice(2);function Db(o){if(!o[sg]){o[sg]=!0,cr.forEach(function(p){p!=="selectionchange"&&(L$.has(p)||kb(p,!1,o),kb(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[sg]||(c[sg]=!0,kb("selectionchange",!1,c))}}function y3(o,c,p,v){switch(K3(c)){case 2:var S=hH;break;case 8:S=pH;break;default:S=Hb}p=S.bind(null,c,p,o),S=void 0,!Bc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(c,p,{capture:!0,passive:S}):o.addEventListener(c,p,!0):S!==void 0?o.addEventListener(c,p,{passive:S}):o.addEventListener(c,p,!1)}function Ob(o,c,p,v,S){var D=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var K=v.stateNode.containerInfo;if(K===S)break;if(z===4)for(z=v.return;z!==null;){var ye=z.tag;if((ye===3||ye===4)&&z.stateNode.containerInfo===S)return;z=z.return}for(;K!==null;){if(z=Ue(K),z===null)return;if(ye=z.tag,ye===5||ye===6||ye===26||ye===27){v=D=z;continue e}K=K.parentNode}}v=v.return}Sl(function(){var De=D,Le=$i(p),Ve=[];e:{var Ne=Z5.get(o);if(Ne!==void 0){var Re=Gs,ft=o;switch(o){case"keypress":if(Lc(p)===0)break e;case"keydown":case"keyup":Re=xm;break;case"focusin":ft="focus",Re=Uc;break;case"focusout":ft="blur",Re=Uc;break;case"beforeblur":case"afterblur":Re=Uc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=L;break;case K5:case X5:case Y5:Re=um;break;case Q5:Re=re;break;case"scroll":case"scrollend":Re=ld;break;case"wheel":Re=Pe;break;case"copy":case"cut":case"paste":Re=fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Eo;break;case"toggle":case"beforetoggle":Re=Pt}var St=(c&4)!==0,Nr=!St&&(o==="scroll"||o==="scrollend"),Ae=St?Ne!==null?Ne+"Capture":null:Ne;St=[];for(var Ee=De,ke;Ee!==null;){var ze=Ee;if(ke=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||ke===null||Ae===null||(ze=_s(Ee,Ae),ze!=null&&St.push(Ld(Ee,ze,ke))),Nr)break;Ee=Ee.return}0<St.length&&(Ne=new Re(Ne,ft,null,p,Le),Ve.push({event:Ne,listeners:St}))}}if((c&7)===0){e:{if(Ne=o==="mouseover"||o==="pointerover",Re=o==="mouseout"||o==="pointerout",Ne&&p!==id&&(ft=p.relatedTarget||p.fromElement)&&(Ue(ft)||ft[fe]))break e;if((Re||Ne)&&(Ne=Le.window===Le?Le:(Ne=Le.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Re?(ft=p.relatedTarget||p.toElement,Re=De,ft=ft?Ue(ft):null,ft!==null&&(Nr=i(ft),St=ft.tag,ft!==Nr||St!==5&&St!==27&&St!==6)&&(ft=null)):(Re=null,ft=De),Re!==ft)){if(St=cd,ze="onMouseLeave",Ae="onMouseEnter",Ee="mouse",(o==="pointerout"||o==="pointerover")&&(St=Eo,ze="onPointerLeave",Ae="onPointerEnter",Ee="pointer"),Nr=Re==null?Ne:qe(Re),ke=ft==null?Ne:qe(ft),Ne=new St(ze,Ee+"leave",Re,p,Le),Ne.target=Nr,Ne.relatedTarget=ke,ze=null,Ue(Le)===De&&(St=new St(Ae,Ee+"enter",ft,p,Le),St.target=ke,St.relatedTarget=Nr,ze=St),Nr=ze,Re&&ft)t:{for(St=z$,Ae=Re,Ee=ft,ke=0,ze=Ae;ze;ze=St(ze))ke++;ze=0;for(var yt=Ee;yt;yt=St(yt))ze++;for(;0<ke-ze;)Ae=St(Ae),ke--;for(;0<ze-ke;)Ee=St(Ee),ze--;for(;ke--;){if(Ae===Ee||Ee!==null&&Ae===Ee.alternate){St=Ae;break t}Ae=St(Ae),Ee=St(Ee)}St=null}else St=null;Re!==null&&b3(Ve,Ne,Re,St,!1),ft!==null&&Nr!==null&&b3(Ve,Nr,ft,St,!0)}}e:{if(Ne=De?qe(De):window,Re=Ne.nodeName&&Ne.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Ne.type==="file")var ur=B5;else if(R5(Ne))if(M5)ur=QV;else{ur=XV;var mt=KV}else Re=Ne.nodeName,!Re||Re.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?De&&l0(De.elementType)&&(ur=B5):ur=YV;if(ur&&(ur=ur(o,De))){F5(Ve,ur,p,Le);break e}mt&&mt(o,Ne,De),o==="focusout"&&De&&Ne.type==="number"&&De.memoizedProps.value!=null&&rd(Ne,"number",Ne.value)}switch(mt=De?qe(De):window,o){case"focusin":(R5(mt)||mt.contentEditable==="true")&&(g0=mt,i2=De,pd=null);break;case"focusout":pd=i2=g0=null;break;case"mousedown":s2=!0;break;case"contextmenu":case"mouseup":case"dragend":s2=!1,W5(Ve,p,Le);break;case"selectionchange":if(JV)break;case"keydown":case"keyup":W5(Ve,p,Le)}var Mt;if(pr)e:{switch(o){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else m0?Vc(o,p)&&(Gt="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Gt="onCompositionStart");Gt&&(Ys&&p.locale!=="ko"&&(m0||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&m0&&(Mt=od()):(Ws=Le,sd="value"in Ws?Ws.value:Ws.textContent,m0=!0)),mt=og(De,Gt),0<mt.length&&(Gt=new Xs(Gt,o,null,p,Le),Ve.push({event:Gt,listeners:mt}),Mt?Gt.data=Mt:(Mt=p0(p),Mt!==null&&(Gt.data=Mt)))),(Mt=qi?HV(o,p):qV(o,p))&&(Gt=og(De,"onBeforeInput"),0<Gt.length&&(mt=new Xs("onBeforeInput","beforeinput",null,p,Le),Ve.push({event:mt,listeners:Gt}),mt.data=Mt)),F$(Ve,o,De,p,Le)}v3(Ve,c)})}function Ld(o,c,p){return{instance:o,listener:c,currentTarget:p}}function og(o,c){for(var p=c+"Capture",v=[];o!==null;){var S=o,D=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||D===null||(S=_s(o,p),S!=null&&v.unshift(Ld(o,S,D)),S=_s(o,c),S!=null&&v.push(Ld(o,S,D))),o.tag===3)return v;o=o.return}return[]}function z$(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function b3(o,c,p,v,S){for(var D=c._reactName,z=[];p!==null&&p!==v;){var K=p,ye=K.alternate,De=K.stateNode;if(K=K.tag,ye!==null&&ye===v)break;K!==5&&K!==26&&K!==27||De===null||(ye=De,S?(De=_s(p,D),De!=null&&z.unshift(Ld(p,De,ye))):S||(De=_s(p,D),De!=null&&z.push(Ld(p,De,ye)))),p=p.return}z.length!==0&&o.push({event:c,listeners:z})}var U$=/\r\n?/g,V$=/\u0000|\uFFFD/g;function _3(o){return(typeof o=="string"?o:""+o).replace(U$,`
`).replace(V$,"")}function w3(o,c){return c=_3(c),_3(o)===c}function jr(o,c,p,v,S,D){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||si(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&si(o,""+v);break;case"className":Xr(o,"class",v);break;case"tabIndex":Xr(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(o,p,v);break;case"style":ad(o,v,D);break;case"data":if(c!=="object"){Xr(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=c0(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(p==="formAction"?(c!=="input"&&jr(o,c,"name",S.name,S,null),jr(o,c,"formEncType",S.formEncType,S,null),jr(o,c,"formMethod",S.formMethod,S,null),jr(o,c,"formTarget",S.formTarget,S,null)):(jr(o,c,"encType",S.encType,S,null),jr(o,c,"method",S.method,S,null),jr(o,c,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=c0(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=bs);break;case"onScroll":v!=null&&Ht("scroll",o);break;case"onScrollEnd":v!=null&&Ht("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(n(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=c0(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":Ht("beforetoggle",o),Ht("toggle",o),Vt(o,"popover",v);break;case"xlinkActuate":vr(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":vr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":vr(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":vr(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":vr(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":vr(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":vr(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":vr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":vr(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Vt(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=om.get(p)||p,Vt(o,p,v))}}function jb(o,c,p,v,S,D){switch(p){case"style":ad(o,v,D);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(n(60));o.innerHTML=p}}break;case"children":typeof v=="string"?si(o,v):(typeof v=="number"||typeof v=="bigint")&&si(o,""+v);break;case"onScroll":v!=null&&Ht("scroll",o);break;case"onScrollEnd":v!=null&&Ht("scrollend",o);break;case"onClick":v!=null&&(o.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_e.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),c=p.slice(2,S?p.length-7:void 0),D=o[ie]||null,D=D!=null?D[p]:null,typeof D=="function"&&o.removeEventListener(c,D,S),typeof v=="function")){typeof D!="function"&&D!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,v,S);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):Vt(o,p,v)}}}function wa(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",o),Ht("load",o);var v=!1,S=!1,D;for(D in p)if(p.hasOwnProperty(D)){var z=p[D];if(z!=null)switch(D){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:jr(o,c,D,z,p,null)}}S&&jr(o,c,"srcSet",p.srcSet,p,null),v&&jr(o,c,"src",p.src,p,null);return;case"input":Ht("invalid",o);var K=D=z=S=null,ye=null,De=null;for(v in p)if(p.hasOwnProperty(v)){var Le=p[v];if(Le!=null)switch(v){case"name":S=Le;break;case"type":z=Le;break;case"checked":ye=Le;break;case"defaultChecked":De=Le;break;case"value":D=Le;break;case"defaultValue":K=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(n(137,c));break;default:jr(o,c,v,Le,p,null)}}am(o,D,K,ye,De,z,S,!1);return;case"select":Ht("invalid",o),v=z=D=null;for(S in p)if(p.hasOwnProperty(S)&&(K=p[S],K!=null))switch(S){case"value":D=K;break;case"defaultValue":z=K;break;case"multiple":v=K;default:jr(o,c,S,K,p,null)}c=D,p=z,o.multiple=!!v,c!=null?bl(o,!!v,c,!1):p!=null&&bl(o,!!v,p,!0);return;case"textarea":Ht("invalid",o),D=S=v=null;for(z in p)if(p.hasOwnProperty(z)&&(K=p[z],K!=null))switch(z){case"value":v=K;break;case"defaultValue":S=K;break;case"children":D=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(91));break;default:jr(o,c,z,K,p,null)}_l(o,v,S,D);return;case"option":for(ye in p)p.hasOwnProperty(ye)&&(v=p[ye],v!=null)&&(ye==="selected"?o.selected=v&&typeof v!="function"&&typeof v!="symbol":jr(o,c,ye,v,p,null));return;case"dialog":Ht("beforetoggle",o),Ht("toggle",o),Ht("cancel",o),Ht("close",o);break;case"iframe":case"object":Ht("load",o);break;case"video":case"audio":for(v=0;v<Md.length;v++)Ht(Md[v],o);break;case"image":Ht("error",o),Ht("load",o);break;case"details":Ht("toggle",o);break;case"embed":case"source":case"link":Ht("error",o),Ht("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in p)if(p.hasOwnProperty(De)&&(v=p[De],v!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:jr(o,c,De,v,p,null)}return;default:if(l0(c)){for(Le in p)p.hasOwnProperty(Le)&&(v=p[Le],v!==void 0&&jb(o,c,Le,v,p,void 0));return}}for(K in p)p.hasOwnProperty(K)&&(v=p[K],v!=null&&jr(o,c,K,v,p,null))}function $$(o,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,D=null,z=null,K=null,ye=null,De=null,Le=null;for(Re in p){var Ve=p[Re];if(p.hasOwnProperty(Re)&&Ve!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":ye=Ve;default:v.hasOwnProperty(Re)||jr(o,c,Re,null,v,Ve)}}for(var Ne in v){var Re=v[Ne];if(Ve=p[Ne],v.hasOwnProperty(Ne)&&(Re!=null||Ve!=null))switch(Ne){case"type":D=Re;break;case"name":S=Re;break;case"checked":De=Re;break;case"defaultChecked":Le=Re;break;case"value":z=Re;break;case"defaultValue":K=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,c));break;default:Re!==Ve&&jr(o,c,Ne,Re,v,Ve)}}o0(o,z,K,ye,De,Le,D,S);return;case"select":Re=z=K=Ne=null;for(D in p)if(ye=p[D],p.hasOwnProperty(D)&&ye!=null)switch(D){case"value":break;case"multiple":Re=ye;default:v.hasOwnProperty(D)||jr(o,c,D,null,v,ye)}for(S in v)if(D=v[S],ye=p[S],v.hasOwnProperty(S)&&(D!=null||ye!=null))switch(S){case"value":Ne=D;break;case"defaultValue":K=D;break;case"multiple":z=D;default:D!==ye&&jr(o,c,S,D,v,ye)}c=K,p=z,v=Re,Ne!=null?bl(o,!!p,Ne,!1):!!v!=!!p&&(c!=null?bl(o,!!p,c,!0):bl(o,!!p,p?[]:"",!1));return;case"textarea":Re=Ne=null;for(K in p)if(S=p[K],p.hasOwnProperty(K)&&S!=null&&!v.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:jr(o,c,K,null,v,S)}for(z in v)if(S=v[z],D=p[z],v.hasOwnProperty(z)&&(S!=null||D!=null))switch(z){case"value":Ne=S;break;case"defaultValue":Re=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==D&&jr(o,c,z,S,v,D)}im(o,Ne,Re);return;case"option":for(var ft in p)Ne=p[ft],p.hasOwnProperty(ft)&&Ne!=null&&!v.hasOwnProperty(ft)&&(ft==="selected"?o.selected=!1:jr(o,c,ft,null,v,Ne));for(ye in v)Ne=v[ye],Re=p[ye],v.hasOwnProperty(ye)&&Ne!==Re&&(Ne!=null||Re!=null)&&(ye==="selected"?o.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol":jr(o,c,ye,Ne,v,Re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in p)Ne=p[St],p.hasOwnProperty(St)&&Ne!=null&&!v.hasOwnProperty(St)&&jr(o,c,St,null,v,Ne);for(De in v)if(Ne=v[De],Re=p[De],v.hasOwnProperty(De)&&Ne!==Re&&(Ne!=null||Re!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,c));break;default:jr(o,c,De,Ne,v,Re)}return;default:if(l0(c)){for(var Nr in p)Ne=p[Nr],p.hasOwnProperty(Nr)&&Ne!==void 0&&!v.hasOwnProperty(Nr)&&jb(o,c,Nr,void 0,v,Ne);for(Le in v)Ne=v[Le],Re=p[Le],!v.hasOwnProperty(Le)||Ne===Re||Ne===void 0&&Re===void 0||jb(o,c,Le,Ne,v,Re);return}}for(var Ae in p)Ne=p[Ae],p.hasOwnProperty(Ae)&&Ne!=null&&!v.hasOwnProperty(Ae)&&jr(o,c,Ae,null,v,Ne);for(Ve in v)Ne=v[Ve],Re=p[Ve],!v.hasOwnProperty(Ve)||Ne===Re||Ne==null&&Re==null||jr(o,c,Ve,Ne,v,Re)}function E3(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H$(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var S=p[v],D=S.transferSize,z=S.initiatorType,K=S.duration;if(D&&K&&E3(z)){for(z=0,K=S.responseEnd,v+=1;v<p.length;v++){var ye=p[v],De=ye.startTime;if(De>K)break;var Le=ye.transferSize,Ve=ye.initiatorType;Le&&E3(Ve)&&(ye=ye.responseEnd,z+=Le*(ye<K?1:(K-De)/(ye-De)))}if(--v,c+=8*(D+z)/(S.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Nb=null,Ib=null;function lg(o){return o.nodeType===9?o:o.ownerDocument}function S3(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A3(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Pb(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Rb=null;function q$(){var o=window.event;return o&&o.type==="popstate"?o===Rb?!1:(Rb=o,!0):(Rb=null,!1)}var C3=typeof setTimeout=="function"?setTimeout:void 0,W$=typeof clearTimeout=="function"?clearTimeout:void 0,T3=typeof Promise=="function"?Promise:void 0,G$=typeof queueMicrotask=="function"?queueMicrotask:typeof T3<"u"?function(o){return T3.resolve(null).then(o).catch(K$)}:C3;function K$(o){setTimeout(function(){throw o})}function Hl(o){return o==="head"}function k3(o,c){var p=c,v=0;do{var S=p.nextSibling;if(o.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(v===0){o.removeChild(S),$0(c);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")zd(o.ownerDocument.documentElement);else if(p==="head"){p=o.ownerDocument.head,zd(p);for(var D=p.firstChild;D;){var z=D.nextSibling,K=D.nodeName;D[xe]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&D.rel.toLowerCase()==="stylesheet"||p.removeChild(D),D=z}}else p==="body"&&zd(o.ownerDocument.body);p=S}while(p);$0(c)}function D3(o,c){var p=o;o=0;do{var v=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(o===0)break;o--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||o++;p=v}while(p)}function Fb(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Fb(p),Ie(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function X$(o,c,p,v){for(;o.nodeType===1;){var S=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[xe])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(D=o.getAttribute("rel"),D==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(D!==S.rel||o.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||o.getAttribute("title")!==(S.title==null?null:S.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(D=o.getAttribute("src"),(D!==(S.src==null?null:S.src)||o.getAttribute("type")!==(S.type==null?null:S.type)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&D&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var D=S.name==null?null:""+S.name;if(S.type==="hidden"&&o.getAttribute("name")===D)return o}else return o;if(o=Zi(o.nextSibling),o===null)break}return null}function Y$(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=Zi(o.nextSibling),o===null))return null;return o}function O3(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Zi(o.nextSibling),o===null))return null;return o}function Bb(o){return o.data==="$?"||o.data==="$~"}function Mb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function Q$(o,c){var p=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||p.readyState!=="loading")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function Zi(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Lb=null;function j3(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"||p==="/&"){if(c===0)return Zi(o.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}o=o.nextSibling}return null}function N3(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return o;c--}else p!=="/$"&&p!=="/&"||c++}o=o.previousSibling}return null}function I3(o,c,p){switch(c=lg(p),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function zd(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Ie(o)}var Ji=new Map,P3=new Set;function cg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Mo=de.d;de.d={f:Z$,r:J$,D:eH,C:tH,L:rH,m:nH,X:iH,S:aH,M:sH};function Z$(){var o=Mo.f(),c=eg();return o||c}function J$(o){var c=Qe(o);c!==null&&c.tag===5&&c.type==="form"?QT(c):Mo.r(o)}var z0=typeof document>"u"?null:document;function R3(o,c,p){var v=z0;if(v&&typeof c=="string"&&c){var S=ii(c);S='link[rel="'+o+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),P3.has(S)||(P3.add(S),o={rel:o,crossOrigin:p,href:c},v.querySelector(S)===null&&(c=v.createElement("link"),wa(c,"link",o),ct(c),v.head.appendChild(c)))}}function eH(o){Mo.D(o),R3("dns-prefetch",o,null)}function tH(o,c){Mo.C(o,c),R3("preconnect",o,c)}function rH(o,c,p){Mo.L(o,c,p);var v=z0;if(v&&o&&c){var S='link[rel="preload"][as="'+ii(c)+'"]';c==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+ii(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+ii(p.imageSizes)+'"]')):S+='[href="'+ii(o)+'"]';var D=S;switch(c){case"style":D=U0(o);break;case"script":D=V0(o)}Ji.has(D)||(o=m({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),Ji.set(D,o),v.querySelector(S)!==null||c==="style"&&v.querySelector(Ud(D))||c==="script"&&v.querySelector(Vd(D))||(c=v.createElement("link"),wa(c,"link",o),ct(c),v.head.appendChild(c)))}}function nH(o,c){Mo.m(o,c);var p=z0;if(p&&o){var v=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+ii(v)+'"][href="'+ii(o)+'"]',D=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=V0(o)}if(!Ji.has(D)&&(o=m({rel:"modulepreload",href:o},c),Ji.set(D,o),p.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Vd(D)))return}v=p.createElement("link"),wa(v,"link",o),ct(v),p.head.appendChild(v)}}}function aH(o,c,p){Mo.S(o,c,p);var v=z0;if(v&&o){var S=Xe(v).hoistableStyles,D=U0(o);c=c||"default";var z=S.get(D);if(!z){var K={loading:0,preload:null};if(z=v.querySelector(Ud(D)))K.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},p),(p=Ji.get(D))&&zb(o,p);var ye=z=v.createElement("link");ct(ye),wa(ye,"link",o),ye._p=new Promise(function(De,Le){ye.onload=De,ye.onerror=Le}),ye.addEventListener("load",function(){K.loading|=1}),ye.addEventListener("error",function(){K.loading|=2}),K.loading|=4,ug(z,c,v)}z={type:"stylesheet",instance:z,count:1,state:K},S.set(D,z)}}}function iH(o,c){Mo.X(o,c);var p=z0;if(p&&o){var v=Xe(p).hoistableScripts,S=V0(o),D=v.get(S);D||(D=p.querySelector(Vd(S)),D||(o=m({src:o,async:!0},c),(c=Ji.get(S))&&Ub(o,c),D=p.createElement("script"),ct(D),wa(D,"link",o),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(S,D))}}function sH(o,c){Mo.M(o,c);var p=z0;if(p&&o){var v=Xe(p).hoistableScripts,S=V0(o),D=v.get(S);D||(D=p.querySelector(Vd(S)),D||(o=m({src:o,async:!0,type:"module"},c),(c=Ji.get(S))&&Ub(o,c),D=p.createElement("script"),ct(D),wa(D,"link",o),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(S,D))}}function F3(o,c,p,v){var S=(S=me.current)?cg(S):null;if(!S)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=U0(p.href),p=Xe(S).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=U0(p.href);var D=Xe(S).hoistableStyles,z=D.get(o);if(z||(S=S.ownerDocument||S,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(o,z),(D=S.querySelector(Ud(o)))&&!D._p&&(z.instance=D,z.state.loading=5),Ji.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ji.set(o,p),D||oH(S,o,p,z.state))),c&&v===null)throw Error(n(528,""));return z}if(c&&v!==null)throw Error(n(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=V0(p),p=Xe(S).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function U0(o){return'href="'+ii(o)+'"'}function Ud(o){return'link[rel="stylesheet"]['+o+"]"}function B3(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function oH(o,c,p,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),wa(c,"link",p),ct(c),o.head.appendChild(c))}function V0(o){return'[src="'+ii(o)+'"]'}function Vd(o){return"script[async]"+o}function M3(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+ii(p.href)+'"]');if(v)return c.instance=v,ct(v),v;var S=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),ct(v),wa(v,"style",S),ug(v,p.precedence,o),c.instance=v;case"stylesheet":S=U0(p.href);var D=o.querySelector(Ud(S));if(D)return c.state.loading|=4,c.instance=D,ct(D),D;v=B3(p),(S=Ji.get(S))&&zb(v,S),D=(o.ownerDocument||o).createElement("link"),ct(D);var z=D;return z._p=new Promise(function(K,ye){z.onload=K,z.onerror=ye}),wa(D,"link",v),c.state.loading|=4,ug(D,p.precedence,o),c.instance=D;case"script":return D=V0(p.src),(S=o.querySelector(Vd(D)))?(c.instance=S,ct(S),S):(v=p,(S=Ji.get(D))&&(v=m({},p),Ub(v,S)),o=o.ownerDocument||o,S=o.createElement("script"),ct(S),wa(S,"link",v),o.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,ug(v,p.precedence,o));return c.instance}function ug(o,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,D=S,z=0;z<v.length;z++){var K=v[z];if(K.dataset.precedence===c)D=K;else if(D!==S)break}D?D.parentNode.insertBefore(o,D.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function zb(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Ub(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var fg=null;function L3(o,c,p){if(fg===null){var v=new Map,S=fg=new Map;S.set(p,v)}else S=fg,v=S.get(p),v||(v=new Map,S.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),S=0;S<p.length;S++){var D=p[S];if(!(D[xe]||D[J]||o==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var z=D.getAttribute(c)||"";z=o+z;var K=v.get(z);K?K.push(D):v.set(z,[D])}}return v}function z3(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function lH(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(o=c.disabled,typeof c.precedence=="string"&&o==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function U3(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function cH(o,c,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=U0(v.href),D=c.querySelector(Ud(S));if(D){c=D._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=dg.bind(o),c.then(o,o)),p.state.loading|=4,p.instance=D,ct(D);return}D=c.ownerDocument||c,v=B3(v),(S=Ji.get(S))&&zb(v,S),D=D.createElement("link"),ct(D);var z=D;z._p=new Promise(function(K,ye){z.onload=K,z.onerror=ye}),wa(D,"link",v),p.instance=D}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(o.count++,p=dg.bind(o),c.addEventListener("load",p),c.addEventListener("error",p))}}var Vb=0;function uH(o,c){return o.stylesheets&&o.count===0&&pg(o,o.stylesheets),0<o.count||0<o.imgCount?function(p){var v=setTimeout(function(){if(o.stylesheets&&pg(o,o.stylesheets),o.unsuspend){var D=o.unsuspend;o.unsuspend=null,D()}},6e4+c);0<o.imgBytes&&Vb===0&&(Vb=62500*H$());var S=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&pg(o,o.stylesheets),o.unsuspend)){var D=o.unsuspend;o.unsuspend=null,D()}},(o.imgBytes>Vb?50:800)+c);return o.unsuspend=p,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function dg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var hg=null;function pg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,hg=new Map,c.forEach(fH,o),hg=null,dg.call(o))}function fH(o,c){if(!(c.state.loading&4)){var p=hg.get(o);if(p)var v=p.get(null);else{p=new Map,hg.set(o,p);for(var S=o.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<S.length;D++){var z=S[D];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(p.set(z.dataset.precedence,z),v=z)}v&&p.set(null,v)}S=c.instance,z=S.getAttribute("data-precedence"),D=p.get(z)||v,D===v&&p.set(null,S),p.set(z,S),this.count++,v=dg.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),D?D.parentNode.insertBefore(S,D.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(S,o.firstChild)),c.state.loading|=4}}var $d={$$typeof:A,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function dH(o,c,p,v,S,D,z,K,ye){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=an(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=an(0),this.hiddenUpdates=an(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=D,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function V3(o,c,p,v,S,D,z,K,ye,De,Le,Ve){return o=new dH(o,c,p,z,ye,De,Le,Ve,K),c=1,D===!0&&(c|=24),D=Si(3,null,null,c),o.current=D,D.stateNode=o,c=_2(),c.refCount++,o.pooledCache=c,c.refCount++,D.memoizedState={element:v,isDehydrated:p,cache:c},A2(D),o}function $3(o){return o?(o=y0,o):y0}function H3(o,c,p,v,S,D){S=$3(S),v.context===null?v.context=S:v.pendingContext=S,v=Il(c),v.payload={element:p},D=D===void 0?null:D,D!==null&&(v.callback=D),p=Pl(o,v,c),p!==null&&(fi(p,o,c),_d(p,o,c))}function q3(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function $b(o,c){q3(o,c),(o=o.alternate)&&q3(o,c)}function W3(o){if(o.tag===13||o.tag===31){var c=qc(o,67108864);c!==null&&fi(c,o,67108864),$b(o,67108864)}}function G3(o){if(o.tag===13||o.tag===31){var c=Di();c=Gn(c);var p=qc(o,c);p!==null&&fi(p,o,c),$b(o,c)}}var mg=!0;function hH(o,c,p,v){var S=ne.T;ne.T=null;var D=de.p;try{de.p=2,Hb(o,c,p,v)}finally{de.p=D,ne.T=S}}function pH(o,c,p,v){var S=ne.T;ne.T=null;var D=de.p;try{de.p=8,Hb(o,c,p,v)}finally{de.p=D,ne.T=S}}function Hb(o,c,p,v){if(mg){var S=qb(v);if(S===null)Ob(o,c,v,gg,p),X3(o,v);else if(gH(S,o,c,p,v))v.stopPropagation();else if(X3(o,v),c&4&&-1<mH.indexOf(o)){for(;S!==null;){var D=Qe(S);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var z=nn(D.pendingLanes);if(z!==0){var K=D;for(K.pendingLanes|=2,K.entangledLanes|=2;z;){var ye=1<<31-pt(z);K.entanglements[1]|=ye,z&=~ye}eo(D),(mr&6)===0&&(Zm=Ye()+500,Bd(0))}}break;case 31:case 13:K=qc(D,2),K!==null&&fi(K,D,2),eg(),$b(D,2)}if(D=qb(v),D===null&&Ob(o,c,v,gg,p),D===S)break;S=D}S!==null&&v.stopPropagation()}else Ob(o,c,v,null,p)}}function qb(o){return o=$i(o),Wb(o)}var gg=null;function Wb(o){if(gg=null,o=Ue(o),o!==null){var c=i(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=s(c),o!==null)return o;o=null}else if(p===31){if(o=l(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return gg=o,null}function K3(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case wt:return 2;case Dt:return 8;case Et:case At:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var Gb=!1,ql=null,Wl=null,Gl=null,Hd=new Map,qd=new Map,Kl=[],mH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X3(o,c){switch(o){case"focusin":case"focusout":ql=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":Hd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":qd.delete(c.pointerId)}}function Wd(o,c,p,v,S,D){return o===null||o.nativeEvent!==D?(o={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:D,targetContainers:[S]},c!==null&&(c=Qe(c),c!==null&&W3(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),o)}function gH(o,c,p,v,S){switch(c){case"focusin":return ql=Wd(ql,o,c,p,v,S),!0;case"dragenter":return Wl=Wd(Wl,o,c,p,v,S),!0;case"mouseover":return Gl=Wd(Gl,o,c,p,v,S),!0;case"pointerover":var D=S.pointerId;return Hd.set(D,Wd(Hd.get(D)||null,o,c,p,v,S)),!0;case"gotpointercapture":return D=S.pointerId,qd.set(D,Wd(qd.get(D)||null,o,c,p,v,S)),!0}return!1}function Y3(o){var c=Ue(o.target);if(c!==null){var p=i(c);if(p!==null){if(c=p.tag,c===13){if(c=s(p),c!==null){o.blockedOn=c,le(o.priority,function(){G3(p)});return}}else if(c===31){if(c=l(p),c!==null){o.blockedOn=c,le(o.priority,function(){G3(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function xg(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=qb(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);id=v,p.target.dispatchEvent(v),id=null}else return c=Qe(p),c!==null&&W3(c),o.blockedOn=p,!1;c.shift()}return!0}function Q3(o,c,p){xg(o)&&p.delete(c)}function xH(){Gb=!1,ql!==null&&xg(ql)&&(ql=null),Wl!==null&&xg(Wl)&&(Wl=null),Gl!==null&&xg(Gl)&&(Gl=null),Hd.forEach(Q3),qd.forEach(Q3)}function vg(o,c){o.blockedOn===c&&(o.blockedOn=null,Gb||(Gb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xH)))}var yg=null;function Z3(o){yg!==o&&(yg=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){yg===o&&(yg=null);for(var c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],S=o[c+2];if(typeof v!="function"){if(Wb(v||p)===null)continue;break}var D=Qe(p);D!==null&&(o.splice(c,3),c-=3,q2(D,{pending:!0,data:S,method:p.method,action:v},v,S))}}))}function $0(o){function c(ye){return vg(ye,o)}ql!==null&&vg(ql,o),Wl!==null&&vg(Wl,o),Gl!==null&&vg(Gl,o),Hd.forEach(c),qd.forEach(c);for(var p=0;p<Kl.length;p++){var v=Kl[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Kl.length&&(p=Kl[0],p.blockedOn===null);)Y3(p),p.blockedOn===null&&Kl.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var S=p[v],D=p[v+1],z=S[ie]||null;if(typeof D=="function")z||Z3(p);else if(z){var K=null;if(D&&D.hasAttribute("formAction")){if(S=D,z=D[ie]||null)K=z.formAction;else if(Wb(S)!==null)continue}else K=z.action;typeof K=="function"?p[v+1]=K:(p.splice(v,3),v-=3),Z3(p)}}}function J3(){function o(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(z){return S=z})},focusReset:"manual",scroll:"manual"})}function c(){S!==null&&(S(),S=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),S!==null&&(S(),S=null)}}}function Kb(o){this._internalRoot=o}bg.prototype.render=Kb.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var p=c.current,v=Di();H3(p,v,o,c,null,null)},bg.prototype.unmount=Kb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;H3(o.current,2,null,o,null,null),eg(),c[fe]=null}};function bg(o){this._internalRoot=o}bg.prototype.unstable_scheduleHydration=function(o){if(o){var c=W();o={blockedOn:null,target:o,priority:c};for(var p=0;p<Kl.length&&c!==0&&c<Kl[p].priority;p++);Kl.splice(p,0,o),p===0&&Y3(o)}};var eD=t.version;if(eD!=="19.2.3")throw Error(n(527,eD,"19.2.3"));de.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var vH={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_g.isDisabled&&_g.supportsFiber)try{bt=_g.inject(vH),xt=_g}catch{}}return Kd.createRoot=function(o,c){if(!a(o))throw Error(n(299));var p=!1,v="",S=ok,D=lk,z=ck;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),c=V3(o,1,!1,null,null,p,v,null,S,D,z,J3),o[fe]=c.current,Db(o),new Kb(c)},Kd.hydrateRoot=function(o,c,p){if(!a(o))throw Error(n(299));var v=!1,S="",D=ok,z=lk,K=ck,ye=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(D=p.onUncaughtError),p.onCaughtError!==void 0&&(z=p.onCaughtError),p.onRecoverableError!==void 0&&(K=p.onRecoverableError),p.formState!==void 0&&(ye=p.formState)),c=V3(o,1,!0,c,p??null,v,S,ye,D,z,K,J3),c.context=$3(null),p=c.current,v=Di(),v=Gn(v),S=Il(v),S.callback=null,Pl(p,S,v),p=v,c.current.lanes=p,Ft(c,p),eo(c),o[fe]=c.current,Db(o),new bg(c)},Kd.version="19.2.3",Kd}var uD;function OH(){if(uD)return Zb.exports;uD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zb.exports=DH(),Zb.exports}var jH=OH();var fD="popstate";function NH(e={}){function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return hE("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Rh(a)}return PH(t,r,null,e)}function en(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IH(){return Math.random().toString(36).substring(2,10)}function dD(e,t){return{usr:e.state,key:e.key,idx:t}}function hE(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?If(t):t,state:r,key:t&&t.key||n||IH()}}function Rh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function If(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function PH(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l="POP",u=null,f=d();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function d(){return(s.state||{idx:null}).idx}function m(){l="POP";let y=d(),w=y==null?null:y-f;f=y,u&&u({action:l,location:_.location,delta:w})}function g(y,w){l="PUSH";let C=hE(_.location,y,w);f=d()+1;let A=dD(C,f),O=_.createHref(C);try{s.pushState(A,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(O)}i&&u&&u({action:l,location:_.location,delta:1})}function x(y,w){l="REPLACE";let C=hE(_.location,y,w);f=d();let A=dD(C,f),O=_.createHref(C);s.replaceState(A,"",O),i&&u&&u({action:l,location:_.location,delta:0})}function b(y){return RH(y)}let _={get action(){return l},get location(){return e(a,s)},listen(y){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(fD,m),u=y,()=>{a.removeEventListener(fD,m),u=null}},createHref(y){return t(a,y)},createURL:b,encodeLocation(y){let w=b(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:x,go(y){return s.go(y)}};return _}function RH(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),en(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Rh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function gR(e,t,r="/"){return FH(e,t,r,!1)}function FH(e,t,r,n){let a=typeof t=="string"?If(t):t,i=Jo(a.pathname||"/",r);if(i==null)return null;let s=xR(e);BH(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let f=KH(i);l=WH(s[u],f,n)}return l}function xR(e,t=[],r=[],n="",a=!1){let i=(s,l,u=a,f)=>{let d={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&u)return;en(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let m=Go([n,d.relativePath]),g=r.concat(d);s.children&&s.children.length>0&&(en(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),xR(s.children,t,g,m,u)),!(s.path==null&&!s.index)&&t.push({path:m,score:HH(m,s.index),routesMeta:g})};return e.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))i(s,l);else for(let u of vR(s.path))i(s,l,!0,u)}),t}function vR(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=vR(n.join("/")),l=[];return l.push(...s.map(u=>u===""?i:[i,u].join("/"))),a&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function BH(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:qH(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var MH=/^:[\w-]+$/,LH=3,zH=2,UH=1,VH=10,$H=-2,hD=e=>e==="*";function HH(e,t){let r=e.split("/"),n=r.length;return r.some(hD)&&(n+=$H),t&&(n+=zH),r.filter(a=>!hD(a)).reduce((a,i)=>a+(MH.test(i)?LH:i===""?UH:VH),n)}function qH(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function WH(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",m=ov({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),g=u.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=ov({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:Go([i,m.pathname]),pathnameBase:ZH(Go([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=Go([i,m.pathnameBase]))}return s}function ov(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=GH(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((f,{paramName:d,isOptional:m},g)=>{if(d==="*"){let b=l[g]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[g];return m&&!x?f[d]=void 0:f[d]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:s,pattern:e}}function GH(e,t=!1,r=!0){Mi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function KH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Jo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var yR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XH=e=>yR.test(e);function YH(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?If(e):e,i;if(r)if(XH(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Mi(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?i=pD(r.substring(1),"/"):i=pD(r,t)}else i=t;return{pathname:i,search:JH(n),hash:eq(a)}}function pD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function r_(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QH(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lA(e){let t=QH(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function cA(e,t,r,n=!1){let a;typeof e=="string"?a=If(e):(a={...e},en(!a.pathname||!a.pathname.includes("?"),r_("?","pathname","search",a)),en(!a.pathname||!a.pathname.includes("#"),r_("#","pathname","hash",a)),en(!a.search||!a.search.includes("#"),r_("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let m=t.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}l=m>=0?t[m]:"/"}let u=YH(a,l),f=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}var Go=e=>e.join("/").replace(/\/\/+/g,"/"),ZH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,tq=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function rq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function nq(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _R(e,t){let r=e;if(typeof r!="string"||!yR.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(bR)try{let i=new URL(window.location.href),s=r.startsWith("//")?new URL(i.protocol+r):new URL(r),l=Jo(s.pathname,t);s.origin===i.origin&&l!=null?r=l+s.search+s.hash:a=!0}catch{Mi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wR=["POST","PUT","PATCH","DELETE"];new Set(wR);var aq=["GET",...wR];new Set(aq);var Pf=T.createContext(null);Pf.displayName="DataRouter";var M1=T.createContext(null);M1.displayName="DataRouterState";var iq=T.createContext(!1),ER=T.createContext({isTransitioning:!1});ER.displayName="ViewTransition";var sq=T.createContext(new Map);sq.displayName="Fetchers";var oq=T.createContext(null);oq.displayName="Await";var Vi=T.createContext(null);Vi.displayName="Navigation";var xp=T.createContext(null);xp.displayName="Location";var zs=T.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var uA=T.createContext(null);uA.displayName="RouteError";var SR="REACT_ROUTER_ERROR",lq="REDIRECT",cq="ROUTE_ERROR_RESPONSE";function uq(e){if(e.startsWith(`${SR}:${lq}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function fq(e){if(e.startsWith(`${SR}:${cq}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new tq(t.status,t.statusText,t.data)}catch{}}function dq(e,{relative:t}={}){en(Rf(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=T.useContext(Vi),{hash:a,pathname:i,search:s}=vp(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:Go([r,i])),n.createHref({pathname:l,search:s,hash:a})}function Rf(){return T.useContext(xp)!=null}function Us(){return en(Rf(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(xp).location}var AR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CR(e){T.useContext(Vi).static||T.useLayoutEffect(e)}function Gu(){let{isDataRoute:e}=T.useContext(zs);return e?Tq():hq()}function hq(){en(Rf(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Pf),{basename:t,navigator:r}=T.useContext(Vi),{matches:n}=T.useContext(zs),{pathname:a}=Us(),i=JSON.stringify(lA(n)),s=T.useRef(!1);return CR(()=>{s.current=!0}),T.useCallback((u,f={})=>{if(Mi(s.current,AR),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=cA(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Go([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,i,a,e])}var pq=T.createContext(null);function mq(e){let t=T.useContext(zs).outlet;return T.useMemo(()=>t&&T.createElement(pq.Provider,{value:e},t),[t,e])}function vp(e,{relative:t}={}){let{matches:r}=T.useContext(zs),{pathname:n}=Us(),a=JSON.stringify(lA(r));return T.useMemo(()=>cA(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function gq(e,t){return TR(e,t)}function TR(e,t,r,n,a){en(Rf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Vi),{matches:s}=T.useContext(zs),l=s[s.length-1],u=l?l.params:{},f=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let C=m&&m.path||"";DR(f,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Us(),x;if(t){let C=typeof t=="string"?If(t):t;en(d==="/"||C.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),x=C}else x=g;let b=x.pathname||"/",_=b;if(d!=="/"){let C=d.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let y=gR(e,{pathname:_});Mi(m||y!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Mi(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=_q(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Go([d,i.encodeLocation?i.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Go([d,i.encodeLocation?i.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,r,n,a);return t&&w?T.createElement(xp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},w):w}function xq(){let e=Cq(),t=rq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:i},"ErrorBoundary")," or"," ",T.createElement("code",{style:i},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:a},r):null,s)}var vq=T.createElement(xq,null),kR=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=fq(e.digest);r&&(e=r)}let t=e!==void 0?T.createElement(zs.Provider,{value:this.props.routeContext},T.createElement(uA.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?T.createElement(yq,{error:e},t):t}};kR.contextType=iq;var n_=new WeakMap;function yq({children:e,error:t}){let{basename:r}=T.useContext(Vi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=uq(t.digest);if(n){let a=n_.get(t);if(a)throw a;let i=_R(n.location,r);if(bR&&!n_.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw n_.set(t,s),s}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function bq({routeContext:e,match:t,children:r}){let n=T.useContext(Pf);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(zs.Provider,{value:e},r)}function _q(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r?.errors;if(s!=null){let d=i.findIndex(m=>m.route.id&&s?.[m.route.id]!==void 0);en(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:g,errors:x}=r,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let f=r&&n?(d,m)=>{n(d,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:nq(r.matches),errorInfo:m})}:void 0;return i.reduceRight((d,m,g)=>{let x,b=!1,_=null,y=null;r&&(x=s&&m.route.id?s[m.route.id]:void 0,_=m.route.errorElement||vq,l&&(u<0&&g===0?(DR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,y=null):u===g&&(b=!0,y=m.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,g+1)),C=()=>{let A;return x?A=_:b?A=y:m.route.Component?A=T.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=d,T.createElement(bq,{match:m,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:A})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?T.createElement(kR,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:f}):C()},null)}function fA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wq(e){let t=T.useContext(Pf);return en(t,fA(e)),t}function Eq(e){let t=T.useContext(M1);return en(t,fA(e)),t}function Sq(e){let t=T.useContext(zs);return en(t,fA(e)),t}function dA(e){let t=Sq(e),r=t.matches[t.matches.length-1];return en(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Aq(){return dA("useRouteId")}function Cq(){let e=T.useContext(uA),t=Eq("useRouteError"),r=dA("useRouteError");return e!==void 0?e:t.errors?.[r]}function Tq(){let{router:e}=wq("useNavigate"),t=dA("useNavigate"),r=T.useRef(!1);return CR(()=>{r.current=!0}),T.useCallback(async(a,i={})=>{Mi(r.current,AR),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var mD={};function DR(e,t,r){!t&&!mD[e]&&(mD[e]=!0,Mi(!1,r))}T.memo(kq);function kq({routes:e,future:t,state:r,onError:n}){return TR(e,void 0,r,n,t)}function pE({to:e,replace:t,state:r,relative:n}){en(Rf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(Vi);Mi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=T.useContext(zs),{pathname:s}=Us(),l=Gu(),u=cA(e,lA(i),s,n==="path"),f=JSON.stringify(u);return T.useEffect(()=>{l(JSON.parse(f),{replace:t,state:r,relative:n})},[l,f,n,t,r]),null}function Dq(e){return mq(e.context)}function di(e){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oq({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){en(!Rf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[l,a,i,s]);typeof r=="string"&&(r=If(r));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:x="default"}=r,b=T.useMemo(()=>{let _=Jo(f,l);return _==null?null:{location:{pathname:_,search:d,hash:m,state:g,key:x},navigationType:n}},[l,f,d,m,g,x,n]);return Mi(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:T.createElement(Vi.Provider,{value:u},T.createElement(xp.Provider,{children:t,value:b}))}function jq({children:e,location:t}){return gq(mE(e),t)}function mE(e,t=[]){let r=[];return T.Children.forEach(e,(n,a)=>{if(!T.isValidElement(n))return;let i=[...t,a];if(n.type===T.Fragment){r.push.apply(r,mE(n.props.children,i));return}en(n.type===di,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=mE(n.props.children,i)),r.push(s)}),r}var ix="get",sx="application/x-www-form-urlencoded";function L1(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Nq(e){return L1(e)&&e.tagName.toLowerCase()==="button"}function Iq(e){return L1(e)&&e.tagName.toLowerCase()==="form"}function Pq(e){return L1(e)&&e.tagName.toLowerCase()==="input"}function Rq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Fq(e,t){return e.button===0&&(!t||t==="_self")&&!Rq(e)}function gE(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Bq(e,t){let r=gE(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var wg=null;function Mq(){if(wg===null)try{new FormData(document.createElement("form"),0),wg=!1}catch{wg=!0}return wg}var Lq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a_(e){return e!=null&&!Lq.has(e)?(Mi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sx}"`),null):e}function zq(e,t){let r,n,a,i,s;if(Iq(e)){let l=e.getAttribute("action");n=l?Jo(l,t):null,r=e.getAttribute("method")||ix,a=a_(e.getAttribute("enctype"))||sx,i=new FormData(e)}else if(Nq(e)||Pq(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?Jo(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||ix,a=a_(e.getAttribute("formenctype"))||a_(l.getAttribute("enctype"))||sx,i=new FormData(l,e),!Mq()){let{name:f,type:d,value:m}=e;if(d==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,m)}}else{if(L1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ix,n=null,a=sx,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uq(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Jo(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Vq(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $q(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Hq(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await Vq(i,r);return s.links?s.links():[]}return[]}));return Kq(n.flat(1).filter($q).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gD(e,t,r,n,a,i){let s=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,l=(u,f)=>r[f].pathname!==u.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,f)=>s(u,f)||l(u,f)):i==="data"?t.filter((u,f)=>{let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(s(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function qq(e,t,{includeHydrateFallback:r}={}){return Wq(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Wq(e){return[...new Set(e)]}function Gq(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Kq(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(Gq(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function OR(){let e=T.useContext(Pf);return hA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xq(){let e=T.useContext(M1);return hA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var pA=T.createContext(void 0);pA.displayName="FrameworkContext";function jR(){let e=T.useContext(pA);return hA(e,"You must render this element inside a <HydratedRouter> element"),e}function Yq(e,t){let r=T.useContext(pA),[n,a]=T.useState(!1),[i,s]=T.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:d,onTouchStart:m}=t,g=T.useRef(null);T.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let _=w=>{w.forEach(C=>{s(C.isIntersecting)})},y=new IntersectionObserver(_,{threshold:.5});return g.current&&y.observe(g.current),()=>{y.disconnect()}}},[e]),T.useEffect(()=>{if(n){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[n]);let x=()=>{a(!0)},b=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Xd(l,x),onBlur:Xd(u,b),onMouseEnter:Xd(f,x),onMouseLeave:Xd(d,b),onTouchStart:Xd(m,x)}]:[!1,g,{}]}function Xd(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Qq({page:e,...t}){let{router:r}=OR(),n=T.useMemo(()=>gR(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?T.createElement(Jq,{page:e,matches:n,...t}):null}function Zq(e){let{manifest:t,routeModules:r}=jR(),[n,a]=T.useState([]);return T.useEffect(()=>{let i=!1;return Hq(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function Jq({page:e,matches:t,...r}){let n=Us(),{future:a,manifest:i,routeModules:s}=jR(),{basename:l}=OR(),{loaderData:u,matches:f}=Xq(),d=T.useMemo(()=>gD(e,t,f,i,n,"data"),[e,t,f,i,n]),m=T.useMemo(()=>gD(e,t,f,i,n,"assets"),[e,t,f,i,n]),g=T.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let _=new Set,y=!1;if(t.forEach(C=>{let A=i.routes[C.route.id];!A||!A.hasLoader||(!d.some(O=>O.route.id===C.route.id)&&C.route.id in u&&s[C.route.id]?.shouldRevalidate||A.hasClientLoader?y=!0:_.add(C.route.id))}),_.size===0)return[];let w=Uq(e,l,a.unstable_trailingSlashAwareDataRequests,"data");return y&&_.size>0&&w.searchParams.set("_routes",t.filter(C=>_.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[l,a.unstable_trailingSlashAwareDataRequests,u,n,i,d,t,e,s]),x=T.useMemo(()=>qq(m,i),[m,i]),b=Zq(m);return T.createElement(T.Fragment,null,g.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),x.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),b.map(({key:_,link:y})=>T.createElement("link",{key:_,nonce:r.nonce,...y})))}function eW(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var tW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tW&&(window.__reactRouterVersion="7.12.0")}catch{}function rW({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=T.useRef();a.current==null&&(a.current=NH({window:n,v5Compat:!0}));let i=a.current,[s,l]=T.useState({action:i.action,location:i.location}),u=T.useCallback(f=>{r===!1?l(f):T.startTransition(()=>l(f))},[r]);return T.useLayoutEffect(()=>i.listen(u),[i,u]),T.createElement(Oq,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:r})}var NR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IR=T.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:l,target:u,to:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...x},b){let{basename:_,unstable_useTransitions:y}=T.useContext(Vi),w=typeof f=="string"&&NR.test(f),C=_R(f,_);f=C.to;let A=dq(f,{relative:a}),[O,F,M]=Yq(n,x),j=iW(f,{replace:s,state:l,target:u,preventScrollReset:d,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y});function k(I){t&&t(I),I.defaultPrevented||j(I)}let R=T.createElement("a",{...x,...M,href:C.absoluteURL||A,onClick:C.isExternal||i?t:k,ref:eW(b,F),target:u,"data-discover":!w&&r==="render"?"true":void 0});return O&&!w?T.createElement(T.Fragment,null,R,T.createElement(Qq,{page:A})):R});IR.displayName="Link";var PR=T.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:l,children:u,...f},d){let m=vp(s,{relative:f.relative}),g=Us(),x=T.useContext(M1),{navigator:b,basename:_}=T.useContext(Vi),y=x!=null&&fW(m)&&l===!0,w=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,C=g.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(C=C.toLowerCase(),A=A?A.toLowerCase():null,w=w.toLowerCase()),A&&_&&(A=Jo(A,_)||A);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let F=C===w||!a&&C.startsWith(w)&&C.charAt(O)==="/",M=A!=null&&(A===w||!a&&A.startsWith(w)&&A.charAt(w.length)==="/"),j={isActive:F,isPending:M,isTransitioning:y},k=F?t:void 0,R;typeof n=="function"?R=n(j):R=[n,F?"active":null,M?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(j):i;return T.createElement(IR,{...f,"aria-current":k,className:R,ref:d,style:I,to:s,viewTransition:l},typeof u=="function"?u(j):u)});PR.displayName="NavLink";var nW=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=ix,action:l,onSubmit:u,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...x},b)=>{let{unstable_useTransitions:_}=T.useContext(Vi),y=cW(),w=uW(l,{relative:f}),C=s.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&NR.test(l),O=F=>{if(u&&u(F),F.defaultPrevented)return;F.preventDefault();let M=F.nativeEvent.submitter,j=M?.getAttribute("formmethod")||s,k=()=>y(M||F.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:a,state:i,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g});_&&r!==!1?T.startTransition(()=>k()):k()};return T.createElement("form",{ref:b,method:C,action:w,onSubmit:n?u:O,...x,"data-discover":!A&&e==="render"?"true":void 0})});nW.displayName="Form";function aW(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RR(e){let t=T.useContext(Pf);return en(t,aW(e)),t}function iW(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let f=Gu(),d=Us(),m=vp(e,{relative:i});return T.useCallback(g=>{if(Fq(g,t)){g.preventDefault();let x=r!==void 0?r:Rh(d)===Rh(m),b=()=>f(e,{replace:x,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l});u?T.startTransition(()=>b()):b()}},[d,f,m,r,n,t,e,a,i,s,l,u])}function sW(e){Mi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(gE(e)),r=T.useRef(!1),n=Us(),a=T.useMemo(()=>Bq(n.search,r.current?null:t.current),[n.search]),i=Gu(),s=T.useCallback((l,u)=>{const f=gE(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+f,u)},[i,a]);return[a,s]}var oW=0,lW=()=>`__${String(++oW)}__`;function cW(){let{router:e}=RR("useSubmit"),{basename:t}=T.useContext(Vi),r=Aq(),n=e.fetch,a=e.navigate;return T.useCallback(async(i,s={})=>{let{action:l,method:u,encType:f,formData:d,body:m}=zq(i,t);if(s.navigate===!1){let g=s.fetcherKey||lW();await n(g,r,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await a(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,a,t,r])}function uW(e,{relative:t}={}){let{basename:r}=T.useContext(Vi),n=T.useContext(zs);en(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...vp(e||".",{relative:t})},s=Us();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Go([r,i.pathname])),Rh(i)}function fW(e,{relative:t}={}){let r=T.useContext(ER);en(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=RR("useViewTransitionState"),a=vp(e,{relative:t});if(!r.isTransitioning)return!1;let i=Jo(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Jo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ov(a.pathname,s)!=null||ov(a.pathname,i)!=null}var z1=mR();const dW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),xD=e=>{const t=hW(e);return t.charAt(0).toUpperCase()+t.slice(1)},FR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),pW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var mW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gW=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},u)=>T.createElement("svg",{ref:u,...mW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:FR("lucide",a),...!i&&!pW(l)&&{"aria-hidden":"true"},...l},[...s.map(([f,d])=>T.createElement(f,d)),...Array.isArray(i)?i:[i]]));const nt=(e,t)=>{const r=T.forwardRef(({className:n,...a},i)=>T.createElement(gW,{ref:i,iconNode:t,className:FR(`lucide-${dW(xD(e))}`,`lucide-${e}`,n),...a}));return r.displayName=xD(e),r};const xW=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],BR=nt("banknote",xW);const vW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yW=nt("book-open",vW);const bW=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],_W=nt("box",bW);const wW=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],uu=nt("calculator",wW);const EW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],i_=nt("calendar",EW);const SW=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],lv=nt("camera",SW);const AW=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],CW=nt("chart-no-axes-column-increasing",AW);const TW=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],kW=nt("chart-no-axes-column",TW);const DW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xE=nt("check",DW);const OW=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],mA=nt("chef-hat",OW);const jW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ih=nt("chevron-down",jW);const NW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MR=nt("chevron-left",NW);const IW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],LR=nt("chevron-right",IW);const PW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vE=nt("circle-alert",PW);const RW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yp=nt("circle-check-big",RW);const FW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],vD=nt("circle-plus",FW);const BW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MW=nt("circle-question-mark",BW);const LW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ox=nt("circle-user",LW);const zW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xu=nt("clock",zW);const UW=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],cv=nt("coffee",UW);const VW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ff=nt("credit-card",VW);const $W=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],gh=nt("dollar-sign",$W);const HW=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],qW=nt("download",HW);const WW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],GW=nt("ellipsis-vertical",WW);const KW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],zR=nt("file-spreadsheet",KW);const XW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],UR=nt("file-text",XW);const YW=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],yD=nt("flag",YW);const QW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ZW=nt("funnel",QW);const JW=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],eG=nt("gift",JW);const tG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yE=nt("globe",tG);const rG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],s_=nt("grid-3x3",rG);const nG=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],bD=nt("hash",nG);const aG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],iG=nt("history",aG);const sG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fh=nt("info",sG);const oG=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],lG=nt("key",oG);const cG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],bE=nt("layout-grid",cG);const uG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fG=nt("loader-circle",uG);const dG=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],hG=nt("loader",dG);const pG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mG=nt("log-out",pG);const gG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],VR=nt("mail",gG);const xG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vG=nt("map-pin",xG);const yG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],bG=nt("maximize-2",yG);const _G=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],wG=nt("message-circle",_G);const EG=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],SG=nt("minimize-2",EG);const AG=[["path",{d:"M5 12h14",key:"1ays0h"}]],CG=nt("minus",AG);const TG=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$R=nt("package",TG);const kG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],HR=nt("pen",kG);const DG=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],qR=nt("phone",DG);const OG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fs=nt("plus",OG);const jG=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],NG=nt("receipt",jG);const IG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Du=nt("refresh-cw",IG);const PG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uv=nt("save",PG);const RG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ou=nt("search",RG);const FG=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gA=nt("settings",FG);const BG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],MG=nt("shield",BG);const LG=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],vu=nt("shopping-bag",LG);const zG=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],UG=nt("shopping-cart",zG);const VG=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Eg=nt("sparkles",VG);const $G=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bp=nt("square-pen",$G);const HG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lx=nt("star",HG);const qG=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_E=nt("tag",qG);const WG=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ha=nt("trash-2",WG);const GG=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],WR=nt("trending-down",GG);const KG=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],o_=nt("trending-up",KG);const XG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xA=nt("triangle-alert",XG);const YG=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],QG=nt("truck",YG);const ZG=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vA=nt("upload",ZG);const JG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],yA=nt("user-plus",JG);const eK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tK=nt("user",eK);const rK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fv=nt("users",rK);const nK=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],aK=nt("volume-2",nK);const iK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],wE=nt("wallet",iK);const sK=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],bA=nt("wifi",sK);const oK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fs=nt("x",oK),GR=T.createContext(),U1=()=>T.useContext(GR),lK=({children:e})=>{const[t,r]=T.useState(()=>{try{const i=localStorage.getItem("appSettings");return i?JSON.parse(i):{appName:"La Autentica",appSubtitle:"ERP System",logoColor1:"#00f2ff",logoColor2:"#ff9d00",sidebarWidth:"200px",isSidebarCollapsed:!1,masterPin:"0000"}}catch(i){return console.error("Error loading settings:",i),{appName:"La Autentica",appSubtitle:"ERP System",logoColor1:"#00f2ff",logoColor2:"#ff9d00",sidebarWidth:"200px",isSidebarCollapsed:!1,masterPin:"0000"}}}),n=i=>{r(s=>{const l={...s,...i};try{localStorage.setItem("appSettings",JSON.stringify(l))}catch(u){console.error("Error saving settings:",u)}return l})},a=()=>{r(i=>{const s={...i,isSidebarCollapsed:!i.isSidebarCollapsed};try{localStorage.setItem("appSettings",JSON.stringify(s))}catch(l){console.error("Error saving settings:",l)}return s})};return h.jsx(GR.Provider,{value:{settings:t,updateSettings:n,toggleSidebar:a},children:e})},cK="462174468362-q22eqp43uflj9kapj1mf0krlst71ior1.apps.googleusercontent.com",uK=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],fK="https://www.googleapis.com/auth/drive.file";let Sg,_D=!1,wD=!1;const tf={isAuthenticated:!1,loadScripts:e=>{const t=document.createElement("script");t.src="https://apis.google.com/js/api.js",t.onload=()=>{window.gapi.load("client",async()=>{await window.gapi.client.init({discoveryDocs:uK}),_D=!0,wD&&e()})},document.body.appendChild(t);const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.onload=()=>{Sg=window.google.accounts.oauth2.initTokenClient({client_id:cK,scope:fK,callback:""}),wD=!0,_D&&e()},document.body.appendChild(r)},signIn:()=>new Promise((e,t)=>{Sg.callback=async r=>{r.error&&t(r),tf.isAuthenticated=!0,e(r)},window.gapi.client.getToken()===null?Sg.requestAccessToken({prompt:"consent"}):Sg.requestAccessToken({prompt:""})}),signOut:()=>{const e=window.gapi.client.getToken();e!==null&&(window.google.accounts.oauth2.revoke(e.access_token),window.gapi.client.setToken(""),tf.isAuthenticated=!1)},findOrCreateFolder:async e=>{try{const t=window.gapi.client.getToken().access_token,n=await(await fetch(`https://www.googleapis.com/drive/v3/files?q=mimeType='application/vnd.google-apps.folder' and name='${e}' and trashed=false`,{headers:{Authorization:"Bearer "+t}})).json();if(n.files&&n.files.length>0)return n.files[0].id;const a={name:e,mimeType:"application/vnd.google-apps.folder"};return(await(await fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify(a)})).json()).id}catch(t){throw console.error("Error finding/creating folder:",t),t}},uploadFile:async(e,t)=>{try{const r=await tf.findOrCreateFolder("ERP La Autentica"),n=window.gapi.client.getToken().access_token,i=await(await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${e}' and '${r}' in parents and trashed=false`,{headers:{Authorization:"Bearer "+n}})).json(),s=i.files&&i.files.length>0?i.files[0].id:null,l=new Blob([JSON.stringify(t)],{type:"application/json"}),u={name:e,mimeType:"application/json",parents:s?[]:[r]},f=new FormData;f.append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),f.append("file",l);let d="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",m="POST";return s&&(d=`https://www.googleapis.com/upload/drive/v3/files/${s}?uploadType=multipart`,m="PATCH"),await(await fetch(d,{method:m,headers:new Headers({Authorization:"Bearer "+n}),body:f})).json()}catch(r){throw console.error("Error uploading to Drive:",r),r}},uploadBinaryFile:async(e,t,r)=>{try{const n=await tf.findOrCreateFolder(t);let a=n;if(r){const f=window.gapi.client.getToken().access_token,m=await(await fetch(`https://www.googleapis.com/drive/v3/files?q=mimeType='application/vnd.google-apps.folder' and name='${r}' and '${n}' in parents and trashed=false`,{headers:{Authorization:"Bearer "+f}})).json();if(m.files&&m.files.length>0)a=m.files[0].id;else{const g={name:r,mimeType:"application/vnd.google-apps.folder",parents:[n]};a=(await(await fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:"Bearer "+f,"Content-Type":"application/json"},body:JSON.stringify(g)})).json()).id}}const i={name:e.name,mimeType:e.type,parents:[a]},s=window.gapi.client.getToken().access_token,l=new FormData;return l.append("metadata",new Blob([JSON.stringify(i)],{type:"application/json"})),l.append("file",e),await(await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,webViewLink",{method:"POST",headers:new Headers({Authorization:"Bearer "+s}),body:l})).json()}catch(n){throw console.error("Error uploading binary to Drive:",n),n}},findFile:async e=>{try{const t=window.gapi.client.getToken().access_token,n=await(await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${e}' and trashed=false`,{headers:{Authorization:"Bearer "+t}})).json();return n.files&&n.files.length>0?n.files[0].id:null}catch(t){throw console.error("Error finding file:",t),t}},downloadFile:async e=>{try{const t=window.gapi.client.getToken().access_token;return await(await fetch(`https://www.googleapis.com/drive/v3/files/${e}?alt=media`,{headers:{Authorization:"Bearer "+t}})).json()}catch(t){throw console.error("Error downloading file:",t),t}}},fo=Object.create(null);fo.open="0";fo.close="1";fo.ping="2";fo.pong="3";fo.message="4";fo.upgrade="5";fo.noop="6";const cx=Object.create(null);Object.keys(fo).forEach(e=>{cx[fo[e]]=e});const EE={type:"error",data:"parser error"},KR=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",XR=typeof ArrayBuffer=="function",YR=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,_A=({type:e,data:t},r,n)=>KR&&t instanceof Blob?r?n(t):ED(t,n):XR&&(t instanceof ArrayBuffer||YR(t))?r?n(t):ED(new Blob([t]),n):n(fo[e]+(t||"")),ED=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function SD(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let l_;function dK(e,t){if(KR&&e.data instanceof Blob)return e.data.arrayBuffer().then(SD).then(t);if(XR&&(e.data instanceof ArrayBuffer||YR(e.data)))return t(SD(e.data));_A(e,!1,r=>{l_||(l_=new TextEncoder),t(l_.encode(r))})}const AD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<AD.length;e++)sh[AD.charCodeAt(e)]=e;const hK=e=>{let t=e.length*.75,r=e.length,n,a=0,i,s,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),d=new Uint8Array(f);for(n=0;n<r;n+=4)i=sh[e.charCodeAt(n)],s=sh[e.charCodeAt(n+1)],l=sh[e.charCodeAt(n+2)],u=sh[e.charCodeAt(n+3)],d[a++]=i<<2|s>>4,d[a++]=(s&15)<<4|l>>2,d[a++]=(l&3)<<6|u&63;return f},pK=typeof ArrayBuffer=="function",wA=(e,t)=>{if(typeof e!="string")return{type:"message",data:QR(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:mK(e.substring(1),t)}:cx[r]?e.length>1?{type:cx[r],data:e.substring(1)}:{type:cx[r]}:EE},mK=(e,t)=>{if(pK){const r=hK(e);return QR(r,t)}else return{base64:!0,data:e}},QR=(e,t)=>t==="blob"?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,ZR="",gK=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((i,s)=>{_A(i,!1,l=>{n[s]=l,++a===r&&t(n.join(ZR))})})},xK=(e,t)=>{const r=e.split(ZR),n=[];for(let a=0;a<r.length;a++){const i=wA(r[a],t);if(n.push(i),i.type==="error")break}return n};function vK(){return new TransformStream({transform(e,t){dK(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let c_;function Ag(e){return e.reduce((t,r)=>t+r.length,0)}function Cg(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function yK(e,t){c_||(c_=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(s,l){for(r.push(s);;){if(n===0){if(Ag(r)<1)break;const u=Cg(r,1);i=(u[0]&128)===128,a=u[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(Ag(r)<2)break;const u=Cg(r,2);a=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(Ag(r)<8)break;const u=Cg(r,8),f=new DataView(u.buffer,u.byteOffset,u.length),d=f.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(EE);break}a=d*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Ag(r)<a)break;const u=Cg(r,a);l.enqueue(wA(i?u:c_.decode(u),t)),n=0}if(a===0||a>e){l.enqueue(EE);break}}}})}const JR=4;function Ln(e){if(e)return bK(e)}function bK(e){for(var t in Ln.prototype)e[t]=Ln.prototype[t];return e}Ln.prototype.on=Ln.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ln.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Ln.prototype.off=Ln.prototype.removeListener=Ln.prototype.removeAllListeners=Ln.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Ln.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};Ln.prototype.emitReserved=Ln.prototype.emit;Ln.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ln.prototype.hasListeners=function(e){return!!this.listeners(e).length};const V1=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),os=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_K="arraybuffer";function eF(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const wK=os.setTimeout,EK=os.clearTimeout;function $1(e,t){t.useNativeTimers?(e.setTimeoutFn=wK.bind(os),e.clearTimeoutFn=EK.bind(os)):(e.setTimeoutFn=os.setTimeout.bind(os),e.clearTimeoutFn=os.clearTimeout.bind(os))}const SK=1.33;function AK(e){return typeof e=="string"?CK(e):Math.ceil((e.byteLength||e.size)*SK)}function CK(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function tF(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function TK(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function kK(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class DK extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class EA extends Ln{constructor(t){super(),this.writable=!1,$1(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new DK(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=wA(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=TK(t);return r.length?"?"+r:""}}class OK extends EA{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};xK(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,gK(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=tF()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let rF=!1;try{rF=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const jK=rF;function NK(){}class IK extends OK{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let lf=class ux extends Ln{constructor(t,r,n){super(),this.createRequest=t,$1(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=eF(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=ux.requestsCount++,ux.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=NK,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ux.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};lf.requestsCount=0;lf.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",CD);else if(typeof addEventListener=="function"){const e="onpagehide"in os?"pagehide":"unload";addEventListener(e,CD,!1)}}function CD(){for(let e in lf.requests)lf.requests.hasOwnProperty(e)&&lf.requests[e].abort()}const PK=(function(){const e=nF({xdomain:!1});return e&&e.responseType!==null})();class RK extends IK{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=PK&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new lf(nF,this.uri(),t)}}function nF(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||jK))return new XMLHttpRequest}catch{}if(!t)try{return new os[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const aF=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class FK extends EA{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=aF?{}:eF(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;_A(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&V1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=tF()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const u_=os.WebSocket||os.MozWebSocket;class BK extends FK{createSocket(t,r,n){return aF?new u_(t,r,n):r?new u_(t,r):new u_(t)}doWrite(t,r){this.ws.send(r)}}class MK extends EA{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=yK(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=vK();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),i())}).catch(l=>{})};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&V1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const LK={websocket:BK,webtransport:MK,polling:RK},zK=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,UK=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function SE(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=zK.exec(e||""),i={},s=14;for(;s--;)i[UK[s]]=a[s]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=VK(i,i.path),i.queryKey=$K(i,i.query),i}function VK(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function $K(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}const AE=typeof addEventListener=="function"&&typeof removeEventListener=="function",fx=[];AE&&addEventListener("offline",()=>{fx.forEach(e=>e())},!1);class oc extends Ln{constructor(t,r){if(super(),this.binaryType=_K,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=SE(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=SE(r.host).host);$1(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kK(this.opts.query)),AE&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},fx.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=JR,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&oc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",oc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=AK(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,V1(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(oc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),AE&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=fx.indexOf(this._offlineEventListener);n!==-1&&fx.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}oc.protocol=JR;class HK extends oc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;oc.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;oc.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function i(){n||(n=!0,d(),r.close(),r=null)}const s=m=>{const g=new Error("probe error: "+m);g.transport=r.name,i(),this.emitReserved("upgradeError",g)};function l(){s("transport closed")}function u(){s("socket closed")}function f(m){r&&m.name!==r.name&&i()}const d=()=>{r.removeListener("open",a),r.removeListener("error",s),r.removeListener("close",l),this.off("close",u),this.off("upgrading",f)};r.once("open",a),r.once("error",s),r.once("close",l),this.once("close",u),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let qK=class extends HK{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>LK[a]).filter(a=>!!a)),super(t,n)}};function WK(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=SE(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const GK=typeof ArrayBuffer=="function",KK=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,iF=Object.prototype.toString,XK=typeof Blob=="function"||typeof Blob<"u"&&iF.call(Blob)==="[object BlobConstructor]",YK=typeof File=="function"||typeof File<"u"&&iF.call(File)==="[object FileConstructor]";function SA(e){return GK&&(e instanceof ArrayBuffer||KK(e))||XK&&e instanceof Blob||YK&&e instanceof File}function dx(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(dx(e[r]))return!0;return!1}if(SA(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return dx(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&dx(e[r]))return!0;return!1}function QK(e){const t=[],r=e.data,n=e;return n.data=CE(r,t),n.attachments=t.length,{packet:n,buffers:t}}function CE(e,t){if(!e)return e;if(SA(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=CE(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=CE(e[n],t));return r}return e}function ZK(e,t){return e.data=TE(e.data,t),delete e.attachments,e}function TE(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=TE(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=TE(e[r],t));return e}const sF=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],JK=5;var Lt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Lt||(Lt={}));class eX{constructor(t){this.replacer=t}encode(t){return(t.type===Lt.EVENT||t.type===Lt.ACK)&&dx(t)?this.encodeAsBinary({type:t.type===Lt.EVENT?Lt.BINARY_EVENT:Lt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Lt.BINARY_EVENT||t.type===Lt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=QK(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}class AA extends Ln{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Lt.BINARY_EVENT;n||r.type===Lt.BINARY_ACK?(r.type=n?Lt.EVENT:Lt.ACK,this.reconstructor=new tX(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(SA(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Lt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Lt.BINARY_EVENT||n.type===Lt.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const s=t.substring(i,r);if(s!=Number(s)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const s=t.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(AA.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Lt.CONNECT:return dv(r);case Lt.DISCONNECT:return r===void 0;case Lt.CONNECT_ERROR:return typeof r=="string"||dv(r);case Lt.EVENT:case Lt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&sF.indexOf(r[0])===-1);case Lt.ACK:case Lt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class tX{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=ZK(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function rX(e){return typeof e=="string"}const nX=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function aX(e){return e===void 0||nX(e)}function dv(e){return Object.prototype.toString.call(e)==="[object Object]"}function iX(e,t){switch(e){case Lt.CONNECT:return t===void 0||dv(t);case Lt.DISCONNECT:return t===void 0;case Lt.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&sF.indexOf(t[0])===-1);case Lt.ACK:return Array.isArray(t);case Lt.CONNECT_ERROR:return typeof t=="string"||dv(t);default:return!1}}function sX(e){return rX(e.nsp)&&aX(e.id)&&iX(e.type,e.data)}const oX=Object.freeze(Object.defineProperty({__proto__:null,Decoder:AA,Encoder:eX,get PacketType(){return Lt},isPacketValid:sX,protocol:JK},Symbol.toStringTag,{value:"Module"}));function Ds(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const lX=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class oF extends Ln{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ds(t,"open",this.onopen.bind(this)),Ds(t,"packet",this.onpacket.bind(this)),Ds(t,"error",this.onerror.bind(this)),Ds(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,i;if(lX.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const s={type:Lt.EVENT,data:r};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,m=r.pop();this._registerAckCallback(d,m),s.id=d}const l=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},a),s=(...l)=>{this.io.clearTimeoutFn(i),r.apply(this,l)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...r){return new Promise((n,a)=>{const i=(s,l)=>s?a(s):n(l);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Lt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Lt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Lt.EVENT:case Lt.BINARY_EVENT:this.onevent(t);break;case Lt.ACK:case Lt.BINARY_ACK:this.onack(t);break;case Lt.DISCONNECT:this.ondisconnect();break;case Lt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:Lt.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Lt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Bf(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Bf.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Bf.prototype.reset=function(){this.attempts=0};Bf.prototype.setMin=function(e){this.ms=e};Bf.prototype.setMax=function(e){this.max=e};Bf.prototype.setJitter=function(e){this.jitter=e};class kE extends Ln{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,$1(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Bf({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||oX;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new qK(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Ds(r,"open",function(){n.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},s=Ds(r,"error",i);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),r.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(a),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ds(t,"ping",this.onping.bind(this)),Ds(t,"data",this.ondata.bind(this)),Ds(t,"error",this.onerror.bind(this)),Ds(t,"close",this.onclose.bind(this)),Ds(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){V1(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new oF(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Yd={};function hx(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=WK(e,t.path||"/socket.io"),n=r.source,a=r.id,i=r.path,s=Yd[a]&&i in Yd[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let u;return l?u=new kE(n,t):(Yd[a]||(Yd[a]=new kE(n,t)),u=Yd[a]),r.query&&!t.query&&(t.query=r.queryKey),u.socket(r.path,t)}Object.assign(hx,{Manager:kE,Socket:oF,io:hx,connect:hx});const DE=()=>{const e=localStorage.getItem("pos_server_url");if(e)return e;if(window.Capacitor?.isNative||window.location.protocol==="capacitor:"||window.location.protocol==="file:")return"http://127.0.0.1:3001";const r=window.location.protocol,n=window.location.hostname;return`${r}//${n}:3001`},cX=DE();class uX{constructor(){this.socket=null,this.isConnected=!1,this.subscribers=[],this.syncInterval=null,this.serverInfo=null}getSuggestedUrl(){return DE()}getServerInfo(){return this.serverInfo}connect(t){if(this.socket)return;const r=t||DE();console.log(" Connecting to Local Sync Server:",r),this.socket=hx(r,{reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,transports:["websocket","polling"],autoConnect:!0}),this.socket.on("connect_error",n=>{console.debug("Local sync server not found (using cloud only):",n.message)}),this.socket.on("connect",()=>{console.log(" Connected to Local Server"),this.isConnected=!0,this.notifySubscribers("connection_status",!0)}),this.socket.on("disconnect",()=>{console.log(" Disconnected from Local Server"),this.isConnected=!1,this.notifySubscribers("connection_status",!1)}),this.socket.on("server_info",n=>{console.log(" Server Info received:",n),this.serverInfo=n,this.notifySubscribers("server_info",n)}),this.socket.on("kitchen_order_received",n=>{this.notifySubscribers("kitchen_order",n)}),this.socket.on("sync_updated_needed",()=>{this.notifySubscribers("sync_needed",null)}),this.socket.on("sync_update",n=>{this.notifySubscribers("sync_update",n)}),this.socket.on("remote_cart_update",n=>{this.notifySubscribers("remote_cart_update",n)}),this.socket.on("encryption_required",n=>{console.log(" Server is LOCKED. Master Key required."),this.notifySubscribers("encryption_required",n)}),this.socket.on("encryption_unlock_success",()=>{this.notifySubscribers("encryption_unlock_success",null)}),this.socket.on("encryption_unlock_error",n=>{console.error(" Encryption error:",n.message),this.notifySubscribers("encryption_unlock_error",n)}),this.socket.on("encryption_key_accepted",()=>{this.notifySubscribers("encryption_key_accepted",null)}),this.socket.on("encryption_key_changed",()=>{this.notifySubscribers("encryption_key_changed",null)})}subscribe(t){return this.subscribers.push(t),()=>{this.subscribers=this.subscribers.filter(r=>r!==t)}}notifySubscribers(t,r){this.subscribers.forEach(n=>n(t,r))}sendActiveCartUpdate(t){return this.socket&&this.isConnected?(this.socket.emit("active_cart_update",t),!0):!1}sendKitchenOrder(t){return this.socket&&this.isConnected?(this.socket.emit("new_kitchen_order",t),!0):!1}sendHeldOrder(t){return this.socket&&this.isConnected?(this.socket.emit("add_held_order",t),!0):!1}deleteHeldOrder(t){return this.socket&&this.isConnected?(this.socket.emit("delete_held_order",t),!0):!1}sendFullStateUpdate(t){return this.socket&&this.isConnected?(this.socket.emit("full_state_update",t),!0):!1}sendEncryptionKey(t){return this.socket&&this.isConnected?(this.socket.emit("provide_encryption_key",t),!0):!1}changeMasterKey(t,r){return this.socket&&this.isConnected?(this.socket.emit("change_master_key",{oldKey:t,newKey:r}),!0):!1}async syncData(t){if(!this.isConnected)return null;try{const n=await(await fetch(`${cX}/api/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientData:t,lastSyncTime:new Date().toISOString()})})).json();return n.success?n.serverData:null}catch(r){return console.error("Sync API Failed",r),null}}}const hi=new uX;class fX{constructor(){this.isEnabled=localStorage.getItem("audioNotifications")!=="false",this.volume=parseFloat(localStorage.getItem("notificationVolume")||"0.7"),this.audioContext=null,typeof window<"u"&&(window.AudioContext||window.webkitAudioContext)&&(this.audioContext=new(window.AudioContext||window.webkitAudioContext))}playBeep(t=800,r=200,n=this.volume){if(!(!this.isEnabled||!this.audioContext))try{const a=this.audioContext.createOscillator(),i=this.audioContext.createGain();a.connect(i),i.connect(this.audioContext.destination),a.frequency.value=t,a.type="sine",i.gain.setValueAtTime(n,this.audioContext.currentTime),i.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+r/1e3),a.start(this.audioContext.currentTime),a.stop(this.audioContext.currentTime+r/1e3)}catch(a){console.error("Error playing beep:",a)}}playNewOrderSound(){this.isEnabled&&(this.playBeep(600,150),setTimeout(()=>this.playBeep(800,150),200),setTimeout(()=>this.playBeep(1e3,200),400))}playOrderReadySound(){this.isEnabled&&(this.playBeep(1200,200),setTimeout(()=>this.playBeep(1e3,250),300))}playSuccessSound(){this.isEnabled&&(this.playBeep(800,100),setTimeout(()=>this.playBeep(1e3,150),120))}playAlertSound(){this.isEnabled&&(this.playBeep(400,300),setTimeout(()=>this.playBeep(350,300),350))}setEnabled(t){this.isEnabled=t,localStorage.setItem("audioNotifications",t.toString())}setVolume(t){this.volume=Math.max(0,Math.min(1,t)),localStorage.setItem("notificationVolume",this.volume.toString())}testSound(){this.playBeep(800,200)}}const tc=new fX,dX=()=>{};var TD={};const lF=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},hX=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],l=e[r++],u=((a&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(u&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},cF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,l=s?e[a+1]:0,u=a+2<e.length,f=u?e[a+2]:0,d=i>>2,m=(i&3)<<4|l>>4;let g=(l&15)<<2|f>>6,x=f&63;u||(x=64,s||(g=64)),n.push(r[d],r[m],r[g],r[x])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lF(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):hX(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],l=a<e.length?r[e.charAt(a)]:0;++a;const f=a<e.length?r[e.charAt(a)]:64;++a;const m=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||l==null||f==null||m==null)throw new pX;const g=i<<2|l>>4;if(n.push(g),f!==64){const x=l<<4&240|f>>2;if(n.push(x),m!==64){const b=f<<6&192|m;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mX=function(e){const t=lF(e);return cF.encodeByteArray(t,!0)},hv=function(e){return mX(e).replace(/\./g,"")},gX=function(e){try{return cF.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vX=()=>xX().__FIREBASE_DEFAULTS__,yX=()=>{if(typeof process>"u"||typeof TD>"u")return;const e=TD.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},bX=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&gX(e[1]);return t&&JSON.parse(t)},CA=()=>{try{return dX()||vX()||yX()||bX()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},_X=e=>CA()?.emulatorHosts?.[e],wX=e=>{const t=_X(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},uF=()=>CA()?.config;class EX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function TA(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SX(e){return(await fetch(e,{credentials:"include"})).ok}function AX(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[hv(JSON.stringify(r)),hv(JSON.stringify(s)),""].join(".")}const xh={};function CX(){const e={prod:[],emulator:[]};for(const t of Object.keys(xh))xh[t]?e.emulator.push(t):e.prod.push(t);return e}function TX(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let kD=!1;function kX(e,t){if(typeof window>"u"||typeof document>"u"||!TA(window.location.host)||xh[e]===t||xh[e]||kD)return;xh[e]=t;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",i=CX().prod.length>0;function s(){const g=document.getElementById(n);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{kD=!0,s()},g}function d(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=TX(n),x=r("text"),b=document.getElementById(x)||document.createElement("span"),_=r("learnmore"),y=document.getElementById(_)||document.createElement("a"),w=r("preprendIcon"),C=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;l(A),d(y,_);const O=f();u(C,w),A.append(C,b,y,O),document.body.appendChild(A)}i?(b.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function DX(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OX(){const e=CA()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jX(){return!OX()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NX(){try{return typeof indexedDB=="object"}catch{return!1}}function IX(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(r){t(r)}})}const PX="FirebaseError";class Mf extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=PX,Object.setPrototypeOf(this,Mf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fF.prototype.create)}}class fF{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?RX(i,n):"Error",l=`${this.serviceName}: ${s} (${a}).`;return new Mf(a,l,n)}}function RX(e,t){return e.replace(FX,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const FX=/\{\$([^}]+)}/g;function pv(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(DD(i)&&DD(s)){if(!pv(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function DD(e){return e!==null&&typeof e=="object"}function mv(e){return e&&e._delegate?e._delegate:e}class Bh{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const su="[DEFAULT]";let BX=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new EX;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),n=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LX(t))try{this.getOrInitializeService({instanceIdentifier:su})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=su){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=su){return this.instances.has(t)}getOptions(t=su){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&s.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&t(i,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:MX(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=su){return this.component?this.component.multipleInstances?t:su:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function MX(e){return e===su?void 0:e}function LX(e){return e.instantiationMode==="EAGER"}class zX{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new BX(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var ir;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ir||(ir={}));const UX={debug:ir.DEBUG,verbose:ir.VERBOSE,info:ir.INFO,warn:ir.WARN,error:ir.ERROR,silent:ir.SILENT},VX=ir.INFO,$X={[ir.DEBUG]:"log",[ir.VERBOSE]:"log",[ir.INFO]:"info",[ir.WARN]:"warn",[ir.ERROR]:"error"},HX=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=$X[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dF{constructor(t){this.name=t,this._logLevel=VX,this._logHandler=HX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ir))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UX[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ir.DEBUG,...t),this._logHandler(this,ir.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ir.VERBOSE,...t),this._logHandler(this,ir.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ir.INFO,...t),this._logHandler(this,ir.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ir.WARN,...t),this._logHandler(this,ir.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ir.ERROR,...t),this._logHandler(this,ir.ERROR,...t)}}const qX=(e,t)=>t.some(r=>e instanceof r);let OD,jD;function WX(){return OD||(OD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GX(){return jD||(jD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hF=new WeakMap,OE=new WeakMap,pF=new WeakMap,f_=new WeakMap,kA=new WeakMap;function KX(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(lc(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&hF.set(r,e)}).catch(()=>{}),kA.set(t,e),t}function XX(e){if(OE.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});OE.set(e,t)}let jE={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return OE.get(e);if(t==="objectStoreNames")return e.objectStoreNames||pF.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return lc(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function YX(e){jE=e(jE)}function QX(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(d_(this),t,...r);return pF.set(n,t.sort?t.sort():[t]),lc(n)}:GX().includes(e)?function(...t){return e.apply(d_(this),t),lc(hF.get(this))}:function(...t){return lc(e.apply(d_(this),t))}}function ZX(e){return typeof e=="function"?QX(e):(e instanceof IDBTransaction&&XX(e),qX(e,WX())?new Proxy(e,jE):e)}function lc(e){if(e instanceof IDBRequest)return KX(e);if(f_.has(e))return f_.get(e);const t=ZX(e);return t!==e&&(f_.set(e,t),kA.set(t,e)),t}const d_=e=>kA.get(e);function JX(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),l=lc(s);return n&&s.addEventListener("upgradeneeded",u=>{n(lc(s.result),u.oldVersion,u.newVersion,lc(s.transaction),u)}),r&&s.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),a&&u.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const eY=["get","getKey","getAll","getAllKeys","count"],tY=["put","add","delete","clear"],h_=new Map;function ND(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(h_.get(t))return h_.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=tY.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||eY.includes(r)))return;const i=async function(s,...l){const u=this.transaction(s,a?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),a&&u.done]))[0]};return h_.set(t,i),i}YX(e=>({...e,get:(t,r,n)=>ND(t,r)||e.get(t,r,n),has:(t,r)=>!!ND(t,r)||e.has(t,r)}));class rY{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(nY(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function nY(e){return e.getComponent()?.type==="VERSION"}const NE="@firebase/app",ID="0.14.6";const el=new dF("@firebase/app"),aY="@firebase/app-compat",iY="@firebase/analytics-compat",sY="@firebase/analytics",oY="@firebase/app-check-compat",lY="@firebase/app-check",cY="@firebase/auth",uY="@firebase/auth-compat",fY="@firebase/database",dY="@firebase/data-connect",hY="@firebase/database-compat",pY="@firebase/functions",mY="@firebase/functions-compat",gY="@firebase/installations",xY="@firebase/installations-compat",vY="@firebase/messaging",yY="@firebase/messaging-compat",bY="@firebase/performance",_Y="@firebase/performance-compat",wY="@firebase/remote-config",EY="@firebase/remote-config-compat",SY="@firebase/storage",AY="@firebase/storage-compat",CY="@firebase/firestore",TY="@firebase/ai",kY="@firebase/firestore-compat",DY="firebase",OY="12.6.0";const IE="[DEFAULT]",jY={[NE]:"fire-core",[aY]:"fire-core-compat",[sY]:"fire-analytics",[iY]:"fire-analytics-compat",[lY]:"fire-app-check",[oY]:"fire-app-check-compat",[cY]:"fire-auth",[uY]:"fire-auth-compat",[fY]:"fire-rtdb",[dY]:"fire-data-connect",[hY]:"fire-rtdb-compat",[pY]:"fire-fn",[mY]:"fire-fn-compat",[gY]:"fire-iid",[xY]:"fire-iid-compat",[vY]:"fire-fcm",[yY]:"fire-fcm-compat",[bY]:"fire-perf",[_Y]:"fire-perf-compat",[wY]:"fire-rc",[EY]:"fire-rc-compat",[SY]:"fire-gcs",[AY]:"fire-gcs-compat",[CY]:"fire-fst",[kY]:"fire-fst-compat",[TY]:"fire-vertex","fire-js":"fire-js",[DY]:"fire-js-all"};const gv=new Map,NY=new Map,PE=new Map;function PD(e,t){try{e.container.addComponent(t)}catch(r){el.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function xv(e){const t=e.name;if(PE.has(t))return el.debug(`There were multiple attempts to register component ${t}.`),!1;PE.set(t,e);for(const r of gv.values())PD(r,e);for(const r of NY.values())PD(r,e);return!0}function IY(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function PY(e){return e==null?!1:e.settings!==void 0}const RY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cc=new fF("app","Firebase",RY);class FY{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cc.create("app-deleted",{appName:this._name})}}const BY=OY;function mF(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:IE,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw cc.create("bad-app-name",{appName:String(a)});if(r||(r=uF()),!r)throw cc.create("no-options");const i=gv.get(a);if(i){if(pv(r,i.options)&&pv(n,i.config))return i;throw cc.create("duplicate-app",{appName:a})}const s=new zX(a);for(const u of PE.values())s.addComponent(u);const l=new FY(r,n,s);return gv.set(a,l),l}function MY(e=IE){const t=gv.get(e);if(!t&&e===IE&&uF())return mF();if(!t)throw cc.create("no-app",{appName:e});return t}function cf(e,t,r){let n=jY[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const s=[`Unable to register library "${n}" with version "${t}":`];a&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),el.warn(s.join(" "));return}xv(new Bh(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const LY="firebase-heartbeat-database",zY=1,Mh="firebase-heartbeat-store";let p_=null;function gF(){return p_||(p_=JX(LY,zY,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Mh)}catch(r){console.warn(r)}}}}).catch(e=>{throw cc.create("idb-open",{originalErrorMessage:e.message})})),p_}async function UY(e){try{const r=(await gF()).transaction(Mh),n=await r.objectStore(Mh).get(xF(e));return await r.done,n}catch(t){if(t instanceof Mf)el.warn(t.message);else{const r=cc.create("idb-get",{originalErrorMessage:t?.message});el.warn(r.message)}}}async function RD(e,t){try{const n=(await gF()).transaction(Mh,"readwrite");await n.objectStore(Mh).put(t,xF(e)),await n.done}catch(r){if(r instanceof Mf)el.warn(r.message);else{const n=cc.create("idb-set",{originalErrorMessage:r?.message});el.warn(n.message)}}}function xF(e){return`${e.name}!${e.options.appId}`}const VY=1024,$Y=30;class HY{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new WY(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=FD();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(a=>a.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>$Y){const a=GY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){el.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=FD(),{heartbeatsToSend:r,unsentEntries:n}=qY(this._heartbeatsCache.heartbeats),a=hv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return el.warn(t),""}}}function FD(){return new Date().toISOString().substring(0,10)}function qY(e,t=VY){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),BD(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),BD(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class WY{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NX()?IX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await UY(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return RD(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return RD(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function BD(e){return hv(JSON.stringify({version:2,heartbeats:e})).length}function GY(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}function KY(e){xv(new Bh("platform-logger",t=>new rY(t),"PRIVATE")),xv(new Bh("heartbeat",t=>new HY(t),"PRIVATE")),cf(NE,ID,e),cf(NE,ID,"esm2020"),cf("fire-js","")}KY("");var XY="firebase",YY="12.7.0";cf(XY,YY,"app");var MD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uc,vF;(function(){var e;function t(j,k){function R(){}R.prototype=k.prototype,j.F=k.prototype,j.prototype=new R,j.prototype.constructor=j,j.D=function(I,P,N){for(var B=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)B[oe-2]=arguments[oe];return k.prototype[P].apply(I,B)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,k,R){R||(R=0);const I=Array(16);if(typeof k=="string")for(var P=0;P<16;++P)I[P]=k.charCodeAt(R++)|k.charCodeAt(R++)<<8|k.charCodeAt(R++)<<16|k.charCodeAt(R++)<<24;else for(P=0;P<16;++P)I[P]=k[R++]|k[R++]<<8|k[R++]<<16|k[R++]<<24;k=j.g[0],R=j.g[1],P=j.g[2];let N=j.g[3],B;B=k+(N^R&(P^N))+I[0]+3614090360&4294967295,k=R+(B<<7&4294967295|B>>>25),B=N+(P^k&(R^P))+I[1]+3905402710&4294967295,N=k+(B<<12&4294967295|B>>>20),B=P+(R^N&(k^R))+I[2]+606105819&4294967295,P=N+(B<<17&4294967295|B>>>15),B=R+(k^P&(N^k))+I[3]+3250441966&4294967295,R=P+(B<<22&4294967295|B>>>10),B=k+(N^R&(P^N))+I[4]+4118548399&4294967295,k=R+(B<<7&4294967295|B>>>25),B=N+(P^k&(R^P))+I[5]+1200080426&4294967295,N=k+(B<<12&4294967295|B>>>20),B=P+(R^N&(k^R))+I[6]+2821735955&4294967295,P=N+(B<<17&4294967295|B>>>15),B=R+(k^P&(N^k))+I[7]+4249261313&4294967295,R=P+(B<<22&4294967295|B>>>10),B=k+(N^R&(P^N))+I[8]+1770035416&4294967295,k=R+(B<<7&4294967295|B>>>25),B=N+(P^k&(R^P))+I[9]+2336552879&4294967295,N=k+(B<<12&4294967295|B>>>20),B=P+(R^N&(k^R))+I[10]+4294925233&4294967295,P=N+(B<<17&4294967295|B>>>15),B=R+(k^P&(N^k))+I[11]+2304563134&4294967295,R=P+(B<<22&4294967295|B>>>10),B=k+(N^R&(P^N))+I[12]+1804603682&4294967295,k=R+(B<<7&4294967295|B>>>25),B=N+(P^k&(R^P))+I[13]+4254626195&4294967295,N=k+(B<<12&4294967295|B>>>20),B=P+(R^N&(k^R))+I[14]+2792965006&4294967295,P=N+(B<<17&4294967295|B>>>15),B=R+(k^P&(N^k))+I[15]+1236535329&4294967295,R=P+(B<<22&4294967295|B>>>10),B=k+(P^N&(R^P))+I[1]+4129170786&4294967295,k=R+(B<<5&4294967295|B>>>27),B=N+(R^P&(k^R))+I[6]+3225465664&4294967295,N=k+(B<<9&4294967295|B>>>23),B=P+(k^R&(N^k))+I[11]+643717713&4294967295,P=N+(B<<14&4294967295|B>>>18),B=R+(N^k&(P^N))+I[0]+3921069994&4294967295,R=P+(B<<20&4294967295|B>>>12),B=k+(P^N&(R^P))+I[5]+3593408605&4294967295,k=R+(B<<5&4294967295|B>>>27),B=N+(R^P&(k^R))+I[10]+38016083&4294967295,N=k+(B<<9&4294967295|B>>>23),B=P+(k^R&(N^k))+I[15]+3634488961&4294967295,P=N+(B<<14&4294967295|B>>>18),B=R+(N^k&(P^N))+I[4]+3889429448&4294967295,R=P+(B<<20&4294967295|B>>>12),B=k+(P^N&(R^P))+I[9]+568446438&4294967295,k=R+(B<<5&4294967295|B>>>27),B=N+(R^P&(k^R))+I[14]+3275163606&4294967295,N=k+(B<<9&4294967295|B>>>23),B=P+(k^R&(N^k))+I[3]+4107603335&4294967295,P=N+(B<<14&4294967295|B>>>18),B=R+(N^k&(P^N))+I[8]+1163531501&4294967295,R=P+(B<<20&4294967295|B>>>12),B=k+(P^N&(R^P))+I[13]+2850285829&4294967295,k=R+(B<<5&4294967295|B>>>27),B=N+(R^P&(k^R))+I[2]+4243563512&4294967295,N=k+(B<<9&4294967295|B>>>23),B=P+(k^R&(N^k))+I[7]+1735328473&4294967295,P=N+(B<<14&4294967295|B>>>18),B=R+(N^k&(P^N))+I[12]+2368359562&4294967295,R=P+(B<<20&4294967295|B>>>12),B=k+(R^P^N)+I[5]+4294588738&4294967295,k=R+(B<<4&4294967295|B>>>28),B=N+(k^R^P)+I[8]+2272392833&4294967295,N=k+(B<<11&4294967295|B>>>21),B=P+(N^k^R)+I[11]+1839030562&4294967295,P=N+(B<<16&4294967295|B>>>16),B=R+(P^N^k)+I[14]+4259657740&4294967295,R=P+(B<<23&4294967295|B>>>9),B=k+(R^P^N)+I[1]+2763975236&4294967295,k=R+(B<<4&4294967295|B>>>28),B=N+(k^R^P)+I[4]+1272893353&4294967295,N=k+(B<<11&4294967295|B>>>21),B=P+(N^k^R)+I[7]+4139469664&4294967295,P=N+(B<<16&4294967295|B>>>16),B=R+(P^N^k)+I[10]+3200236656&4294967295,R=P+(B<<23&4294967295|B>>>9),B=k+(R^P^N)+I[13]+681279174&4294967295,k=R+(B<<4&4294967295|B>>>28),B=N+(k^R^P)+I[0]+3936430074&4294967295,N=k+(B<<11&4294967295|B>>>21),B=P+(N^k^R)+I[3]+3572445317&4294967295,P=N+(B<<16&4294967295|B>>>16),B=R+(P^N^k)+I[6]+76029189&4294967295,R=P+(B<<23&4294967295|B>>>9),B=k+(R^P^N)+I[9]+3654602809&4294967295,k=R+(B<<4&4294967295|B>>>28),B=N+(k^R^P)+I[12]+3873151461&4294967295,N=k+(B<<11&4294967295|B>>>21),B=P+(N^k^R)+I[15]+530742520&4294967295,P=N+(B<<16&4294967295|B>>>16),B=R+(P^N^k)+I[2]+3299628645&4294967295,R=P+(B<<23&4294967295|B>>>9),B=k+(P^(R|~N))+I[0]+4096336452&4294967295,k=R+(B<<6&4294967295|B>>>26),B=N+(R^(k|~P))+I[7]+1126891415&4294967295,N=k+(B<<10&4294967295|B>>>22),B=P+(k^(N|~R))+I[14]+2878612391&4294967295,P=N+(B<<15&4294967295|B>>>17),B=R+(N^(P|~k))+I[5]+4237533241&4294967295,R=P+(B<<21&4294967295|B>>>11),B=k+(P^(R|~N))+I[12]+1700485571&4294967295,k=R+(B<<6&4294967295|B>>>26),B=N+(R^(k|~P))+I[3]+2399980690&4294967295,N=k+(B<<10&4294967295|B>>>22),B=P+(k^(N|~R))+I[10]+4293915773&4294967295,P=N+(B<<15&4294967295|B>>>17),B=R+(N^(P|~k))+I[1]+2240044497&4294967295,R=P+(B<<21&4294967295|B>>>11),B=k+(P^(R|~N))+I[8]+1873313359&4294967295,k=R+(B<<6&4294967295|B>>>26),B=N+(R^(k|~P))+I[15]+4264355552&4294967295,N=k+(B<<10&4294967295|B>>>22),B=P+(k^(N|~R))+I[6]+2734768916&4294967295,P=N+(B<<15&4294967295|B>>>17),B=R+(N^(P|~k))+I[13]+1309151649&4294967295,R=P+(B<<21&4294967295|B>>>11),B=k+(P^(R|~N))+I[4]+4149444226&4294967295,k=R+(B<<6&4294967295|B>>>26),B=N+(R^(k|~P))+I[11]+3174756917&4294967295,N=k+(B<<10&4294967295|B>>>22),B=P+(k^(N|~R))+I[2]+718787259&4294967295,P=N+(B<<15&4294967295|B>>>17),B=R+(N^(P|~k))+I[9]+3951481745&4294967295,j.g[0]=j.g[0]+k&4294967295,j.g[1]=j.g[1]+(P+(B<<21&4294967295|B>>>11))&4294967295,j.g[2]=j.g[2]+P&4294967295,j.g[3]=j.g[3]+N&4294967295}n.prototype.v=function(j,k){k===void 0&&(k=j.length);const R=k-this.blockSize,I=this.C;let P=this.h,N=0;for(;N<k;){if(P==0)for(;N<=R;)a(this,j,N),N+=this.blockSize;if(typeof j=="string"){for(;N<k;)if(I[P++]=j.charCodeAt(N++),P==this.blockSize){a(this,I),P=0;break}}else for(;N<k;)if(I[P++]=j[N++],P==this.blockSize){a(this,I),P=0;break}}this.h=P,this.o+=k},n.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var k=1;k<j.length-8;++k)j[k]=0;k=this.o*8;for(var R=j.length-8;R<j.length;++R)j[R]=k&255,k/=256;for(this.v(j),j=Array(16),k=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)j[k++]=this.g[R]>>>I&255;return j};function i(j,k){var R=l;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=k(j)}function s(j,k){this.h=k;const R=[];let I=!0;for(let P=j.length-1;P>=0;P--){const N=j[P]|0;I&&N==k||(R[P]=N,I=!1)}this.g=R}var l={};function u(j){return-128<=j&&j<128?i(j,function(k){return new s([k|0],k<0?-1:0)}):new s([j|0],j<0?-1:0)}function f(j){if(isNaN(j)||!isFinite(j))return m;if(j<0)return y(f(-j));const k=[];let R=1;for(let I=0;j>=R;I++)k[I]=j/R|0,R*=4294967296;return new s(k,0)}function d(j,k){if(j.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(j.charAt(0)=="-")return y(d(j.substring(1),k));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=f(Math.pow(k,8));let I=m;for(let N=0;N<j.length;N+=8){var P=Math.min(8,j.length-N);const B=parseInt(j.substring(N,N+P),k);P<8?(P=f(Math.pow(k,P)),I=I.j(P).add(f(B))):(I=I.j(R),I=I.add(f(B)))}return I}var m=u(0),g=u(1),x=u(16777216);e=s.prototype,e.m=function(){if(_(this))return-y(this).m();let j=0,k=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);j+=(I>=0?I:4294967296+I)*k,k*=4294967296}return j},e.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(b(this))return"0";if(_(this))return"-"+y(this).toString(j);const k=f(Math.pow(j,6));var R=this;let I="";for(;;){const P=O(R,k).g;R=w(R,P.j(k));let N=((R.g.length>0?R.g[0]:R.h)>>>0).toString(j);if(R=P,b(R))return N+I;for(;N.length<6;)N="0"+N;I=N+I}},e.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function b(j){if(j.h!=0)return!1;for(let k=0;k<j.g.length;k++)if(j.g[k]!=0)return!1;return!0}function _(j){return j.h==-1}e.l=function(j){return j=w(this,j),_(j)?-1:b(j)?0:1};function y(j){const k=j.g.length,R=[];for(let I=0;I<k;I++)R[I]=~j.g[I];return new s(R,~j.h).add(g)}e.abs=function(){return _(this)?y(this):this},e.add=function(j){const k=Math.max(this.g.length,j.g.length),R=[];let I=0;for(let P=0;P<=k;P++){let N=I+(this.i(P)&65535)+(j.i(P)&65535),B=(N>>>16)+(this.i(P)>>>16)+(j.i(P)>>>16);I=B>>>16,N&=65535,B&=65535,R[P]=B<<16|N}return new s(R,R[R.length-1]&-2147483648?-1:0)};function w(j,k){return j.add(y(k))}e.j=function(j){if(b(this)||b(j))return m;if(_(this))return _(j)?y(this).j(y(j)):y(y(this).j(j));if(_(j))return y(this.j(y(j)));if(this.l(x)<0&&j.l(x)<0)return f(this.m()*j.m());const k=this.g.length+j.g.length,R=[];for(var I=0;I<2*k;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let P=0;P<j.g.length;P++){const N=this.i(I)>>>16,B=this.i(I)&65535,oe=j.i(P)>>>16,he=j.i(P)&65535;R[2*I+2*P]+=B*he,C(R,2*I+2*P),R[2*I+2*P+1]+=N*he,C(R,2*I+2*P+1),R[2*I+2*P+1]+=B*oe,C(R,2*I+2*P+1),R[2*I+2*P+2]+=N*oe,C(R,2*I+2*P+2)}for(j=0;j<k;j++)R[j]=R[2*j+1]<<16|R[2*j];for(j=k;j<2*k;j++)R[j]=0;return new s(R,0)};function C(j,k){for(;(j[k]&65535)!=j[k];)j[k+1]+=j[k]>>>16,j[k]&=65535,k++}function A(j,k){this.g=j,this.h=k}function O(j,k){if(b(k))throw Error("division by zero");if(b(j))return new A(m,m);if(_(j))return k=O(y(j),k),new A(y(k.g),y(k.h));if(_(k))return k=O(j,y(k)),new A(y(k.g),k.h);if(j.g.length>30){if(_(j)||_(k))throw Error("slowDivide_ only works with positive integers.");for(var R=g,I=k;I.l(j)<=0;)R=F(R),I=F(I);var P=M(R,1),N=M(I,1);for(I=M(I,2),R=M(R,2);!b(I);){var B=N.add(I);B.l(j)<=0&&(P=P.add(R),N=B),I=M(I,1),R=M(R,1)}return k=w(j,P.j(k)),new A(P,k)}for(P=m;j.l(k)>=0;){for(R=Math.max(1,Math.floor(j.m()/k.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),N=f(R),B=N.j(k);_(B)||B.l(j)>0;)R-=I,N=f(R),B=N.j(k);b(N)&&(N=g),P=P.add(N),j=w(j,B)}return new A(P,j)}e.B=function(j){return O(this,j).h},e.and=function(j){const k=Math.max(this.g.length,j.g.length),R=[];for(let I=0;I<k;I++)R[I]=this.i(I)&j.i(I);return new s(R,this.h&j.h)},e.or=function(j){const k=Math.max(this.g.length,j.g.length),R=[];for(let I=0;I<k;I++)R[I]=this.i(I)|j.i(I);return new s(R,this.h|j.h)},e.xor=function(j){const k=Math.max(this.g.length,j.g.length),R=[];for(let I=0;I<k;I++)R[I]=this.i(I)^j.i(I);return new s(R,this.h^j.h)};function F(j){const k=j.g.length+1,R=[];for(let I=0;I<k;I++)R[I]=j.i(I)<<1|j.i(I-1)>>>31;return new s(R,j.h)}function M(j,k){const R=k>>5;k%=32;const I=j.g.length-R,P=[];for(let N=0;N<I;N++)P[N]=k>0?j.i(N+R)>>>k|j.i(N+R+1)<<32-k:j.i(N+R);return new s(P,j.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,vF=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=d,uc=s}).apply(typeof MD<"u"?MD:typeof self<"u"?self:typeof window<"u"?window:{});var Tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yF,oh,bF,px,RE,_F,wF,EF;(function(){var e,t=Object.defineProperty;function r(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tg=="object"&&Tg];for(var L=0;L<E.length;++L){var V=E[L];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function a(E,L){if(L)e:{var V=n;E=E.split(".");for(var re=0;re<E.length-1;re++){var Te=E[re];if(!(Te in V))break e;V=V[Te]}E=E[E.length-1],re=V[E],L=L(re),L!=re&&L!=null&&t(V,E,{configurable:!0,writable:!0,value:L})}}a("Symbol.dispose",function(E){return E||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(E){return E||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(E){return E||function(L){var V=[],re;for(re in L)Object.prototype.hasOwnProperty.call(L,re)&&V.push([re,L[re]]);return V}});var i=i||{},s=this||self;function l(E){var L=typeof E;return L=="object"&&E!=null||L=="function"}function u(E,L,V){return E.call.apply(E.bind,arguments)}function f(E,L,V){return f=u,f.apply(null,arguments)}function d(E,L){var V=Array.prototype.slice.call(arguments,1);return function(){var re=V.slice();return re.push.apply(re,arguments),E.apply(this,re)}}function m(E,L){function V(){}V.prototype=L.prototype,E.Z=L.prototype,E.prototype=new V,E.prototype.constructor=E,E.Ob=function(re,Te,Pe){for(var tt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)tt[Pt-2]=arguments[Pt];return L.prototype[Te].apply(re,tt)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?E=>E&&AsyncContext.Snapshot.wrap(E):E=>E;function x(E){const L=E.length;if(L>0){const V=Array(L);for(let re=0;re<L;re++)V[re]=E[re];return V}return[]}function b(E,L){for(let re=1;re<arguments.length;re++){const Te=arguments[re];var V=typeof Te;if(V=V!="object"?V:Te?Array.isArray(Te)?"array":V:"null",V=="array"||V=="object"&&typeof Te.length=="number"){V=E.length||0;const Pe=Te.length||0;E.length=V+Pe;for(let tt=0;tt<Pe;tt++)E[V+tt]=Te[tt]}else E.push(Te)}}class _{constructor(L,V){this.i=L,this.j=V,this.h=0,this.g=null}get(){let L;return this.h>0?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function y(E){s.setTimeout(()=>{throw E},0)}function w(){var E=j;let L=null;return E.g&&(L=E.g,E.g=E.g.next,E.g||(E.h=null),L.next=null),L}class C{constructor(){this.h=this.g=null}add(L,V){const re=A.get();re.set(L,V),this.h?this.h.next=re:this.g=re,this.h=re}}var A=new _(()=>new O,E=>E.reset());class O{constructor(){this.next=this.g=this.h=null}set(L,V){this.h=L,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let F,M=!1,j=new C,k=()=>{const E=Promise.resolve(void 0);F=()=>{E.then(R)}};function R(){for(var E;E=w();){try{E.h.call(E.g)}catch(V){y(V)}var L=A;L.j(E),L.h<100&&(L.h++,E.next=L.g,L.g=E)}M=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(E,L){this.type=E,this.g=this.target=L,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var E=!1,L=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const V=()=>{};s.addEventListener("test",V,L),s.removeEventListener("test",V,L)}catch{}return E})();function B(E){return/^[\s\xa0]*$/.test(E)}function oe(E,L){P.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E&&this.init(E,L)}m(oe,P),oe.prototype.init=function(E,L){const V=this.type=E.type,re=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;this.target=E.target||E.srcElement,this.g=L,L=E.relatedTarget,L||(V=="mouseover"?L=E.fromElement:V=="mouseout"&&(L=E.toElement)),this.relatedTarget=L,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=E.pointerType,this.state=E.state,this.i=E,E.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),ne=0;function de(E,L,V,re,Te){this.listener=E,this.proxy=null,this.src=L,this.type=V,this.capture=!!re,this.ha=Te,this.key=++ne,this.da=this.fa=!1}function be(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function we(E,L,V){for(const re in E)L.call(V,E[re],re,E)}function ue(E,L){for(const V in E)L.call(void 0,E[V],V,E)}function U(E){const L={};for(const V in E)L[V]=E[V];return L}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(E,L){let V,re;for(let Te=1;Te<arguments.length;Te++){re=arguments[Te];for(V in re)E[V]=re[V];for(let Pe=0;Pe<Y.length;Pe++)V=Y[Pe],Object.prototype.hasOwnProperty.call(re,V)&&(E[V]=re[V])}}function q(E){this.src=E,this.g={},this.h=0}q.prototype.add=function(E,L,V,re,Te){const Pe=E.toString();E=this.g[Pe],E||(E=this.g[Pe]=[],this.h++);const tt=me(E,L,re,Te);return tt>-1?(L=E[tt],V||(L.fa=!1)):(L=new de(L,this.src,Pe,!!re,Te),L.fa=V,E.push(L)),L};function se(E,L){const V=L.type;if(V in E.g){var re=E.g[V],Te=Array.prototype.indexOf.call(re,L,void 0),Pe;(Pe=Te>=0)&&Array.prototype.splice.call(re,Te,1),Pe&&(be(L),E.g[V].length==0&&(delete E.g[V],E.h--))}}function me(E,L,V,re){for(let Te=0;Te<E.length;++Te){const Pe=E[Te];if(!Pe.da&&Pe.listener==L&&Pe.capture==!!V&&Pe.ha==re)return Te}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),H={};function G(E,L,V,re,Te){if(Array.isArray(L)){for(let Pe=0;Pe<L.length;Pe++)G(E,L[Pe],V,re,Te);return null}return V=Je(V),E&&E[he]?E.J(L,V,l(re)?!!re.capture:!1,Te):ee(E,L,V,!1,re,Te)}function ee(E,L,V,re,Te,Pe){if(!L)throw Error("Invalid event type");const tt=l(Te)?!!Te.capture:!!Te;let Pt=Be(E);if(Pt||(E[ve]=Pt=new q(E)),V=Pt.add(L,V,re,tt,Pe),V.proxy)return V;if(re=ae(),V.proxy=re,re.src=E,re.listener=V,E.addEventListener)N||(Te=tt),Te===void 0&&(Te=!1),E.addEventListener(L.toString(),re,Te);else if(E.attachEvent)E.attachEvent(je(L.toString()),re);else if(E.addListener&&E.removeListener)E.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return V}function ae(){function E(V){return L.call(E.src,E.listener,V)}const L=He;return E}function pe(E,L,V,re,Te){if(Array.isArray(L))for(var Pe=0;Pe<L.length;Pe++)pe(E,L[Pe],V,re,Te);else re=l(re)?!!re.capture:!!re,V=Je(V),E&&E[he]?(E=E.i,Pe=String(L).toString(),Pe in E.g&&(L=E.g[Pe],V=me(L,V,re,Te),V>-1&&(be(L[V]),Array.prototype.splice.call(L,V,1),L.length==0&&(delete E.g[Pe],E.h--)))):E&&(E=Be(E))&&(L=E.g[L.toString()],E=-1,L&&(E=me(L,V,re,Te)),(V=E>-1?L[E]:null)&&X(V))}function X(E){if(typeof E!="number"&&E&&!E.da){var L=E.src;if(L&&L[he])se(L.i,E);else{var V=E.type,re=E.proxy;L.removeEventListener?L.removeEventListener(V,re,E.capture):L.detachEvent?L.detachEvent(je(V),re):L.addListener&&L.removeListener&&L.removeListener(re),(V=Be(L))?(se(V,E),V.h==0&&(V.src=null,L[ve]=null)):be(E)}}}function je(E){return E in H?H[E]:H[E]="on"+E}function He(E,L){if(E.da)E=!0;else{L=new oe(L,this);const V=E.listener,re=E.ha||E.src;E.fa&&X(E),E=V.call(re,L)}return E}function Be(E){return E=E[ve],E instanceof q?E:null}var Ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function Je(E){return typeof E=="function"?E:(E[Ke]||(E[Ke]=function(L){return E.handleEvent(L)}),E[Ke])}function et(){I.call(this),this.i=new q(this),this.M=this,this.G=null}m(et,I),et.prototype[he]=!0,et.prototype.removeEventListener=function(E,L,V,re){pe(this,E,L,V,re)};function st(E,L){var V,re=E.G;if(re)for(V=[];re;re=re.G)V.push(re);if(E=E.M,re=L.type||L,typeof L=="string")L=new P(L,E);else if(L instanceof P)L.target=L.target||E;else{var Te=L;L=new P(re,E),Z(L,Te)}Te=!0;let Pe,tt;if(V)for(tt=V.length-1;tt>=0;tt--)Pe=L.g=V[tt],Te=rt(Pe,re,!0,L)&&Te;if(Pe=L.g=E,Te=rt(Pe,re,!0,L)&&Te,Te=rt(Pe,re,!1,L)&&Te,V)for(tt=0;tt<V.length;tt++)Pe=L.g=V[tt],Te=rt(Pe,re,!1,L)&&Te}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var E=this.i;for(const L in E.g){const V=E.g[L];for(let re=0;re<V.length;re++)be(V[re]);delete E.g[L],E.h--}}this.G=null},et.prototype.J=function(E,L,V,re){return this.i.add(String(E),L,!1,V,re)},et.prototype.K=function(E,L,V,re){return this.i.add(String(E),L,!0,V,re)};function rt(E,L,V,re){if(L=E.i.g[String(L)],!L)return!0;L=L.concat();let Te=!0;for(let Pe=0;Pe<L.length;++Pe){const tt=L[Pe];if(tt&&!tt.da&&tt.capture==V){const Pt=tt.listener,_n=tt.ha||tt.src;tt.fa&&se(E.i,tt),Te=Pt.call(_n,re)!==!1&&Te}}return Te&&!re.defaultPrevented}function ce(E,L){if(typeof E!="function")if(E&&typeof E.handleEvent=="function")E=f(E.handleEvent,E);else throw Error("Invalid listener argument");return Number(L)>2147483647?-1:s.setTimeout(E,L||0)}function Se(E){E.g=ce(()=>{E.g=null,E.i&&(E.i=!1,Se(E))},E.l);const L=E.h;E.h=null,E.m.apply(null,L)}class Ye extends I{constructor(L,V){super(),this.m=L,this.l=V,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Se(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(E){I.call(this),this.h=E,this.g={}}m(Me,I);var wt=[];function Dt(E){we(E.g,function(L,V){this.g.hasOwnProperty(V)&&X(L)},E),E.g={}}Me.prototype.N=function(){Me.Z.N.call(this),Dt(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=s.JSON.stringify,At=s.JSON.parse,Ut=class{stringify(E){return s.JSON.stringify(E,void 0)}parse(E){return s.JSON.parse(E,void 0)}};function Ge(){}function it(){}var bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){P.call(this,"d")}m(xt,P);function It(){P.call(this,"c")}m(It,P);var pt={},rn=null;function yn(){return rn=rn||new et}pt.Ia="serverreachability";function fn(E){P.call(this,pt.Ia,E)}m(fn,P);function Vr(E){const L=yn();st(L,new fn(L))}pt.STAT_EVENT="statevent";function ia(E,L){P.call(this,pt.STAT_EVENT,E),this.stat=L}m(ia,P);function Cr(E){const L=yn();st(L,new ia(L,E))}pt.Ja="timingevent";function nn(E,L){P.call(this,pt.Ja,E),this.size=L}m(nn,P);function dn(E,L){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){E()},L)}function Kr(){this.g=!0}Kr.prototype.ua=function(){this.g=!1};function Ga(E,L,V,re,Te,Pe){E.info(function(){if(E.g)if(Pe){var tt="",Pt=Pe.split("&");for(let pr=0;pr<Pt.length;pr++){var _n=Pt[pr].split("=");if(_n.length>1){const Yr=_n[0];_n=_n[1];const qi=Yr.split("_");tt=qi.length>=2&&qi[1]=="type"?tt+(Yr+"="+_n+"&"):tt+(Yr+"=redacted&")}}}else tt=null;else tt=Pe;return"XMLHTTP REQ ("+re+") [attempt "+Te+"]: "+L+`
`+V+`
`+tt})}function wi(E,L,V,re,Te,Pe,tt){E.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Te+"]: "+L+`
`+V+`
`+Pe+" "+tt})}function an(E,L,V,re){E.info(function(){return"XMLHTTP TEXT ("+L+"): "+ai(E,V)+(re?" "+re:"")})}function Ft(E,L){E.info(function(){return"TIMEOUT: "+L})}Kr.prototype.info=function(){};function ai(E,L){if(!E.g)return L;if(!L)return null;try{const Pe=JSON.parse(L);if(Pe){for(E=0;E<Pe.length;E++)if(Array.isArray(Pe[E])){var V=Pe[E];if(!(V.length<2)){var re=V[1];if(Array.isArray(re)&&!(re.length<1)){var Te=re[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(let tt=1;tt<re.length;tt++)re[tt]=""}}}}return Et(Pe)}catch{return L}}var bn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sn;function Gn(){}m(Gn,Ge),Gn.prototype.g=function(){return new XMLHttpRequest},sn=new Gn;function kr(E){return encodeURIComponent(String(E))}function W(E){var L=1;E=E.split(":");const V=[];for(;L>0&&E.length;)V.push(E.shift()),L--;return E.length&&V.push(E.join(":")),V}function le(E,L,V,re){this.j=E,this.i=L,this.l=V,this.S=re||1,this.V=new Me(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Q}function Q(){this.i=null,this.g="",this.h=!1}var J={},ie={};function fe(E,L,V){E.M=1,E.A=Pc(vr(L)),E.u=V,E.R=!0,Ce(E,null)}function Ce(E,L){E.F=Date.now(),xe(E),E.B=vr(E.A);var V=E.B,re=E.S;Array.isArray(re)||(re=[String(re)]),l0(V.i,"t",re),E.C=0,V=E.j.L,E.h=new Q,E.g=mm(E.j,V?L:null,!E.u),E.P>0&&(E.O=new Ye(f(E.Y,E,E.g),E.P)),L=E.V,V=E.g,re=E.ba;var Te="readystatechange";Array.isArray(Te)||(Te&&(wt[0]=Te.toString()),Te=wt);for(let Pe=0;Pe<Te.length;Pe++){const tt=G(V,Te[Pe],re||L.handleEvent,!1,L.h||L);if(!tt)break;L.g[tt.key]=tt}L=E.J?U(E.J):{},E.u?(E.v||(E.v="POST"),L["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.B,E.v,E.u,L)):(E.v="GET",E.g.ea(E.B,E.v,null,L)),Vr(),Ga(E.i,E.v,E.B,E.l,E.S,E.u)}le.prototype.ba=function(E){E=E.target;const L=this.O;L&&ws(E)==3?L.j():this.Y(E)},le.prototype.Y=function(E){try{if(E==this.g)e:{const Pt=ws(this.g),_n=this.g.ya(),pr=this.g.ca();if(!(Pt<3)&&(Pt!=3||this.g&&(this.h.h||this.g.la()||va(this.g)))){this.K||Pt!=4||_n==7||(_n==8||pr<=0?Vr(3):Vr(2)),Ue(this);var L=this.g.ca();this.X=L;var V=Fe(this);if(this.o=L==200,wi(this.i,this.v,this.B,this.l,this.S,Pt,L),this.o){if(this.U&&!this.L){t:{if(this.g){var re,Te=this.g;if((re=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(re)){var Pe=re;break t}}Pe=null}if(E=Pe)an(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,E);else{this.o=!1,this.m=3,Cr(12),qe(this),Qe(this);break e}}if(this.R){E=!0;let Yr;for(;!this.K&&this.C<V.length;)if(Yr=ge(this,V),Yr==ie){Pt==4&&(this.m=4,Cr(14),E=!1),an(this.i,this.l,null,"[Incomplete Response]");break}else if(Yr==J){this.m=4,Cr(15),an(this.i,this.l,V,"[Invalid Chunk]"),E=!1;break}else an(this.i,this.l,Yr,null),Xe(this,Yr);if(te(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||V.length!=0||this.h.h||(this.m=1,Cr(16),E=!1),this.o=this.o&&E,!E)an(this.i,this.l,V,"[Invalid Chunked Response]"),qe(this),Qe(this);else if(V.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),ud(tt),tt.P=!0,Cr(11))}}else an(this.i,this.l,V,null),Xe(this,V);Pt==4&&qe(this),this.o&&!this.K&&(Pt==4?fm(this.j,this):(this.o=!1,xe(this)))}else wo(this.g),L==400&&V.indexOf("Unknown SID")>0?(this.m=3,Cr(12)):(this.m=0,Cr(13)),qe(this),Qe(this)}}}catch{}};function Fe(E){if(!te(E))return E.g.la();const L=va(E.g);if(L==="")return"";let V="";const re=L.length,Te=ws(E.g)==4;if(!E.h.i){if(typeof TextDecoder>"u")return qe(E),Qe(E),"";E.h.i=new s.TextDecoder}for(let Pe=0;Pe<re;Pe++)E.h.h=!0,V+=E.h.i.decode(L[Pe],{stream:!(Te&&Pe==re-1)});return L.length=0,E.h.g+=V,E.C=0,E.h.g}function te(E){return E.g?E.v=="GET"&&E.M!=2&&E.j.Aa:!1}function ge(E,L){var V=E.C,re=L.indexOf(`
`,V);return re==-1?ie:(V=Number(L.substring(V,re)),isNaN(V)?J:(re+=1,re+V>L.length?ie:(L=L.slice(re,re+V),E.C=re+V,L)))}le.prototype.cancel=function(){this.K=!0,qe(this)};function xe(E){E.T=Date.now()+E.H,Ie(E,E.H)}function Ie(E,L){if(E.D!=null)throw Error("WatchDog timer not null");E.D=dn(f(E.aa,E),L)}function Ue(E){E.D&&(s.clearTimeout(E.D),E.D=null)}le.prototype.aa=function(){this.D=null;const E=Date.now();E-this.T>=0?(Ft(this.i,this.B),this.M!=2&&(Vr(),Cr(17)),qe(this),this.m=2,Qe(this)):Ie(this,this.T-E)};function Qe(E){E.j.I==0||E.K||fm(E.j,E)}function qe(E){Ue(E);var L=E.O;L&&typeof L.dispose=="function"&&L.dispose(),E.O=null,Dt(E.V),E.g&&(L=E.g,E.g=null,L.abort(),L.dispose())}function Xe(E,L){try{var V=E.j;if(V.I!=0&&(V.g==E||ht(V.h,E))){if(!E.L&&ht(V.h,E)&&V.I==3){try{var re=V.Ba.g.parse(L)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Te=re;if(Te[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<E.F)h0(V),Cl(V);else break e;Uc(V),Cr(18)}}else V.xa=Te[1],0<V.xa-V.K&&Te[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=dn(f(V.Va,V),6e3));Ze(V.h)<=1&&V.ta&&(V.ta=void 0)}else Xs(V,11)}else if((E.L||V.g==E)&&h0(V),!B(L))for(Te=V.Ba.g.parse(L),L=0;L<Te.length;L++){let pr=Te[L];const Yr=pr[0];if(!(Yr<=V.K))if(V.K=Yr,pr=pr[1],V.I==2)if(pr[0]=="c"){V.M=pr[1],V.ba=pr[2];const qi=pr[3];qi!=null&&(V.ka=qi,V.j.info("VER="+V.ka));const Ys=pr[4];Ys!=null&&(V.za=Ys,V.j.info("SVER="+V.za));const Es=pr[5];Es!=null&&typeof Es=="number"&&Es>0&&(re=1.5*Es,V.O=re,V.j.info("backChannelRequestTimeoutMs_="+re)),re=V;const Ss=E.g;if(Ss){const Vc=Ss.g?Ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vc){var Pe=re.h;Pe.g||Vc.indexOf("spdy")==-1&&Vc.indexOf("quic")==-1&&Vc.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(gt(Pe,Pe.h),Pe.h=null))}if(re.G){const p0=Ss.g?Ss.g.getResponseHeader("X-HTTP-Session-Id"):null;p0&&(re.wa=p0,nr(re.J,re.G,p0))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-E.F,V.j.info("Handshake RTT: "+V.T+"ms")),re=V;var tt=E;if(re.na=pm(re,re.L?re.ba:null,re.W),tt.L){Bt(re.h,tt);var Pt=tt,_n=re.O;_n&&(Pt.H=_n),Pt.D&&(Ue(Pt),xe(Pt)),re.g=tt}else cm(re);V.i.length>0&&Ks(V)}else pr[0]!="stop"&&pr[0]!="close"||Xs(V,7);else V.I==3&&(pr[0]=="stop"||pr[0]=="close"?pr[0]=="stop"?Xs(V,7):ld(V):pr[0]!="noop"&&V.l&&V.l.qa(pr),V.A=0)}}Vr(4)}catch{}}var ct=class{constructor(E,L){this.g=E,this.map=L}};function cr(E){this.l=E||10,s.PerformanceNavigationTiming?(E=s.performance.getEntriesByType("navigation"),E=E.length>0&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _e(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function Ze(E){return E.h?1:E.g?E.g.size:0}function ht(E,L){return E.h?E.h==L:E.g?E.g.has(L):!1}function gt(E,L){E.g?E.g.add(L):E.h=L}function Bt(E,L){E.h&&E.h==L?E.h=null:E.g&&E.g.has(L)&&E.g.delete(L)}cr.prototype.cancel=function(){if(this.i=Tt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function Tt(E){if(E.h!=null)return E.i.concat(E.h.G);if(E.g!=null&&E.g.size!==0){let L=E.i;for(const V of E.g.values())L=L.concat(V.G);return L}return x(E.i)}var xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vt(E,L){if(E){E=E.split("&");for(let V=0;V<E.length;V++){const re=E[V].indexOf("=");let Te,Pe=null;re>=0?(Te=E[V].substring(0,re),Pe=E[V].substring(re+1)):Te=E[V],L(Te,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function Xr(E){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let L;E instanceof Xr?(this.l=E.l,Fr(this,E.j),this.o=E.o,this.g=E.g,Ka(this,E.u),this.h=E.h,Ic(this,om(E.i)),this.m=E.m):E&&(L=String(E).match(xr))?(this.l=!1,Fr(this,L[1]||"",!0),this.o=Hs(L[2]||""),this.g=Hs(L[3]||"",!0),Ka(this,L[4]),this.h=Hs(L[5]||"",!0),Ic(this,L[6]||"",!0),this.m=Hs(L[7]||"")):(this.l=!1,this.i=new _l(null,this.l))}Xr.prototype.toString=function(){const E=[];var L=this.j;L&&E.push(Rc(L,o0,!0),":");var V=this.g;return(V||L=="file")&&(E.push("//"),(L=this.o)&&E.push(Rc(L,o0,!0),"@"),E.push(kr(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&E.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&E.push("/"),E.push(Rc(V,V.charAt(0)=="/"?rd:am,!0))),(V=this.i.toString())&&E.push("?",V),(V=this.m)&&E.push("#",Rc(V,im)),E.join("")},Xr.prototype.resolve=function(E){const L=vr(this);let V=!!E.j;V?Fr(L,E.j):V=!!E.o,V?L.o=E.o:V=!!E.g,V?L.g=E.g:V=E.u!=null;var re=E.h;if(V)Ka(L,E.u);else if(V=!!E.h){if(re.charAt(0)!="/")if(this.g&&!this.h)re="/"+re;else{var Te=L.h.lastIndexOf("/");Te!=-1&&(re=L.h.slice(0,Te+1)+re)}if(Te=re,Te==".."||Te==".")re="";else if(Te.indexOf("./")!=-1||Te.indexOf("/.")!=-1){re=Te.lastIndexOf("/",0)==0,Te=Te.split("/");const Pe=[];for(let tt=0;tt<Te.length;){const Pt=Te[tt++];Pt=="."?re&&tt==Te.length&&Pe.push(""):Pt==".."?((Pe.length>1||Pe.length==1&&Pe[0]!="")&&Pe.pop(),re&&tt==Te.length&&Pe.push("")):(Pe.push(Pt),re=!0)}re=Pe.join("/")}else re=Te}return V?L.h=re:V=E.i.toString()!=="",V?Ic(L,om(E.i)):V=!!E.m,V&&(L.m=E.m),L};function vr(E){return new Xr(E)}function Fr(E,L,V){E.j=V?Hs(L,!0):L,E.j&&(E.j=E.j.replace(/:$/,""))}function Ka(E,L){if(L){if(L=Number(L),isNaN(L)||L<0)throw Error("Bad port number "+L);E.u=L}else E.u=null}function Ic(E,L,V){L instanceof _l?(E.i=L,c0(E.i,E.l)):(V||(L=Rc(L,bl)),E.i=new _l(L,E.l))}function nr(E,L,V){E.i.set(L,V)}function Pc(E){return nr(E,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),E}function Hs(E,L){return E?L?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Rc(E,L,V){return typeof E=="string"?(E=encodeURI(E).replace(L,ii),V&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function ii(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var o0=/[#\/\?@]/g,am=/[#\?:]/g,rd=/[#\?]/g,bl=/[#\?@]/g,im=/#/g;function _l(E,L){this.h=this.g=null,this.i=E||null,this.j=!!L}function si(E){E.g||(E.g=new Map,E.h=0,E.i&&Vt(E.i,function(L,V){E.add(decodeURIComponent(L.replace(/\+/g," ")),V)}))}e=_l.prototype,e.add=function(E,L){si(this),this.i=null,E=wl(this,E);let V=this.g.get(E);return V||this.g.set(E,V=[]),V.push(L),this.h+=1,this};function sm(E,L){si(E),L=wl(E,L),E.g.has(L)&&(E.i=null,E.h-=E.g.get(L).length,E.g.delete(L))}function nd(E,L){return si(E),L=wl(E,L),E.g.has(L)}e.forEach=function(E,L){si(this),this.g.forEach(function(V,re){V.forEach(function(Te){E.call(L,Te,re,this)},this)},this)};function ad(E,L){si(E);let V=[];if(typeof L=="string")nd(E,L)&&(V=V.concat(E.g.get(wl(E,L))));else for(E=Array.from(E.g.values()),L=0;L<E.length;L++)V=V.concat(E[L]);return V}e.set=function(E,L){return si(this),this.i=null,E=wl(this,E),nd(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[L]),this.h+=1,this},e.get=function(E,L){return E?(E=ad(this,E),E.length>0?String(E[0]):L):L};function l0(E,L,V){sm(E,L),V.length>0&&(E.i=null,E.g.set(wl(E,L),x(V)),E.h+=V.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],L=Array.from(this.g.keys());for(let re=0;re<L.length;re++){var V=L[re];const Te=kr(V);V=ad(this,V);for(let Pe=0;Pe<V.length;Pe++){let tt=Te;V[Pe]!==""&&(tt+="="+kr(V[Pe])),E.push(tt)}}return this.i=E.join("&")};function om(E){const L=new _l;return L.i=E.i,E.g&&(L.g=new Map(E.g),L.h=E.h),L}function wl(E,L){return L=String(L),E.j&&(L=L.toLowerCase()),L}function c0(E,L){L&&!E.j&&(si(E),E.i=null,E.g.forEach(function(V,re){const Te=re.toLowerCase();re!=Te&&(sm(this,re),l0(this,Te,V))},E)),E.j=L}function bs(E,L){const V=new Kr;if(s.Image){const re=new Image;re.onload=d($i,V,"TestLoadImage: loaded",!0,L,re),re.onerror=d($i,V,"TestLoadImage: error",!1,L,re),re.onabort=d($i,V,"TestLoadImage: abort",!1,L,re),re.ontimeout=d($i,V,"TestLoadImage: timeout",!1,L,re),s.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=E}else L(!1)}function id(E,L){const V=new Kr,re=new AbortController,Te=setTimeout(()=>{re.abort(),$i(V,"TestPingServer: timeout",!1,L)},1e4);fetch(E,{signal:re.signal}).then(Pe=>{clearTimeout(Te),Pe.ok?$i(V,"TestPingServer: ok",!0,L):$i(V,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Te),$i(V,"TestPingServer: error",!1,L)})}function $i(E,L,V,re,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),re(V)}catch{}}function El(){this.g=new Ut}function qs(E){this.i=E.Sb||null,this.h=E.ab||!1}m(qs,Ge),qs.prototype.g=function(){return new Fc(this.i,this.h)};function Fc(E,L){et.call(this),this.H=E,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Fc,et),e=Fc.prototype,e.open=function(E,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=E,this.D=L,this.readyState=1,_s(this)},e.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const L={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};E&&(L.body=E),(this.H||s).fetch(new Request(this.D,L)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sl(this)),this.readyState=0},e.Pa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;u0(this)}else E.text().then(this.Oa.bind(this),this.ga.bind(this))};function u0(E){E.j.read().then(E.Ma.bind(E)).catch(E.ga.bind(E))}e.Ma=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var L=E.value?E.value:new Uint8Array(0);(L=this.B.decode(L,{stream:!E.done}))&&(this.response=this.responseText+=L)}E.done?Sl(this):_s(this),this.readyState==3&&u0(this)}},e.Oa=function(E){this.g&&(this.response=this.responseText=E,Sl(this))},e.Na=function(E){this.g&&(this.response=E,Sl(this))},e.ga=function(){this.g&&Sl(this)};function Sl(E){E.readyState=4,E.l=null,E.j=null,E.B=null,_s(E)}e.setRequestHeader=function(E,L){this.A.append(E,L)},e.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],L=this.h.entries();for(var V=L.next();!V.done;)V=V.value,E.push(V[0]+": "+V[1]),V=L.next();return E.join(`\r
`)};function _s(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function Hi(E){let L="";return we(E,function(V,re){L+=re,L+=":",L+=V,L+=`\r
`}),L}function Bc(E,L,V){e:{for(re in V){var re=!1;break e}re=!0}re||(V=Hi(V),typeof E=="string"?V!=null&&kr(V):nr(E,L,V))}function Dr(E){et.call(this),this.headers=new Map,this.L=E||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Dr,et);var Ws=/^https?$/i,sd=["POST","PUT"];e=Dr.prototype,e.Fa=function(E){this.H=E},e.ea=function(E,L,V,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);L=L?L.toUpperCase():"GET",this.D=E,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sn.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(L,String(E),!0),this.B=!1}catch(Pe){Mc(this,Pe);return}if(E=V||"",V=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Te in re)V.set(Te,re[Te]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const Pe of re.keys())V.set(Pe,re.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(V.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),Te=s.FormData&&E instanceof s.FormData,!(Array.prototype.indexOf.call(sd,L,void 0)>=0)||re||Te||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,tt]of V)this.g.setRequestHeader(Pe,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(E),this.v=!1}catch(Pe){Mc(this,Pe)}};function Mc(E,L){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=L,E.o=5,od(E),_o(E)}function od(E){E.A||(E.A=!0,st(E,"complete"),st(E,"error"))}e.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=E||7,st(this,"complete"),st(this,"abort"),_o(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_o(this,!0)),Dr.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lc(this):this.Xa())},e.Xa=function(){Lc(this)};function Lc(E){if(E.h&&typeof i<"u"){if(E.v&&ws(E)==4)setTimeout(E.Ca.bind(E),0);else if(st(E,"readystatechange"),ws(E)==4){E.h=!1;try{const Pe=E.ca();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var V;if(!(V=L)){var re;if(re=Pe===0){let tt=String(E.D).match(xr)[1]||null;!tt&&s.self&&s.self.location&&(tt=s.self.location.protocol.slice(0,-1)),re=!Ws.test(tt?tt.toLowerCase():"")}V=re}if(V)st(E,"complete"),st(E,"success");else{E.o=6;try{var Te=ws(E)>2?E.g.statusText:""}catch{Te=""}E.l=Te+" ["+E.ca()+"]",od(E)}}finally{_o(E)}}}}function _o(E,L){if(E.g){E.m&&(clearTimeout(E.m),E.m=null);const V=E.g;E.g=null,L||st(E,"ready");try{V.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ws(E){return E.g?E.g.readyState:0}e.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(E){if(this.g){var L=this.g.responseText;return E&&L.indexOf(E)==0&&(L=L.substring(E.length)),At(L)}};function va(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.F){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function wo(E){const L={};E=(E.g&&ws(E)>=2&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<E.length;re++){if(B(E[re]))continue;var V=W(E[re]);const Te=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Pe=L[Te]||[];L[Te]=Pe,Pe.push(V)}ue(L,function(re){return re.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(E,L,V){return V&&V.internalChannelParams&&V.internalChannelParams[E]||L}function Al(E){this.za=0,this.i=[],this.j=new Kr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gs("failFast",!1,E),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gs("baseRetryDelayMs",5e3,E),this.Za=Gs("retryDelaySeedMs",1e4,E),this.Ta=Gs("forwardChannelMaxRetries",2,E),this.va=Gs("forwardChannelRequestTimeoutMs",2e4,E),this.ma=E&&E.xmlHttpFactory||void 0,this.Ua=E&&E.Rb||void 0,this.Aa=E&&E.useFetchStreams||!1,this.O=void 0,this.L=E&&E.supportsCrossDomainXhr||!1,this.M="",this.h=new cr(E&&E.concurrentRequestLimit),this.Ba=new El,this.S=E&&E.fastHandshake||!1,this.R=E&&E.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=E&&E.Pb||!1,E&&E.ua&&this.j.ua(),E&&E.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&E&&E.detectBufferingProxy||!1,this.ia=void 0,E&&E.longPollingTimeout&&E.longPollingTimeout>0&&(this.ia=E.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Al.prototype,e.ka=8,e.I=1,e.connect=function(E,L,V,re){Cr(0),this.W=E,this.H=L||{},V&&re!==void 0&&(this.H.OSID=V,this.H.OAID=re),this.F=this.X,this.J=pm(this,null,this.W),Ks(this)};function ld(E){if(f0(E),E.I==3){var L=E.V++,V=vr(E.J);if(nr(V,"SID",E.M),nr(V,"RID",L),nr(V,"TYPE","terminate"),zc(E,V),L=new le(E,E.j,L),L.M=2,L.A=Pc(vr(V)),V=!1,s.navigator&&s.navigator.sendBeacon)try{V=s.navigator.sendBeacon(L.A.toString(),"")}catch{}!V&&s.Image&&(new Image().src=L.A,V=!0),V||(L.g=mm(L.j,null),L.g.ea(L.A)),L.F=Date.now(),xe(L)}hm(E)}function Cl(E){E.g&&(ud(E),E.g.cancel(),E.g=null)}function f0(E){Cl(E),E.v&&(s.clearTimeout(E.v),E.v=null),h0(E),E.h.cancel(),E.m&&(typeof E.m=="number"&&s.clearTimeout(E.m),E.m=null)}function Ks(E){if(!_e(E.h)&&!E.m){E.m=!0;var L=E.Ea;F||k(),M||(F(),M=!0),j.add(L,E),E.D=0}}function d0(E,L){return Ze(E.h)>=E.h.j-(E.m?1:0)?!1:E.m?(E.i=L.G.concat(E.i),!0):E.I==1||E.I==2||E.D>=(E.Sa?0:E.Ta)?!1:(E.m=dn(f(E.Ea,E,L),dm(E,E.D)),E.D++,!0)}e.Ea=function(E){if(this.m)if(this.m=null,this.I==1){if(!E){this.V=Math.floor(Math.random()*1e5),E=this.V++;const Te=new le(this,this.j,E);let Pe=this.o;if(this.U&&(Pe?(Pe=U(Pe),Z(Pe,this.U)):Pe=this.U),this.u!==null||this.R||(Te.J=Pe,Pe=null),this.S)e:{for(var L=0,V=0;V<this.i.length;V++){t:{var re=this.i[V];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(L+=re,L>4096){L=V;break e}if(L===4096||V===this.i.length-1){L=V+1;break e}}L=1e3}else L=1e3;L=lm(this,Te,L),V=vr(this.J),nr(V,"RID",E),nr(V,"CVER",22),this.G&&nr(V,"X-HTTP-Session-Id",this.G),zc(this,V),Pe&&(this.R?L="headers="+kr(Hi(Pe))+"&"+L:this.u&&Bc(V,this.u,Pe)),gt(this.h,Te),this.Ra&&nr(V,"TYPE","init"),this.S?(nr(V,"$req",L),nr(V,"SID","null"),Te.U=!0,fe(Te,V,null)):fe(Te,V,L),this.I=2}}else this.I==3&&(E?cd(this,E):this.i.length==0||_e(this.h)||cd(this))};function cd(E,L){var V;L?V=L.l:V=E.V++;const re=vr(E.J);nr(re,"SID",E.M),nr(re,"RID",V),nr(re,"AID",E.K),zc(E,re),E.u&&E.o&&Bc(re,E.u,E.o),V=new le(E,E.j,V,E.D+1),E.u===null&&(V.J=E.o),L&&(E.i=L.G.concat(E.i)),L=lm(E,V,1e3),V.H=Math.round(E.va*.5)+Math.round(E.va*.5*Math.random()),gt(E.h,V),fe(V,re,L)}function zc(E,L){E.H&&we(E.H,function(V,re){nr(L,re,V)}),E.l&&we({},function(V,re){nr(L,re,V)})}function lm(E,L,V){V=Math.min(E.i.length,V);const re=E.l?f(E.l.Ka,E.l,E):null;e:{var Te=E.i;let Pt=-1;for(;;){const _n=["count="+V];Pt==-1?V>0?(Pt=Te[0].g,_n.push("ofs="+Pt)):Pt=0:_n.push("ofs="+Pt);let pr=!0;for(let Yr=0;Yr<V;Yr++){var Pe=Te[Yr].g;const qi=Te[Yr].map;if(Pe-=Pt,Pe<0)Pt=Math.max(0,Te[Yr].g-100),pr=!1;else try{Pe="req"+Pe+"_"||"";try{var tt=qi instanceof Map?qi:Object.entries(qi);for(const[Ys,Es]of tt){let Ss=Es;l(Es)&&(Ss=Et(Es)),_n.push(Pe+Ys+"="+encodeURIComponent(Ss))}}catch(Ys){throw _n.push(Pe+"type="+encodeURIComponent("_badmap")),Ys}}catch{re&&re(qi)}}if(pr){tt=_n.join("&");break e}}tt=void 0}return E=E.i.splice(0,V),L.G=E,tt}function cm(E){if(!E.g&&!E.v){E.Y=1;var L=E.Da;F||k(),M||(F(),M=!0),j.add(L,E),E.A=0}}function Uc(E){return E.g||E.v||E.A>=3?!1:(E.Y++,E.v=dn(f(E.Da,E),dm(E,E.A)),E.A++,!0)}e.Da=function(){if(this.v=null,um(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var E=4*this.T;this.j.info("BP detection timer enabled: "+E),this.B=dn(f(this.Wa,this),E)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Cr(10),Cl(this),um(this))};function ud(E){E.B!=null&&(s.clearTimeout(E.B),E.B=null)}function um(E){E.g=new le(E,E.j,"rpc",E.Y),E.u===null&&(E.g.J=E.o),E.g.P=0;var L=vr(E.na);nr(L,"RID","rpc"),nr(L,"SID",E.M),nr(L,"AID",E.K),nr(L,"CI",E.F?"0":"1"),!E.F&&E.ia&&nr(L,"TO",E.ia),nr(L,"TYPE","xmlhttp"),zc(E,L),E.u&&E.o&&Bc(L,E.u,E.o),E.O&&(E.g.H=E.O);var V=E.g;E=E.ba,V.M=1,V.A=Pc(vr(L)),V.u=null,V.R=!0,Ce(V,E)}e.Va=function(){this.C!=null&&(this.C=null,Cl(this),Uc(this),Cr(19))};function h0(E){E.C!=null&&(s.clearTimeout(E.C),E.C=null)}function fm(E,L){var V=null;if(E.g==L){h0(E),ud(E),E.g=null;var re=2}else if(ht(E.h,L))V=L.G,Bt(E.h,L),re=1;else return;if(E.I!=0){if(L.o)if(re==1){V=L.u?L.u.length:0,L=Date.now()-L.F;var Te=E.D;re=yn(),st(re,new nn(re,V)),Ks(E)}else cm(E);else if(Te=L.m,Te==3||Te==0&&L.X>0||!(re==1&&d0(E,L)||re==2&&Uc(E)))switch(V&&V.length>0&&(L=E.h,L.i=L.i.concat(V)),Te){case 1:Xs(E,5);break;case 4:Xs(E,10);break;case 3:Xs(E,6);break;default:Xs(E,2)}}}function dm(E,L){let V=E.Qa+Math.floor(Math.random()*E.Za);return E.isActive()||(V*=2),V*L}function Xs(E,L){if(E.j.info("Error code "+L),L==2){var V=f(E.bb,E),re=E.Ua;const Te=!re;re=new Xr(re||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Fr(re,"https"),Pc(re),Te?bs(re.toString(),V):id(re.toString(),V)}else Cr(2);E.I=0,E.l&&E.l.pa(L),hm(E),f0(E)}e.bb=function(E){E?(this.j.info("Successfully pinged google.com"),Cr(2)):(this.j.info("Failed to ping google.com"),Cr(1))};function hm(E){if(E.I=0,E.ja=[],E.l){const L=Tt(E.h);(L.length!=0||E.i.length!=0)&&(b(E.ja,L),b(E.ja,E.i),E.h.i.length=0,x(E.i),E.i.length=0),E.l.oa()}}function pm(E,L,V){var re=V instanceof Xr?vr(V):new Xr(V);if(re.g!="")L&&(re.g=L+"."+re.g),Ka(re,re.u);else{var Te=s.location;re=Te.protocol,L=L?L+"."+Te.hostname:Te.hostname,Te=+Te.port;const Pe=new Xr(null);re&&Fr(Pe,re),L&&(Pe.g=L),Te&&Ka(Pe,Te),V&&(Pe.h=V),re=Pe}return V=E.G,L=E.wa,V&&L&&nr(re,V,L),nr(re,"VER",E.ka),zc(E,re),re}function mm(E,L,V){if(L&&!E.L)throw Error("Can't create secondary domain capable XhrIo object.");return L=E.Aa&&!E.ma?new Dr(new qs({ab:V})):new Dr(E.ma),L.Fa(E.L),L}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function gm(){}e=gm.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Tl(){}Tl.prototype.g=function(E,L){return new Xa(E,L)};function Xa(E,L){et.call(this),this.g=new Al(L),this.l=E,this.h=L&&L.messageUrlParams||null,E=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(E?E["X-WebChannel-Content-Type"]=L.messageContentType:E={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.sa&&(E?E["X-WebChannel-Client-Profile"]=L.sa:E={"X-WebChannel-Client-Profile":L.sa}),this.g.U=E,(E=L&&L.Qb)&&!B(E)&&(this.g.u=E),this.A=L&&L.supportsCrossDomainXhr||!1,this.v=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!B(L)&&(this.g.G=L,E=this.h,E!==null&&L in E&&(E=this.h,L in E&&delete E[L])),this.j=new Eo(this)}m(Xa,et),Xa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xa.prototype.close=function(){ld(this.g)},Xa.prototype.o=function(E){var L=this.g;if(typeof E=="string"){var V={};V.__data__=E,E=V}else this.v&&(V={},V.__data__=Et(E),E=V);L.i.push(new ct(L.Ya++,E)),L.I==3&&Ks(L)},Xa.prototype.N=function(){this.g.l=null,delete this.j,ld(this.g),delete this.g,Xa.Z.N.call(this)};function xm(E){xt.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var L=E.__sm__;if(L){e:{for(const V in L){E=V;break e}E=void 0}(this.i=E)&&(E=this.i,L=L!==null&&E in L?L[E]:void 0),this.data=L}else this.data=E}m(xm,xt);function vm(){It.call(this),this.status=1}m(vm,It);function Eo(E){this.g=E}m(Eo,gm),Eo.prototype.ra=function(){st(this.g,"a")},Eo.prototype.qa=function(E){st(this.g,new xm(E))},Eo.prototype.pa=function(E){st(this.g,new vm)},Eo.prototype.oa=function(){st(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,Xa.prototype.send=Xa.prototype.o,Xa.prototype.open=Xa.prototype.m,Xa.prototype.close=Xa.prototype.close,EF=function(){return new Tl},wF=function(){return yn()},_F=pt,RE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bn.NO_ERROR=0,bn.TIMEOUT=8,bn.HTTP_ERROR=6,px=bn,Tr.COMPLETE="complete",bF=Tr,it.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",et.prototype.listen=et.prototype.J,oh=it,Dr.prototype.listenOnce=Dr.prototype.K,Dr.prototype.getLastError=Dr.prototype.Ha,Dr.prototype.getLastErrorCode=Dr.prototype.ya,Dr.prototype.getStatus=Dr.prototype.ca,Dr.prototype.getResponseJson=Dr.prototype.La,Dr.prototype.getResponseText=Dr.prototype.la,Dr.prototype.send=Dr.prototype.ea,Dr.prototype.setWithCredentials=Dr.prototype.Fa,yF=Dr}).apply(typeof Tg<"u"?Tg:typeof self<"u"?self:typeof window<"u"?window:{});const LD="@firebase/firestore",zD="4.9.3";class Fa{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fa.UNAUTHENTICATED=new Fa(null),Fa.GOOGLE_CREDENTIALS=new Fa("google-credentials-uid"),Fa.FIRST_PARTY=new Fa("first-party-uid"),Fa.MOCK_USER=new Fa("mock-user");let Lf="12.7.0";const ju=new dF("@firebase/firestore");function X0(){return ju.logLevel}function ot(e,...t){if(ju.logLevel<=ir.DEBUG){const r=t.map(DA);ju.debug(`Firestore (${Lf}): ${e}`,...r)}}function tl(e,...t){if(ju.logLevel<=ir.ERROR){const r=t.map(DA);ju.error(`Firestore (${Lf}): ${e}`,...r)}}function xf(e,...t){if(ju.logLevel<=ir.WARN){const r=t.map(DA);ju.warn(`Firestore (${Lf}): ${e}`,...r)}}function DA(e){if(typeof e=="string")return e;try{return(function(r){return JSON.stringify(r)})(e)}catch{return e}}function Ct(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,SF(e,n,r)}function SF(e,t,r){let n=`FIRESTORE (${Lf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw tl(n),new Error(n)}function wr(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||SF(t,a,n)}function Nt(e,t){return e}const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Mf{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fc{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class AF{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(Fa.UNAUTHENTICATED)))}shutdown(){}}class ZY{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class JY{constructor(t){this.t=t,this.currentUser=Fa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){wr(this.o===void 0,42304);let n=this.i;const a=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let i=new fc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fc,t.enqueueRetryable((()=>a(this.currentUser)))};const s=()=>{const u=i;t.enqueueRetryable((async()=>{await u.promise,await a(this.currentUser)}))},l=u=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fc)}}),0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(wr(typeof n.accessToken=="string",31837,{l:n}),new AF(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return wr(t===null||typeof t=="string",2055,{h:t}),new Fa(t)}}class eQ{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Fa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tQ{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new eQ(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(Fa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rQ{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,PY(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){wr(this.o===void 0,3512);const n=i=>{i.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,ot("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>n(i)))};const a=i=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>a(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UD(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(wr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new UD(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nQ(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}class OA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=nQ(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Kt(e,t){return e<t?-1:e>t?1:0}function FE(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const a=e.charAt(n),i=t.charAt(n);if(a!==i)return m_(a)===m_(i)?Kt(a,i):m_(a)?1:-1}return Kt(e.length,t.length)}const aQ=55296,iQ=57343;function m_(e){const t=e.charCodeAt(0);return t>=aQ&&t<=iQ}function vf(e,t,r){return e.length===t.length&&e.every(((n,a)=>r(n,t[a])))}const VD="__name__";class ao{constructor(t,r,n){r===void 0?r=0:r>t.length&&Ct(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Ct(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return ao.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof ao?t.forEach((n=>{r.push(n)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=ao.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Kt(t.length,r.length)}static compareSegments(t,r){const n=ao.isNumericId(t),a=ao.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?ao.extractNumericId(t).compare(ao.extractNumericId(r)):FE(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return uc.fromString(t.substring(4,t.length-2))}}class on extends ao{construct(t,r,n){return new on(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new vt(We.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((a=>a.length>0)))}return new on(r)}static emptyPath(){return new on([])}}const sQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ca extends ao{construct(t,r,n){return new Ca(t,r,n)}static isValidIdentifier(t){return sQ.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ca.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VD}static keyField(){return new Ca([VD])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new vt(We.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const l=t[a];if(l==="\\"){if(a+1===t.length)throw new vt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new vt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=u,a+=2}else l==="`"?(s=!s,a++):l!=="."||s?(n+=l,a++):(i(),a++)}if(i(),s)throw new vt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ca(r)}static emptyPath(){return new Ca([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(on.fromString(t))}static fromName(t){return new _t(on.fromString(t).popFirst(5))}static empty(){return new _t(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&on.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return on.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new on(t.slice()))}}function oQ(e,t,r){if(!r)throw new vt(We.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function lQ(e,t,r,n){if(t===!0&&n===!0)throw new vt(We.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function $D(e){if(!_t.isDocumentKey(e))throw new vt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function CF(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function jA(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ct(12329,{type:typeof e})}function Lh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=jA(e);throw new vt(We.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function zn(e,t){const r={typeString:e};return t&&(r.value=t),r}function _p(e,t){if(!CF(e))throw new vt(We.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(a&&typeof s!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new vt(We.INVALID_ARGUMENT,r);return!0}const HD=-62135596800,qD=1e6;class Gr{static now(){return Gr.fromMillis(Date.now())}static fromDate(t){return Gr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*qD);return new Gr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new vt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new vt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<HD)throw new vt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qD}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_p(t,Gr._jsonSchema))return new Gr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-HD;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gr._jsonSchemaVersion="firestore/timestamp/1.0",Gr._jsonSchema={type:zn("string",Gr._jsonSchemaVersion),seconds:zn("number"),nanoseconds:zn("number")};class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new Gr(0,0))}static max(){return new Ot(new Gr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zh=-1;function cQ(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=Ot.fromTimestamp(n===1e9?new Gr(r+1,0):new Gr(r,n));return new pc(a,_t.empty(),t)}function uQ(e){return new pc(e.readTime,e.key,zh)}class pc{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new pc(Ot.min(),_t.empty(),zh)}static max(){return new pc(Ot.max(),_t.empty(),zh)}}function fQ(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=_t.comparator(e.documentKey,t.documentKey),r!==0?r:Kt(e.largestBatchId,t.largestBatchId))}const dQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function zf(e){if(e.code!==We.FAILED_PRECONDITION||e.message!==dQ)throw e;ot("LocalStore","Unexpectedly lost primary lease")}class $e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new $e(((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof $e?r:$e.resolve(r)}catch(r){return $e.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):$e.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):$e.reject(r)}static resolve(t){return new $e(((r,n)=>{r(t)}))}static reject(t){return new $e(((r,n)=>{n(t)}))}static waitFor(t){return new $e(((r,n)=>{let a=0,i=0,s=!1;t.forEach((l=>{++a,l.next((()=>{++i,s&&i===a&&r()}),(u=>n(u)))})),s=!0,i===a&&r()}))}static or(t){let r=$e.resolve(!1);for(const n of t)r=r.next((a=>a?$e.resolve(a):n()));return r}static forEach(t,r){const n=[];return t.forEach(((a,i)=>{n.push(r.call(this,a,i))})),this.waitFor(n)}static mapArray(t,r){return new $e(((n,a)=>{const i=t.length,s=new Array(i);let l=0;for(let u=0;u<i;u++){const f=u;r(t[f]).next((d=>{s[f]=d,++l,l===i&&n(s)}),(d=>a(d)))}}))}static doWhile(t,r){return new $e(((n,a)=>{const i=()=>{t()===!0?r().next((()=>{i()}),a):n()};i()}))}}function pQ(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Uf(e){return e.name==="IndexedDbTransactionError"}class H1{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}H1.ce=-1;const NA=-1;function q1(e){return e==null}function vv(e){return e===0&&1/e==-1/0}function mQ(e){return typeof e=="number"&&Number.isInteger(e)&&!vv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const TF="";function gQ(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=WD(t)),t=xQ(e.get(r),t);return WD(t)}function xQ(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case TF:r+="";break;default:r+=i}}return r}function WD(e){return e+TF+""}function GD(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Ku(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function kF(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class cn{constructor(t,r){this.comparator=t,this.root=r||Aa.EMPTY}insert(t,r){return new cn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Aa.BLACK,null,null))}remove(t){return new cn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Aa.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,n)=>(t(r,n),!1)))}toString(){const t=[];return this.inorderTraversal(((r,n)=>(t.push(`${r}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kg(this.root,t,this.comparator,!1)}getReverseIterator(){return new kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kg(this.root,t,this.comparator,!0)}}class kg{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Aa{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??Aa.RED,this.left=a??Aa.EMPTY,this.right=i??Aa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new Aa(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Aa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Aa.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Aa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Aa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ct(27949);return t+(this.isRed()?0:1)}}Aa.EMPTY=null,Aa.RED=!0,Aa.BLACK=!1;Aa.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new Aa(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(t){this.comparator=t,this.data=new cn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,n)=>(t(r),!1)))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new KD(this.data.getIterator())}getIteratorFrom(t){return new KD(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((n=>{r=r.add(n)})),r}isEqual(t){if(!(t instanceof Zn)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Zn(this.comparator);return r.data=t,r}}class KD{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Is{constructor(t){this.fields=t,t.sort(Ca.comparator)}static empty(){return new Is([])}unionWith(t){let r=new Zn(Ca.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Is(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return vf(this.fields,t.fields,((r,n)=>r.isEqual(n)))}}class DF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Da{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new DF("Invalid base64 string: "+i):i}})(t);return new Da(r)}static fromUint8Array(t){const r=(function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i})(t);return new Da(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Da.EMPTY_BYTE_STRING=new Da("");const vQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(e){if(wr(!!e,39018),typeof e=="string"){let t=0;const r=vQ.exec(e);if(wr(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Cn(e.seconds),nanos:Cn(e.nanos)}}function Cn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function gc(e){return typeof e=="string"?Da.fromBase64String(e):Da.fromUint8Array(e)}const OF="server_timestamp",jF="__type__",NF="__previous_value__",IF="__local_write_time__";function IA(e){return(e?.mapValue?.fields||{})[jF]?.stringValue===OF}function W1(e){const t=e.mapValue.fields[NF];return IA(t)?W1(t):t}function Uh(e){const t=mc(e.mapValue.fields[IF].timestampValue);return new Gr(t.seconds,t.nanos)}class yQ{constructor(t,r,n,a,i,s,l,u,f,d){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=d}}const yv="(default)";class Vh{constructor(t,r){this.projectId=t,this.database=r||yv}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===yv}isEqual(t){return t instanceof Vh&&t.projectId===this.projectId&&t.database===this.database}}const PF="__type__",bQ="__max__",Dg={mapValue:{}},RF="__vector__",bv="value";function xc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?IA(e)?4:wQ(e)?9007199254740991:_Q(e)?10:11:Ct(28295,{value:e})}function ho(e,t){if(e===t)return!0;const r=xc(e);if(r!==xc(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Uh(e).isEqual(Uh(t));case 3:return(function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=mc(a.timestampValue),l=mc(i.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,i){return gc(a.bytesValue).isEqual(gc(i.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,i){return Cn(a.geoPointValue.latitude)===Cn(i.geoPointValue.latitude)&&Cn(a.geoPointValue.longitude)===Cn(i.geoPointValue.longitude)})(e,t);case 2:return(function(a,i){if("integerValue"in a&&"integerValue"in i)return Cn(a.integerValue)===Cn(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=Cn(a.doubleValue),l=Cn(i.doubleValue);return s===l?vv(s)===vv(l):isNaN(s)&&isNaN(l)}return!1})(e,t);case 9:return vf(e.arrayValue.values||[],t.arrayValue.values||[],ho);case 10:case 11:return(function(a,i){const s=a.mapValue.fields||{},l=i.mapValue.fields||{};if(GD(s)!==GD(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!ho(s[u],l[u])))return!1;return!0})(e,t);default:return Ct(52216,{left:e})}}function $h(e,t){return(e.values||[]).find((r=>ho(r,t)))!==void 0}function yf(e,t){if(e===t)return 0;const r=xc(e),n=xc(t);if(r!==n)return Kt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Kt(e.booleanValue,t.booleanValue);case 2:return(function(i,s){const l=Cn(i.integerValue||i.doubleValue),u=Cn(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(e,t);case 3:return XD(e.timestampValue,t.timestampValue);case 4:return XD(Uh(e),Uh(t));case 5:return FE(e.stringValue,t.stringValue);case 6:return(function(i,s){const l=gc(i),u=gc(s);return l.compareTo(u)})(e.bytesValue,t.bytesValue);case 7:return(function(i,s){const l=i.split("/"),u=s.split("/");for(let f=0;f<l.length&&f<u.length;f++){const d=Kt(l[f],u[f]);if(d!==0)return d}return Kt(l.length,u.length)})(e.referenceValue,t.referenceValue);case 8:return(function(i,s){const l=Kt(Cn(i.latitude),Cn(s.latitude));return l!==0?l:Kt(Cn(i.longitude),Cn(s.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return YD(e.arrayValue,t.arrayValue);case 10:return(function(i,s){const l=i.fields||{},u=s.fields||{},f=l[bv]?.arrayValue,d=u[bv]?.arrayValue,m=Kt(f?.values?.length||0,d?.values?.length||0);return m!==0?m:YD(f,d)})(e.mapValue,t.mapValue);case 11:return(function(i,s){if(i===Dg.mapValue&&s===Dg.mapValue)return 0;if(i===Dg.mapValue)return 1;if(s===Dg.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),f=s.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const g=FE(u[m],d[m]);if(g!==0)return g;const x=yf(l[u[m]],f[d[m]]);if(x!==0)return x}return Kt(u.length,d.length)})(e.mapValue,t.mapValue);default:throw Ct(23264,{he:r})}}function XD(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Kt(e,t);const r=mc(e),n=mc(t),a=Kt(r.seconds,n.seconds);return a!==0?a:Kt(r.nanos,n.nanos)}function YD(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=yf(r[a],n[a]);if(i)return i}return Kt(r.length,n.length)}function bf(e){return BE(e)}function BE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(r){const n=mc(r);return`time(${n.seconds},${n.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(r){return gc(r).toBase64()})(e.bytesValue):"referenceValue"in e?(function(r){return _t.fromName(r).toString()})(e.referenceValue):"geoPointValue"in e?(function(r){return`geo(${r.latitude},${r.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=BE(i);return n+"]"})(e.arrayValue):"mapValue"in e?(function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${BE(r.fields[s])}`;return a+"}"})(e.mapValue):Ct(61005,{value:e})}function mx(e){switch(xc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=W1(e);return t?16+mx(t):16;case 5:return 2*e.stringValue.length;case 6:return gc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((a,i)=>a+mx(i)),0)})(e.arrayValue);case 10:case 11:return(function(n){let a=0;return Ku(n.fields,((i,s)=>{a+=i.length+mx(s)})),a})(e.mapValue);default:throw Ct(13486,{value:e})}}function ME(e){return!!e&&"integerValue"in e}function PA(e){return!!e&&"arrayValue"in e}function QD(e){return!!e&&"nullValue"in e}function ZD(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gx(e){return!!e&&"mapValue"in e}function _Q(e){return(e?.mapValue?.fields||{})[PF]?.stringValue===RF}function vh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ku(e.mapValue.fields,((r,n)=>t.mapValue.fields[r]=vh(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=vh(e.arrayValue.values[r]);return t}return{...e}}function wQ(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===bQ}class ls{constructor(t){this.value=t}static empty(){return new ls({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!gx(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=vh(r)}setAll(t){let r=Ca.emptyPath(),n={},a=[];t.forEach(((s,l)=>{if(!r.isImmediateParentOf(l)){const u=this.getFieldsMap(r);this.applyChanges(u,n,a),n={},a=[],r=l.popLast()}s?n[l.lastSegment()]=vh(s):a.push(l.lastSegment())}));const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());gx(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return ho(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];gx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Ku(r,((a,i)=>t[a]=i));for(const a of n)delete t[a]}clone(){return new ls(vh(this.value))}}function FF(e){const t=[];return Ku(e.fields,((r,n)=>{const a=new Ca([r]);if(gx(n)){const i=FF(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)})),new Is(t)}class Ma{constructor(t,r,n,a,i,s,l){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=l}static newInvalidDocument(t){return new Ma(t,0,Ot.min(),Ot.min(),Ot.min(),ls.empty(),0)}static newFoundDocument(t,r,n,a){return new Ma(t,1,r,Ot.min(),n,a,0)}static newNoDocument(t,r){return new Ma(t,2,r,Ot.min(),Ot.min(),ls.empty(),0)}static newUnknownDocument(t,r){return new Ma(t,3,r,Ot.min(),Ot.min(),ls.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ma&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ma(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _v{constructor(t,r){this.position=t,this.inclusive=r}}function JD(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=_t.comparator(_t.fromName(s.referenceValue),r.key):n=yf(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function eO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!ho(e.position[r],t.position[r]))return!1;return!0}class wv{constructor(t,r="asc"){this.field=t,this.dir=r}}function EQ(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class BF{}class Qn extends BF{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new AQ(t,r,n):r==="array-contains"?new kQ(t,n):r==="in"?new DQ(t,n):r==="not-in"?new OQ(t,n):r==="array-contains-any"?new jQ(t,n):new Qn(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new CQ(t,n):new TQ(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(yf(r,this.value)):r!==null&&xc(this.value)===xc(r)&&this.matchesComparison(yf(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends BF{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new po(t,r)}matches(t){return MF(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MF(e){return e.op==="and"}function LF(e){return SQ(e)&&MF(e)}function SQ(e){for(const t of e.filters)if(t instanceof po)return!1;return!0}function LE(e){if(e instanceof Qn)return e.field.canonicalString()+e.op.toString()+bf(e.value);if(LF(e))return e.filters.map((t=>LE(t))).join(",");{const t=e.filters.map((r=>LE(r))).join(",");return`${e.op}(${t})`}}function zF(e,t){return e instanceof Qn?(function(n,a){return a instanceof Qn&&n.op===a.op&&n.field.isEqual(a.field)&&ho(n.value,a.value)})(e,t):e instanceof po?(function(n,a){return a instanceof po&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((i,s,l)=>i&&zF(s,a.filters[l])),!0):!1})(e,t):void Ct(19439)}function UF(e){return e instanceof Qn?(function(r){return`${r.field.canonicalString()} ${r.op} ${bf(r.value)}`})(e):e instanceof po?(function(r){return r.op.toString()+" {"+r.getFilters().map(UF).join(" ,")+"}"})(e):"Filter"}class AQ extends Qn{constructor(t,r,n){super(t,r,n),this.key=_t.fromName(n.referenceValue)}matches(t){const r=_t.comparator(t.key,this.key);return this.matchesComparison(r)}}class CQ extends Qn{constructor(t,r){super(t,"in",r),this.keys=VF("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class TQ extends Qn{constructor(t,r){super(t,"not-in",r),this.keys=VF("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function VF(e,t){return(t.arrayValue?.values||[]).map((r=>_t.fromName(r.referenceValue)))}class kQ extends Qn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return PA(r)&&$h(r.arrayValue,this.value)}}class DQ extends Qn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&$h(this.value.arrayValue,r)}}class OQ extends Qn{constructor(t,r){super(t,"not-in",r)}matches(t){if($h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!$h(this.value.arrayValue,r)}}class jQ extends Qn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!PA(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>$h(this.value.arrayValue,n)))}}class NQ{constructor(t,r=null,n=[],a=[],i=null,s=null,l=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=l,this.Te=null}}function tO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new NQ(e,t,r,n,a,i,s)}function RA(e){const t=Nt(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((n=>LE(n))).join(","),r+="|ob:",r+=t.orderBy.map((n=>(function(i){return i.field.canonicalString()+i.dir})(n))).join(","),q1(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((n=>bf(n))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((n=>bf(n))).join(",")),t.Te=r}return t.Te}function FA(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!EQ(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!zF(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eO(e.startAt,t.startAt)&&eO(e.endAt,t.endAt)}function zE(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class G1{constructor(t,r=null,n=[],a=[],i=null,s="F",l=null,u=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IQ(e,t,r,n,a,i,s,l){return new G1(e,t,r,n,a,i,s,l)}function BA(e){return new G1(e)}function rO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function PQ(e){return e.collectionGroup!==null}function yh(e){const t=Nt(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Zn(Ca.comparator);return s.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(t).forEach((i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new wv(i,n))})),r.has(Ca.keyField().canonicalString())||t.Ie.push(new wv(Ca.keyField(),n))}return t.Ie}function so(e){const t=Nt(e);return t.Ee||(t.Ee=RQ(t,yh(e))),t.Ee}function RQ(e,t){if(e.limitType==="F")return tO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const i=a.dir==="desc"?"asc":"desc";return new wv(a.field,i)}));const r=e.endAt?new _v(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new _v(e.startAt.position,e.startAt.inclusive):null;return tO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function UE(e,t,r){return new G1(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function K1(e,t){return FA(so(e),so(t))&&e.limitType===t.limitType}function $F(e){return`${RA(so(e))}|lt:${e.limitType}`}function Y0(e){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((a=>UF(a))).join(", ")}]`),q1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((a=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(a))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((a=>bf(a))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((a=>bf(a))).join(",")),`Target(${n})`})(so(e))}; limitType=${e.limitType})`}function X1(e,t){return t.isFoundDocument()&&(function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):_t.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(e,t)&&(function(n,a){for(const i of yh(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0})(e,t)&&(function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0})(e,t)&&(function(n,a){return!(n.startAt&&!(function(s,l,u){const f=JD(s,l,u);return s.inclusive?f<=0:f<0})(n.startAt,yh(n),a)||n.endAt&&!(function(s,l,u){const f=JD(s,l,u);return s.inclusive?f>=0:f>0})(n.endAt,yh(n),a))})(e,t)}function FQ(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function HF(e){return(t,r)=>{let n=!1;for(const a of yh(e)){const i=BQ(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function BQ(e,t,r){const n=e.field.isKeyField()?_t.comparator(t.key,r.key):(function(i,s,l){const u=s.data.field(i),f=l.data.field(i);return u!==null&&f!==null?yf(u,f):Ct(42886)})(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Ct(19790,{direction:e.dir})}}class Xu{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ku(this.inner,((r,n)=>{for(const[a,i]of n)t(a,i)}))}isEmpty(){return kF(this.inner)}size(){return this.innerSize}}const MQ=new cn(_t.comparator);function rl(){return MQ}const qF=new cn(_t.comparator);function lh(...e){let t=qF;for(const r of e)t=t.insert(r.key,r);return t}function WF(e){let t=qF;return e.forEach(((r,n)=>t=t.insert(r,n.overlayedDocument))),t}function du(){return bh()}function GF(){return bh()}function bh(){return new Xu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const LQ=new cn(_t.comparator),zQ=new Zn(_t.comparator);function Xt(...e){let t=zQ;for(const r of e)t=t.add(r);return t}const UQ=new Zn(Kt);function VQ(){return UQ}function MA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vv(t)?"-0":t}}function KF(e){return{integerValue:""+e}}function $Q(e,t){return mQ(t)?KF(t):MA(e,t)}class Y1{constructor(){this._=void 0}}function HQ(e,t,r){return e instanceof Ev?(function(a,i){const s={fields:{[jF]:{stringValue:OF},[IF]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&IA(i)&&(i=W1(i)),i&&(s.fields[NF]=i),{mapValue:s}})(r,t):e instanceof Hh?YF(e,t):e instanceof qh?QF(e,t):(function(a,i){const s=XF(a,i),l=nO(s)+nO(a.Ae);return ME(s)&&ME(a.Ae)?KF(l):MA(a.serializer,l)})(e,t)}function qQ(e,t,r){return e instanceof Hh?YF(e,t):e instanceof qh?QF(e,t):r}function XF(e,t){return e instanceof Sv?(function(n){return ME(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(t)?t:{integerValue:0}:null}class Ev extends Y1{}class Hh extends Y1{constructor(t){super(),this.elements=t}}function YF(e,t){const r=ZF(t);for(const n of e.elements)r.some((a=>ho(a,n)))||r.push(n);return{arrayValue:{values:r}}}class qh extends Y1{constructor(t){super(),this.elements=t}}function QF(e,t){let r=ZF(t);for(const n of e.elements)r=r.filter((a=>!ho(a,n)));return{arrayValue:{values:r}}}class Sv extends Y1{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function nO(e){return Cn(e.integerValue||e.doubleValue)}function ZF(e){return PA(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function WQ(e,t){return e.field.isEqual(t.field)&&(function(n,a){return n instanceof Hh&&a instanceof Hh||n instanceof qh&&a instanceof qh?vf(n.elements,a.elements,ho):n instanceof Sv&&a instanceof Sv?ho(n.Ae,a.Ae):n instanceof Ev&&a instanceof Ev})(e.transform,t.transform)}class GQ{constructor(t,r){this.version=t,this.transformResults=r}}class Ko{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ko}static exists(t){return new Ko(void 0,t)}static updateTime(t){return new Ko(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Q1{}function JF(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new tB(e.key,Ko.none()):new wp(e.key,e.data,Ko.none());{const r=e.data,n=ls.empty();let a=new Zn(Ca.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new Yu(e.key,n,new Is(a.toArray()),Ko.none())}}function KQ(e,t,r){e instanceof wp?(function(a,i,s){const l=a.value.clone(),u=iO(a.fieldTransforms,i,s.transformResults);l.setAll(u),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(e,t,r):e instanceof Yu?(function(a,i,s){if(!xx(a.precondition,i))return void i.convertToUnknownDocument(s.version);const l=iO(a.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(eB(a)),u.setAll(l),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(e,t,r):(function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()})(0,t,r)}function _h(e,t,r,n){return e instanceof wp?(function(i,s,l,u){if(!xx(i.precondition,s))return l;const f=i.value.clone(),d=sO(i.fieldTransforms,u,s);return f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(e,t,r,n):e instanceof Yu?(function(i,s,l,u){if(!xx(i.precondition,s))return l;const f=sO(i.fieldTransforms,u,s),d=s.data;return d.setAll(eB(i)),d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(e,t,r,n):(function(i,s,l){return xx(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(e,t,r)}function XQ(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=XF(n.transform,a||null);i!=null&&(r===null&&(r=ls.empty()),r.set(n.field,i))}return r||null}function aO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&vf(n,a,((i,s)=>WQ(i,s)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wp extends Q1{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Yu extends Q1{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function eB(e){const t=new Map;return e.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}})),t}function iO(e,t,r){const n=new Map;wr(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,l=t.data.field(i.field);n.set(i.field,qQ(s,l,r[a]))}return n}function sO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,HQ(i,s,t))}return n}class tB extends Q1{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YQ extends Q1{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QQ{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&KQ(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=_h(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=_h(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=GF();return this.mutations.forEach((a=>{const i=t.get(a.key),s=i.overlayedDocument;let l=this.applyToLocalView(s,i.mutatedFields);l=r.has(a.key)?null:l;const u=JF(s,l);u!==null&&n.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(Ot.min())})),n}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Xt())}isEqual(t){return this.batchId===t.batchId&&vf(this.mutations,t.mutations,((r,n)=>aO(r,n)))&&vf(this.baseMutations,t.baseMutations,((r,n)=>aO(r,n)))}}class LA{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){wr(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let a=(function(){return LQ})();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new LA(t,r,n,a)}}class ZQ{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JQ{constructor(t,r){this.count=t,this.unchangedNames=r}}var Pn,ar;function eZ(e){switch(e){case We.OK:return Ct(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return Ct(15467,{code:e})}}function rB(e){if(e===void 0)return tl("GRPC error has no .code"),We.UNKNOWN;switch(e){case Pn.OK:return We.OK;case Pn.CANCELLED:return We.CANCELLED;case Pn.UNKNOWN:return We.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return We.INTERNAL;case Pn.UNAVAILABLE:return We.UNAVAILABLE;case Pn.UNAUTHENTICATED:return We.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case Pn.NOT_FOUND:return We.NOT_FOUND;case Pn.ALREADY_EXISTS:return We.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return We.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case Pn.ABORTED:return We.ABORTED;case Pn.OUT_OF_RANGE:return We.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return We.UNIMPLEMENTED;case Pn.DATA_LOSS:return We.DATA_LOSS;default:return Ct(39323,{code:e})}}(ar=Pn||(Pn={}))[ar.OK=0]="OK",ar[ar.CANCELLED=1]="CANCELLED",ar[ar.UNKNOWN=2]="UNKNOWN",ar[ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ar[ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ar[ar.NOT_FOUND=5]="NOT_FOUND",ar[ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",ar[ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",ar[ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",ar[ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ar[ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ar[ar.ABORTED=10]="ABORTED",ar[ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",ar[ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",ar[ar.INTERNAL=13]="INTERNAL",ar[ar.UNAVAILABLE=14]="UNAVAILABLE",ar[ar.DATA_LOSS=15]="DATA_LOSS";function tZ(){return new TextEncoder}const rZ=new uc([4294967295,4294967295],0);function oO(e){const t=tZ().encode(e),r=new vF;return r.update(t),new Uint8Array(r.digest())}function lO(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new uc([r,n],0),new uc([a,i],0)]}class zA{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ch(`Invalid padding: ${r}`);if(n<0)throw new ch(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new ch(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new ch(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=uc.fromNumber(this.ge)}ye(t,r,n){let a=t.add(r.multiply(uc.fromNumber(n)));return a.compare(rZ)===1&&(a=new uc([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=oO(t),[n,a]=lO(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);if(!this.we(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new zA(i,a,r);return n.forEach((l=>s.insert(l))),s}insert(t){if(this.ge===0)return;const r=oO(t),[n,a]=lO(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class ch extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Z1{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Ep.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Z1(Ot.min(),a,new cn(Kt),rl(),Xt())}}class Ep{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Ep(n,r,Xt(),Xt(),Xt())}}class vx{constructor(t,r,n,a){this.be=t,this.removedTargetIds=r,this.key=n,this.De=a}}class nB{constructor(t,r){this.targetId=t,this.Ce=r}}class aB{constructor(t,r,n=Da.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class cO{constructor(){this.ve=0,this.Fe=uO(),this.Me=Da.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Xt(),r=Xt(),n=Xt();return this.Fe.forEach(((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Ct(38017,{changeType:i})}})),new Ep(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=uO()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,wr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nZ{constructor(t){this.Ge=t,this.ze=new Map,this.je=rl(),this.Je=Og(),this.He=Og(),this.Ye=new cn(Kt)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:Ct(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((n,a)=>{this.rt(a)&&r(a)}))}st(t){const r=t.targetId,n=t.Ce.count,a=this.ot(r);if(a){const i=a.target;if(zE(i))if(n===0){const s=new _t(i.path);this.et(r,s,Ma.newNoDocument(s,Ot.min()))}else wr(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const l=this.ut(t),u=l?this.ct(l,t,s):1;if(u!==0){this.it(r);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,f)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,l;try{s=gc(n).toUint8Array()}catch(u){if(u instanceof DF)return xf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new zA(s,a,i)}catch(u){return xf(u instanceof ch?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach((i=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(r,i,null),a++)})),a}Tt(t){const r=new Map;this.ze.forEach(((i,s)=>{const l=this.ot(s);if(l){if(i.current&&zE(l.target)){const u=new _t(l.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Ma.newNoDocument(u,t))}i.Be&&(r.set(s,i.ke()),i.qe())}}));let n=Xt();this.He.forEach(((i,s)=>{let l=!0;s.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(i))})),this.je.forEach(((i,s)=>s.setReadTime(t)));const a=new Z1(t,r,this.Ye,this.je,n);return this.je=rl(),this.Je=Og(),this.He=Og(),this.Ye=new cn(Kt),a}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new cO,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Zn(Kt),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Zn(Kt),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||ot("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new cO),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function Og(){return new cn(_t.comparator)}function uO(){return new cn(_t.comparator)}const aZ={asc:"ASCENDING",desc:"DESCENDING"},iZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sZ={and:"AND",or:"OR"};class oZ{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function VE(e,t){return e.useProto3Json||q1(t)?t:{value:t}}function Av(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iB(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lZ(e,t){return Av(e,t.toTimestamp())}function oo(e){return wr(!!e,49232),Ot.fromTimestamp((function(r){const n=mc(r);return new Gr(n.seconds,n.nanos)})(e))}function UA(e,t){return $E(e,t).canonicalString()}function $E(e,t){const r=(function(a){return new on(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?r:r.child(t)}function sB(e){const t=on.fromString(e);return wr(fB(t),10190,{key:t.toString()}),t}function HE(e,t){return UA(e.databaseId,t.path)}function g_(e,t){const r=sB(t);if(r.get(1)!==e.databaseId.projectId)throw new vt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new vt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new _t(lB(r))}function oB(e,t){return UA(e.databaseId,t)}function cZ(e){const t=sB(e);return t.length===4?on.emptyPath():lB(t)}function qE(e){return new on(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lB(e){return wr(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function fO(e,t,r){return{name:HE(e,t),fields:r.value.mapValue.fields}}function uZ(e,t){let r;if("targetChange"in t){t.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ct(39313,{state:f})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=(function(f,d){return f.useProto3Json?(wr(d===void 0||typeof d=="string",58123),Da.fromBase64String(d||"")):(wr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Da.fromUint8Array(d||new Uint8Array))})(e,t.targetChange.resumeToken),s=t.targetChange.cause,l=s&&(function(f){const d=f.code===void 0?We.UNKNOWN:rB(f.code);return new vt(d,f.message||"")})(s);r=new aB(n,a,i,l||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=g_(e,n.document.name),i=oo(n.document.updateTime),s=n.document.createTime?oo(n.document.createTime):Ot.min(),l=new ls({mapValue:{fields:n.document.fields}}),u=Ma.newFoundDocument(a,i,s,l),f=n.targetIds||[],d=n.removedTargetIds||[];r=new vx(f,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=g_(e,n.document),i=n.readTime?oo(n.readTime):Ot.min(),s=Ma.newNoDocument(a,i),l=n.removedTargetIds||[];r=new vx([],l,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=g_(e,n.document),i=n.removedTargetIds||[];r=new vx([],i,a,null)}else{if(!("filter"in t))return Ct(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new JQ(a,i),l=n.targetId;r=new nB(l,s)}}return r}function fZ(e,t){let r;if(t instanceof wp)r={update:fO(e,t.key,t.value)};else if(t instanceof tB)r={delete:HE(e,t.key)};else if(t instanceof Yu)r={update:fO(e,t.key,t.data),updateMask:bZ(t.fieldMask)};else{if(!(t instanceof YQ))return Ct(16599,{Vt:t.type});r={verify:HE(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((n=>(function(i,s){const l=s.transform;if(l instanceof Ev)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Hh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof qh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Sv)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Ct(20930,{transform:s.transform})})(0,n)))),t.precondition.isNone||(r.currentDocument=(function(a,i){return i.updateTime!==void 0?{updateTime:lZ(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ct(27497)})(e,t.precondition)),r}function dZ(e,t){return e&&e.length>0?(wr(t!==void 0,14353),e.map((r=>(function(a,i){let s=a.updateTime?oo(a.updateTime):oo(i);return s.isEqual(Ot.min())&&(s=oo(i)),new GQ(s,a.transformResults||[])})(r,t)))):[]}function hZ(e,t){return{documents:[oB(e,t.path)]}}function pZ(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=oB(e,a);const i=(function(f){if(f.length!==0)return uB(po.create(f,"and"))})(t.filters);i&&(r.structuredQuery.where=i);const s=(function(f){if(f.length!==0)return f.map((d=>(function(g){return{field:Q0(g.field),direction:xZ(g.dir)}})(d)))})(t.orderBy);s&&(r.structuredQuery.orderBy=s);const l=VE(e,t.limit);return l!==null&&(r.structuredQuery.limit=l),t.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(t.endAt)),{ft:r,parent:a}}function mZ(e){let t=cZ(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){wr(n===1,65062);const d=r.from[0];d.allDescendants?a=d.collectionId:t=t.child(d.collectionId)}let i=[];r.where&&(i=(function(m){const g=cB(m);return g instanceof po&&LF(g)?g.getFilters():[g]})(r.where));let s=[];r.orderBy&&(s=(function(m){return m.map((g=>(function(b){return new wv(Z0(b.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(g)))})(r.orderBy));let l=null;r.limit&&(l=(function(m){let g;return g=typeof m=="object"?m.value:m,q1(g)?null:g})(r.limit));let u=null;r.startAt&&(u=(function(m){const g=!!m.before,x=m.values||[];return new _v(x,g)})(r.startAt));let f=null;return r.endAt&&(f=(function(m){const g=!m.before,x=m.values||[];return new _v(x,g)})(r.endAt)),IQ(t,a,s,i,l,"F",u,f)}function gZ(e,t){const r=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:a})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function cB(e){return e.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Z0(r.unaryFilter.field);return Qn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Z0(r.unaryFilter.field);return Qn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Z0(r.unaryFilter.field);return Qn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Z0(r.unaryFilter.field);return Qn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(e):e.fieldFilter!==void 0?(function(r){return Qn.create(Z0(r.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(r){return po.create(r.compositeFilter.filters.map((n=>cB(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(r.compositeFilter.op))})(e):Ct(30097,{filter:e})}function xZ(e){return aZ[e]}function vZ(e){return iZ[e]}function yZ(e){return sZ[e]}function Q0(e){return{fieldPath:e.canonicalString()}}function Z0(e){return Ca.fromServerFormat(e.fieldPath)}function uB(e){return e instanceof Qn?(function(r){if(r.op==="=="){if(ZD(r.value))return{unaryFilter:{field:Q0(r.field),op:"IS_NAN"}};if(QD(r.value))return{unaryFilter:{field:Q0(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ZD(r.value))return{unaryFilter:{field:Q0(r.field),op:"IS_NOT_NAN"}};if(QD(r.value))return{unaryFilter:{field:Q0(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Q0(r.field),op:vZ(r.op),value:r.value}}})(e):e instanceof po?(function(r){const n=r.getFilters().map((a=>uB(a)));return n.length===1?n[0]:{compositeFilter:{op:yZ(r.op),filters:n}}})(e):Ct(54877,{filter:e})}function bZ(e){const t=[];return e.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function fB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class ac{constructor(t,r,n,a,i=Ot.min(),s=Ot.min(),l=Da.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new ac(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class _Z{constructor(t){this.yt=t}}function wZ(e){const t=mZ({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?UE(t,t.limit,"L"):t}class EZ{constructor(){this.Cn=new SZ}addToCollectionParentIndex(t,r){return this.Cn.add(r),$e.resolve()}getCollectionParents(t,r){return $e.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return $e.resolve()}deleteFieldIndex(t,r){return $e.resolve()}deleteAllFieldIndexes(t){return $e.resolve()}createTargetIndexes(t,r){return $e.resolve()}getDocumentsMatchingTarget(t,r){return $e.resolve(null)}getIndexType(t,r){return $e.resolve(0)}getFieldIndexes(t,r){return $e.resolve([])}getNextCollectionGroupToUpdate(t){return $e.resolve(null)}getMinOffset(t,r){return $e.resolve(pc.min())}getMinOffsetFromCollectionGroup(t,r){return $e.resolve(pc.min())}updateCollectionGroup(t,r,n){return $e.resolve()}updateIndexEntries(t,r){return $e.resolve()}}class SZ{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Zn(on.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Zn(on.comparator)).toArray()}}const dO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dB=41943040;class mi{static withCacheSize(t){return new mi(t,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(dB,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);class _f{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new _f(0)}static cr(){return new _f(-1)}}const hO="LruGarbageCollector",AZ=1048576;function pO([e,t],[r,n]){const a=Kt(e,r);return a===0?Kt(t,n):a}class CZ{constructor(t){this.Ir=t,this.buffer=new Zn(pO),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();pO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class TZ{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(hO,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Uf(r)?ot(hO,"Ignoring IndexedDB error during garbage collection: ",r):await zf(r)}await this.Vr(3e5)}))}}class kZ{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(t,r){if(r===0)return $e.resolve(H1.ce);const n=new CZ(r);return this.mr.forEachTarget(t,(a=>n.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>n.Ar(a))))).next((()=>n.maxValue))}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(dO)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dO):this.yr(t,r)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,a,i,s,l,u,f;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),a=this.params.maximumSequenceNumbersToCollect):a=m,s=Date.now(),this.nthSequenceNumber(t,a)))).next((m=>(n=m,l=Date.now(),this.removeTargets(t,n,r)))).next((m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(t,n)))).next((m=>(f=Date.now(),X0()<=ir.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${a} in `+(l-s)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(f-u)+`ms
Total Duration: ${f-d}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:m}))))}}function DZ(e,t){return new kZ(e,t)}class OZ{constructor(){this.changes=new Xu((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Ma.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$e.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jZ{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class NZ{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next((a=>(n=a,this.remoteDocumentCache.getEntry(t,r)))).next((a=>(n!==null&&_h(n.mutation,a,Is.empty(),Gr.now()),a)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.getLocalViewOfDocuments(t,n,Xt()).next((()=>n))))}getLocalViewOfDocuments(t,r,n=Xt()){const a=du();return this.populateOverlays(t,a,r).next((()=>this.computeViews(t,r,a,n).next((i=>{let s=lh();return i.forEach(((l,u)=>{s=s.insert(l,u.overlayedDocument)})),s}))))}getOverlayedDocuments(t,r){const n=du();return this.populateOverlays(t,n,r).next((()=>this.computeViews(t,r,n,Xt())))}populateOverlays(t,r,n){const a=[];return n.forEach((i=>{r.has(i)||a.push(i)})),this.documentOverlayCache.getOverlays(t,a).next((i=>{i.forEach(((s,l)=>{r.set(s,l)}))}))}computeViews(t,r,n,a){let i=rl();const s=bh(),l=(function(){return bh()})();return r.forEach(((u,f)=>{const d=n.get(f.key);a.has(f.key)&&(d===void 0||d.mutation instanceof Yu)?i=i.insert(f.key,f):d!==void 0?(s.set(f.key,d.mutation.getFieldMask()),_h(d.mutation,f,d.mutation.getFieldMask(),Gr.now())):s.set(f.key,Is.empty())})),this.recalculateAndSaveOverlays(t,i).next((u=>(u.forEach(((f,d)=>s.set(f,d))),r.forEach(((f,d)=>l.set(f,new jZ(d,s.get(f)??null)))),l)))}recalculateAndSaveOverlays(t,r){const n=bh();let a=new cn(((s,l)=>s-l)),i=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((s=>{for(const l of s)l.keys().forEach((u=>{const f=r.get(u);if(f===null)return;let d=n.get(u)||Is.empty();d=l.applyToLocalView(f,d),n.set(u,d);const m=(a.get(l.batchId)||Xt()).add(u);a=a.insert(l.batchId,m)}))})).next((()=>{const s=[],l=a.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,d=u.value,m=GF();d.forEach((g=>{if(!i.has(g)){const x=JF(r.get(g),n.get(g));x!==null&&m.set(g,x),i=i.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(t,f,m))}return $e.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,r,n,a){return(function(s){return _t.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):PQ(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next((i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):$e.resolve(du());let l=zh,u=i;return s.next((f=>$e.forEach(f,((d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(d)?$e.resolve():this.remoteDocumentCache.getEntry(t,d).next((g=>{u=u.insert(d,g)}))))).next((()=>this.populateOverlays(t,f,i))).next((()=>this.computeViews(t,u,f,Xt()))).next((d=>({batchId:l,changes:WF(d)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new _t(r)).next((n=>{let a=lh();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=lh();return this.indexManager.getCollectionParents(t,i).next((l=>$e.forEach(l,(u=>{const f=(function(m,g){return new G1(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(r,u.child(i));return this.getDocumentsMatchingCollectionQuery(t,f,n,a).next((d=>{d.forEach(((m,g)=>{s=s.insert(m,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a)))).next((s=>{i.forEach(((u,f)=>{const d=f.getKey();s.get(d)===null&&(s=s.insert(d,Ma.newInvalidDocument(d)))}));let l=lh();return s.forEach(((u,f)=>{const d=i.get(u);d!==void 0&&_h(d.mutation,f,Is.empty(),Gr.now()),X1(r,f)&&(l=l.insert(u,f))})),l}))}}class IZ{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return $e.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:oo(a.createTime)}})(r)),$e.resolve()}getNamedQuery(t,r){return $e.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,(function(a){return{name:a.name,query:wZ(a.bundledQuery),readTime:oo(a.readTime)}})(r)),$e.resolve()}}class PZ{constructor(){this.overlays=new cn(_t.comparator),this.qr=new Map}getOverlay(t,r){return $e.resolve(this.overlays.get(r))}getOverlays(t,r){const n=du();return $e.forEach(r,(a=>this.getOverlay(t,a).next((i=>{i!==null&&n.set(a,i)})))).next((()=>n))}saveOverlays(t,r,n){return n.forEach(((a,i)=>{this.St(t,r,i)})),$e.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(n)),$e.resolve()}getOverlaysForCollection(t,r,n){const a=du(),i=r.length+1,s=new _t(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===i&&u.largestBatchId>n&&a.set(u.getKey(),u)}return $e.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new cn(((f,d)=>f-d));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let d=i.get(f.largestBatchId);d===null&&(d=du(),i=i.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=du(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,d)=>l.set(f,d))),!(l.size()>=a)););return $e.resolve(l)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new ZQ(r,n));let i=this.qr.get(r);i===void 0&&(i=Xt(),this.qr.set(r,i)),this.qr.set(r,i.add(n.key))}}class RZ{constructor(){this.sessionToken=Da.EMPTY_BYTE_STRING}getSessionToken(t){return $e.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,$e.resolve()}}class VA{constructor(){this.Qr=new Zn(ca.$r),this.Ur=new Zn(ca.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new ca(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach((n=>this.addReference(n,r)))}removeReference(t,r){this.Gr(new ca(t,r))}zr(t,r){t.forEach((n=>this.removeReference(n,r)))}jr(t){const r=new _t(new on([])),n=new ca(r,t),a=new ca(r,t+1),i=[];return this.Ur.forEachInRange([n,a],(s=>{this.Gr(s),i.push(s.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new _t(new on([])),n=new ca(r,t),a=new ca(r,t+1);let i=Xt();return this.Ur.forEachInRange([n,a],(s=>{i=i.add(s.key)})),i}containsKey(t){const r=new ca(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class ca{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return _t.comparator(t.key,r.key)||Kt(t.Yr,r.Yr)}static Kr(t,r){return Kt(t.Yr,r.Yr)||_t.comparator(t.key,r.key)}}class FZ{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Zn(ca.$r)}checkEmpty(t){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new QQ(i,r,n,a);this.mutationQueue.push(s);for(const l of a)this.Zr=this.Zr.add(new ca(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return $e.resolve(s)}lookupMutationBatch(t,r){return $e.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.ei(n),i=a<0?0:a;return $e.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?NA:this.tr-1)}getAllMutationBatches(t){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new ca(r,0),a=new ca(r,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,a],(s=>{const l=this.Xr(s.Yr);i.push(l)})),$e.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Zn(Kt);return r.forEach((a=>{const i=new ca(a,0),s=new ca(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],(l=>{n=n.add(l.Yr)}))})),$e.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;_t.isDocumentKey(i)||(i=i.child(""));const s=new ca(new _t(i),0);let l=new Zn(Kt);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!n.isPrefixOf(f)&&(f.length===a&&(l=l.add(u.Yr)),!0)}),s),$e.resolve(this.ti(l))}ti(t){const r=[];return t.forEach((n=>{const a=this.Xr(n);a!==null&&r.push(a)})),r}removeMutationBatch(t,r){wr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return $e.forEach(r.mutations,(a=>{const i=new ca(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=n}))}ir(t){}containsKey(t,r){const n=new ca(r,0),a=this.Zr.firstAfterOrEqual(n);return $e.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,$e.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class BZ{constructor(t){this.ri=t,this.docs=(function(){return new cn(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return $e.resolve(n?n.document.mutableCopy():Ma.newInvalidDocument(r))}getEntries(t,r){let n=rl();return r.forEach((a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Ma.newInvalidDocument(a))})),$e.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=rl();const s=r.path,l=new _t(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||fQ(uQ(d),n)<=0||(a.has(d.key)||X1(r,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $e.resolve(i)}getAllFromCollectionGroup(t,r,n,a){Ct(9500)}ii(t,r){return $e.forEach(this.docs,(n=>r(n)))}newChangeBuffer(t){return new MZ(this)}getSize(t){return $e.resolve(this.size)}}class MZ extends OZ{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(n)})),$e.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}class LZ{constructor(t){this.persistence=t,this.si=new Xu((r=>RA(r)),FA),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.oi=0,this._i=new VA,this.targetCount=0,this.ai=_f.ur()}forEachTarget(t,r){return this.si.forEach(((n,a)=>r(a))),$e.resolve()}getLastRemoteSnapshotVersion(t){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $e.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),$e.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new _f(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,$e.resolve()}updateTargetData(t,r){return this.Pr(r),$e.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,$e.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.si.forEach(((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),a++)})),$e.waitFor(i).next((()=>a))}getTargetCount(t){return $e.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return $e.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),$e.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach((s=>{i.push(a.markPotentiallyOrphaned(t,s))})),$e.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),$e.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return $e.resolve(n)}containsKey(t,r){return $e.resolve(this._i.containsKey(r))}}class hB{constructor(t,r){this.ui={},this.overlays={},this.ci=new H1(0),this.li=!1,this.li=!0,this.hi=new RZ,this.referenceDelegate=t(this),this.Pi=new LZ(this),this.indexManager=new EZ,this.remoteDocumentCache=(function(a){return new BZ(a)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new _Z(r),this.Ii=new IZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new PZ,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new FZ(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){ot("MemoryPersistence","Starting transaction:",t);const a=new zZ(this.ci.next());return this.referenceDelegate.Ei(),n(a).next((i=>this.referenceDelegate.di(a).next((()=>i)))).toPromise().then((i=>(a.raiseOnCommittedEvent(),i)))}Ai(t,r){return $e.or(Object.values(this.ui).map((n=>()=>n.containsKey(t,r))))}}class zZ extends hQ{constructor(t){super(),this.currentSequenceNumber=t}}class $A{constructor(t){this.persistence=t,this.Ri=new VA,this.Vi=null}static mi(t){return new $A(t)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),$e.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),$e.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),$e.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach((a=>this.fi.add(a.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next((a=>{a.forEach((i=>this.fi.add(i.toString())))})).next((()=>n.removeTargetData(t,r)))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.fi,(n=>{const a=_t.fromPath(n);return this.gi(t,a).next((i=>{i||r.removeEntry(a,Ot.min())}))})).next((()=>(this.Vi=null,r.apply(t))))}updateLimboDocument(t,r){return this.gi(t,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(t){return 0}gi(t,r){return $e.or([()=>$e.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Cv{constructor(t,r){this.persistence=t,this.pi=new Xu((n=>gQ(n.path)),((n,a)=>n.isEqual(a))),this.garbageCollector=DZ(this,r)}static mi(t,r){return new Cv(t,r)}Ei(){}di(t){return $e.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>r.next((a=>n+a))))}wr(t){let r=0;return this.pr(t,(n=>{r++})).next((()=>r))}pr(t,r){return $e.forEach(this.pi,((n,a)=>this.br(t,n,a).next((i=>i?$e.resolve():r(a)))))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(t,(s=>this.br(t,s,r).next((l=>{l||(n++,i.removeEntry(s,Ot.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),$e.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$e.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$e.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),$e.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=mx(t.data.value)),r}br(t,r,n){return $e.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.pi.get(r);return $e.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class HA{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=a}static As(t,r){let n=Xt(),a=Xt();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new HA(t,r.fromCache,n,a)}}class UZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class VZ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jX()?8:pQ(DX())>0?6:4})()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.ys(t,r).next((s=>{i.result=s})).next((()=>{if(!i.result)return this.ws(t,r,a,n).next((s=>{i.result=s}))})).next((()=>{if(i.result)return;const s=new UZ;return this.Ss(t,r,s).next((l=>{if(i.result=l,this.Vs)return this.bs(t,r,s,l.size)}))})).next((()=>i.result))}bs(t,r,n,a){return n.documentReadCount<this.fs?(X0()<=ir.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Y0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$e.resolve()):(X0()<=ir.DEBUG&&ot("QueryEngine","Query:",Y0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(X0()<=ir.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Y0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,so(r))):$e.resolve())}ys(t,r){if(rO(r))return $e.resolve(null);let n=so(r);return this.indexManager.getIndexType(t,n).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=UE(r,null,"F"),n=so(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const s=Xt(...i);return this.ps.getDocuments(t,s).next((l=>this.indexManager.getMinOffset(t,n).next((u=>{const f=this.Ds(r,l);return this.Cs(r,f,s,u.readTime)?this.ys(t,UE(r,null,"F")):this.vs(t,f,r,u)}))))})))))}ws(t,r,n,a){return rO(r)||a.isEqual(Ot.min())?$e.resolve(null):this.ps.getDocuments(t,n).next((i=>{const s=this.Ds(r,i);return this.Cs(r,s,n,a)?$e.resolve(null):(X0()<=ir.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Y0(r)),this.vs(t,s,r,cQ(a,zh)).next((l=>l)))}))}Ds(t,r){let n=new Zn(HF(t));return r.forEach(((a,i)=>{X1(t,i)&&(n=n.add(i))})),n}Cs(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(t,r,n){return X0()<=ir.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Y0(r)),this.ps.getDocumentsMatchingQuery(t,r,pc.min(),n)}vs(t,r,n,a){return this.ps.getDocumentsMatchingQuery(t,n,a).next((i=>(r.forEach((s=>{i=i.insert(s.key,s)})),i)))}}const qA="LocalStore",$Z=3e8;class HZ{constructor(t,r,n,a){this.persistence=t,this.Fs=r,this.serializer=a,this.Ms=new cn(Kt),this.xs=new Xu((i=>RA(i)),FA),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NZ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Ms)))}}function qZ(e,t,r,n){return new HZ(e,t,r,n)}async function pB(e,t){const r=Nt(e);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next((i=>(a=i,r.Bs(t),r.mutationQueue.getAllMutationBatches(n)))).next((i=>{const s=[],l=[];let u=Xt();for(const f of a){s.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of i){l.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return r.localDocuments.getDocuments(n,u).next((f=>({Ls:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function WZ(e,t){const r=Nt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const a=t.batch.keys(),i=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,f,d){const m=f.batch,g=m.keys();let x=$e.resolve();return g.forEach((b=>{x=x.next((()=>d.getEntry(u,b))).next((_=>{const y=f.docVersions.get(b);wr(y!==null,48541),_.version.compareTo(y)<0&&(m.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),d.addEntry(_)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(u,m)))})(r,n,t,i).next((()=>i.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let u=Xt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u})(t)))).next((()=>r.localDocuments.getDocuments(n,a)))}))}function mB(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Pi.getLastRemoteSnapshotVersion(r)))}function GZ(e,t){const r=Nt(e),n=t.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const l=[];t.targetChanges.forEach(((d,m)=>{const g=a.get(m);if(!g)return;l.push(r.Pi.removeMatchingKeys(i,d.removedDocuments,m).next((()=>r.Pi.addMatchingKeys(i,d.addedDocuments,m))));let x=g.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(m)!==null?x=x.withResumeToken(Da.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,n)),a=a.insert(m,x),(function(_,y,w){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=$Z?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0})(g,x,d)&&l.push(r.Pi.updateTargetData(i,x))}));let u=rl(),f=Xt();if(t.documentUpdates.forEach((d=>{t.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(i,d))})),l.push(KZ(i,s,t.documentUpdates).next((d=>{u=d.ks,f=d.qs}))),!n.isEqual(Ot.min())){const d=r.Pi.getLastRemoteSnapshotVersion(i).next((m=>r.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n)));l.push(d)}return $e.waitFor(l).next((()=>s.apply(i))).next((()=>r.localDocuments.getLocalViewOfDocuments(i,u,f))).next((()=>u))})).then((i=>(r.Ms=a,i)))}function KZ(e,t,r){let n=Xt(),a=Xt();return r.forEach((i=>n=n.add(i))),t.getEntries(e,n).next((i=>{let s=rl();return r.forEach(((l,u)=>{const f=i.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(l)),u.isNoDocument()&&u.version.isEqual(Ot.min())?(t.removeEntry(l,u.readTime),s=s.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),s=s.insert(l,u)):ot(qA,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)})),{ks:s,qs:a}}))}function XZ(e,t){const r=Nt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=NA),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function YZ(e,t){const r=Nt(e);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return r.Pi.getTargetData(n,t).next((i=>i?(a=i,$e.resolve(a)):r.Pi.allocateTargetId(n).next((s=>(a=new ac(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next((()=>a)))))))})).then((n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n}))}async function WE(e,t,r){const n=Nt(e),a=n.Ms.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,(s=>n.persistence.referenceDelegate.removeTarget(s,a)))}catch(s){if(!Uf(s))throw s;ot(qA,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(a.target)}function mO(e,t,r){const n=Nt(e);let a=Ot.min(),i=Xt();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(u,f,d){const m=Nt(u),g=m.xs.get(d);return g!==void 0?$e.resolve(m.Ms.get(g)):m.Pi.getTargetData(f,d)})(n,s,so(t)).next((l=>{if(l)return a=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,l.targetId).next((u=>{i=u}))})).next((()=>n.Fs.getDocumentsMatchingQuery(s,t,r?a:Ot.min(),r?i:Xt()))).next((l=>(QZ(n,FQ(t),l),{documents:l,Qs:i})))))}function QZ(e,t,r){let n=e.Os.get(t)||Ot.min();r.forEach(((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)})),e.Os.set(t,n)}class gO{constructor(){this.activeTargetIds=VQ()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZZ{constructor(){this.Mo=new gO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gO,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class JZ{Oo(t){}shutdown(){}}const xO="ConnectivityMonitor";class vO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(xO,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(xO,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jg=null;function GE(){return jg===null?jg=(function(){return 268435456+Math.round(2147483648*Math.random())})():jg++,"0x"+jg.toString(16)}const x_="RestConnection",eJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tJ{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===yv?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(t,r,n,a,i){const s=GE(),l=this.zo(t,r.toUriEncodedString());ot(x_,`Sending RPC '${t}' ${s}:`,l,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,i);const{host:f}=new URL(l),d=TA(f);return this.Jo(t,l,u,n,d).then((m=>(ot(x_,`Received RPC '${t}' ${s}: `,m),m)),(m=>{throw xf(x_,`RPC '${t}' ${s} failed with error: `,m,"url: ",l,"request:",n),m}))}Ho(t,r,n,a,i,s){return this.Go(t,r,n,a,i)}jo(t,r,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lf})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,i)=>t[i]=a)),n&&n.headers.forEach(((a,i)=>t[i]=a))}zo(t,r){const n=eJ[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}class rJ{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ia="WebChannelConnection";class nJ extends tJ{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,a,i){const s=GE();return new Promise(((l,u)=>{const f=new yF;f.setWithCredentials(!0),f.listenOnce(bF.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case px.NO_ERROR:const m=f.getResponseJson();ot(Ia,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(m)),l(m);break;case px.TIMEOUT:ot(Ia,`RPC '${t}' ${s} timed out`),u(new vt(We.DEADLINE_EXCEEDED,"Request time out"));break;case px.HTTP_ERROR:const g=f.getStatus();if(ot(Ia,`RPC '${t}' ${s} failed with status:`,g,"response text:",f.getResponseText()),g>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const b=x?.error;if(b&&b.status&&b.message){const _=(function(w){const C=w.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(C)>=0?C:We.UNKNOWN})(b.status);u(new vt(_,b.message))}else u(new vt(We.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new vt(We.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:t,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ot(Ia,`RPC '${t}' ${s} completed.`)}}));const d=JSON.stringify(a);ot(Ia,`RPC '${t}' ${s} sending request:`,a),f.send(r,"POST",d,n,15)}))}T_(t,r,n){const a=GE(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=EF(),l=wF(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const d=i.join("");ot(Ia,`Creating RPC '${t}' stream ${a}: ${d}`,u);const m=s.createWebChannel(d,u);this.I_(m);let g=!1,x=!1;const b=new rJ({Yo:y=>{x?ot(Ia,`Not sending because RPC '${t}' stream ${a} is closed:`,y):(g||(ot(Ia,`Opening RPC '${t}' stream ${a} transport.`),m.open(),g=!0),ot(Ia,`RPC '${t}' stream ${a} sending:`,y),m.send(y))},Zo:()=>m.close()}),_=(y,w,C)=>{y.listen(w,(A=>{try{C(A)}catch(O){setTimeout((()=>{throw O}),0)}}))};return _(m,oh.EventType.OPEN,(()=>{x||(ot(Ia,`RPC '${t}' stream ${a} transport opened.`),b.o_())})),_(m,oh.EventType.CLOSE,(()=>{x||(x=!0,ot(Ia,`RPC '${t}' stream ${a} transport closed`),b.a_(),this.E_(m))})),_(m,oh.EventType.ERROR,(y=>{x||(x=!0,xf(Ia,`RPC '${t}' stream ${a} transport errored. Name:`,y.name,"Message:",y.message),b.a_(new vt(We.UNAVAILABLE,"The operation could not be completed")))})),_(m,oh.EventType.MESSAGE,(y=>{if(!x){const w=y.data[0];wr(!!w,16349);const C=w,A=C?.error||C[0]?.error;if(A){ot(Ia,`RPC '${t}' stream ${a} received error:`,A);const O=A.status;let F=(function(k){const R=Pn[k];if(R!==void 0)return rB(R)})(O),M=A.message;F===void 0&&(F=We.INTERNAL,M="Unknown error status: "+O+" with message "+A.message),x=!0,b.a_(new vt(F,M)),m.close()}else ot(Ia,`RPC '${t}' stream ${a} received:`,w),b.u_(w)}})),_(l,_F.STAT_EVENT,(y=>{y.stat===RE.PROXY?ot(Ia,`RPC '${t}' stream ${a} detected buffering proxy`):y.stat===RE.NOPROXY&&ot(Ia,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((r=>r===t))}}function v_(){return typeof document<"u"?document:null}function J1(e){return new oZ(e,!0)}class gB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&ot("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yO="PersistentStream";class xB{constructor(t,r,n,a,i,s,l,u){this.Mi=t,this.S_=n,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gB(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===We.RESOURCE_EXHAUSTED?(tl(r.toString()),tl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.D_===r&&this.G_(n,a)}),(n=>{t((()=>{const a=new vt(We.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)}))}))}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{n((()=>this.z_(a)))})),this.stream.onMessage((a=>{n((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(yO,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget((()=>this.D_===t?r():(ot(yO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aJ extends xB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=uZ(this.serializer,t),n=(function(i){if(!("targetChange"in i))return Ot.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ot.min():s.readTime?oo(s.readTime):Ot.min()})(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=qE(this.serializer),r.addTarget=(function(i,s){let l;const u=s.target;if(l=zE(u)?{documents:hZ(i,u)}:{query:pZ(i,u).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=iB(i,s.resumeToken);const f=VE(i,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Ot.min())>0){l.readTime=Av(i,s.snapshotVersion.toTimestamp());const f=VE(i,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,t);const n=gZ(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=qE(this.serializer),r.removeTarget=t,this.q_(r)}}class iJ extends xB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return wr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,wr(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){wr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=dZ(t.writeResults,t.commitTime),n=oo(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=qE(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((n=>fZ(this.serializer,n)))};this.q_(r)}}class sJ{}class oJ extends sJ{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new vt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Go(t,$E(r,n),a,i,s))).catch((i=>{throw i.name==="FirebaseError"?(i.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new vt(We.UNKNOWN,i.toString())}))}Ho(t,r,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Ho(t,$E(r,n),a,s,l,i))).catch((s=>{throw s.name==="FirebaseError"?(s.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new vt(We.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lJ{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tl(r),this.aa=!1):ot("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Nu="RemoteStore";class cJ{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((s=>{n.enqueueAndForget((async()=>{Qu(this)&&(ot(Nu,"Restarting streams for network reachability change."),await(async function(u){const f=Nt(u);f.Ea.add(4),await Sp(f),f.Ra.set("Unknown"),f.Ea.delete(4),await ey(f)})(this))}))})),this.Ra=new lJ(n,a)}}async function ey(e){if(Qu(e))for(const t of e.da)await t(!0)}async function Sp(e){for(const t of e.da)await t(!1)}function vB(e,t){const r=Nt(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),XA(r)?KA(r):Vf(r).O_()&&GA(r,t))}function WA(e,t){const r=Nt(e),n=Vf(r);r.Ia.delete(t),n.O_()&&yB(r,t),r.Ia.size===0&&(n.O_()?n.L_():Qu(r)&&r.Ra.set("Unknown"))}function GA(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Vf(e).Y_(t)}function yB(e,t){e.Va.Ue(t),Vf(e).Z_(t)}function KA(e){e.Va=new nZ({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Vf(e).start(),e.Ra.ua()}function XA(e){return Qu(e)&&!Vf(e).x_()&&e.Ia.size>0}function Qu(e){return Nt(e).Ea.size===0}function bB(e){e.Va=void 0}async function uJ(e){e.Ra.set("Online")}async function fJ(e){e.Ia.forEach(((t,r)=>{GA(e,t)}))}async function dJ(e,t){bB(e),XA(e)?(e.Ra.ha(t),KA(e)):e.Ra.set("Unknown")}async function hJ(e,t,r){if(e.Ra.set("Online"),t instanceof aB&&t.state===2&&t.cause)try{await(async function(a,i){const s=i.cause;for(const l of i.targetIds)a.Ia.has(l)&&(await a.remoteSyncer.rejectListen(l,s),a.Ia.delete(l),a.Va.removeTarget(l))})(e,t)}catch(n){ot(Nu,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Tv(e,n)}else if(t instanceof vx?e.Va.Ze(t):t instanceof nB?e.Va.st(t):e.Va.tt(t),!r.isEqual(Ot.min()))try{const n=await mB(e.localStore);r.compareTo(n)>=0&&await(function(i,s){const l=i.Va.Tt(s);return l.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(f);d&&i.Ia.set(f,d.withResumeToken(u.resumeToken,s))}})),l.targetMismatches.forEach(((u,f)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(Da.EMPTY_BYTE_STRING,d.snapshotVersion)),yB(i,u);const m=new ac(d.target,u,f,d.sequenceNumber);GA(i,m)})),i.remoteSyncer.applyRemoteEvent(l)})(e,r)}catch(n){ot(Nu,"Failed to raise snapshot:",n),await Tv(e,n)}}async function Tv(e,t,r){if(!Uf(t))throw t;e.Ea.add(1),await Sp(e),e.Ra.set("Offline"),r||(r=()=>mB(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ot(Nu,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await ey(e)}))}function _B(e,t){return t().catch((r=>Tv(e,r,t)))}async function ty(e){const t=Nt(e),r=vc(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:NA;for(;pJ(t);)try{const a=await XZ(t.localStore,n);if(a===null){t.Ta.length===0&&r.L_();break}n=a.batchId,mJ(t,a)}catch(a){await Tv(t,a)}wB(t)&&EB(t)}function pJ(e){return Qu(e)&&e.Ta.length<10}function mJ(e,t){e.Ta.push(t);const r=vc(e);r.O_()&&r.X_&&r.ea(t.mutations)}function wB(e){return Qu(e)&&!vc(e).x_()&&e.Ta.length>0}function EB(e){vc(e).start()}async function gJ(e){vc(e).ra()}async function xJ(e){const t=vc(e);for(const r of e.Ta)t.ea(r.mutations)}async function vJ(e,t,r){const n=e.Ta.shift(),a=LA.from(n,t,r);await _B(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await ty(e)}async function yJ(e,t){t&&vc(e).X_&&await(async function(n,a){if((function(s){return eZ(s)&&s!==We.ABORTED})(a.code)){const i=n.Ta.shift();vc(n).B_(),await _B(n,(()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a))),await ty(n)}})(e,t),wB(e)&&EB(e)}async function bO(e,t){const r=Nt(e);r.asyncQueue.verifyOperationInProgress(),ot(Nu,"RemoteStore received new credentials");const n=Qu(r);r.Ea.add(3),await Sp(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await ey(r)}async function bJ(e,t){const r=Nt(e);t?(r.Ea.delete(2),await ey(r)):t||(r.Ea.add(2),await Sp(r),r.Ra.set("Unknown"))}function Vf(e){return e.ma||(e.ma=(function(r,n,a){const i=Nt(r);return i.sa(),new aJ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(e.datastore,e.asyncQueue,{Xo:uJ.bind(null,e),t_:fJ.bind(null,e),r_:dJ.bind(null,e),H_:hJ.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),XA(e)?KA(e):e.Ra.set("Unknown")):(await e.ma.stop(),bB(e))}))),e.ma}function vc(e){return e.fa||(e.fa=(function(r,n,a){const i=Nt(r);return i.sa(),new iJ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:gJ.bind(null,e),r_:yJ.bind(null,e),ta:xJ.bind(null,e),na:vJ.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await ty(e)):(await e.fa.stop(),e.Ta.length>0&&(ot(Nu,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class YA{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new fc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,l=new YA(t,r,s,a,i);return l.start(n),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(We.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QA(e,t){if(tl("AsyncQueue",`${t}: ${e}`),Uf(e))return new vt(We.UNAVAILABLE,`${t}: ${e}`);throw e}class uf{static emptySet(t){return new uf(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||_t.comparator(r.key,n.key):(r,n)=>_t.comparator(r.key,n.key),this.keyedMap=lh(),this.sortedSet=new cn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,n)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof uf)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new uf;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}class _O{constructor(){this.ga=new cn(_t.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Ct(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,n)=>{t.push(n)})),t}}class wf{constructor(t,r,n,a,i,s,l,u,f){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach((l=>{s.push({type:0,doc:l})})),new wf(t,r,uf.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&K1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}class _J{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class wJ{constructor(){this.queries=wO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=Nt(r),i=a.queries;a.queries=wO(),i.forEach(((s,l)=>{for(const u of l.Sa)u.onError(n)}))})(this,new vt(We.ABORTED,"Firestore shutting down"))}}function wO(){return new Xu((e=>$F(e)),K1)}async function EJ(e,t){const r=Nt(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.ba()&&t.Da()&&(n=2):(i=new _J,n=t.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const l=QA(s,`Initialization of query '${Y0(t.query)}' failed`);return void t.onError(l)}r.queries.set(a,i),i.Sa.push(t),t.va(r.onlineState),i.wa&&t.Fa(i.wa)&&ZA(r)}async function SJ(e,t){const r=Nt(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Sa.indexOf(t);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?a=t.Da()?0:1:!i.ba()&&t.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function AJ(e,t){const r=Nt(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const l of s.Sa)l.Fa(a)&&(n=!0);s.wa=a}}n&&ZA(r)}function CJ(e,t,r){const n=Nt(e),a=n.queries.get(t);if(a)for(const i of a.Sa)i.onError(r);n.queries.delete(t)}function ZA(e){e.Ca.forEach((t=>{t.next()}))}var KE,EO;(EO=KE||(KE={})).Ma="default",EO.Cache="cache";class TJ{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new wf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=wf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==KE.Cache}}class SB{constructor(t){this.key=t}}class AB{constructor(t){this.key=t}}class kJ{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xt(),this.mutatedKeys=Xt(),this.eu=HF(t),this.tu=new uf(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new _O,a=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,l=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((d,m)=>{const g=a.get(d),x=X1(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let y=!1;g&&x?g.data.isEqual(x.data)?b!==_&&(n.track({type:3,doc:x}),y=!0):this.su(g,x)||(n.track({type:2,doc:x}),y=!0,(u&&this.eu(x,u)>0||f&&this.eu(x,f)<0)&&(l=!0)):!g&&x?(n.track({type:0,doc:x}),y=!0):g&&!x&&(n.track({type:1,doc:g}),y=!0,(u||f)&&(l=!0)),y&&(x?(s=s.add(x),i=_?i.add(d):i.delete(d)):(s=s.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),i=i.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Cs:l,mutatedKeys:i}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort(((d,m)=>(function(x,b){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:y})}};return _(x)-_(b)})(d.type,m.type)||this.eu(d.doc,m.doc))),this.ou(n),a=a??!1;const l=r&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,f=u!==this.Za;return this.Za=u,s.length!==0||f?{snapshot:new wf(this.query,t.tu,i,s,t.mutatedKeys,u===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _O,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Xt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return t.forEach((n=>{this.Xa.has(n)||r.push(new AB(n))})),this.Xa.forEach((n=>{t.has(n)||r.push(new SB(n))})),r}cu(t){this.Ya=t.Qs,this.Xa=Xt();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return wf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const JA="SyncEngine";class DJ{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class OJ{constructor(t){this.key=t,this.hu=!1}}class jJ{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Xu((l=>$F(l)),K1),this.Iu=new Map,this.Eu=new Set,this.du=new cn(_t.comparator),this.Au=new Map,this.Ru=new VA,this.Vu={},this.mu=new Map,this.fu=_f.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NJ(e,t,r=!0){const n=jB(e);let a;const i=n.Tu.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await CB(n,t,r,!0),a}async function IJ(e,t){const r=jB(e);await CB(r,t,!0,!1)}async function CB(e,t,r,n){const a=await YZ(e.localStore,so(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let l;return n&&(l=await PJ(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&vB(e.remoteStore,a),l}async function PJ(e,t,r,n,a){e.pu=(m,g,x)=>(async function(_,y,w,C){let A=y.view.ru(w);A.Cs&&(A=await mO(_.localStore,y.query,!1).then((({documents:j})=>y.view.ru(j,A))));const O=C&&C.targetChanges.get(y.targetId),F=C&&C.targetMismatches.get(y.targetId)!=null,M=y.view.applyChanges(A,_.isPrimaryClient,O,F);return AO(_,y.targetId,M.au),M.snapshot})(e,m,g,x);const i=await mO(e.localStore,t,!0),s=new kJ(t,i.Qs),l=s.ru(i.documents),u=Ep.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),f=s.applyChanges(l,e.isPrimaryClient,u);AO(e,r,f.au);const d=new DJ(t,r,s);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),f.snapshot}async function RJ(e,t,r){const n=Nt(e),a=n.Tu.get(t),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter((s=>!K1(s,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await WE(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),r&&WA(n.remoteStore,a.targetId),XE(n,a.targetId)})).catch(zf)):(XE(n,a.targetId),await WE(n.localStore,a.targetId,!0))}async function FJ(e,t){const r=Nt(e),n=r.Tu.get(t),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),WA(r.remoteStore,n.targetId))}async function BJ(e,t,r){const n=HJ(e);try{const a=await(function(s,l){const u=Nt(s),f=Gr.now(),d=l.reduce(((x,b)=>x.add(b.key)),Xt());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let b=rl(),_=Xt();return u.Ns.getEntries(x,d).next((y=>{b=y,b.forEach(((w,C)=>{C.isValidDocument()||(_=_.add(w))}))})).next((()=>u.localDocuments.getOverlayedDocuments(x,b))).next((y=>{m=y;const w=[];for(const C of l){const A=XQ(C,m.get(C.key).overlayedDocument);A!=null&&w.push(new Yu(C.key,A,FF(A.value.mapValue),Ko.exists(!0)))}return u.mutationQueue.addMutationBatch(x,f,w,l)})).next((y=>{g=y;const w=y.applyToLocalDocumentSet(m,_);return u.documentOverlayCache.saveOverlays(x,y.batchId,w)}))})).then((()=>({batchId:g.batchId,changes:WF(m)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),(function(s,l,u){let f=s.Vu[s.currentUser.toKey()];f||(f=new cn(Kt)),f=f.insert(l,u),s.Vu[s.currentUser.toKey()]=f})(n,a.batchId,r),await Ap(n,a.changes),await ty(n.remoteStore)}catch(a){const i=QA(a,"Failed to persist write");r.reject(i)}}async function TB(e,t){const r=Nt(e);try{const n=await GZ(r.localStore,t);t.targetChanges.forEach(((a,i)=>{const s=r.Au.get(i);s&&(wr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?wr(s.hu,14607):a.removedDocuments.size>0&&(wr(s.hu,42227),s.hu=!1))})),await Ap(r,n,t)}catch(n){await zf(n)}}function SO(e,t,r){const n=Nt(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach(((i,s)=>{const l=s.view.va(t);l.snapshot&&a.push(l.snapshot)})),(function(s,l){const u=Nt(s);u.onlineState=l;let f=!1;u.queries.forEach(((d,m)=>{for(const g of m.Sa)g.va(l)&&(f=!0)})),f&&ZA(u)})(n.eventManager,t),a.length&&n.Pu.H_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function MJ(e,t,r){const n=Nt(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Au.get(t),i=a&&a.key;if(i){let s=new cn(_t.comparator);s=s.insert(i,Ma.newNoDocument(i,Ot.min()));const l=Xt().add(i),u=new Z1(Ot.min(),new Map,new cn(Kt),s,l);await TB(n,u),n.du=n.du.remove(i),n.Au.delete(t),eC(n)}else await WE(n.localStore,t,!1).then((()=>XE(n,t,r))).catch(zf)}async function LJ(e,t){const r=Nt(e),n=t.batch.batchId;try{const a=await WZ(r.localStore,t);DB(r,n,null),kB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ap(r,a)}catch(a){await zf(a)}}async function zJ(e,t,r){const n=Nt(e);try{const a=await(function(s,l){const u=Nt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return u.mutationQueue.lookupMutationBatch(f,l).next((m=>(wr(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(f,m)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,d,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>u.localDocuments.getDocuments(f,d)))}))})(n.localStore,t);DB(n,t,r),kB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Ap(n,a)}catch(a){await zf(a)}}function kB(e,t){(e.mu.get(t)||[]).forEach((r=>{r.resolve()})),e.mu.delete(t)}function DB(e,t,r){const n=Nt(e);let a=n.Vu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.Vu[n.currentUser.toKey()]=a}}function XE(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((n=>{e.Ru.containsKey(n)||OB(e,n)}))}function OB(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(WA(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),eC(e))}function AO(e,t,r){for(const n of r)n instanceof SB?(e.Ru.addReference(n.key,t),UJ(e,n)):n instanceof AB?(ot(JA,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||OB(e,n.key)):Ct(19791,{wu:n})}function UJ(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(ot(JA,"New document in limbo: "+r),e.Eu.add(n),eC(e))}function eC(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new _t(on.fromString(t)),n=e.fu.next();e.Au.set(n,new OJ(r)),e.du=e.du.insert(r,n),vB(e.remoteStore,new ac(so(BA(r.path)),n,"TargetPurposeLimboResolution",H1.ce))}}async function Ap(e,t,r){const n=Nt(e),a=[],i=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,u)=>{s.push(n.pu(u,t,r).then((f=>{if((f||r)&&n.isPrimaryClient){const d=f?!f.fromCache:r?.targetChanges.get(u.targetId)?.current;n.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(f){a.push(f);const d=HA.As(u.targetId,f);i.push(d)}})))})),await Promise.all(s),n.Pu.H_(a),await(async function(u,f){const d=Nt(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>$e.forEach(f,(g=>$e.forEach(g.Es,(x=>d.persistence.referenceDelegate.addReference(m,g.targetId,x))).next((()=>$e.forEach(g.ds,(x=>d.persistence.referenceDelegate.removeReference(m,g.targetId,x)))))))))}catch(m){if(!Uf(m))throw m;ot(qA,"Failed to update sequence numbers: "+m)}for(const m of f){const g=m.targetId;if(!m.fromCache){const x=d.Ms.get(g),b=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(g,_)}}})(n.localStore,i))}async function VJ(e,t){const r=Nt(e);if(!r.currentUser.isEqual(t)){ot(JA,"User change. New user:",t.toKey());const n=await pB(r.localStore,t);r.currentUser=t,(function(i,s){i.mu.forEach((l=>{l.forEach((u=>{u.reject(new vt(We.CANCELLED,s))}))})),i.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Ap(r,n.Ls)}}function $J(e,t){const r=Nt(e),n=r.Au.get(t);if(n&&n.hu)return Xt().add(n.key);{let a=Xt();const i=r.Iu.get(t);if(!i)return a;for(const s of i){const l=r.Tu.get(s);a=a.unionWith(l.view.nu)}return a}}function jB(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$J.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MJ.bind(null,t),t.Pu.H_=AJ.bind(null,t.eventManager),t.Pu.yu=CJ.bind(null,t.eventManager),t}function HJ(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LJ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zJ.bind(null,t),t}class kv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=J1(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return qZ(this.persistence,new VZ,t.initialUser,this.serializer)}Cu(t){return new hB($A.mi,this.serializer)}Du(t){return new ZZ}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kv.provider={build:()=>new kv};class qJ extends kv{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){wr(this.persistence.referenceDelegate instanceof Cv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new TZ(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new hB((n=>Cv.mi(n,r)),this.serializer)}}class YE{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>SO(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=VJ.bind(null,this.syncEngine),await bJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new wJ})()}createDatastore(t){const r=J1(t.databaseInfo.databaseId),n=(function(i){return new nJ(i)})(t.databaseInfo);return(function(i,s,l,u){return new oJ(i,s,l,u)})(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return(function(n,a,i,s,l){return new cJ(n,a,i,s,l)})(this.localStore,this.datastore,t.asyncQueue,(r=>SO(this.syncEngine,r,0)),(function(){return vO.v()?new vO:new JZ})())}createSyncEngine(t,r){return(function(a,i,s,l,u,f,d){const m=new jJ(a,i,s,l,u,f);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Nt(r);ot(Nu,"RemoteStore shutting down."),n.Ea.add(5),await Sp(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}YE.provider={build:()=>new YE};class WJ{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):tl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}const yc="FirestoreClient";class GJ{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Fa.UNAUTHENTICATED,this.clientId=OA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async s=>{ot(yc,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(ot(yc,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=QA(r,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function y_(e,t){e.asyncQueue.verifyOperationInProgress(),ot(yc,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener((async a=>{n.isEqual(a)||(await pB(t.localStore,a),n=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function CO(e,t){e.asyncQueue.verifyOperationInProgress();const r=await KJ(e);ot(yc,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener((n=>bO(t.remoteStore,n))),e.setAppCheckTokenChangeListener(((n,a)=>bO(t.remoteStore,a))),e._onlineComponents=t}async function KJ(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ot(yc,"Using user provided OfflineComponentProvider");try{await y_(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(a){return a.name==="FirebaseError"?a.code===We.FAILED_PRECONDITION||a.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;xf("Error using user provided cache. Falling back to memory cache: "+r),await y_(e,new kv)}}else ot(yc,"Using default OfflineComponentProvider"),await y_(e,new qJ(void 0));return e._offlineComponents}async function NB(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ot(yc,"Using user provided OnlineComponentProvider"),await CO(e,e._uninitializedComponentsProvider._online)):(ot(yc,"Using default OnlineComponentProvider"),await CO(e,new YE))),e._onlineComponents}function XJ(e){return NB(e).then((t=>t.syncEngine))}async function YJ(e){const t=await NB(e),r=t.eventManager;return r.onListen=NJ.bind(null,t.syncEngine),r.onUnlisten=RJ.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=IJ.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=FJ.bind(null,t.syncEngine),r}function QJ(e,t,r={}){const n=new fc;return e.asyncQueue.enqueueAndForget((async()=>(function(i,s,l,u,f){const d=new WJ({next:g=>{d.Nu(),s.enqueueAndForget((()=>SJ(i,m)));const x=g.docs.has(l);!x&&g.fromCache?f.reject(new vt(We.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&u&&u.source==="server"?f.reject(new vt(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),m=new TJ(BA(l.path),d,{includeMetadataChanges:!0,qa:!0});return EJ(i,m)})(await YJ(e),e.asyncQueue,t,r,n))),n.promise}function IB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const TO=new Map;const PB="firestore.googleapis.com",kO=!0;class DO{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PB,this.ssl=kO}else this.host=t.host,this.ssl=t.ssl??kO;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AZ)throw new vt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lQ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IB(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new vt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new vt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new vt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tC{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DO(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new QY;switch(n.type){case"firstParty":return new tQ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new vt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=TO.get(r);n&&(ot("ComponentProvider","Removing Datastore"),TO.delete(r),n.terminate())})(this),Promise.resolve()}}function ZJ(e,t,r,n={}){e=Lh(e,tC);const a=TA(t),i=e._getSettings(),s={...i,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${r}`;a&&(SX(`https://${l}`),kX("Firestore",!0)),i.host!==PB&&i.host!==l&&xf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:a,emulatorOptions:n};if(!pv(u,s)&&(e._setSettings(u),n.mockUserToken)){let f,d;if(typeof n.mockUserToken=="string")f=n.mockUserToken,d=Fa.MOCK_USER;else{f=AX(n.mockUserToken,e._app?.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new vt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Fa(m)}e._authCredentials=new ZY(new AF(f,d))}}class rC{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new rC(this.firestore,t,this._query)}}class pa{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pa(this.firestore,t,this._key)}toJSON(){return{type:pa._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(_p(r,pa._jsonSchema))return new pa(t,n||null,new _t(on.fromString(r.referencePath)))}}pa._jsonSchemaVersion="firestore/documentReference/1.0",pa._jsonSchema={type:zn("string",pa._jsonSchemaVersion),referencePath:zn("string")};class Wh extends rC{constructor(t,r,n){super(t,r,BA(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pa(this.firestore,null,new _t(t))}withConverter(t){return new Wh(this.firestore,t,this._path)}}function b_(e,t,...r){if(e=mv(e),arguments.length===1&&(t=OA.newId()),oQ("doc","path",t),e instanceof tC){const n=on.fromString(t,...r);return $D(n),new pa(e,null,new _t(n))}{if(!(e instanceof pa||e instanceof Wh))throw new vt(We.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(on.fromString(t,...r));return $D(n),new pa(e.firestore,e instanceof Wh?e.converter:null,new _t(n))}}const OO="AsyncQueue";class jO{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gB(this,"async_queue_retry"),this._c=()=>{const n=v_();n&&ot(OO,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=v_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=v_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new fc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Uf(t))throw t;ot(OO,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,tl("INTERNAL UNHANDLED ERROR: ",NO(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=YA.createAndSchedule(this,t,r,n,(i=>this.hc(i)));return this.tc.push(a),a}uc(){this.nc&&Ct(47125,{Pc:NO(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function NO(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class nC extends tC{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new jO,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jO(t),this._firestoreClient=void 0,await t}}}function JJ(e,t){const r=typeof e=="object"?e:MY(),n=typeof e=="string"?e:yv,a=IY(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=wX("firestore");i&&ZJ(a,...i)}return a}function RB(e){if(e._terminated)throw new vt(We.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||eee(e),e._firestoreClient}function eee(e){const t=e._freezeSettings(),r=(function(a,i,s,l){return new yQ(a,i,s,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,IB(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new GJ(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&(function(a){const i=a?._online.build();return{_offline:a?._offline.build(i),_online:i}})(e._componentsProvider))}class cs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cs(Da.fromBase64String(t))}catch(r){throw new vt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new cs(Da.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_p(t,cs._jsonSchema))return cs.fromBase64String(t.bytes)}}cs._jsonSchemaVersion="firestore/bytes/1.0",cs._jsonSchema={type:zn("string",cs._jsonSchemaVersion),bytes:zn("string")};class aC{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new vt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ca(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class FB{constructor(t){this._methodName=t}}class lo{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new vt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new vt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lo._jsonSchemaVersion}}static fromJSON(t){if(_p(t,lo._jsonSchema))return new lo(t.latitude,t.longitude)}}lo._jsonSchemaVersion="firestore/geoPoint/1.0",lo._jsonSchema={type:zn("string",lo._jsonSchemaVersion),latitude:zn("number"),longitude:zn("number")};class co{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:co._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_p(t,co._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new co(t.vectorValues);throw new vt(We.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:zn("string",co._jsonSchemaVersion),vectorValues:zn("object")};const tee=/^__.*__$/;class ree{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Yu(t,this.data,this.fieldMask,r,this.fieldTransforms):new wp(t,this.data,r,this.fieldTransforms)}}function BB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ac:e})}}class iC{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new iC({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){const r=this.path?.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Dv(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(BB(this.Ac)&&tee.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class nee{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||J1(t)}Cc(t,r,n,a=!1){return new iC({Ac:t,methodName:r,Dc:n,path:Ca.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aee(e){const t=e._freezeSettings(),r=J1(e._databaseId);return new nee(e._databaseId,!!t.ignoreUndefinedProperties,r)}function iee(e,t,r,n,a,i={}){const s=e.Cc(i.merge||i.mergeFields?2:0,t,r,a);UB("Data must be an object, but it was:",s,n);const l=LB(n,s);let u,f;if(i.merge)u=new Is(s.fieldMask),f=s.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const g=see(t,m,r);if(!s.contains(g))throw new vt(We.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);lee(d,g)||d.push(g)}u=new Is(d),f=s.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,f=s.fieldTransforms;return new ree(new ls(l),u,f)}function MB(e,t){if(zB(e=mv(e)))return UB("Unsupported field value:",t,e),LB(e,t);if(e instanceof FB)return(function(n,a){if(!BB(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(n,a){const i=[];let s=0;for(const l of n){let u=MB(l,a.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}})(e,t)}return(function(n,a){if((n=mv(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $Q(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Gr.fromDate(n);return{timestampValue:Av(a.serializer,i)}}if(n instanceof Gr){const i=new Gr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Av(a.serializer,i)}}if(n instanceof lo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof cs)return{bytesValue:iB(a.serializer,n._byteString)};if(n instanceof pa){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:UA(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof co)return(function(s,l){return{mapValue:{fields:{[PF]:{stringValue:RF},[bv]:{arrayValue:{values:s.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return MA(l.serializer,f)}))}}}}}})(n,a);throw a.Sc(`Unsupported field value: ${jA(n)}`)})(e,t)}function LB(e,t){const r={};return kF(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ku(e,((n,a)=>{const i=MB(a,t.mc(n));i!=null&&(r[n]=i)})),{mapValue:{fields:r}}}function zB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Gr||e instanceof lo||e instanceof cs||e instanceof pa||e instanceof FB||e instanceof co)}function UB(e,t,r){if(!zB(r)||!CF(r)){const n=jA(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function see(e,t,r){if((t=mv(t))instanceof aC)return t._internalPath;if(typeof t=="string")return VB(e,t);throw Dv("Field path arguments must be of type string or ",e,!1,void 0,r)}const oee=new RegExp("[~\\*/\\[\\]]");function VB(e,t,r){if(t.search(oee)>=0)throw Dv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new aC(...t.split("."))._internalPath}catch{throw Dv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Dv(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let l=`Function ${t}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||s)&&(u+=" (found",i&&(u+=` in field ${n}`),s&&(u+=` in document ${a}`),u+=")"),new vt(We.INVALID_ARGUMENT,l+e+u)}function lee(e,t){return e.some((r=>r.isEqual(t)))}class $B{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(HB("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class cee extends $B{data(){return super.data()}}function HB(e,t){return typeof t=="string"?VB(e,t):t instanceof aC?t._internalPath:t._delegate._internalPath}class uee{convertValue(t,r="none"){switch(xc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Cn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(gc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Ku(t,((a,i)=>{n[a]=this.convertValue(i,r)})),n}convertVectorValue(t){const r=t.fields?.[bv].arrayValue?.values?.map((n=>Cn(n.doubleValue)));return new co(r)}convertGeoPoint(t){return new lo(Cn(t.latitude),Cn(t.longitude))}convertArray(t,r){return(t.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const n=W1(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Uh(t));default:return null}}convertTimestamp(t){const r=mc(t);return new Gr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=on.fromString(t);wr(fB(n),9688,{name:t});const a=new Vh(n.get(1),n.get(3)),i=new _t(n.popFirst(5));return a.isEqual(r)||tl(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}function fee(e,t,r){let n;return n=e?e.toFirestore(t):t,n}class uh{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yu extends $B{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new yx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(HB("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(We.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=yu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}yu._jsonSchemaVersion="firestore/documentSnapshot/1.0",yu._jsonSchema={type:zn("string",yu._jsonSchemaVersion),bundleSource:zn("string","DocumentSnapshot"),bundleName:zn("string"),bundle:zn("string")};class yx extends yu{data(t={}){return super.data(t)}}class wh{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new uh(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((n=>{t.call(r,new yx(this._firestore,this._userDataWriter,n.key,n,new uh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new vt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map((l=>{const u=new yx(a._firestore,a._userDataWriter,l.doc.key,l.doc,new uh(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}}))}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new yx(a._firestore,a._userDataWriter,l.doc.key,l.doc,new uh(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,d=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:dee(l.type),doc:u,oldIndex:f,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(We.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=OA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach((i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function dee(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:e})}}function hee(e){e=Lh(e,pa);const t=Lh(e.firestore,nC);return QJ(RB(t),e._key).then((r=>gee(t,e,r)))}wh._jsonSchemaVersion="firestore/querySnapshot/1.0",wh._jsonSchema={type:zn("string",wh._jsonSchemaVersion),bundleSource:zn("string","QuerySnapshot"),bundleName:zn("string"),bundle:zn("string")};class pee extends uee{constructor(t){super(),this.firestore=t}convertBytes(t){return new cs(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new pa(this.firestore,null,r)}}function IO(e,t,r){e=Lh(e,pa);const n=Lh(e.firestore,nC),a=fee(e.converter,t);return mee(n,[iee(aee(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Ko.none())])}function mee(e,t){return(function(n,a){const i=new fc;return n.asyncQueue.enqueueAndForget((async()=>BJ(await XJ(n),a,i))),i.promise})(RB(e),t)}function gee(e,t,r){const n=r.docs.get(t._key),a=new pee(e);return new yu(e,a,t._key,n,new uh(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(a){Lf=a})(BY),xv(new Bh("firestore",((n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),l=new nC(new JY(n.getProvider("auth-internal")),new rQ(s,n.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new vt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(f.options.projectId,d)})(s,a),s);return i={useFetchStreams:r,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),cf(LD,zD,t),cf(LD,zD,"esm2020")})();var bx={exports:{}};function xee(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _x={exports:{}};const vee={},yee=Object.freeze(Object.defineProperty({__proto__:null,default:vee},Symbol.toStringTag,{value:"Module"})),bee=_H(yee);var _ee=_x.exports,PO;function tr(){return PO||(PO=1,(function(e,t){(function(r,n){e.exports=n()})(_ee,function(){var r=r||(function(n,a){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof Xb<"u"&&Xb.crypto&&(i=Xb.crypto),!i&&typeof xee=="function")try{i=bee}catch{}var s=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||(function(){function C(){}return function(A){var O;return C.prototype=A,O=new C,C.prototype=null,O}})(),u={},f=u.lib={},d=f.Base=(function(){return{extend:function(C){var A=l(this);return C&&A.mixIn(C),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var A in C)C.hasOwnProperty(A)&&(this[A]=C[A]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),m=f.WordArray=d.extend({init:function(C,A){C=this.words=C||[],A!=a?this.sigBytes=A:this.sigBytes=C.length*4},toString:function(C){return(C||x).stringify(this)},concat:function(C){var A=this.words,O=C.words,F=this.sigBytes,M=C.sigBytes;if(this.clamp(),F%4)for(var j=0;j<M;j++){var k=O[j>>>2]>>>24-j%4*8&255;A[F+j>>>2]|=k<<24-(F+j)%4*8}else for(var R=0;R<M;R+=4)A[F+R>>>2]=O[R>>>2];return this.sigBytes+=M,this},clamp:function(){var C=this.words,A=this.sigBytes;C[A>>>2]&=4294967295<<32-A%4*8,C.length=n.ceil(A/4)},clone:function(){var C=d.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var A=[],O=0;O<C;O+=4)A.push(s());return new m.init(A,C)}}),g=u.enc={},x=g.Hex={stringify:function(C){for(var A=C.words,O=C.sigBytes,F=[],M=0;M<O;M++){var j=A[M>>>2]>>>24-M%4*8&255;F.push((j>>>4).toString(16)),F.push((j&15).toString(16))}return F.join("")},parse:function(C){for(var A=C.length,O=[],F=0;F<A;F+=2)O[F>>>3]|=parseInt(C.substr(F,2),16)<<24-F%8*4;return new m.init(O,A/2)}},b=g.Latin1={stringify:function(C){for(var A=C.words,O=C.sigBytes,F=[],M=0;M<O;M++){var j=A[M>>>2]>>>24-M%4*8&255;F.push(String.fromCharCode(j))}return F.join("")},parse:function(C){for(var A=C.length,O=[],F=0;F<A;F++)O[F>>>2]|=(C.charCodeAt(F)&255)<<24-F%4*8;return new m.init(O,A)}},_=g.Utf8={stringify:function(C){try{return decodeURIComponent(escape(b.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return b.parse(unescape(encodeURIComponent(C)))}},y=f.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=_.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var A,O=this._data,F=O.words,M=O.sigBytes,j=this.blockSize,k=j*4,R=M/k;C?R=n.ceil(R):R=n.max((R|0)-this._minBufferSize,0);var I=R*j,P=n.min(I*4,M);if(I){for(var N=0;N<I;N+=j)this._doProcessBlock(F,N);A=F.splice(0,I),O.sigBytes-=P}return new m.init(A,P)},clone:function(){var C=d.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});f.Hasher=y.extend({cfg:d.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var A=this._doFinalize();return A},blockSize:16,_createHelper:function(C){return function(A,O){return new C.init(O).finalize(A)}},_createHmacHelper:function(C){return function(A,O){return new w.HMAC.init(C,O).finalize(A)}}});var w=u.algo={};return u})(Math);return r})})(_x)),_x.exports}var wx={exports:{}},wee=wx.exports,RO;function ry(){return RO||(RO=1,(function(e,t){(function(r,n){e.exports=n(tr())})(wee,function(r){return(function(n){var a=r,i=a.lib,s=i.Base,l=i.WordArray,u=a.x64={};u.Word=s.extend({init:function(f,d){this.high=f,this.low=d}}),u.WordArray=s.extend({init:function(f,d){f=this.words=f||[],d!=n?this.sigBytes=d:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,d=f.length,m=[],g=0;g<d;g++){var x=f[g];m.push(x.high),m.push(x.low)}return l.create(m,this.sigBytes)},clone:function(){for(var f=s.clone.call(this),d=f.words=this.words.slice(0),m=d.length,g=0;g<m;g++)d[g]=d[g].clone();return f}})})(),r})})(wx)),wx.exports}var Ex={exports:{}},Eee=Ex.exports,FO;function See(){return FO||(FO=1,(function(e,t){(function(r,n){e.exports=n(tr())})(Eee,function(r){return(function(){if(typeof ArrayBuffer=="function"){var n=r,a=n.lib,i=a.WordArray,s=i.init,l=i.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var f=u.byteLength,d=[],m=0;m<f;m++)d[m>>>2]|=u[m]<<24-m%4*8;s.call(this,d,f)}else s.apply(this,arguments)};l.prototype=i}})(),r.lib.WordArray})})(Ex)),Ex.exports}var Sx={exports:{}},Aee=Sx.exports,BO;function Cee(){return BO||(BO=1,(function(e,t){(function(r,n){e.exports=n(tr())})(Aee,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=n.enc;s.Utf16=s.Utf16BE={stringify:function(u){for(var f=u.words,d=u.sigBytes,m=[],g=0;g<d;g+=2){var x=f[g>>>2]>>>16-g%4*8&65535;m.push(String.fromCharCode(x))}return m.join("")},parse:function(u){for(var f=u.length,d=[],m=0;m<f;m++)d[m>>>1]|=u.charCodeAt(m)<<16-m%2*16;return i.create(d,f*2)}},s.Utf16LE={stringify:function(u){for(var f=u.words,d=u.sigBytes,m=[],g=0;g<d;g+=2){var x=l(f[g>>>2]>>>16-g%4*8&65535);m.push(String.fromCharCode(x))}return m.join("")},parse:function(u){for(var f=u.length,d=[],m=0;m<f;m++)d[m>>>1]|=l(u.charCodeAt(m)<<16-m%2*16);return i.create(d,f*2)}};function l(u){return u<<8&4278255360|u>>>8&16711935}})(),r.enc.Utf16})})(Sx)),Sx.exports}var Ax={exports:{}},Tee=Ax.exports,MO;function Zu(){return MO||(MO=1,(function(e,t){(function(r,n){e.exports=n(tr())})(Tee,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=n.enc;s.Base64={stringify:function(u){var f=u.words,d=u.sigBytes,m=this._map;u.clamp();for(var g=[],x=0;x<d;x+=3)for(var b=f[x>>>2]>>>24-x%4*8&255,_=f[x+1>>>2]>>>24-(x+1)%4*8&255,y=f[x+2>>>2]>>>24-(x+2)%4*8&255,w=b<<16|_<<8|y,C=0;C<4&&x+C*.75<d;C++)g.push(m.charAt(w>>>6*(3-C)&63));var A=m.charAt(64);if(A)for(;g.length%4;)g.push(A);return g.join("")},parse:function(u){var f=u.length,d=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var g=0;g<d.length;g++)m[d.charCodeAt(g)]=g}var x=d.charAt(64);if(x){var b=u.indexOf(x);b!==-1&&(f=b)}return l(u,f,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(u,f,d){for(var m=[],g=0,x=0;x<f;x++)if(x%4){var b=d[u.charCodeAt(x-1)]<<x%4*2,_=d[u.charCodeAt(x)]>>>6-x%4*2,y=b|_;m[g>>>2]|=y<<24-g%4*8,g++}return i.create(m,g)}})(),r.enc.Base64})})(Ax)),Ax.exports}var Cx={exports:{}},kee=Cx.exports,LO;function Dee(){return LO||(LO=1,(function(e,t){(function(r,n){e.exports=n(tr())})(kee,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=n.enc;s.Base64url={stringify:function(u,f){f===void 0&&(f=!0);var d=u.words,m=u.sigBytes,g=f?this._safe_map:this._map;u.clamp();for(var x=[],b=0;b<m;b+=3)for(var _=d[b>>>2]>>>24-b%4*8&255,y=d[b+1>>>2]>>>24-(b+1)%4*8&255,w=d[b+2>>>2]>>>24-(b+2)%4*8&255,C=_<<16|y<<8|w,A=0;A<4&&b+A*.75<m;A++)x.push(g.charAt(C>>>6*(3-A)&63));var O=g.charAt(64);if(O)for(;x.length%4;)x.push(O);return x.join("")},parse:function(u,f){f===void 0&&(f=!0);var d=u.length,m=f?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var x=0;x<m.length;x++)g[m.charCodeAt(x)]=x}var b=m.charAt(64);if(b){var _=u.indexOf(b);_!==-1&&(d=_)}return l(u,d,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(u,f,d){for(var m=[],g=0,x=0;x<f;x++)if(x%4){var b=d[u.charCodeAt(x-1)]<<x%4*2,_=d[u.charCodeAt(x)]>>>6-x%4*2,y=b|_;m[g>>>2]|=y<<24-g%4*8,g++}return i.create(m,g)}})(),r.enc.Base64url})})(Cx)),Cx.exports}var Tx={exports:{}},Oee=Tx.exports,zO;function Ju(){return zO||(zO=1,(function(e,t){(function(r,n){e.exports=n(tr())})(Oee,function(r){return(function(n){var a=r,i=a.lib,s=i.WordArray,l=i.Hasher,u=a.algo,f=[];(function(){for(var _=0;_<64;_++)f[_]=n.abs(n.sin(_+1))*4294967296|0})();var d=u.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(_,y){for(var w=0;w<16;w++){var C=y+w,A=_[C];_[C]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var O=this._hash.words,F=_[y+0],M=_[y+1],j=_[y+2],k=_[y+3],R=_[y+4],I=_[y+5],P=_[y+6],N=_[y+7],B=_[y+8],oe=_[y+9],he=_[y+10],ne=_[y+11],de=_[y+12],be=_[y+13],we=_[y+14],ue=_[y+15],U=O[0],Y=O[1],Z=O[2],q=O[3];U=m(U,Y,Z,q,F,7,f[0]),q=m(q,U,Y,Z,M,12,f[1]),Z=m(Z,q,U,Y,j,17,f[2]),Y=m(Y,Z,q,U,k,22,f[3]),U=m(U,Y,Z,q,R,7,f[4]),q=m(q,U,Y,Z,I,12,f[5]),Z=m(Z,q,U,Y,P,17,f[6]),Y=m(Y,Z,q,U,N,22,f[7]),U=m(U,Y,Z,q,B,7,f[8]),q=m(q,U,Y,Z,oe,12,f[9]),Z=m(Z,q,U,Y,he,17,f[10]),Y=m(Y,Z,q,U,ne,22,f[11]),U=m(U,Y,Z,q,de,7,f[12]),q=m(q,U,Y,Z,be,12,f[13]),Z=m(Z,q,U,Y,we,17,f[14]),Y=m(Y,Z,q,U,ue,22,f[15]),U=g(U,Y,Z,q,M,5,f[16]),q=g(q,U,Y,Z,P,9,f[17]),Z=g(Z,q,U,Y,ne,14,f[18]),Y=g(Y,Z,q,U,F,20,f[19]),U=g(U,Y,Z,q,I,5,f[20]),q=g(q,U,Y,Z,he,9,f[21]),Z=g(Z,q,U,Y,ue,14,f[22]),Y=g(Y,Z,q,U,R,20,f[23]),U=g(U,Y,Z,q,oe,5,f[24]),q=g(q,U,Y,Z,we,9,f[25]),Z=g(Z,q,U,Y,k,14,f[26]),Y=g(Y,Z,q,U,B,20,f[27]),U=g(U,Y,Z,q,be,5,f[28]),q=g(q,U,Y,Z,j,9,f[29]),Z=g(Z,q,U,Y,N,14,f[30]),Y=g(Y,Z,q,U,de,20,f[31]),U=x(U,Y,Z,q,I,4,f[32]),q=x(q,U,Y,Z,B,11,f[33]),Z=x(Z,q,U,Y,ne,16,f[34]),Y=x(Y,Z,q,U,we,23,f[35]),U=x(U,Y,Z,q,M,4,f[36]),q=x(q,U,Y,Z,R,11,f[37]),Z=x(Z,q,U,Y,N,16,f[38]),Y=x(Y,Z,q,U,he,23,f[39]),U=x(U,Y,Z,q,be,4,f[40]),q=x(q,U,Y,Z,F,11,f[41]),Z=x(Z,q,U,Y,k,16,f[42]),Y=x(Y,Z,q,U,P,23,f[43]),U=x(U,Y,Z,q,oe,4,f[44]),q=x(q,U,Y,Z,de,11,f[45]),Z=x(Z,q,U,Y,ue,16,f[46]),Y=x(Y,Z,q,U,j,23,f[47]),U=b(U,Y,Z,q,F,6,f[48]),q=b(q,U,Y,Z,N,10,f[49]),Z=b(Z,q,U,Y,we,15,f[50]),Y=b(Y,Z,q,U,I,21,f[51]),U=b(U,Y,Z,q,de,6,f[52]),q=b(q,U,Y,Z,k,10,f[53]),Z=b(Z,q,U,Y,he,15,f[54]),Y=b(Y,Z,q,U,M,21,f[55]),U=b(U,Y,Z,q,B,6,f[56]),q=b(q,U,Y,Z,ue,10,f[57]),Z=b(Z,q,U,Y,P,15,f[58]),Y=b(Y,Z,q,U,be,21,f[59]),U=b(U,Y,Z,q,R,6,f[60]),q=b(q,U,Y,Z,ne,10,f[61]),Z=b(Z,q,U,Y,j,15,f[62]),Y=b(Y,Z,q,U,oe,21,f[63]),O[0]=O[0]+U|0,O[1]=O[1]+Y|0,O[2]=O[2]+Z|0,O[3]=O[3]+q|0},_doFinalize:function(){var _=this._data,y=_.words,w=this._nDataBytes*8,C=_.sigBytes*8;y[C>>>5]|=128<<24-C%32;var A=n.floor(w/4294967296),O=w;y[(C+64>>>9<<4)+15]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,y[(C+64>>>9<<4)+14]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,_.sigBytes=(y.length+1)*4,this._process();for(var F=this._hash,M=F.words,j=0;j<4;j++){var k=M[j];M[j]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return F},clone:function(){var _=l.clone.call(this);return _._hash=this._hash.clone(),_}});function m(_,y,w,C,A,O,F){var M=_+(y&w|~y&C)+A+F;return(M<<O|M>>>32-O)+y}function g(_,y,w,C,A,O,F){var M=_+(y&C|w&~C)+A+F;return(M<<O|M>>>32-O)+y}function x(_,y,w,C,A,O,F){var M=_+(y^w^C)+A+F;return(M<<O|M>>>32-O)+y}function b(_,y,w,C,A,O,F){var M=_+(w^(y|~C))+A+F;return(M<<O|M>>>32-O)+y}a.MD5=l._createHelper(d),a.HmacMD5=l._createHmacHelper(d)})(Math),r.MD5})})(Tx)),Tx.exports}var kx={exports:{}},jee=kx.exports,UO;function qB(){return UO||(UO=1,(function(e,t){(function(r,n){e.exports=n(tr())})(jee,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=a.Hasher,l=n.algo,u=[],f=l.SHA1=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,m){for(var g=this._hash.words,x=g[0],b=g[1],_=g[2],y=g[3],w=g[4],C=0;C<80;C++){if(C<16)u[C]=d[m+C]|0;else{var A=u[C-3]^u[C-8]^u[C-14]^u[C-16];u[C]=A<<1|A>>>31}var O=(x<<5|x>>>27)+w+u[C];C<20?O+=(b&_|~b&y)+1518500249:C<40?O+=(b^_^y)+1859775393:C<60?O+=(b&_|b&y|_&y)-1894007588:O+=(b^_^y)-899497514,w=y,y=_,_=b<<30|b>>>2,b=x,x=O}g[0]=g[0]+x|0,g[1]=g[1]+b|0,g[2]=g[2]+_|0,g[3]=g[3]+y|0,g[4]=g[4]+w|0},_doFinalize:function(){var d=this._data,m=d.words,g=this._nDataBytes*8,x=d.sigBytes*8;return m[x>>>5]|=128<<24-x%32,m[(x+64>>>9<<4)+14]=Math.floor(g/4294967296),m[(x+64>>>9<<4)+15]=g,d.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA1=s._createHelper(f),n.HmacSHA1=s._createHmacHelper(f)})(),r.SHA1})})(kx)),kx.exports}var Dx={exports:{}},Nee=Dx.exports,VO;function sC(){return VO||(VO=1,(function(e,t){(function(r,n){e.exports=n(tr())})(Nee,function(r){return(function(n){var a=r,i=a.lib,s=i.WordArray,l=i.Hasher,u=a.algo,f=[],d=[];(function(){function x(w){for(var C=n.sqrt(w),A=2;A<=C;A++)if(!(w%A))return!1;return!0}function b(w){return(w-(w|0))*4294967296|0}for(var _=2,y=0;y<64;)x(_)&&(y<8&&(f[y]=b(n.pow(_,1/2))),d[y]=b(n.pow(_,1/3)),y++),_++})();var m=[],g=u.SHA256=l.extend({_doReset:function(){this._hash=new s.init(f.slice(0))},_doProcessBlock:function(x,b){for(var _=this._hash.words,y=_[0],w=_[1],C=_[2],A=_[3],O=_[4],F=_[5],M=_[6],j=_[7],k=0;k<64;k++){if(k<16)m[k]=x[b+k]|0;else{var R=m[k-15],I=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,P=m[k-2],N=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;m[k]=I+m[k-7]+N+m[k-16]}var B=O&F^~O&M,oe=y&w^y&C^w&C,he=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),ne=(O<<26|O>>>6)^(O<<21|O>>>11)^(O<<7|O>>>25),de=j+ne+B+d[k]+m[k],be=he+oe;j=M,M=F,F=O,O=A+de|0,A=C,C=w,w=y,y=de+be|0}_[0]=_[0]+y|0,_[1]=_[1]+w|0,_[2]=_[2]+C|0,_[3]=_[3]+A|0,_[4]=_[4]+O|0,_[5]=_[5]+F|0,_[6]=_[6]+M|0,_[7]=_[7]+j|0},_doFinalize:function(){var x=this._data,b=x.words,_=this._nDataBytes*8,y=x.sigBytes*8;return b[y>>>5]|=128<<24-y%32,b[(y+64>>>9<<4)+14]=n.floor(_/4294967296),b[(y+64>>>9<<4)+15]=_,x.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var x=l.clone.call(this);return x._hash=this._hash.clone(),x}});a.SHA256=l._createHelper(g),a.HmacSHA256=l._createHmacHelper(g)})(Math),r.SHA256})})(Dx)),Dx.exports}var Ox={exports:{}},Iee=Ox.exports,$O;function Pee(){return $O||($O=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),sC())})(Iee,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=n.algo,l=s.SHA256,u=s.SHA224=l.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=l._doFinalize.call(this);return f.sigBytes-=4,f}});n.SHA224=l._createHelper(u),n.HmacSHA224=l._createHmacHelper(u)})(),r.SHA224})})(Ox)),Ox.exports}var jx={exports:{}},Ree=jx.exports,HO;function WB(){return HO||(HO=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ry())})(Ree,function(r){return(function(){var n=r,a=n.lib,i=a.Hasher,s=n.x64,l=s.Word,u=s.WordArray,f=n.algo;function d(){return l.create.apply(l,arguments)}var m=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],g=[];(function(){for(var b=0;b<80;b++)g[b]=d()})();var x=f.SHA512=i.extend({_doReset:function(){this._hash=new u.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(b,_){for(var y=this._hash.words,w=y[0],C=y[1],A=y[2],O=y[3],F=y[4],M=y[5],j=y[6],k=y[7],R=w.high,I=w.low,P=C.high,N=C.low,B=A.high,oe=A.low,he=O.high,ne=O.low,de=F.high,be=F.low,we=M.high,ue=M.low,U=j.high,Y=j.low,Z=k.high,q=k.low,se=R,me=I,ve=P,H=N,G=B,ee=oe,ae=he,pe=ne,X=de,je=be,He=we,Be=ue,Ke=U,Je=Y,et=Z,st=q,rt=0;rt<80;rt++){var ce,Se,Ye=g[rt];if(rt<16)Se=Ye.high=b[_+rt*2]|0,ce=Ye.low=b[_+rt*2+1]|0;else{var Me=g[rt-15],wt=Me.high,Dt=Me.low,Et=(wt>>>1|Dt<<31)^(wt>>>8|Dt<<24)^wt>>>7,At=(Dt>>>1|wt<<31)^(Dt>>>8|wt<<24)^(Dt>>>7|wt<<25),Ut=g[rt-2],Ge=Ut.high,it=Ut.low,bt=(Ge>>>19|it<<13)^(Ge<<3|it>>>29)^Ge>>>6,xt=(it>>>19|Ge<<13)^(it<<3|Ge>>>29)^(it>>>6|Ge<<26),It=g[rt-7],pt=It.high,rn=It.low,yn=g[rt-16],fn=yn.high,Vr=yn.low;ce=At+rn,Se=Et+pt+(ce>>>0<At>>>0?1:0),ce=ce+xt,Se=Se+bt+(ce>>>0<xt>>>0?1:0),ce=ce+Vr,Se=Se+fn+(ce>>>0<Vr>>>0?1:0),Ye.high=Se,Ye.low=ce}var ia=X&He^~X&Ke,Cr=je&Be^~je&Je,nn=se&ve^se&G^ve&G,dn=me&H^me&ee^H&ee,Kr=(se>>>28|me<<4)^(se<<30|me>>>2)^(se<<25|me>>>7),Ga=(me>>>28|se<<4)^(me<<30|se>>>2)^(me<<25|se>>>7),wi=(X>>>14|je<<18)^(X>>>18|je<<14)^(X<<23|je>>>9),an=(je>>>14|X<<18)^(je>>>18|X<<14)^(je<<23|X>>>9),Ft=m[rt],ai=Ft.high,bn=Ft.low,Tr=st+an,sn=et+wi+(Tr>>>0<st>>>0?1:0),Tr=Tr+Cr,sn=sn+ia+(Tr>>>0<Cr>>>0?1:0),Tr=Tr+bn,sn=sn+ai+(Tr>>>0<bn>>>0?1:0),Tr=Tr+ce,sn=sn+Se+(Tr>>>0<ce>>>0?1:0),Gn=Ga+dn,kr=Kr+nn+(Gn>>>0<Ga>>>0?1:0);et=Ke,st=Je,Ke=He,Je=Be,He=X,Be=je,je=pe+Tr|0,X=ae+sn+(je>>>0<pe>>>0?1:0)|0,ae=G,pe=ee,G=ve,ee=H,ve=se,H=me,me=Tr+Gn|0,se=sn+kr+(me>>>0<Tr>>>0?1:0)|0}I=w.low=I+me,w.high=R+se+(I>>>0<me>>>0?1:0),N=C.low=N+H,C.high=P+ve+(N>>>0<H>>>0?1:0),oe=A.low=oe+ee,A.high=B+G+(oe>>>0<ee>>>0?1:0),ne=O.low=ne+pe,O.high=he+ae+(ne>>>0<pe>>>0?1:0),be=F.low=be+je,F.high=de+X+(be>>>0<je>>>0?1:0),ue=M.low=ue+Be,M.high=we+He+(ue>>>0<Be>>>0?1:0),Y=j.low=Y+Je,j.high=U+Ke+(Y>>>0<Je>>>0?1:0),q=k.low=q+st,k.high=Z+et+(q>>>0<st>>>0?1:0)},_doFinalize:function(){var b=this._data,_=b.words,y=this._nDataBytes*8,w=b.sigBytes*8;_[w>>>5]|=128<<24-w%32,_[(w+128>>>10<<5)+30]=Math.floor(y/4294967296),_[(w+128>>>10<<5)+31]=y,b.sigBytes=_.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var b=i.clone.call(this);return b._hash=this._hash.clone(),b},blockSize:1024/32});n.SHA512=i._createHelper(x),n.HmacSHA512=i._createHmacHelper(x)})(),r.SHA512})})(jx)),jx.exports}var Nx={exports:{}},Fee=Nx.exports,qO;function Bee(){return qO||(qO=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ry(),WB())})(Fee,function(r){return(function(){var n=r,a=n.x64,i=a.Word,s=a.WordArray,l=n.algo,u=l.SHA512,f=l.SHA384=u.extend({_doReset:function(){this._hash=new s.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var d=u._doFinalize.call(this);return d.sigBytes-=16,d}});n.SHA384=u._createHelper(f),n.HmacSHA384=u._createHmacHelper(f)})(),r.SHA384})})(Nx)),Nx.exports}var Ix={exports:{}},Mee=Ix.exports,WO;function Lee(){return WO||(WO=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ry())})(Mee,function(r){return(function(n){var a=r,i=a.lib,s=i.WordArray,l=i.Hasher,u=a.x64,f=u.Word,d=a.algo,m=[],g=[],x=[];(function(){for(var y=1,w=0,C=0;C<24;C++){m[y+5*w]=(C+1)*(C+2)/2%64;var A=w%5,O=(2*y+3*w)%5;y=A,w=O}for(var y=0;y<5;y++)for(var w=0;w<5;w++)g[y+5*w]=w+(2*y+3*w)%5*5;for(var F=1,M=0;M<24;M++){for(var j=0,k=0,R=0;R<7;R++){if(F&1){var I=(1<<R)-1;I<32?k^=1<<I:j^=1<<I-32}F&128?F=F<<1^113:F<<=1}x[M]=f.create(j,k)}})();var b=[];(function(){for(var y=0;y<25;y++)b[y]=f.create()})();var _=d.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],w=0;w<25;w++)y[w]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,w){for(var C=this._state,A=this.blockSize/2,O=0;O<A;O++){var F=y[w+2*O],M=y[w+2*O+1];F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360;var j=C[O];j.high^=M,j.low^=F}for(var k=0;k<24;k++){for(var R=0;R<5;R++){for(var I=0,P=0,N=0;N<5;N++){var j=C[R+5*N];I^=j.high,P^=j.low}var B=b[R];B.high=I,B.low=P}for(var R=0;R<5;R++)for(var oe=b[(R+4)%5],he=b[(R+1)%5],ne=he.high,de=he.low,I=oe.high^(ne<<1|de>>>31),P=oe.low^(de<<1|ne>>>31),N=0;N<5;N++){var j=C[R+5*N];j.high^=I,j.low^=P}for(var be=1;be<25;be++){var I,P,j=C[be],we=j.high,ue=j.low,U=m[be];U<32?(I=we<<U|ue>>>32-U,P=ue<<U|we>>>32-U):(I=ue<<U-32|we>>>64-U,P=we<<U-32|ue>>>64-U);var Y=b[g[be]];Y.high=I,Y.low=P}var Z=b[0],q=C[0];Z.high=q.high,Z.low=q.low;for(var R=0;R<5;R++)for(var N=0;N<5;N++){var be=R+5*N,j=C[be],se=b[be],me=b[(R+1)%5+5*N],ve=b[(R+2)%5+5*N];j.high=se.high^~me.high&ve.high,j.low=se.low^~me.low&ve.low}var j=C[0],H=x[k];j.high^=H.high,j.low^=H.low}},_doFinalize:function(){var y=this._data,w=y.words;this._nDataBytes*8;var C=y.sigBytes*8,A=this.blockSize*32;w[C>>>5]|=1<<24-C%32,w[(n.ceil((C+1)/A)*A>>>5)-1]|=128,y.sigBytes=w.length*4,this._process();for(var O=this._state,F=this.cfg.outputLength/8,M=F/8,j=[],k=0;k<M;k++){var R=O[k],I=R.high,P=R.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,j.push(P),j.push(I)}return new s.init(j,F)},clone:function(){for(var y=l.clone.call(this),w=y._state=this._state.slice(0),C=0;C<25;C++)w[C]=w[C].clone();return y}});a.SHA3=l._createHelper(_),a.HmacSHA3=l._createHmacHelper(_)})(Math),r.SHA3})})(Ix)),Ix.exports}var Px={exports:{}},zee=Px.exports,GO;function Uee(){return GO||(GO=1,(function(e,t){(function(r,n){e.exports=n(tr())})(zee,function(r){return(function(n){var a=r,i=a.lib,s=i.WordArray,l=i.Hasher,u=a.algo,f=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=s.create([0,1518500249,1859775393,2400959708,2840853838]),b=s.create([1352829926,1548603684,1836072691,2053994217,0]),_=u.RIPEMD160=l.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,j){for(var k=0;k<16;k++){var R=j+k,I=M[R];M[R]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var P=this._hash.words,N=x.words,B=b.words,oe=f.words,he=d.words,ne=m.words,de=g.words,be,we,ue,U,Y,Z,q,se,me,ve;Z=be=P[0],q=we=P[1],se=ue=P[2],me=U=P[3],ve=Y=P[4];for(var H,k=0;k<80;k+=1)H=be+M[j+oe[k]]|0,k<16?H+=y(we,ue,U)+N[0]:k<32?H+=w(we,ue,U)+N[1]:k<48?H+=C(we,ue,U)+N[2]:k<64?H+=A(we,ue,U)+N[3]:H+=O(we,ue,U)+N[4],H=H|0,H=F(H,ne[k]),H=H+Y|0,be=Y,Y=U,U=F(ue,10),ue=we,we=H,H=Z+M[j+he[k]]|0,k<16?H+=O(q,se,me)+B[0]:k<32?H+=A(q,se,me)+B[1]:k<48?H+=C(q,se,me)+B[2]:k<64?H+=w(q,se,me)+B[3]:H+=y(q,se,me)+B[4],H=H|0,H=F(H,de[k]),H=H+ve|0,Z=ve,ve=me,me=F(se,10),se=q,q=H;H=P[1]+ue+me|0,P[1]=P[2]+U+ve|0,P[2]=P[3]+Y+Z|0,P[3]=P[4]+be+q|0,P[4]=P[0]+we+se|0,P[0]=H},_doFinalize:function(){var M=this._data,j=M.words,k=this._nDataBytes*8,R=M.sigBytes*8;j[R>>>5]|=128<<24-R%32,j[(R+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,M.sigBytes=(j.length+1)*4,this._process();for(var I=this._hash,P=I.words,N=0;N<5;N++){var B=P[N];P[N]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return I},clone:function(){var M=l.clone.call(this);return M._hash=this._hash.clone(),M}});function y(M,j,k){return M^j^k}function w(M,j,k){return M&j|~M&k}function C(M,j,k){return(M|~j)^k}function A(M,j,k){return M&k|j&~k}function O(M,j,k){return M^(j|~k)}function F(M,j){return M<<j|M>>>32-j}a.RIPEMD160=l._createHelper(_),a.HmacRIPEMD160=l._createHmacHelper(_)})(),r.RIPEMD160})})(Px)),Px.exports}var Rx={exports:{}},Vee=Rx.exports,KO;function oC(){return KO||(KO=1,(function(e,t){(function(r,n){e.exports=n(tr())})(Vee,function(r){(function(){var n=r,a=n.lib,i=a.Base,s=n.enc,l=s.Utf8,u=n.algo;u.HMAC=i.extend({init:function(f,d){f=this._hasher=new f.init,typeof d=="string"&&(d=l.parse(d));var m=f.blockSize,g=m*4;d.sigBytes>g&&(d=f.finalize(d)),d.clamp();for(var x=this._oKey=d.clone(),b=this._iKey=d.clone(),_=x.words,y=b.words,w=0;w<m;w++)_[w]^=1549556828,y[w]^=909522486;x.sigBytes=b.sigBytes=g,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var d=this._hasher,m=d.finalize(f);d.reset();var g=d.finalize(this._oKey.clone().concat(m));return g}})})()})})(Rx)),Rx.exports}var Fx={exports:{}},$ee=Fx.exports,XO;function Hee(){return XO||(XO=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),sC(),oC())})($ee,function(r){return(function(){var n=r,a=n.lib,i=a.Base,s=a.WordArray,l=n.algo,u=l.SHA256,f=l.HMAC,d=l.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,g){for(var x=this.cfg,b=f.create(x.hasher,m),_=s.create(),y=s.create([1]),w=_.words,C=y.words,A=x.keySize,O=x.iterations;w.length<A;){var F=b.update(g).finalize(y);b.reset();for(var M=F.words,j=M.length,k=F,R=1;R<O;R++){k=b.finalize(k),b.reset();for(var I=k.words,P=0;P<j;P++)M[P]^=I[P]}_.concat(F),C[0]++}return _.sigBytes=A*4,_}});n.PBKDF2=function(m,g,x){return d.create(x).compute(m,g)}})(),r.PBKDF2})})(Fx)),Fx.exports}var Bx={exports:{}},qee=Bx.exports,YO;function kc(){return YO||(YO=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),qB(),oC())})(qee,function(r){return(function(){var n=r,a=n.lib,i=a.Base,s=a.WordArray,l=n.algo,u=l.MD5,f=l.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:u,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,m){for(var g,x=this.cfg,b=x.hasher.create(),_=s.create(),y=_.words,w=x.keySize,C=x.iterations;y.length<w;){g&&b.update(g),g=b.update(d).finalize(m),b.reset();for(var A=1;A<C;A++)g=b.finalize(g),b.reset();_.concat(g)}return _.sigBytes=w*4,_}});n.EvpKDF=function(d,m,g){return f.create(g).compute(d,m)}})(),r.EvpKDF})})(Bx)),Bx.exports}var Mx={exports:{}},Wee=Mx.exports,QO;function ga(){return QO||(QO=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),kc())})(Wee,function(r){r.lib.Cipher||(function(n){var a=r,i=a.lib,s=i.Base,l=i.WordArray,u=i.BufferedBlockAlgorithm,f=a.enc;f.Utf8;var d=f.Base64,m=a.algo,g=m.EvpKDF,x=i.Cipher=u.extend({cfg:s.extend(),createEncryptor:function(I,P){return this.create(this._ENC_XFORM_MODE,I,P)},createDecryptor:function(I,P){return this.create(this._DEC_XFORM_MODE,I,P)},init:function(I,P,N){this.cfg=this.cfg.extend(N),this._xformMode=I,this._key=P,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function I(P){return typeof P=="string"?R:M}return function(P){return{encrypt:function(N,B,oe){return I(B).encrypt(P,N,B,oe)},decrypt:function(N,B,oe){return I(B).decrypt(P,N,B,oe)}}}})()});i.StreamCipher=x.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var b=a.mode={},_=i.BlockCipherMode=s.extend({createEncryptor:function(I,P){return this.Encryptor.create(I,P)},createDecryptor:function(I,P){return this.Decryptor.create(I,P)},init:function(I,P){this._cipher=I,this._iv=P}}),y=b.CBC=(function(){var I=_.extend();I.Encryptor=I.extend({processBlock:function(N,B){var oe=this._cipher,he=oe.blockSize;P.call(this,N,B,he),oe.encryptBlock(N,B),this._prevBlock=N.slice(B,B+he)}}),I.Decryptor=I.extend({processBlock:function(N,B){var oe=this._cipher,he=oe.blockSize,ne=N.slice(B,B+he);oe.decryptBlock(N,B),P.call(this,N,B,he),this._prevBlock=ne}});function P(N,B,oe){var he,ne=this._iv;ne?(he=ne,this._iv=n):he=this._prevBlock;for(var de=0;de<oe;de++)N[B+de]^=he[de]}return I})(),w=a.pad={},C=w.Pkcs7={pad:function(I,P){for(var N=P*4,B=N-I.sigBytes%N,oe=B<<24|B<<16|B<<8|B,he=[],ne=0;ne<B;ne+=4)he.push(oe);var de=l.create(he,B);I.concat(de)},unpad:function(I){var P=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=P}};i.BlockCipher=x.extend({cfg:x.cfg.extend({mode:y,padding:C}),reset:function(){var I;x.reset.call(this);var P=this.cfg,N=P.iv,B=P.mode;this._xformMode==this._ENC_XFORM_MODE?I=B.createEncryptor:(I=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,N&&N.words):(this._mode=I.call(B,this,N&&N.words),this._mode.__creator=I)},_doProcessBlock:function(I,P){this._mode.processBlock(I,P)},_doFinalize:function(){var I,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),P.unpad(I)),I},blockSize:128/32});var A=i.CipherParams=s.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),O=a.format={},F=O.OpenSSL={stringify:function(I){var P,N=I.ciphertext,B=I.salt;return B?P=l.create([1398893684,1701076831]).concat(B).concat(N):P=N,P.toString(d)},parse:function(I){var P,N=d.parse(I),B=N.words;return B[0]==1398893684&&B[1]==1701076831&&(P=l.create(B.slice(2,4)),B.splice(0,4),N.sigBytes-=16),A.create({ciphertext:N,salt:P})}},M=i.SerializableCipher=s.extend({cfg:s.extend({format:F}),encrypt:function(I,P,N,B){B=this.cfg.extend(B);var oe=I.createEncryptor(N,B),he=oe.finalize(P),ne=oe.cfg;return A.create({ciphertext:he,key:N,iv:ne.iv,algorithm:I,mode:ne.mode,padding:ne.padding,blockSize:I.blockSize,formatter:B.format})},decrypt:function(I,P,N,B){B=this.cfg.extend(B),P=this._parse(P,B.format);var oe=I.createDecryptor(N,B).finalize(P.ciphertext);return oe},_parse:function(I,P){return typeof I=="string"?P.parse(I,this):I}}),j=a.kdf={},k=j.OpenSSL={execute:function(I,P,N,B,oe){if(B||(B=l.random(64/8)),oe)var he=g.create({keySize:P+N,hasher:oe}).compute(I,B);else var he=g.create({keySize:P+N}).compute(I,B);var ne=l.create(he.words.slice(P),N*4);return he.sigBytes=P*4,A.create({key:he,iv:ne,salt:B})}},R=i.PasswordBasedCipher=M.extend({cfg:M.cfg.extend({kdf:k}),encrypt:function(I,P,N,B){B=this.cfg.extend(B);var oe=B.kdf.execute(N,I.keySize,I.ivSize,B.salt,B.hasher);B.iv=oe.iv;var he=M.encrypt.call(this,I,P,oe.key,B);return he.mixIn(oe),he},decrypt:function(I,P,N,B){B=this.cfg.extend(B),P=this._parse(P,B.format);var oe=B.kdf.execute(N,I.keySize,I.ivSize,P.salt,B.hasher);B.iv=oe.iv;var he=M.decrypt.call(this,I,P,oe.key,B);return he}})})()})})(Mx)),Mx.exports}var Lx={exports:{}},Gee=Lx.exports,ZO;function Kee(){return ZO||(ZO=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(Gee,function(r){return r.mode.CFB=(function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,s){var l=this._cipher,u=l.blockSize;a.call(this,i,s,u,l),this._prevBlock=i.slice(s,s+u)}}),n.Decryptor=n.extend({processBlock:function(i,s){var l=this._cipher,u=l.blockSize,f=i.slice(s,s+u);a.call(this,i,s,u,l),this._prevBlock=f}});function a(i,s,l,u){var f,d=this._iv;d?(f=d.slice(0),this._iv=void 0):f=this._prevBlock,u.encryptBlock(f,0);for(var m=0;m<l;m++)i[s+m]^=f[m]}return n})(),r.mode.CFB})})(Lx)),Lx.exports}var zx={exports:{}},Xee=zx.exports,JO;function Yee(){return JO||(JO=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(Xee,function(r){return r.mode.CTR=(function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,s){var l=this._cipher,u=l.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0);var m=d.slice(0);l.encryptBlock(m,0),d[u-1]=d[u-1]+1|0;for(var g=0;g<u;g++)i[s+g]^=m[g]}});return n.Decryptor=a,n})(),r.mode.CTR})})(zx)),zx.exports}var Ux={exports:{}},Qee=Ux.exports,e8;function Zee(){return e8||(e8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(Qee,function(r){return r.mode.CTRGladman=(function(){var n=r.lib.BlockCipherMode.extend();function a(l){if((l>>24&255)===255){var u=l>>16&255,f=l>>8&255,d=l&255;u===255?(u=0,f===255?(f=0,d===255?d=0:++d):++f):++u,l=0,l+=u<<16,l+=f<<8,l+=d}else l+=1<<24;return l}function i(l){return(l[0]=a(l[0]))===0&&(l[1]=a(l[1])),l}var s=n.Encryptor=n.extend({processBlock:function(l,u){var f=this._cipher,d=f.blockSize,m=this._iv,g=this._counter;m&&(g=this._counter=m.slice(0),this._iv=void 0),i(g);var x=g.slice(0);f.encryptBlock(x,0);for(var b=0;b<d;b++)l[u+b]^=x[b]}});return n.Decryptor=s,n})(),r.mode.CTRGladman})})(Ux)),Ux.exports}var Vx={exports:{}},Jee=Vx.exports,t8;function ete(){return t8||(t8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(Jee,function(r){return r.mode.OFB=(function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,s){var l=this._cipher,u=l.blockSize,f=this._iv,d=this._keystream;f&&(d=this._keystream=f.slice(0),this._iv=void 0),l.encryptBlock(d,0);for(var m=0;m<u;m++)i[s+m]^=d[m]}});return n.Decryptor=a,n})(),r.mode.OFB})})(Vx)),Vx.exports}var $x={exports:{}},tte=$x.exports,r8;function rte(){return r8||(r8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(tte,function(r){return r.mode.ECB=(function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,i){this._cipher.encryptBlock(a,i)}}),n.Decryptor=n.extend({processBlock:function(a,i){this._cipher.decryptBlock(a,i)}}),n})(),r.mode.ECB})})($x)),$x.exports}var Hx={exports:{}},nte=Hx.exports,n8;function ate(){return n8||(n8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(nte,function(r){return r.pad.AnsiX923={pad:function(n,a){var i=n.sigBytes,s=a*4,l=s-i%s,u=i+l-1;n.clamp(),n.words[u>>>2]|=l<<24-u%4*8,n.sigBytes+=l},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Ansix923})})(Hx)),Hx.exports}var qx={exports:{}},ite=qx.exports,a8;function ste(){return a8||(a8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(ite,function(r){return r.pad.Iso10126={pad:function(n,a){var i=a*4,s=i-n.sigBytes%i;n.concat(r.lib.WordArray.random(s-1)).concat(r.lib.WordArray.create([s<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Iso10126})})(qx)),qx.exports}var Wx={exports:{}},ote=Wx.exports,i8;function lte(){return i8||(i8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(ote,function(r){return r.pad.Iso97971={pad:function(n,a){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,a)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})})(Wx)),Wx.exports}var Gx={exports:{}},cte=Gx.exports,s8;function ute(){return s8||(s8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(cte,function(r){return r.pad.ZeroPadding={pad:function(n,a){var i=a*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var a=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(a[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},r.pad.ZeroPadding})})(Gx)),Gx.exports}var Kx={exports:{}},fte=Kx.exports,o8;function dte(){return o8||(o8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(fte,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})})(Kx)),Kx.exports}var Xx={exports:{}},hte=Xx.exports,l8;function pte(){return l8||(l8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ga())})(hte,function(r){return(function(n){var a=r,i=a.lib,s=i.CipherParams,l=a.enc,u=l.Hex,f=a.format;f.Hex={stringify:function(d){return d.ciphertext.toString(u)},parse:function(d){var m=u.parse(d);return s.create({ciphertext:m})}}})(),r.format.Hex})})(Xx)),Xx.exports}var Yx={exports:{}},mte=Yx.exports,c8;function gte(){return c8||(c8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),Zu(),Ju(),kc(),ga())})(mte,function(r){return(function(){var n=r,a=n.lib,i=a.BlockCipher,s=n.algo,l=[],u=[],f=[],d=[],m=[],g=[],x=[],b=[],_=[],y=[];(function(){for(var A=[],O=0;O<256;O++)O<128?A[O]=O<<1:A[O]=O<<1^283;for(var F=0,M=0,O=0;O<256;O++){var j=M^M<<1^M<<2^M<<3^M<<4;j=j>>>8^j&255^99,l[F]=j,u[j]=F;var k=A[F],R=A[k],I=A[R],P=A[j]*257^j*16843008;f[F]=P<<24|P>>>8,d[F]=P<<16|P>>>16,m[F]=P<<8|P>>>24,g[F]=P;var P=I*16843009^R*65537^k*257^F*16843008;x[j]=P<<24|P>>>8,b[j]=P<<16|P>>>16,_[j]=P<<8|P>>>24,y[j]=P,F?(F=k^A[A[A[I^k]]],M^=A[A[M]]):F=M=1}})();var w=[0,1,2,4,8,16,32,64,128,27,54],C=s.AES=i.extend({_doReset:function(){var A;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var O=this._keyPriorReset=this._key,F=O.words,M=O.sigBytes/4,j=this._nRounds=M+6,k=(j+1)*4,R=this._keySchedule=[],I=0;I<k;I++)I<M?R[I]=F[I]:(A=R[I-1],I%M?M>6&&I%M==4&&(A=l[A>>>24]<<24|l[A>>>16&255]<<16|l[A>>>8&255]<<8|l[A&255]):(A=A<<8|A>>>24,A=l[A>>>24]<<24|l[A>>>16&255]<<16|l[A>>>8&255]<<8|l[A&255],A^=w[I/M|0]<<24),R[I]=R[I-M]^A);for(var P=this._invKeySchedule=[],N=0;N<k;N++){var I=k-N;if(N%4)var A=R[I];else var A=R[I-4];N<4||I<=4?P[N]=A:P[N]=x[l[A>>>24]]^b[l[A>>>16&255]]^_[l[A>>>8&255]]^y[l[A&255]]}}},encryptBlock:function(A,O){this._doCryptBlock(A,O,this._keySchedule,f,d,m,g,l)},decryptBlock:function(A,O){var F=A[O+1];A[O+1]=A[O+3],A[O+3]=F,this._doCryptBlock(A,O,this._invKeySchedule,x,b,_,y,u);var F=A[O+1];A[O+1]=A[O+3],A[O+3]=F},_doCryptBlock:function(A,O,F,M,j,k,R,I){for(var P=this._nRounds,N=A[O]^F[0],B=A[O+1]^F[1],oe=A[O+2]^F[2],he=A[O+3]^F[3],ne=4,de=1;de<P;de++){var be=M[N>>>24]^j[B>>>16&255]^k[oe>>>8&255]^R[he&255]^F[ne++],we=M[B>>>24]^j[oe>>>16&255]^k[he>>>8&255]^R[N&255]^F[ne++],ue=M[oe>>>24]^j[he>>>16&255]^k[N>>>8&255]^R[B&255]^F[ne++],U=M[he>>>24]^j[N>>>16&255]^k[B>>>8&255]^R[oe&255]^F[ne++];N=be,B=we,oe=ue,he=U}var be=(I[N>>>24]<<24|I[B>>>16&255]<<16|I[oe>>>8&255]<<8|I[he&255])^F[ne++],we=(I[B>>>24]<<24|I[oe>>>16&255]<<16|I[he>>>8&255]<<8|I[N&255])^F[ne++],ue=(I[oe>>>24]<<24|I[he>>>16&255]<<16|I[N>>>8&255]<<8|I[B&255])^F[ne++],U=(I[he>>>24]<<24|I[N>>>16&255]<<16|I[B>>>8&255]<<8|I[oe&255])^F[ne++];A[O]=be,A[O+1]=we,A[O+2]=ue,A[O+3]=U},keySize:256/32});n.AES=i._createHelper(C)})(),r.AES})})(Yx)),Yx.exports}var Qx={exports:{}},xte=Qx.exports,u8;function vte(){return u8||(u8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),Zu(),Ju(),kc(),ga())})(xte,function(r){return(function(){var n=r,a=n.lib,i=a.WordArray,s=a.BlockCipher,l=n.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=l.DES=s.extend({_doReset:function(){for(var w=this._key,C=w.words,A=[],O=0;O<56;O++){var F=u[O]-1;A[O]=C[F>>>5]>>>31-F%32&1}for(var M=this._subKeys=[],j=0;j<16;j++){for(var k=M[j]=[],R=d[j],O=0;O<24;O++)k[O/6|0]|=A[(f[O]-1+R)%28]<<31-O%6,k[4+(O/6|0)]|=A[28+(f[O+24]-1+R)%28]<<31-O%6;k[0]=k[0]<<1|k[0]>>>31;for(var O=1;O<7;O++)k[O]=k[O]>>>(O-1)*4+3;k[7]=k[7]<<5|k[7]>>>27}for(var I=this._invSubKeys=[],O=0;O<16;O++)I[O]=M[15-O]},encryptBlock:function(w,C){this._doCryptBlock(w,C,this._subKeys)},decryptBlock:function(w,C){this._doCryptBlock(w,C,this._invSubKeys)},_doCryptBlock:function(w,C,A){this._lBlock=w[C],this._rBlock=w[C+1],b.call(this,4,252645135),b.call(this,16,65535),_.call(this,2,858993459),_.call(this,8,16711935),b.call(this,1,1431655765);for(var O=0;O<16;O++){for(var F=A[O],M=this._lBlock,j=this._rBlock,k=0,R=0;R<8;R++)k|=m[R][((j^F[R])&g[R])>>>0];this._lBlock=j,this._rBlock=M^k}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,b.call(this,1,1431655765),_.call(this,8,16711935),_.call(this,2,858993459),b.call(this,16,65535),b.call(this,4,252645135),w[C]=this._lBlock,w[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function b(w,C){var A=(this._lBlock>>>w^this._rBlock)&C;this._rBlock^=A,this._lBlock^=A<<w}function _(w,C){var A=(this._rBlock>>>w^this._lBlock)&C;this._lBlock^=A,this._rBlock^=A<<w}n.DES=s._createHelper(x);var y=l.TripleDES=s.extend({_doReset:function(){var w=this._key,C=w.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var A=C.slice(0,2),O=C.length<4?C.slice(0,2):C.slice(2,4),F=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=x.createEncryptor(i.create(A)),this._des2=x.createEncryptor(i.create(O)),this._des3=x.createEncryptor(i.create(F))},encryptBlock:function(w,C){this._des1.encryptBlock(w,C),this._des2.decryptBlock(w,C),this._des3.encryptBlock(w,C)},decryptBlock:function(w,C){this._des3.decryptBlock(w,C),this._des2.encryptBlock(w,C),this._des1.decryptBlock(w,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=s._createHelper(y)})(),r.TripleDES})})(Qx)),Qx.exports}var Zx={exports:{}},yte=Zx.exports,f8;function bte(){return f8||(f8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),Zu(),Ju(),kc(),ga())})(yte,function(r){return(function(){var n=r,a=n.lib,i=a.StreamCipher,s=n.algo,l=s.RC4=i.extend({_doReset:function(){for(var d=this._key,m=d.words,g=d.sigBytes,x=this._S=[],b=0;b<256;b++)x[b]=b;for(var b=0,_=0;b<256;b++){var y=b%g,w=m[y>>>2]>>>24-y%4*8&255;_=(_+x[b]+w)%256;var C=x[b];x[b]=x[_],x[_]=C}this._i=this._j=0},_doProcessBlock:function(d,m){d[m]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var d=this._S,m=this._i,g=this._j,x=0,b=0;b<4;b++){m=(m+1)%256,g=(g+d[m])%256;var _=d[m];d[m]=d[g],d[g]=_,x|=d[(d[m]+d[g])%256]<<24-b*8}return this._i=m,this._j=g,x}n.RC4=i._createHelper(l);var f=s.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)u.call(this)}});n.RC4Drop=i._createHelper(f)})(),r.RC4})})(Zx)),Zx.exports}var Jx={exports:{}},_te=Jx.exports,d8;function wte(){return d8||(d8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),Zu(),Ju(),kc(),ga())})(_te,function(r){return(function(){var n=r,a=n.lib,i=a.StreamCipher,s=n.algo,l=[],u=[],f=[],d=s.Rabbit=i.extend({_doReset:function(){for(var g=this._key.words,x=this.cfg.iv,b=0;b<4;b++)g[b]=(g[b]<<8|g[b]>>>24)&16711935|(g[b]<<24|g[b]>>>8)&4278255360;var _=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],y=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var b=0;b<4;b++)m.call(this);for(var b=0;b<8;b++)y[b]^=_[b+4&7];if(x){var w=x.words,C=w[0],A=w[1],O=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,F=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,M=O>>>16|F&4294901760,j=F<<16|O&65535;y[0]^=O,y[1]^=M,y[2]^=F,y[3]^=j,y[4]^=O,y[5]^=M,y[6]^=F,y[7]^=j;for(var b=0;b<4;b++)m.call(this)}},_doProcessBlock:function(g,x){var b=this._X;m.call(this),l[0]=b[0]^b[5]>>>16^b[3]<<16,l[1]=b[2]^b[7]>>>16^b[5]<<16,l[2]=b[4]^b[1]>>>16^b[7]<<16,l[3]=b[6]^b[3]>>>16^b[1]<<16;for(var _=0;_<4;_++)l[_]=(l[_]<<8|l[_]>>>24)&16711935|(l[_]<<24|l[_]>>>8)&4278255360,g[x+_]^=l[_]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,b=0;b<8;b++)u[b]=x[b];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<u[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<u[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<u[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<u[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<u[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<u[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<u[6]>>>0?1:0)|0,this._b=x[7]>>>0<u[7]>>>0?1:0;for(var b=0;b<8;b++){var _=g[b]+x[b],y=_&65535,w=_>>>16,C=((y*y>>>17)+y*w>>>15)+w*w,A=((_&4294901760)*_|0)+((_&65535)*_|0);f[b]=C^A}g[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,g[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,g[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,g[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,g[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,g[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,g[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,g[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}n.Rabbit=i._createHelper(d)})(),r.Rabbit})})(Jx)),Jx.exports}var ev={exports:{}},Ete=ev.exports,h8;function Ste(){return h8||(h8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),Zu(),Ju(),kc(),ga())})(Ete,function(r){return(function(){var n=r,a=n.lib,i=a.StreamCipher,s=n.algo,l=[],u=[],f=[],d=s.RabbitLegacy=i.extend({_doReset:function(){var g=this._key.words,x=this.cfg.iv,b=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],_=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var y=0;y<4;y++)m.call(this);for(var y=0;y<8;y++)_[y]^=b[y+4&7];if(x){var w=x.words,C=w[0],A=w[1],O=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,F=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,M=O>>>16|F&4294901760,j=F<<16|O&65535;_[0]^=O,_[1]^=M,_[2]^=F,_[3]^=j,_[4]^=O,_[5]^=M,_[6]^=F,_[7]^=j;for(var y=0;y<4;y++)m.call(this)}},_doProcessBlock:function(g,x){var b=this._X;m.call(this),l[0]=b[0]^b[5]>>>16^b[3]<<16,l[1]=b[2]^b[7]>>>16^b[5]<<16,l[2]=b[4]^b[1]>>>16^b[7]<<16,l[3]=b[6]^b[3]>>>16^b[1]<<16;for(var _=0;_<4;_++)l[_]=(l[_]<<8|l[_]>>>24)&16711935|(l[_]<<24|l[_]>>>8)&4278255360,g[x+_]^=l[_]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,b=0;b<8;b++)u[b]=x[b];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<u[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<u[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<u[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<u[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<u[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<u[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<u[6]>>>0?1:0)|0,this._b=x[7]>>>0<u[7]>>>0?1:0;for(var b=0;b<8;b++){var _=g[b]+x[b],y=_&65535,w=_>>>16,C=((y*y>>>17)+y*w>>>15)+w*w,A=((_&4294901760)*_|0)+((_&65535)*_|0);f[b]=C^A}g[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,g[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,g[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,g[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,g[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,g[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,g[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,g[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}n.RabbitLegacy=i._createHelper(d)})(),r.RabbitLegacy})})(ev)),ev.exports}var tv={exports:{}},Ate=tv.exports,p8;function Cte(){return p8||(p8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),Zu(),Ju(),kc(),ga())})(Ate,function(r){return(function(){var n=r,a=n.lib,i=a.BlockCipher,s=n.algo;const l=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function m(y,w){let C=w>>24&255,A=w>>16&255,O=w>>8&255,F=w&255,M=y.sbox[0][C]+y.sbox[1][A];return M=M^y.sbox[2][O],M=M+y.sbox[3][F],M}function g(y,w,C){let A=w,O=C,F;for(let M=0;M<l;++M)A=A^y.pbox[M],O=m(y,A)^O,F=A,A=O,O=F;return F=A,A=O,O=F,O=O^y.pbox[l],A=A^y.pbox[l+1],{left:A,right:O}}function x(y,w,C){let A=w,O=C,F;for(let M=l+1;M>1;--M)A=A^y.pbox[M],O=m(y,A)^O,F=A,A=O,O=F;return F=A,A=O,O=F,O=O^y.pbox[1],A=A^y.pbox[0],{left:A,right:O}}function b(y,w,C){for(let j=0;j<4;j++){y.sbox[j]=[];for(let k=0;k<256;k++)y.sbox[j][k]=f[j][k]}let A=0;for(let j=0;j<l+2;j++)y.pbox[j]=u[j]^w[A],A++,A>=C&&(A=0);let O=0,F=0,M=0;for(let j=0;j<l+2;j+=2)M=g(y,O,F),O=M.left,F=M.right,y.pbox[j]=O,y.pbox[j+1]=F;for(let j=0;j<4;j++)for(let k=0;k<256;k+=2)M=g(y,O,F),O=M.left,F=M.right,y.sbox[j][k]=O,y.sbox[j][k+1]=F;return!0}var _=s.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,w=y.words,C=y.sigBytes/4;b(d,w,C)}},encryptBlock:function(y,w){var C=g(d,y[w],y[w+1]);y[w]=C.left,y[w+1]=C.right},decryptBlock:function(y,w){var C=x(d,y[w],y[w+1]);y[w]=C.left,y[w+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=i._createHelper(_)})(),r.Blowfish})})(tv)),tv.exports}var Tte=bx.exports,m8;function kte(){return m8||(m8=1,(function(e,t){(function(r,n,a){e.exports=n(tr(),ry(),See(),Cee(),Zu(),Dee(),Ju(),qB(),sC(),Pee(),WB(),Bee(),Lee(),Uee(),oC(),Hee(),kc(),ga(),Kee(),Yee(),Zee(),ete(),rte(),ate(),ste(),lte(),ute(),dte(),pte(),gte(),vte(),bte(),wte(),Ste(),Cte())})(Tte,function(r){return r})})(bx)),bx.exports}var Dte=kte();const QE=vo(Dte),Ote={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0};let g8,Zl;try{g8=mF(Ote),Zl=JJ(g8),console.log(" Firebase initialized globally")}catch(e){console.error(" Error initializing Firebase:",e)}let Gh=null;const ZE=e=>{Gh=e,console.log(" Encryption Key Set for Cloud Sync")},x8=e=>{if(!Gh)return null;try{const t=JSON.stringify(e);return QE.AES.encrypt(t,Gh).toString()}catch(t){return console.error("Encryption failed:",t),null}},jte=e=>{if(!Gh||!e)return null;try{const r=QE.AES.decrypt(e,Gh).toString(QE.enc.Utf8);return r?JSON.parse(r):null}catch(t){return console.error("Decryption failed:",t),null}},Nte={async syncFullState(e,t="primary_pos"){if(!Zl)return!1;try{const r=x8(e);return r?(await IO(b_(Zl,"backups",t),{payload:r,lastModified:e.lastModified||new Date().toISOString(),_syncedAt:new Date().toISOString(),_isFullBackup:!0}),console.log(` Full state synced to Cloud (${t})`),!0):!1}catch(r){return console.error(" Cloud Full Sync failed:",r),!1}},async fetchFullState(e="primary_pos"){if(!Zl)return null;try{const t=b_(Zl,"backups",e),r=await hee(t);if(r.exists()){const n=r.data();return jte(n.payload)}return null}catch(t){return console.error(" Cloud Fetch failed:",t),null}},async uploadSale(e){if(!Zl)return!1;try{const t=x8(e);return t?(await IO(b_(Zl,"sales",String(e.id)),{payload:t,_syncedAt:new Date().toISOString(),_encrypted:!0}),!0):!1}catch{return!1}},async checkConnection(){return Zl?navigator.onLine:!1}},GB=T.createContext(),qn=()=>{const e=T.useContext(GB);if(!e)throw new Error("useDialog must be used within a DialogProvider");return e},Ite=({children:e})=>{const[t,r]=T.useState(null),n=T.useCallback(({title:u="Confirmar",message:f,confirmText:d="Aceptar",cancelText:m="Cancelar",type:g="confirm"})=>new Promise(x=>{r({title:u,message:f,confirmText:d,cancelText:m,type:g,onConfirm:()=>{r(null),x(!0)},onCancel:()=>{r(null),x(!1)}})}),[]),a=T.useCallback(({title:u="Aviso",message:f,confirmText:d="Aceptar",type:m="alert"})=>new Promise(g=>{r({title:u,message:f,confirmText:d,type:m,onConfirm:()=>{r(null),g(!0)},onCancel:()=>{r(null),g(!0)}})}),[]),i=T.useCallback(({title:u="Entrada",message:f,defaultValue:d="",confirmText:m="Aceptar",cancelText:g="Cancelar"})=>new Promise(x=>{r({title:u,message:f,confirmText:m,cancelText:g,type:"prompt",defaultValue:d,onConfirm:b=>{r(null),x(b)},onCancel:()=>{r(null),x(null)}})}),[]),[s,l]=T.useState("");return gr.useEffect(()=>{t?.type==="prompt"&&l(t.defaultValue||"")},[t]),h.jsxs(GB.Provider,{value:{confirm:n,alert:a,prompt:i},children:[e,t&&h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(8px)",zIndex:2e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",animation:"fadeIn 0.2s ease-out"},children:h.jsxs("div",{className:"glass-panel",style:{width:"100%",maxWidth:"400px",background:"var(--bg-dark)",border:"1px solid var(--accent-blue)",boxShadow:"0 0 30px rgba(0, 242, 255, 0.2)",overflow:"hidden",animation:"slideUp 0.3s ease-out"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)"},children:[h.jsxs("div",{style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:t.type==="alert"?"rgba(0,212,255,0.1)":t.type==="confirm"?"rgba(255,165,0,0.1)":"rgba(0,212,255,0.1)",color:t.type==="alert"?"var(--accent-blue)":t.type==="confirm"?"var(--accent-orange)":"var(--accent-blue)"},children:[t.type==="alert"&&h.jsx(Fh,{size:18}),t.type==="confirm"&&h.jsx(MW,{size:18}),t.type==="prompt"&&h.jsx(yp,{size:18})]}),h.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:"bold"},children:t.title})]}),h.jsxs("div",{style:{padding:"1.5rem"},children:[h.jsx("p",{style:{margin:0,fontSize:"1rem",color:"rgba(255,255,255,0.9)",lineHeight:"1.5",whiteSpace:"pre-wrap"},children:t.message}),t.type==="prompt"&&h.jsx("input",{type:"text",className:"glass-input",autoFocus:!0,style:{width:"100%",marginTop:"1rem"},value:s,onChange:u=>l(u.target.value),onKeyDown:u=>{u.key==="Enter"&&t.onConfirm(s),u.key==="Escape"&&t.onCancel()}})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",padding:"1rem",background:"rgba(0,0,0,0.2)",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[t.type!=="alert"&&h.jsx("button",{className:"glass-button",onClick:t.onCancel,style:{flex:1,padding:"0.75rem"},children:t.cancelText||"Cancelar"}),h.jsx("button",{className:"glass-button primary",onClick:()=>t.onConfirm(t.type==="prompt"?s:!0),style:{flex:1,padding:"0.75rem"},children:t.confirmText||"Aceptar"})]})]})}),h.jsx("style",{jsx:!0,children:`
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `})]})},KB=T.createContext(),ea=()=>T.useContext(KB);let Pte=0;const XB=()=>{const e=Date.now(),t=Pte++%1e3;return e*1e3+t},mn=(e,t="USD",r=2)=>{const n=parseFloat(e)||0,i=(Math.round(n*100)/100).toFixed(r).split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),i.join(",")},Rte=({children:e})=>{const{alert:t,confirm:r}=qn(),{settings:n}=U1();T.useEffect(()=>{n?.masterPin&&ZE(n.masterPin);const se="v2.1.8_force_sync";localStorage.getItem(se)||(console.warn(" Version 2.1.8: Forcing server sync to apply ID fixes..."),localStorage.setItem(se,"true"),localStorage.setItem("force_server_sync","true"))},[]);const a=(se,me)=>{try{const ve=localStorage.getItem(se);if(ve!==null){const H=JSON.parse(ve);return Array.isArray(H)&&H.length===0&&Array.isArray(me)&&me.length>0?me:H}return me}catch(ve){return console.error(` Error loading ${se}:`,ve),me}},i=async()=>{await t({title:"Rescate de Emergencia",message:"Si reinstalaste la App, el servidor intentar cargar automticamente tus datos desde la carpeta Documentos. Deseas forzar una comprobacin ahora?",confirmText:"S, forzar",cancelText:"No"})&&(y?(hi.socket.emit("force_external_recovery"),await t({title:"Rescate",message:"Se ha enviado la seal de recuperacin al servidor. Verifica si tus datos aparecen en unos segundos."})):await t({title:"Sin Conexin",message:"El servidor local no responde. Asegrate de que el servicio POS est activo en las notificaciones."}))},s=async(se="primary_pos")=>{b("syncing");const me=await Nte.syncFullState(d,se);return b(me?"success":"error"),me&&setTimeout(()=>b("idle"),3e3),me},l=[{id:"cheeses",label:"Quesos",department:"Quesera",keywords:["queso","cheese","cheddar","mozzarella","parmesano","gouda","mano","telita","guayanes","fundido","gratinado"]},{id:"cachapas",label:"Cachapas",department:"Restaurante",keywords:["cachapa","queso","carne","pollo","jamon","mixta"]},{id:"carne_en_vara",label:"Carne en Vara",department:"Restaurante",keywords:["carne","vara","res","brasa","parrilla"]},{id:"chichas",label:"Chichas",department:"Restaurante",keywords:["chicha","morichal","cremoso","arroz","maiz","canela","leche"]},{id:"drinks",label:"Bebidas",department:"Restaurante",keywords:["bebida","refresco","jugo","agua","energizante","cola","pepsi","fanta","sprite","malta","te","cafe","limonada","naranja","manzana","batido","smoothie","soda","polar","tercio","cerveza","licor"]},{id:"sides",label:"Contornos",department:"Restaurante",keywords:["contorno","papas","fritas","yuca","aros","cebolla","pure","arroz","platano","tostones","tajadas","arepas"]},{id:"soups",label:"Sopas",department:"Restaurante",keywords:["sopa","caldo","consom","crema","sancocho","mondongo","hervido","fosforera","pollo","res","gallina","pescado","mariscos","asopado"]},{id:"pasta",label:"Pasta",department:"Restaurante",keywords:["pasta","espagueti","spaghetti","fettuccine","lasagna","ravioli","macarrones","penne","tallarines","carbonara","bolognesa","alfredo"]},{id:"salads",label:"Ensaladas",department:"Restaurante",keywords:["ensalada","verde","cesar","mixta","lechuga","tomate","vegetales","verduras","fresca"]},{id:"desserts",label:"Postres",department:"Restaurante",keywords:["postre","dulce","helado","torta","pastel","cake","flan","gelatina","brownie","pie","mousse","quesillo","tres leches","marquesa","tiramisu","alfajores","miel","chocolate","bombones"]},{id:"snacks",label:"Snacks",department:"Restaurante",keywords:["snack","aperitivo","tequeo","empanada","pastelito","arepa","deditos","nuggets","alitas","wings","nachos","galleta","confiteria","papas","doritos","chispas"]},{id:"groceries",label:"Vveres/Bodega",department:"Venta",keywords:["aceite","arroz","harina","leche","azucar","sal","vinagre","mayonesa","salsa","viveres","grano","enlatado","atun"]},{id:"hygiene",label:"Higiene/Aseo",department:"Venta",keywords:["desodorante","jabon","shampoo","crema","dental","colgate","cepillo","aseo","higiene","papel","toalla","detergente","limpieza"]},{id:"burgers",label:"Hamburguesas",department:"Restaurante",keywords:["hamburguesa","burger","carne","doble","triple","bacon","queso","bbq","angus","wagyu","cheeseburger"]}],u=[{id:"u1",name:"Administrador",role:"admin",pin:"123"},{id:"u2",name:"Cajero",role:"cashier",pin:"123"},{id:"u3",name:"Cocina",role:"kitchen",pin:"123"},{id:"u4",name:"Barra",role:"bar",pin:"123"},{id:"u5",name:"Mesero",role:"waiter",pin:"123"}],f=[{id:"pm_1",name:"Efectivo $",currency:"USD",color:"#22c55e",native:!0},{id:"pm_2",name:"Efectivo Bs",currency:"Bs",color:"#4ade80",native:!0},{id:"pm_3",name:"Zelle",currency:"USD",color:"#a78bfa",native:!0},{id:"pm_4",name:"Punto Banesco",currency:"Bs",color:"#1d6335",native:!0},{id:"pm_5",name:"Punto Bancaribe",currency:"Bs",color:"#0054a6",native:!0},{id:"pm_6",name:"Punto Banplus",currency:"Bs",color:"#8dc63f",native:!0},{id:"pm_7",name:"Pago Mvil Banesco",currency:"Bs",color:"#1d6335",native:!0},{id:"pm_8",name:"Pago Mvil BDV",currency:"Bs",color:"#e74c3c",native:!0},{id:"pm_9",name:"Pago Mvil Banplus",currency:"Bs",color:"#8dc63f",native:!0}],[d,m]=T.useState({inventory:a("inventory",[]),suppliers:a("suppliers",[]),personnel:a("personnel",[]),users:a("users",u),products:a("products",[]),categories:a("categories",l),sales:a("sales",[]),heldOrders:a("heldOrders",[]),cancelledOrders:a("cancelledOrders",[]),tips:a("tips",0),tipHistory:a("tipHistory",[]),tipDistributions:a("tipDistributions",[]),tables:a("tables",Array.from({length:12},(se,me)=>({id:me+1,name:me<10?`Mesa ${me+1}`:me===10?"Quesera":"Barra",status:"available",area:me<10?"Restaurante":me===10?"Quesera":"Restaurante",department:me<10?"Restaurante":me===10?"Quesera":"Restaurante"}))),customers:a("customers",[]),kitchenOrders:a("kitchenOrders",[]),barOrders:a("barOrders",[]),paymentMethods:a("paymentMethods",f),cancelledKitchenOrders:a("cancelledKitchenOrders",[]),cancelledBarOrders:a("cancelledBarOrders",[]),pendingPayment:a("pendingPayment",[]),inventoryEntries:a("inventoryEntries",[]),exchangeRate:a("exchangeRate",60),rateHistory:a("rateHistory",[]),cashRegister:a("cashRegister",{isOpen:!1,status:"closed",openingBalanceBs:0,openingBalanceUsd:0,openingBreakdownBs:[],openingBreakdownUsd:[],closingBreakdownBs:[],closingBreakdownUsd:[]}),expenses:a("expenses",[]),debts:a("debts",[]),accountsReceivable:a("accountsReceivable",[]),cashRegisterHistory:a("cashRegisterHistory",[]),defaultForeignCurrencyDiscountPercent:a("defaultForeignCurrencyDiscountPercent",0),lastModified:new Date().toISOString(),serverInfo:null}),[g]=T.useState(!1);T.useEffect(()=>{const se=[{id:"groceries",label:"Vveres/Bodega",department:"Venta",keywords:["aceite","arroz","harina","leche","azucar","sal","vinagre","mayonesa","salsa","viveres","grano","enlatado","atun"]},{id:"hygiene",label:"Higiene/Aseo",department:"Venta",keywords:["desodorante","jabon","shampoo","crema","dental","colgate","cepillo","aseo","higiene","papel","toalla","detergente","limpieza"]}];let me=!1;const ve=[...d.categories||[]];se.forEach(H=>{ve.find(G=>G.id===H.id)||(ve.push(H),me=!0)}),me&&m(H=>({...H,categories:ve}))},[d.categories]);const[x,b]=T.useState("idle"),_=T.useRef(!1),[y,w]=T.useState(!1),[C,A]=T.useState(!1),O=T.useRef(0);T.useEffect(()=>{const se="cat_migration_v2_comida_fix";if(localStorage.getItem(se))return;console.log(" Starting Category Migration...");const me=l;let ve=0;const G=(d.products||[]).map(ee=>{const pe=(X=>X?.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")||"")(ee.name);return pe.includes("alfajor")&&ee.category==="soups"?(ve++,{...ee,category:"desserts"}):pe.includes("viveres")&&ee.category==="soups"?(ve++,{...ee,category:"varios"}):(pe.includes("polar")||pe.includes("cerveza"))&&ee.category==="soups"?(ve++,{...ee,category:"drinks"}):pe.includes("miel")&&ee.category==="soups"?(ve++,{...ee,category:"desserts"}):pe.includes("flores")&&ee.category==="soups"?(ve++,{...ee,category:"varios"}):(pe.includes("bollo")||pe.includes("cachapa"))&&ee.category!=="comida"?(ve++,{...ee,category:"comida"}):pe.includes("casabe")&&ee.category!=="sides"?(ve++,{...ee,category:"sides"}):pe.includes("racion")&&pe.includes("queso")&&(pe.includes("bollito")||pe.includes("arepa")||pe.includes("cachapa"))&&ee.category==="cheeses"?(ve++,{...ee,category:"comida"}):pe.includes("calamares")&&ee.category==="soups"&&!pe.includes("sopa")&&!pe.includes("asopado")?(ve++,{...ee,category:"comida"}):ee});(ve>0||JSON.stringify(d.categories)!==JSON.stringify(me))&&(console.log(` Migration Applied: Fixed ${ve} products.`),m(ee=>({...ee,categories:me,products:G,lastModified:new Date().toISOString()})),localStorage.setItem("categories",JSON.stringify(me)),localStorage.setItem("products",JSON.stringify(G))),localStorage.setItem(se,"true")},[]),T.useEffect(()=>{if(Object.keys(d).forEach(se=>{se!=="serverInfo"&&localStorage.setItem(se,JSON.stringify(d[se]))}),g&&!_.current){const se=setTimeout(async()=>{b("syncing");try{await tf.uploadFile("erp_la_autentica_backup_auto.json",{timestamp:new Date().toISOString(),data:d}),b("success"),setTimeout(()=>b("idle"),3e3)}catch{b("error")}},3e3);return()=>clearTimeout(se)}},[d,g]),T.useEffect(()=>{hi.connect();const se=hi.subscribe((me,ve)=>{if(me==="connection_status"&&w(ve),me==="sync_update"){const H=new Date(ve.lastModified||0).getTime(),G=new Date(d.lastModified||0).getTime(),ee=localStorage.getItem("force_server_sync")==="true";H>G||ee?(console.log(" Accepting server data (Force/Newer)"),m(ae=>({...ae,...ve})),ee&&localStorage.removeItem("force_server_sync")):G>H&&hi.sendFullStateUpdate(d)}if(me==="encryption_required"){A(!0);const H=localStorage.getItem("pos_encryption_key")||sessionStorage.getItem("pos_encryption_key");H&&(console.log(" Auto-providing encryption key to local server..."),hi.sendEncryptionKey(H))}me==="encryption_unlock_success"&&(console.log(" Local server UNLOCKED successfully"),A(!1),localStorage.setItem("force_server_sync","true")),me==="encryption_unlock_error"&&(console.error(" Local server unlock FAILED:",ve),A(!0)),me==="server_info"&&m(H=>({...H,serverInfo:ve}))});return()=>se()},[d.lastModified]),T.useEffect(()=>{const se=d.heldOrders?.filter(me=>me.status==="ready")||[];se.length>O.current&&tc.playNotification(),O.current=se.length},[d.heldOrders]);const[F,M]=T.useState({});T.useEffect(()=>{const se=hi.subscribe((me,ve)=>{me==="remote_cart_update"&&M(H=>{const G={...H};return ve.cart.length===0?delete G[ve.userId]:G[ve.userId]=ve,G})});return()=>se()},[]);const j=(se,me)=>{y&&hi.sendActiveCartUpdate({userId:se?.id||"unknown",username:se?.username||se?.name||"Anon",cart:me,timestamp:new Date().toISOString()})};T.useEffect(()=>{if(y){const se=setTimeout(()=>{console.log(" Throttled Full Sync (15s)..."),hi.sendFullStateUpdate(d)},15e3);return()=>clearTimeout(se)}},[d,y]),T.useEffect(()=>{if(!(localStorage.getItem("cloud_sync_enabled")==="true"))return;const me=setTimeout(()=>{console.log(" Auto Cloud Syncing..."),s()},6e4);return()=>clearTimeout(me)},[d.lastModified]);const k=(se,me)=>m(ve=>({...ve,[se]:me,lastModified:new Date().toISOString()})),R=(se,me)=>m(ve=>({...ve,[se]:[...ve[se]||[],{...me,id:me.id||XB()}],lastModified:new Date().toISOString()})),I=(se,me,ve)=>m(H=>({...H,[se]:H[se].map(G=>{if(G.id===me){const ee=typeof ve=="function"?ve(G):ve;return{...G,...ee}}return G}),lastModified:new Date().toISOString()})),P=(se,me)=>m(ve=>({...ve,[se]:ve[se].filter(H=>H.id!==me),lastModified:new Date().toISOString()})),N=(se,me="",ve={})=>{const H={id:Date.now(),items:se,note:me,timestamp:new Date().toISOString(),total:se.reduce((G,ee)=>G+ee.price*(ee.quantity||1),0),status:"active",isWaitList:ve.isWaitList||!1,...ve};return R("heldOrders",H),ve.tableId&&I("tables",ve.tableId,{status:"occupied",currentOrderId:H.id}),y&&hi.sendHeldOrder(H),H.id},B=(se,me="",ve={})=>{const H=N(se,me,{...ve,isWaitList:!1}),G={id:Date.now()+1,items:se,type:"kitchen",sourceOrderId:H,...ve,status:"pending"};return R("kitchenOrders",G),y&&hi.sendKitchenOrder(G),H},oe=se=>{const me=d.heldOrders.find(ve=>ve.id===se);me?.tableId&&I("tables",me.tableId,{status:"available",currentOrderId:null}),P("heldOrders",se),y&&hi.deleteHeldOrder(se)},he=se=>{const me=d.heldOrders.find(ve=>ve.id===se);me&&(me.tableId&&I("tables",me.tableId,{status:"available",currentOrderId:null}),m(ve=>({...ve,heldOrders:ve.heldOrders.filter(H=>H.id!==se),cancelledOrders:[...ve.cancelledOrders,{...me,cancelledAt:new Date().toISOString()}],lastModified:new Date().toISOString()})))},ne=se=>{const me=d.cancelledOrders.find(ve=>ve.id===se);me&&m(ve=>({...ve,cancelledOrders:ve.cancelledOrders.filter(H=>H.id!==se),heldOrders:[...ve.heldOrders,{...me,status:"active",cancelledAt:void 0}],lastModified:new Date().toISOString()}))},de=se=>{P("cancelledOrders",se)},be=se=>{const me=parseFloat(se);me>0&&m(ve=>({...ve,exchangeRate:me,rateHistory:[{id:Date.now(),rate:me,date:new Date().toISOString()},...ve.rateHistory],lastModified:new Date().toISOString()}))};T.useEffect(()=>{let se=0;const me=async(H=!1)=>{const G=new Date,ee=G.getHours();if(!H){const pe=ee>=16&&ee<=19?900*1e3:14400*1e3;if(G.getTime()-se<pe)return}try{if(!navigator.onLine)return;se=G.getTime();const ae=await fetch("https://ve.dolarapi.com/v1/dolares/oficial");if(!ae.ok)return;const pe=await ae.json();if(pe&&pe.promedio){const X=parseFloat(pe.promedio),je=parseFloat(d.exchangeRate);X>0&&Math.abs(X-je)>.005&&(console.log(` [Auto-BCV] Detectado cambio de tasa: ${je} -> ${X}`),be(X.toString()))}}catch(ae){console.warn("[Auto-BCV] Fall chequeo de tasa en segundo plano (ignorable):",ae)}};me(!0);const ve=setInterval(()=>me(!1),300*1e3);return()=>clearInterval(ve)},[d.exchangeRate]);const we=(se,me=!0)=>{me?localStorage.setItem("pos_encryption_key",se):sessionStorage.setItem("pos_encryption_key",se),y&&hi.sendEncryptionKey(se)},ue=(se,me)=>y?hi.changeMasterKey(se,me):!1,U=(se,me="Venta POS")=>{const ve=parseFloat(se);ve>0&&m(H=>({...H,tips:H.tips+ve,tipHistory:[{id:Date.now(),amount:ve,source:me,timestamp:new Date().toISOString()},...H.tipHistory],lastModified:new Date().toISOString()}))},Y=()=>{m({inventory:[],suppliers:[],personnel:[],users:[],products:[],categories:l,sales:[],heldOrders:[],cancelledOrders:[],tips:0,tipHistory:[],tipDistributions:[],tables:Array.from({length:12},(se,me)=>({id:me+1,name:me<10?`Mesa ${me+1}`:me===10?"Quesera":"Barra",status:"available",area:me<10?"Restaurante":me===10?"Quesera":"Restaurante",department:me<10?"Restaurante":me===10?"Quesera":"Restaurante"})),customers:[],kitchenOrders:[],barOrders:[],cancelledKitchenOrders:[],cancelledBarOrders:[],pendingPayment:[],inventoryEntries:[],exchangeRate:60,rateHistory:[],cashRegister:{isOpen:!1,status:"closed"},paymentMethods:f,defaultForeignCurrencyDiscountPercent:0,lastModified:new Date().toISOString(),serverInfo:null})},Z=()=>{const se=new Blob([JSON.stringify({timestamp:new Date().toISOString(),data:d},null,2)],{type:"application/json"}),me=URL.createObjectURL(se),ve=document.createElement("a");ve.href=me,ve.download=`backup_${new Date().toISOString().split("T")[0]}.json`,ve.click()},q=se=>{const me=new FileReader;me.onload=async ve=>{try{const H=JSON.parse(ve.target.result);H.data&&(_.current=!0,m(H.data),await t({title:"Restauracin",message:"Datos restaurados exitosamente."}))}catch{await t({title:"Error",message:"Error al procesar el archivo de respaldo."})}},me.readAsText(se)};return h.jsx(KB.Provider,{value:{data:d,updateData:k,addItem:R,updateItem:I,deleteItem:P,clearAllData:Y,exportData:Z,importData:q,isDriveConnected:g,syncStatus:x,holdOrder:N,deleteHeldOrder:oe,cancelHeldOrder:he,restoreCancelledOrder:ne,permanentlyDeleteOrder:de,addTip:U,sendOrderToProduction:B,updateExchangeRate:be,isLocalServerConnected:y,isServerLocked:C,setMasterKey:we,changeMasterKey:ue,rescueFromExternalBackup:i,serverInfo:d.serverInfo,activeCarts:F,sendLiveCartUpdate:j,formatAmount:mn,uploadToDrive:tf.uploadBinaryFile},children:e})},YB=T.createContext(),$f=()=>T.useContext(YB),Fte=({children:e})=>{const{data:t}=ea(),{settings:r}=U1(),[n,a]=T.useState(()=>{const f=localStorage.getItem("currentUser");return f?JSON.parse(f):null}),[i]=T.useState(!1),s=(f,d)=>{const g=[...t.users||[],...t.personnel||[]].find(x=>(x.username?.toLowerCase()===f?.toLowerCase()||x.name?.toLowerCase()===f?.toLowerCase())&&(x.password===d||x.pin===d));if(g)return a(g),localStorage.setItem("currentUser",JSON.stringify(g)),{success:!0};if(f==="admin"&&(d==="0000"||d===r?.masterPin)){const x={id:"admin_sys",name:"Super Admin",role:"admin",permissions:["all"],username:"admin"};return a(x),localStorage.setItem("currentUser",JSON.stringify(x)),{success:!0}}return{success:!1,message:"Credenciales invlidas"}},l=()=>{a(null),localStorage.removeItem("currentUser")},u=f=>n?n.role==="admin"||f==="any"||f==="manager"&&n.role==="manager"||f==="cashier"&&(n.role==="manager"||n.role==="cashier")?!0:n.role===f:!1;return h.jsx(YB.Provider,{value:{currentUser:n,login:s,logout:l,hasPermission:u,loading:i},children:e})},Bte=()=>{const{settings:e,toggleSidebar:t}=U1(),{serverInfo:r,isLocalServerConnected:n}=ea(),a=hi.getSuggestedUrl(),i=e.isSidebarCollapsed,[s,l]=gr.useState(window.innerWidth<=768),[u,f]=gr.useState(!1);gr.useEffect(()=>{const A=()=>l(window.innerWidth<=768);return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),gr.useEffect(()=>{s&&!i&&t()},[s,i,t]);const{currentUser:d,logout:m}=$f(),{confirm:g}=qn(),b=[{path:"/tables",icon:cv,label:"Pedidos/Mesas",roles:["admin","manager","waiter","cashier"]},{path:"/kitchen",icon:mA,label:"Cocina",roles:["admin","manager","kitchen"]},{path:"/",icon:UG,label:"Ventas (POS)",roles:["admin","manager","waiter","cashier"]},{path:"/cash-register",icon:uu,label:"Caja",roles:["admin","manager","cashier"]},{path:"/customers",icon:ox,label:"Clientes",roles:["admin","manager","waiter","cashier"]},{path:"/inventory",icon:$R,label:"Inventario",roles:["admin","manager"]},{path:"/products",icon:_E,label:"Productos",roles:["admin","manager"]},{path:"/suppliers",icon:QG,label:"Proveedores",roles:["admin","manager"]},{path:"/personnel",icon:fv,label:"Personal",roles:["admin"]},{path:"/reports",icon:CW,label:"Reportes",roles:["admin","manager"]},{path:"/settings",icon:gA,label:"Configuracin",roles:["admin"]}].filter(A=>d?d.role==="admin"?!0:A.roles.includes(d.role):!1),_=5,y=s?b.slice(0,_):b,w=s?b.slice(_):[],C=(A,O=!1)=>h.jsxs(PR,{to:A.path,onClick:()=>O&&f(!1),className:({isActive:F})=>`
              glass-button
              ${F?"primary":""}
              ${O?"mobile-overflow-item":""}
            `,style:s?{display:"flex",alignItems:"center",justifyContent:"center",flex:O?"0 0 auto":"1",padding:"0.75rem",minWidth:O?"100%":"0",width:O?"100%":"auto",marginBottom:O?"0.25rem":"0"}:{display:"flex",alignItems:"center",gap:"0.75rem",padding:i&&!O?"0.5rem 0":"0.5rem 0.75rem",justifyContent:i&&!O?"center":"flex-start",width:O?"100%":"auto",marginBottom:O?"0.25rem":"0"},title:i?A.label:"",children:[h.jsx(A.icon,{size:s?18:20}),(!i||s)&&h.jsx("span",{className:"sidebar-label",style:{fontSize:"0.85rem",display:s&&!O?"none":"block"},children:A.label})]},A.path);return h.jsxs("aside",{className:`glass-panel sidebar ${i?"collapsed":""}`,style:{width:s?"100%":i?"50px":e.sidebarWidth,height:s?"50px":"100vh",padding:0,borderRadius:0,borderLeft:"none",borderTop:s?"1px solid var(--glass-border)":"none",borderBottom:"none",display:"flex",flexDirection:s?"row":"column",background:s?"rgba(15, 15, 15, 0.95)":void 0,backdropFilter:s?"blur(10px)":void 0,position:s?"fixed":"relative",bottom:s?0:"auto",left:s?0:"auto",zIndex:40},children:[!s&&!i&&d?.role==="admin"&&(d.pin==="123"||d.pin==="0000")&&h.jsxs("div",{style:{padding:"0.75rem",background:"rgba(255, 68, 68, 0.2)",borderBottom:"1px solid rgba(255, 68, 68, 0.5)",color:"#ff6b6b",fontSize:"0.75rem",display:"flex",flexDirection:"column",gap:"0.4rem",animation:"pulse 2s infinite"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"bold"},children:[h.jsx(Fh,{size:16}),"ALERTA DE SEGURIDAD"]}),h.jsxs("p",{style:{margin:0,opacity:.9},children:["Ests usando el PIN por defecto (",h.jsx("b",{children:d.pin}),"). Cualquiera puede borrar los datos.",h.jsx("b",{children:" Cambia el PIN en Gestin de Usuarios."})]})]}),s&&u&&h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:199},onClick:()=>f(!1)}),h.jsxs("div",{className:"glass-panel",style:{position:"absolute",bottom:"60px",right:"10px",display:"flex",flexDirection:"column",gap:"0.5rem",padding:"1rem",zIndex:200,background:"#1a1a1a",border:"1px solid var(--glass-border)",minWidth:"280px",boxShadow:"0 -5px 20px rgba(0,0,0,0.5)",left:"auto"},children:[h.jsxs("div",{style:{padding:"0.75rem",borderRadius:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--glass-border)",marginBottom:"0.5rem",fontSize:"0.75rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.4rem"},children:[h.jsx(bA,{size:14,color:n?"var(--accent-green)":"var(--accent-red)"}),h.jsxs("span",{style:{fontWeight:"600"},children:["Servidor Local: ",n?"Activo":"Offline"]})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:1,color:"var(--accent-blue)",fontWeight:"bold"},children:[h.jsx(yE,{size:14}),h.jsx("span",{children:r?`${r.ip}:${r.port}`:a.replace("http://","").replace("/","")})]})]}),w.map(A=>C(A,!0)),!i&&h.jsx("div",{style:{height:"1px",background:"var(--glass-border)",margin:"0.5rem 0"}}),h.jsxs("button",{className:"glass-button",onClick:async()=>{f(!1),await g({title:"Cerrar Sesin",message:"Ests seguro que deseas cerrar sesin?"})&&m()},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",justifyContent:"flex-start",color:"var(--accent-red)",width:"100%",marginBottom:"0.5rem"},children:[h.jsx(mG,{size:22}),h.jsx("span",{style:{fontSize:"1rem",fontWeight:"bold"},children:"Cerrar Sesin"})]}),h.jsxs("div",{style:{marginTop:"0.5rem",padding:"1rem 0.5rem",fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",borderTop:"1px solid var(--glass-border)",opacity:.9},children:[h.jsx("p",{style:{margin:"0 0 0.5rem 0",fontWeight:"bold"},children:"ERP La Autntica v2.3.2"}),h.jsxs("p",{style:{fontWeight:"500",color:"var(--accent-blue)",lineHeight:"1.4"},children:["Desarrollado con las ltimas tecnologas por ",h.jsx("br",{}),h.jsx("span",{style:{fontWeight:"700",fontSize:"0.95rem"},children:"Luvin Rafael Bustillos"})]})]})]})]}),h.jsxs("nav",{className:"no-scrollbar",style:{display:"flex",flexDirection:"column",gap:s?0:"0.25rem",overflowY:"auto",flex:1},children:[y.map(A=>C(A)),s&&w.length>0&&h.jsx("button",{className:`glass-button ${u?"active":""}`,onClick:()=>f(!u),style:s?{display:"flex",alignItems:"center",justifyContent:"center",flex:"0.5",padding:"0.75rem"}:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem",flex:"0 0 auto",minWidth:"32px"},children:h.jsx(GW,{size:20})})]}),!s&&!i&&h.jsxs("div",{style:{padding:"0.75rem",fontSize:"0.7rem",borderTop:"1px solid var(--glass-border)",background:"rgba(0,0,0,0.1)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.25rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:n?"var(--accent-green)":"var(--accent-red)"}}),h.jsx("span",{style:{fontWeight:"600"},children:"POS Server"})]}),!n&&h.jsx("div",{title:"Este servidor debe estar encendido para que otros dispositivos se conecten.",children:h.jsx(Fh,{size:12,color:"var(--text-secondary)"})})]}),r?h.jsxs("p",{style:{margin:0,opacity:.9,color:"var(--accent-blue)"},children:[r.ip,":",r.port]}):h.jsxs("p",{style:{margin:0,opacity:.6,fontSize:"0.65rem"},children:[a.replace("http://","").replace("https://","").split(":")[0],":3001"]})]}),!s&&!i&&h.jsxs("div",{style:{padding:"0.75rem",fontSize:"0.65rem",color:"var(--text-secondary)",textAlign:"center",borderTop:"1px solid var(--glass-border)",marginTop:i?"0":"auto",opacity:.7},children:[h.jsx("p",{style:{margin:0},children:"ERP La Autntica v2.3.2"}),h.jsxs("p",{style:{fontWeight:"500",color:"var(--accent-blue)",marginTop:"0.2rem"},children:["Desarrollado con las ltimas tecnologas por ",h.jsx("br",{}),h.jsx("span",{style:{fontWeight:"700"},children:"Luvin Rafael Bustillos"})]})]}),!s&&h.jsxs(h.Fragment,{children:[i&&h.jsx("div",{style:{marginTop:"auto"}}),!i&&i===void 0&&h.jsx("div",{style:{height:"1px",background:"var(--glass-border)",margin:"0.5rem 0"}}),h.jsx("button",{className:"glass-button",onClick:t,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",width:"100%",color:"var(--text-secondary)",marginTop:i?"auto":"0"},title:i?"Expandir":"Contraer",children:i?h.jsx(LR,{size:20}):h.jsx(MR,{size:20})})]})]})},Mte=()=>h.jsxs("div",{className:"app-container",children:[h.jsx(Bte,{}),h.jsx("main",{className:"main-content",children:h.jsx(Dq,{})})]}),QB=T.createContext(),Lte=()=>{const e=T.useContext(QB);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},zte=({children:e})=>{const[t,r]=T.useState([]),n=T.useCallback((i,s="info",l=3e3)=>{const u=Date.now();r(f=>[...f,{id:u,message:i,type:s,duration:l}]),l>0&&setTimeout(()=>{a(u)},l)},[]),a=T.useCallback(i=>{r(s=>s.filter(l=>l.id!==i))},[]);return h.jsxs(QB.Provider,{value:{addToast:n,removeToast:a},children:[e,h.jsx("div",{className:"toast-container",children:t.map(i=>h.jsxs("div",{className:`toast toast-${i.type} glass-panel`,children:[h.jsxs("div",{className:"toast-icon",children:[i.type==="success"&&h.jsx(yp,{size:20}),i.type==="error"&&h.jsx(vE,{size:20}),i.type==="warning"&&h.jsx(xA,{size:20}),i.type==="info"&&h.jsx(Fh,{size:20})]}),h.jsx("span",{className:"toast-message",children:i.message}),h.jsx("button",{onClick:()=>a(i.id),className:"toast-close",children:h.jsx(Fs,{size:16})})]},i.id))})]})},Ute=gr.memo(({product:e,onAdd:t,onRemove:r,onLongPress:n,priceDisplay:a})=>{const i=gr.useMemo(()=>e.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),[e.name]),[s,l]=gr.useState(e.image||`/products/${i}.jpg`),u=gr.useRef(null),[f,d]=gr.useState(!1),m=gr.useRef({x:0,y:0});gr.useEffect(()=>{const y=e.image||`/products/${i}.jpg`;l(w=>w!==y?y:w)},[e.image,i]);const g=gr.useCallback(y=>{y.button!==0&&y.pointerType==="mouse"||(m.current={x:y.clientX,y:y.clientY},d(!0),u.current=setTimeout(()=>{n&&(n(e),d(!1))},500))},[n,e]),x=gr.useCallback(y=>{u.current&&(clearTimeout(u.current),u.current=null,f&&t(e)),d(!1)},[f,t,e]),b=gr.useCallback(y=>{if(!f)return;const w=Math.abs(y.clientX-m.current.x),C=Math.abs(y.clientY-m.current.y);(w>15||C>15)&&(u.current&&(clearTimeout(u.current),u.current=null),d(!1))},[f]),_=gr.useCallback(()=>{u.current&&(clearTimeout(u.current),u.current=null),d(!1)},[]);return h.jsxs("div",{className:`glass-panel group ProductCard ${f?"scale-95":""}`,onPointerDown:g,onPointerUp:x,onPointerMove:b,onPointerCancel:_,style:{padding:"0.4rem",cursor:"pointer",transition:"transform 0.1s ease-out, border 0.2s ease, background 0.2s ease",display:"flex",flexDirection:"column",gap:"0.4rem",position:"relative",overflow:"hidden",border:e.quantity>0?"2px solid #fb923c":"1px solid rgba(255, 255, 255, 0.1)",background:e.quantity>0?"rgba(251, 146, 60, 0.1)":void 0,touchAction:"pan-y",userSelect:"none",WebkitUserSelect:"none"},title:e.name,children:[e.quantity>0&&h.jsx("div",{style:{position:"absolute",top:"6px",right:"6px",background:"#fb923c",color:"white",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",fontWeight:"950",zIndex:10,boxShadow:"0 4px 12px rgba(0,0,0,0.5)",border:"2px solid rgba(255,255,255,0.4)"},children:e.quantity}),h.jsxs("div",{style:{width:"100%",height:"80px",borderRadius:"8px",overflow:"hidden",position:"relative",flexShrink:0,backgroundColor:"rgba(0,0,0,0.2)"},children:[s?h.jsx("img",{src:s,alt:e.name,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover",opacity:e.quantity>0?.7:1,transition:"opacity 0.2s ease"},onError:y=>{y.target.style.display="none",y.currentTarget.parentElement.classList.add("image-error")}}):null,h.jsx("div",{className:"fallback-placeholder",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:-1,display:"flex",alignItems:"center",justifyContent:"center",background:`hsl(${e.name.charCodeAt(0)*15%360}, 40%, 15%)`},children:h.jsx("div",{style:{opacity:.2,fontSize:"2rem"},children:""})})]}),h.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"0px",textAlign:"center",justifyContent:"center"},children:[h.jsx("h3",{style:{fontSize:"0.75rem",fontWeight:"800",color:"white",lineHeight:"1.1",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",margin:0,padding:"0 2px"},children:e.name}),h.jsx("p",{style:{color:"#fb923c",fontWeight:"950",fontSize:"1.1rem",margin:0,marginTop:"2px"},children:a||`$${e.price.toFixed(2)}`})]})]})}),v8=({cart:e,onRemove:t,onAdd:r,onClear:n,onPay:a,total:i,onHold:s,onSendToKitchen:l,onToggleExpand:u,isExpanded:f,currentTable:d,formatPrice:m,onUpdatePriority:g,onToggleTakeaway:x})=>{const b=[{id:"normal",label:"Normal",color:"#94a3b8"},{id:"priority",label:"Prioridad",color:"#f59e0b"},{id:"high",label:"Alta",color:"#ef4444"}],_=y=>b.find(w=>w.id===y)?.color||"#94a3b8";return h.jsxs("div",{className:"glass-panel",style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",padding:"1rem",boxSizing:"border-box"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx("button",{onClick:n,className:"glass-button",style:{padding:"0.4rem",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--accent-red)",borderColor:"var(--accent-red)",marginRight:"0.5rem"},title:"Vaciar Carrito",disabled:e.length===0,children:h.jsx(Ha,{size:18})}),h.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:"Orden Actual"})]}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("button",{onClick:s,className:"glass-button",style:{padding:"0.4rem",display:"flex",alignItems:"center",justifyContent:"center"},title:"Poner en Espera / Guardar Borrador",disabled:e.length===0,children:h.jsx(xu,{size:18})}),h.jsx("button",{onClick:l,className:`glass-button ${d?"active-table-btn":""}`,style:{padding:"0.4rem",display:"flex",alignItems:"center",justifyContent:"center",borderColor:d?"var(--accent-orange)":void 0,color:d?"var(--accent-orange)":"inherit"},title:d?"Enviar a Cocina":"Enviar a Cocina / Barra",disabled:e.length===0,children:h.jsx(mA,{size:18,color:d&&e.length>0?"var(--accent-orange)":"currentColor"})}),h.jsx("button",{onClick:u,className:"glass-button",style:{padding:"0.4rem",display:"flex",alignItems:"center",justifyContent:"center"},title:f?"Contraer":"Expandir",children:f?h.jsx(SG,{size:18}):h.jsx(bG,{size:18})})]})]}),h.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem"},className:"no-scrollbar",children:e.length===0?h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",opacity:.5},children:[h.jsx(vu,{size:48,style:{marginBottom:"1rem"}}),h.jsx("p",{children:"Carrito vaco"})]}):e.map((y,w)=>h.jsx("div",{className:"glass-panel",style:{padding:"0.75rem",display:"flex",flexDirection:"column",gap:"0.5rem",background:"rgba(255,255,255,0.03)",borderLeftWidth:"3px",borderLeftColor:_(y.priority||"normal")},children:h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[h.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",overflow:"hidden",flexShrink:0,background:y.image?"transparent":`hsl(${y.name.charCodeAt(0)*5%360}, 70%, 30%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"0.9rem"},children:y.image?h.jsx("img",{src:y.image,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):y.name.substring(0,2).toUpperCase()}),h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsx("h4",{style:{fontSize:"0.9rem",margin:0,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:y.name}),h.jsxs("div",{style:{display:"flex",gap:"0.4rem",alignItems:"center",marginTop:"0.2rem"},children:[h.jsx("p",{style:{fontSize:"0.8rem",color:"var(--accent-orange)",margin:0,fontWeight:"700"},children:m?m(y.price*(y.quantity||1)):`$${(y.price*(y.quantity||1)).toFixed(2)}`}),y.isTakeaway&&h.jsx("span",{onClick:()=>x&&x(w),style:{fontSize:"0.6rem",background:"#818cf8",color:"white",padding:"0.05rem 0.3rem",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"LLEVAR"}),y.priority&&y.priority!=="normal"&&h.jsx("span",{onClick:()=>g&&g(w,"normal"),style:{fontSize:"0.6rem",background:_(y.priority),color:"black",padding:"0.05rem 0.3rem",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:y.priority.toUpperCase()})]})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.6rem"},children:[h.jsx("button",{onClick:()=>t(y.id),className:"glass-button",style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"-"}),h.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",minWidth:"1.2rem",textAlign:"center"},children:y.quantity||1}),h.jsx("button",{onClick:()=>r(y),className:"glass-button primary",style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"+"})]})]})},`${y.id}-${w}`))}),h.jsxs("div",{style:{marginTop:"auto",paddingTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.75rem",fontSize:"1.1rem",fontWeight:"bold"},children:[h.jsx("span",{children:"Total"}),h.jsx("span",{style:{color:"var(--accent-orange)"},children:m?m(i):`$${i.toFixed(2)}`})]}),h.jsxs("button",{className:"glass-button primary",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},onClick:a,disabled:e.length===0,children:[h.jsx(Ff,{size:20}),"PAGAR AHORA"]})]})]})},br=({isOpen:e,onClose:t,title:r,children:n,fullscreen:a=!1})=>e?z1.createPortal(h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(4px)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:h.jsxs("div",{className:"glass-panel",style:{width:"100%",maxWidth:a?"100%":"540px",height:a?"100%":"auto",maxHeight:a?"100%":"90vh",display:"flex",flexDirection:"column",background:"var(--bg-dark)",border:a?"none":"1px solid rgba(255,255,255,0.1)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)",borderRadius:a?"0":"16px"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",borderBottom:"1px solid rgba(255,255,255,0.1)",flexShrink:0},children:[h.jsx("h2",{style:{fontSize:"1.1rem",fontWeight:"bold",flex:1},children:r}),h.jsx("button",{onClick:t,className:"glass-button",style:{padding:"0.25rem",border:"none"},children:h.jsx(Fs,{size:18})})]}),h.jsx("div",{style:{padding:"1rem",overflowY:"auto",flex:1},children:n})]})}),document.body):null,Vte=({isOpen:e,onClose:t,onSelectClient:r})=>{const{data:n,addItem:a}=ea(),[i,s]=T.useState(""),[l,u]=T.useState("search"),[f,d]=T.useState({name:"",identificacion:"",phone:"",address:""}),m=T.useMemo(()=>{if(!i)return n.customers||[];const x=i.toLowerCase();return(n.customers||[]).filter(b=>b.name.toLowerCase().includes(x)||b.identificacion&&b.identificacion.toLowerCase().includes(x)||b.phone&&b.phone.includes(x))},[n.customers,i]),g=x=>{if(x.preventDefault(),!f.name.trim())return;const _={id:Date.now(),...f,balance:0,createdAt:new Date().toISOString()};a("customers",_),r(_),t()};return h.jsx(br,{isOpen:e,onClose:t,title:l==="create"?"Nuevo Cliente":"Buscar Cliente",children:l==="search"?h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%",minHeight:"400px"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[h.jsxs("div",{className:"glass-panel",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1rem",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)"},children:[h.jsx("input",{type:"text",autoFocus:!0,placeholder:"Buscar por Nombre, Cdula o RIF...",style:{border:"none",background:"transparent",flex:1,fontSize:"1.1rem",color:"white",outline:"none",width:"100%"},value:i,onChange:x=>s(x.target.value)}),h.jsx(Ou,{size:22,style:{color:"var(--text-secondary)"}})]}),h.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",paddingLeft:"0.5rem"},children:"Presiona Enter para seleccionar si hay un solo resultado"})]}),h.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"200px",paddingRight:"0.5rem"},children:m.length>0?m.map(x=>h.jsxs("button",{className:"glass-button",onClick:()=>{r(x),t()},style:{justifyContent:"space-between",padding:"1rem",textAlign:"left",width:"100%",border:"1px solid rgba(255,255,255,0.05)",background:"rgba(255,255,255,0.02)"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[h.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:x.name}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",fontSize:"0.85rem",color:"var(--text-secondary)"},children:[h.jsx("span",{style:{background:"rgba(255,255,255,0.1)",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:x.identificacion||"Sin ID"}),h.jsx("span",{children:x.phone||""})]})]}),x.balance!==0&&h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},children:[h.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Saldo"}),h.jsx("span",{style:{color:x.balance>0?"var(--accent-red)":"var(--accent-green)",fontWeight:"bold",fontSize:"1rem"},children:x.balance>0?`-$${x.balance.toFixed(2)}`:`+$${Math.abs(x.balance).toFixed(2)}`})]})]},x.id)):h.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",gap:"1rem",opacity:.6},children:h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"0.25rem"},children:i?"No se encontraron clientes":"Empieza a escribir para buscar"}),h.jsx("p",{style:{fontSize:"0.9rem"},children:"Busca por nombre, cdula o telfono"})]})})}),h.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1rem"},children:h.jsxs("button",{className:"glass-button primary",style:{width:"100%",justifyContent:"center",gap:"0.75rem",padding:"1rem",fontSize:"1rem",fontWeight:"bold"},onClick:()=>u("create"),children:[h.jsx(yA,{size:20}),"Crear Nuevo Cliente"]})})]}):h.jsxs("form",{onSubmit:g,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Nombre Completo *"}),h.jsx("input",{type:"text",className:"glass-input",required:!0,autoFocus:!0,value:f.name,onChange:x=>d({...f,name:x.target.value})})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Cdula / RIF"}),h.jsx("input",{type:"text",className:"glass-input",value:f.identificacion,onChange:x=>d({...f,identificacion:x.target.value}),placeholder:"V-12345678 / J-12345678-0"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Telfono"}),h.jsx("input",{type:"tel",className:"glass-input",value:f.phone,onChange:x=>d({...f,phone:x.target.value}),placeholder:"0414-1234567"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Direccin"}),h.jsx("textarea",{className:"glass-input",value:f.address,onChange:x=>d({...f,address:x.target.value}),style:{minHeight:"80px",resize:"vertical"}})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[h.jsx("button",{type:"button",className:"glass-button",style:{flex:1,justifyContent:"center"},onClick:()=>u("search"),children:"Cancelar"}),h.jsx("button",{type:"submit",className:"glass-button primary",style:{flex:1,justifyContent:"center"},children:"Guardar Cliente"})]})]})})},ZB=({isOpen:e,onClose:t,onConfirm:r,amount:n,currency:a,denominationsConfig:i,debtAmount:s,isAuditMode:l=!1})=>{const[u,f]=T.useState({}),[d,m]=T.useState(""),g=T.useMemo(()=>a==="BS"?[500,200,100,50,20,10]:[100,50,20,10,5,2,1],[a]),x=i||g;T.useEffect(()=>{e&&(f({}),m(a==="BS"?"Efectivo Bs":"Efectivo USD"))},[e,a]);const b=Object.entries(u).reduce((F,[M,j])=>F+parseFloat(M)*(parseInt(j)||0),0),_=n&&n>0?n:s||0,y=s||_,w=b-_,C=l?!0:b>=_-.009,A=(F,M)=>{const j=u[F]||0,k=Math.max(0,j+M);f({...u,[F]:k})},O=()=>{if(!C)return;const F=Object.entries(u).filter(([M,j])=>j>0).map(([M,j])=>({denomination:parseFloat(M),count:j}));r(F,b,w,d)};return h.jsx(br,{isOpen:e,onClose:t,title:l?`Arqueo de Billetes (${a})`:`Desglose de Efectivo (${a})`,children:h.jsxs("div",{className:"flex flex-col gap-6 p-2",children:[!l&&h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("div",{className:"flex-1 glass-panel p-3 bg-white/5 border-white/10 text-center",children:[h.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Saldo Pendiente"}),h.jsxs("h2",{className:"text-xl font-black text-white",children:[a==="BS"?"Bs ":"$ ",y.toFixed(2)]})]}),Math.abs(n-y)>.01&&n>0&&h.jsxs("div",{className:"flex-1 glass-panel p-3 bg-blue-500/10 border-blue-500/30 text-center",children:[h.jsx("span",{className:"text-[10px] text-blue-400 font-bold uppercase tracking-widest",children:"A Desglosar"}),h.jsxs("h2",{className:"text-xl font-black text-white",children:[a==="BS"?"Bs ":"$ ",n.toFixed(2)]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[50vh] overflow-y-auto pr-1 no-scrollbar",children:x.map(F=>h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border border-white/5 bg-white/5 hover:bg-white/10 transition-all",children:[h.jsxs("span",{className:"text-sm font-black text-gray-400 w-auto",children:[a==="BS"?"Bs":"$"," ",F]}),h.jsxs("div",{className:"flex items-center gap-1 bg-black/40 rounded-lg p-1 border border-white/10",children:[h.jsx("button",{className:"w-9 h-9 rounded-md bg-red-400/20 text-red-400 flex items-center justify-center active:scale-90 transition-transform hover:bg-red-400/30 shrink-0",onClick:()=>A(F,-1),children:h.jsx(CG,{size:14})}),h.jsx("input",{type:"number",className:"w-16 bg-transparent text-center font-black text-lg outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none text-white px-1",value:u[F]===0||u[F]===void 0?"":u[F],onChange:M=>{const j=M.target.value===""?0:parseInt(M.target.value);isNaN(j)||f({...u,[F]:Math.max(0,j)})},onFocus:M=>{M.target.select()}}),h.jsx("button",{className:"w-9 h-9 rounded-md bg-green-400/20 text-green-400 flex items-center justify-center active:scale-90 transition-transform hover:bg-green-400/30 shrink-0",onClick:()=>A(F,1),children:h.jsx(fs,{size:14})})]})]},F))}),h.jsxs("div",{className:"border-t border-white/10 pt-4 mt-auto",children:[!l&&w>.01&&h.jsxs("div",{className:"glass-panel p-3 border-green-500/20 bg-green-500/5 mb-4 animate-in fade-in slide-in-from-bottom-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-green-500 uppercase block mb-2",children:"Mtodo para entregar el vuelto"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:["Efectivo BS","Pago Mvil","Efectivo USD"].map(F=>h.jsx("button",{className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${d===F?"bg-green-600 border-green-500 text-white shadow-lg shadow-green-900/20 scale-105":"bg-white/5 border-white/10 text-gray-400"}`,onClick:()=>m(F),children:F},F))})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6 px-2",children:[h.jsxs("div",{className:"text-center sm:text-left",children:[h.jsx("span",{className:"text-[11px] text-gray-400 font-bold uppercase tracking-wider block mb-1",children:l?"TOTAL CONTADO":"TOTAL RECIBIDO"}),h.jsxs("span",{className:"text-2xl font-black text-orange-400",children:[a==="BS"?"Bs ":"$ ",b.toFixed(2)]})]}),!l&&h.jsxs("div",{className:"text-center sm:text-right",children:[h.jsx("span",{className:`text-[11px] font-bold uppercase tracking-wider block mb-1 ${w>=-.01?"text-green-500":"text-red-500"}`,children:w>=-.01?"CAMBIO / VUELTO":"FALTA POR COBRAR"}),h.jsxs("span",{className:`text-2xl font-black ${w>=-.01?"text-green-400":"text-red-400"}`,children:[a==="BS"?"Bs ":"$ ",Math.abs(w).toFixed(2)]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{className:"glass-button flex-1 py-4 text-gray-500 font-bold flex items-center justify-center gap-2 border-white/5",onClick:t,children:[h.jsx(Fs,{size:20})," CANCELAR"]}),h.jsxs("button",{className:`primary-button flex-[2] py-4 text-lg font-black flex items-center justify-center gap-3 shadow-lg ${C?"shadow-orange-600/20":"opacity-30 grayscale pointer-events-none"}`,onClick:O,style:{backgroundColor:"var(--primary-color)"},children:[h.jsx(xE,{size:22})," ",l?"CONFIRMAR CONTEO":"CONFIRMAR PAGO"]})]}),!C&&!l&&h.jsxs("p",{className:"text-[10px] text-center text-red-400/70 mt-3 animate-pulse",children:["Debes completar el desglose exacto de ",a==="BS"?"Bs ":"$ ",_.toFixed(2)," para continuar."]})]})]})})},$te=()=>{const{holdOrder:e,data:t,deleteHeldOrder:r,cancelHeldOrder:n,restoreCancelledOrder:a,permanentlyDeleteOrder:i,addTip:s,addItem:l,updateItem:u,sendOrderToProduction:f,sendLiveCartUpdate:d}=ea(),{currentUser:m}=$f(),{addToast:g}=Lte(),{confirm:x,alert:b,prompt:_}=qn(),[y,w]=T.useState(()=>{try{const _e=localStorage.getItem("pos_cart");return _e?JSON.parse(_e):[]}catch(_e){return console.error("Error loading cart from localStorage:",_e),[]}});T.useEffect(()=>{localStorage.setItem("pos_cart",JSON.stringify(y))},[y]);const[C,A]=T.useState("all"),O=T.useMemo(()=>{const _e=t.categories||[],Ze=new Set,ht=_e.filter(Tt=>Ze.has(Tt.id)?!1:(Ze.add(Tt.id),!0)),gt=["cheeses","cachapas","carne_en_vara","chichas","drinks","groceries","hygiene","burgers"];return ht.sort((Tt,xr)=>{const Vt=gt.indexOf(Tt.id),Xr=gt.indexOf(xr.id);return(Vt===-1?999:Vt)-(Xr===-1?999:Xr)}),(t.products||[]).filter(Tt=>Tt.isFavorite).length>0?[{id:"favorites",label:"Favoritos",icon:"star"},...ht]:ht},[t.categories,t.products]);T.useEffect(()=>{(t.products||[]).filter(Ze=>Ze.isFavorite).length>0&&C==="all"&&A("favorites")},[t.products]);const[F,M]=T.useState(""),[j,k]=T.useState(!1),[R,I]=T.useState(!1),[P,N]=T.useState(!1),[B,oe]=T.useState(window.innerWidth<=768);T.useEffect(()=>{const _e=()=>oe(window.innerWidth<=768);return window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)},[]);const[he,ne]=T.useState(!1),[de,be]=T.useState(""),[we,ue]=T.useState([]),[U,Y]=T.useState(""),[Z,q]=T.useState(""),[se,me]=T.useState(""),[ve,H]=T.useState("USD"),[G,ee]=T.useState("USD"),[ae,pe]=T.useState(!1),[X,je]=T.useState(null),[He,Be]=T.useState(""),[Ke,Je]=T.useState("percent"),[et,st]=T.useState(""),[rt,ce]=T.useState("USD"),[Se,Ye]=T.useState("");T.useEffect(()=>{if(typeof d=="function"){const _e=setTimeout(()=>{d(m,y)},500);return()=>clearTimeout(_e)}},[y,m,d]);const[Me,wt]=T.useState(!1),[Dt,Et]=T.useState(!1),[At,Ut]=T.useState("active"),[Ge,it]=T.useState(!1),[bt,xt]=T.useState(!1),[It,pt]=T.useState(!1),[rn,yn]=T.useState("normal"),[fn,Vr]=T.useState(!1),[ia,Cr]=T.useState("USD"),[nn,dn]=T.useState(!1),[Kr,Ga]=T.useState("Varios"),[wi,an]=T.useState(""),Ft=t.heldOrders||[],ai=t.cancelledOrders||[],bn=_e=>{if(ia==="BS"){const Ze=t.exchangeRate||1;return`Bs. ${(_e*Ze).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})}`}return`$ ${_e.toFixed(2)}`},Tr=Us(),sn=Gu(),Gn=new URLSearchParams(Tr.search),kr=Gn.get("tableId"),W=Gn.get("orderId"),[le,Q]=T.useState(null),J=t.tables||[],ie=kr?J.find(_e=>_e.id===parseInt(kr)):null;T.useEffect(()=>{if(ie&&ie.status==="occupied"&&ie.currentOrderId){const _e=t.heldOrders.find(Ze=>Ze.id===ie.currentOrderId);_e&&(w(_e.items),Q(_e),Ye(_e.note||""),Vr(_e.takeaway||!1),yn(_e.priority||"normal"))}},[kr,ie,t.heldOrders]),T.useEffect(()=>{if(W&&!kr){const _e=t.heldOrders.find(Ze=>Ze.id===parseInt(W)||Ze.id===W);_e&&(w(_e.items),Q(_e),Ye(_e.note||""),Vr(_e.takeaway||!1),yn(_e.priority||"normal"),_e.customerId&&me(_e.customerId))}},[W,t.heldOrders,kr]);const fe=gr.useCallback(_e=>{w(Ze=>{const ht=Ze.findIndex(gt=>gt.id===_e.id);if(ht>=0){const gt=[...Ze];return gt[ht]={...gt[ht],quantity:(gt[ht].quantity||1)+1},gt}return[...Ze,{..._e,quantity:1}]})},[]),Ce=gr.useCallback(_e=>{w(Ze=>{const ht=Ze.findIndex(gt=>gt.id===_e);if(ht>=0){const gt=[...Ze];return gt[ht].quantity>1?(gt[ht]={...gt[ht],quantity:gt[ht].quantity-1},gt):(gt.splice(ht,1),gt)}return Ze})},[]),Fe=gr.useCallback(async _e=>{const Ze=y.find(gt=>gt.id===_e.id)?.quantity||0,ht=await _({title:"Ingresar Cantidad",message:`Cantidad para "${_e.name}":`,defaultValue:Ze>0?Ze.toString():"1",type:"number"});if(ht!==null){const gt=parseInt(ht);isNaN(gt)||w(Bt=>{const Tt=Bt.findIndex(Vt=>Vt.id===_e.id),xr=[...Bt];return gt<=0?Tt>=0?(xr.splice(Tt,1),xr):Bt:Tt>=0?(xr[Tt]={...xr[Tt],quantity:gt},xr):[...Bt,{..._e,quantity:gt}]})}},[y,_]),te=async()=>{if(y.length===0)return;await x({title:"Vaciar Carrito",message:"Ests seguro de que deseas vaciar el carrito?"})&&(w([]),Q(null),Ye(""),Vr(!1),yn("normal"))},ge=()=>{const _e=parseFloat(wi);if(isNaN(_e)||_e<=0){g("Monto invlido","error");return}if(!Kr.trim()){g("Ingresa un nombre","error");return}t.categories?.find(gt=>gt.id==="varios")||l("categories",{id:"varios",label:"Varios",department:"Restaurante",keywords:["varios","personalizado","custom","manual","otro"]});const ht={name:Kr.trim(),price:_e,category:"varios",stock:999,department:"Restaurante",isManual:!0};l("products",ht),fe({...ht,id:ht.id||Date.now()}),dn(!1),an(""),Ga("Varios"),g(`"${Kr}" creado y aadido al carrito`,"success")},xe=T.useMemo(()=>y.reduce((_e,Ze)=>_e+Math.round(Ze.price*100)*Ze.quantity,0)/100,[y]),Ie=async()=>{if(y.length===0)return;const _e=await _({title:"Poner en Espera",message:"Nota para el pedido:",defaultValue:Se});if(_e!==null){const Ze={isWaitList:!0,takeaway:fn,priority:rn,customerId:se,createdBy:le?.createdBy||m?.username||"Cajero"};e(y,_e||"Sin nota",Ze),w([]),Ye(""),N(!1),g("Orden en espera","info"),(kr||W)&&sn("/")}},Ue=()=>{y.length!==0&&pt(!0)},Qe=()=>{const _e={priority:rn,takeaway:fn,customerId:se,tableId:ie?.id,tableName:ie?.name};f(y,Se||(ie?`Mesa ${ie.name}`:"Pedido Rpido"),_e),w([]),pt(!1),N(!1),g("Pedido enviado a produccin","success"),kr&&sn("/tables")},qe=async()=>{if(we.length===0){await b({title:"Error",message:"Debe agregar al menos un pago."});return}const _e=parseFloat(He)||0,Ze=Ke==="percent"?xe*(_e/100):_e,ht=xe-Ze,gt=we.reduce((Tt,xr)=>Tt+(xr.currency==="USD"?xr.amount:xr.amount/xr.rate),0);if(gt<ht-.01&&!await x({title:"Saldo Incompleto",message:`El monto pagado ($${gt.toFixed(2)}) es menor al total ($${ht.toFixed(2)}). Desea procesar como venta parcial o crdito?`}))return;const Bt={id:Date.now(),items:y,subtotal:xe,total:ht,discount:{type:Ke,value:_e,amount:Ze},payments:we,tip:parseFloat(et)||0,date:new Date().toISOString(),cashier:m?.username||"Cajero",customerId:se,tableId:ie?.id};l("sales",Bt),y&&y.length>0&&y.forEach(Tt=>{(t.products||[]).find(Vt=>Vt.id===Tt.id)&&u("products",Tt.id,Vt=>({stock:Math.max(-999,(Vt.stock||0)-(Tt.quantity||1))}))}),le&&r(le.id),w([]),ue([]),Be(""),st(""),ne(!1),N(!1),g("Venta completada","success"),kr&&sn("/tables")},Xe=t.paymentMethods||[],ct=T.useMemo(()=>{let _e=t.products||[];if(C==="favorites"?_e=_e.filter(Ze=>Ze.isFavorite):C!=="all"&&(_e=_e.filter(Ze=>Ze.category===C)),F&&(_e=_e.filter(Ze=>Ze.name.toLowerCase().includes(F.toLowerCase()))),C==="all"){const Ze=["cheeses","cachapas","carne_en_vara","chichas","drinks","burgers"];_e=[..._e].sort((ht,gt)=>{const Bt=Ze.indexOf(ht.category),Tt=Ze.indexOf(gt.category);return(Bt===-1?999:Bt)-(Tt===-1?999:Tt)})}return _e},[t.products,C,F]),cr=_e=>{w(_e.items),Q(_e),Ye(_e.note||""),r(_e.id),Et(!1),N(!0)};return h.jsxs("div",{className:"pos-container",style:{height:"100vh",display:"flex",flexDirection:"column",background:"#0a0a0a",color:"white",overflow:"hidden"},children:[h.jsxs("header",{style:{padding:B?"0.25rem 0.5rem":"0.5rem 1rem",background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.1)",display:"grid",gridTemplateColumns:B?"36px 1fr auto":"auto 1fr auto",alignItems:"center",gap:"0.4rem",width:"100%"},children:[h.jsx("div",{style:{gridColumn:"1",display:"flex",alignItems:"center"},children:j?h.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"20px",display:"flex",alignItems:"center",padding:"0 8px",border:"1px solid var(--accent-orange)",width:B?"120px":"200px"},children:[h.jsx(Ou,{size:14}),h.jsx("input",{autoFocus:!0,className:"glass-input",style:{border:"none",background:"transparent",width:"100%",padding:"6px",fontSize:"0.8rem"},placeholder:"Buscar...",value:F,onChange:_e=>M(_e.target.value),onBlur:()=>!F&&k(!1)}),h.jsx(Fs,{size:14,onClick:()=>{k(!1),M("")},style:{cursor:"pointer"}})]}):h.jsx("button",{className:"glass-button",onClick:()=>k(!0),style:{borderRadius:"50%",width:"36px",height:"36px",padding:0,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Ou,{size:18})})}),h.jsxs("div",{style:{gridColumn:"2",minWidth:0,display:j&&B?"none":"flex",alignItems:"center",gap:"4px",padding:"0 4px",overflowX:"auto",scrollbarWidth:"none",msOverflowStyle:"none"},className:"no-scrollbar",children:[h.jsx("style",{children:`
                        .no-scrollbar::-webkit-scrollbar { display: none; }
                        .category-tab {
                            white-space: nowrap;
                            padding: 6px 14px;
                            border-radius: 99px;
                            font-size: 0.8rem;
                            font-weight: 800;
                            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
                            border: 1px solid rgba(255,255,255,0.05);
                            background: rgba(255,255,255,0.02);
                            color: #9ca3af;
                            display: flex;
                            alignItems: center;
                            gap: 4px;
                            flex-shrink: 0;
                            min-width: fit-content;
                        }
                        .category-tab.active {
                            background: #ea580c;
                            color: white;
                            border-color: #fb923c;
                            box-shadow: 0 4px 12px rgba(234, 88, 12, 0.3);
                        }
                        .category-picker-btn {
                            background: rgba(251, 146, 60, 0.15) !important;
                            border: 1px solid rgba(251, 146, 60, 0.4) !important;
                            color: #fb923c !important;
                        }
                        .category-grid-item {
                            padding: 1rem;
                            border-radius: 12px;
                            background: rgba(255,255,255,0.05);
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            justify-content: center;
                            gap: 0.5rem;
                            cursor: pointer;
                            transition: all 0.2s;
                            border: 1px solid rgba(255,255,255,0.05);
                        }
                        .category-grid-item:active { transform: scale(0.95); background: rgba(234, 88, 12, 0.2); }
                        .category-grid-item.active { border-color: var(--accent-orange); background: rgba(234, 88, 12, 0.1); }
                    `}),B?h.jsxs("button",{className:"category-tab active",onClick:()=>I(!0),style:{flex:1,justifyContent:"space-between",background:"rgba(234, 88, 12, 0.1)",border:"1px solid rgba(234, 88, 12, 0.3)",color:"white",padding:"4px 10px",minWidth:"80px",maxWidth:"160px",fontSize:"0.75rem",margin:"0 auto"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",overflow:"hidden"},children:[C==="favorites"?h.jsx(lx,{size:12,fill:"gold",color:"gold"}):h.jsx(s_,{size:12,color:"#fb923c"}),h.jsx("span",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:C==="all"?"Todas":O.find(_e=>_e.id===C)?.label||"Categora"})]}),h.jsx(ih,{size:12,style:{marginLeft:"2px",opacity:.7}})]}):h.jsxs(h.Fragment,{children:[h.jsx("button",{className:`category-tab ${C==="all"?"active":""}`,onClick:()=>C==="all"?I(!0):A("all"),children:"Todas"}),O.map(_e=>h.jsxs("button",{className:`category-tab ${C===_e.id?"active":""}`,onClick:()=>C===_e.id?I(!0):A(_e.id),children:[_e.id==="favorites"&&h.jsx(lx,{size:12,fill:"currentColor"}),_e.label]},_e.id)),h.jsxs("button",{className:"category-tab category-picker-btn",onClick:()=>I(!0),style:{padding:"6px 10px"},children:[h.jsx(s_,{size:16}),h.jsx("span",{style:{marginLeft:"4px"},children:"Ver Todo"})]})]})]}),h.jsxs("div",{style:{gridColumn:"3",display:"flex",gap:"0.3rem",alignItems:"center"},children:[h.jsx("button",{className:"glass-button",onClick:()=>H(_e=>_e==="USD"?"BS":"USD"),style:{padding:B?"8px 12px":"0.5rem 1rem",minWidth:"44px",fontSize:B?"0.85rem":"0.8rem",fontWeight:"900",color:ve==="USD"?"#4ade80":"#fbbf24",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:ve==="USD"?"$":"Bs"}),h.jsxs("button",{className:"glass-button",onClick:()=>Et(!0),style:{position:"relative",padding:B?"8px":"0.5rem"},children:[h.jsx(xu,{size:B?18:20}),Ft.length>0&&h.jsx("span",{style:{position:"absolute",top:-3,right:-3,background:"var(--accent-orange)",borderRadius:"50%",width:"14px",height:"14px",fontSize:"9px",display:"flex",alignItems:"center",justifyContent:"center"},children:Ft.length})]}),!B&&h.jsx("button",{className:"glass-button",onClick:()=>it(!0),style:{padding:"0.5rem"},children:h.jsx(UR,{size:20})}),B&&h.jsxs("button",{className:"primary-button",onClick:()=>N(!0),style:{gap:"6px",padding:"8px 14px",fontSize:"0.9rem"},children:[h.jsx(vu,{size:18}),h.jsx("span",{className:"font-bold",children:bn(xe).replace("$ ","$")})]})]})]}),h.jsx(br,{isOpen:nn,onClose:()=>dn(!1),title:"Venta Manual",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",padding:"0.5rem"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"0.5rem"},children:[h.jsx("div",{style:{backgroundColor:"rgba(251, 146, 60, 0.2)",padding:"0.75rem",borderRadius:"1rem",color:"#fb923c",marginBottom:"0.75rem"},children:h.jsx(vD,{size:28})}),h.jsx("p",{style:{fontSize:"10px",color:"#6b7280",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.1em",textAlign:"center"},children:"Ingresa nombre y precio para aadir un tem personalizado"})]}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{fontSize:"10px",color:"#9ca3af",textTransform:"uppercase",fontWeight:"bold",marginBottom:"0.375rem",display:"block",marginLeft:"0.25rem",letterSpacing:"0.05em"},children:"Descripcin"}),h.jsx("input",{type:"text",className:"glass-input",style:{width:"100%",fontSize:"0.875rem",fontWeight:"bold",padding:"0.75rem"},placeholder:"Nombre del producto...",value:Kr,onChange:_e=>Ga(_e.target.value),autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{style:{fontSize:"10px",color:"#9ca3af",textTransform:"uppercase",fontWeight:"bold",marginBottom:"0.375rem",display:"block",marginLeft:"0.25rem",letterSpacing:"0.05em"},children:"Precio (USD)"}),h.jsxs("div",{style:{position:"relative"},children:[h.jsx("span",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#fb923c",fontWeight:"900",fontSize:"1.25rem"},children:"$"}),h.jsx("input",{type:"number",step:"0.01",className:"glass-input",style:{width:"100%",fontSize:"1.75rem",fontWeight:"900",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",textAlign:"center"},placeholder:"0.00",value:wi,onChange:_e=>an(_e.target.value),onKeyPress:_e=>_e.key==="Enter"&&ge()})]})]}),h.jsxs("button",{onClick:ge,className:"primary-button w-full py-4 text-lg font-black shadow-lg shadow-orange-600/20",style:{marginTop:"0.5rem"},children:[h.jsx(xE,{size:20})," AADIR AL CARRITO"]})]})]})}),h.jsx(br,{isOpen:R,onClose:()=>I(!1),title:"Seleccionar Categora",children:h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"12px",padding:"0.5rem"},children:[h.jsxs("div",{className:`category-grid-item ${C==="all"?"active":""}`,onClick:()=>{A("all"),I(!1)},children:[h.jsx(s_,{size:24}),h.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"bold"},children:"Todas"})]}),O.map(_e=>h.jsxs("div",{className:`category-grid-item ${C===_e.id?"active":""}`,onClick:()=>{A(_e.id),I(!1)},children:[_e.id==="favorites"?h.jsx(lx,{size:24,fill:"currentColor",color:"gold"}):h.jsx(cv,{size:24}),h.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"bold",textAlign:"center"},children:_e.label})]},_e.id)),h.jsxs("div",{className:"category-grid-item",onClick:()=>{dn(!0),I(!1)},style:{borderStyle:"dashed",borderColor:"#fb923c",color:"#fb923c"},children:[h.jsx(vD,{size:24}),h.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"bold"},children:"Manual"})]})]})}),h.jsxs("main",{style:{flex:1,display:"flex",overflow:"hidden"},children:[h.jsx("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:h.jsx("div",{className:"flex-1 overflow-y-auto pr-2 no-scrollbar",style:{padding:"0.75rem",paddingBottom:B?"80px":"1rem"},children:h.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${B?"130px":"170px"}, 1fr))`,gap:B?"0.6rem":"1rem",alignContent:"start"},children:ct.map(_e=>h.jsx(Ute,{product:{..._e,quantity:y.find(Ze=>Ze.id===_e.id)?.quantity||0},onAdd:fe,onRemove:Ce,onLongPress:Fe,priceDisplay:ve==="USD"?bn(_e.price):`Bs ${mn(_e.price*(t.exchangeRate||1),"Bs")}`},_e.id))})})}),!B&&h.jsx("aside",{style:{width:"350px",background:"rgba(0,0,0,0.2)",borderLeft:"1px solid rgba(255,255,255,0.1)",display:"flex",flexDirection:"column"},children:h.jsx(v8,{cart:y,onRemove:Ce,onAdd:fe,onClear:te,onPay:()=>ne(!0),total:xe,onHold:Ie,onSendToKitchen:Ue,currentTable:ie,formatPrice:bn})})]}),B&&P&&h.jsx("div",{style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(10px)"},children:h.jsxs("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:"90%",background:"#121212",display:"flex",flexDirection:"column",overflow:"hidden"},children:[h.jsxs("div",{style:{padding:"1rem",display:"flex",justifyContent:"space-between",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[h.jsxs("h2",{style:{fontWeight:"bold"},children:["Carrito (",y.length,")"]}),h.jsx(Fs,{size:24,onClick:()=>N(!1)})]}),h.jsx("div",{style:{flex:1,minHeight:0},children:h.jsx(v8,{cart:y,onRemove:Ce,onAdd:fe,onClear:te,onPay:()=>ne(!0),total:xe,onHold:Ie,onSendToKitchen:Ue,currentTable:ie,formatPrice:bn})})]})}),h.jsx(br,{isOpen:he,onClose:()=>ne(!1),title:h.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[h.jsx("span",{className:"text-lg font-black tracking-tight",children:"Procesar Pago"}),h.jsxs("div",{className:"flex items-center gap-2 bg-orange-500/10 px-3 py-1 rounded-full border border-orange-500/20 shadow-sm",children:[h.jsx("span",{className:"text-[9px] text-orange-400 font-extrabold uppercase tracking-widest",children:"Tasa"}),h.jsx("span",{className:"text-lg font-black text-white font-mono",children:mn(t.exchangeRate,"Bs",2)}),h.jsx("span",{className:"text-[9px] text-orange-400/60 font-bold uppercase",children:"Bs/$"})]})]}),fullscreen:B,children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},className:"animate-fade-in text-white",children:[h.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",minHeight:0},className:"no-scrollbar",children:[h.jsxs("div",{className:"glass-panel p-5 text-center border-orange-500/40 bg-orange-500/10 relative overflow-hidden cursor-pointer active:scale-95 transition-transform",style:{borderRadius:"18px"},onClick:()=>ee(_e=>_e==="USD"?"BS":"USD"),children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 -mr-12 -mt-12 rounded-full"}),h.jsxs("span",{className:"text-[10px] text-orange-400 font-black uppercase tracking-[0.2em] block mb-2",children:["SALDO PENDIENTE (",G,")"]}),(()=>{const _e=parseFloat(He)||0,Ze=parseFloat(et)||0,ht=t.exchangeRate||1;let gt=0;Ke==="percent"?gt=xe*(_e/100):Ke==="USD"?gt=_e:Ke==="BS"&&(gt=_e/ht);let Bt=0;rt==="percent"?Bt=xe*(Ze/100):rt==="USD"?Bt=Ze:rt==="BS"&&(Bt=Ze/ht);const Tt=xe-gt+Bt,xr=we.reduce((Xr,vr)=>Xr+(vr.currency==="USD"?vr.amount:vr.amount/vr.rate),0),Vt=Math.max(0,Tt-xr);return h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-5xl font-black text-white flex items-center justify-center gap-2",children:G==="USD"?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-2xl text-orange-500/60",children:"$"}),Vt.toFixed(2)]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-2xl text-orange-500/60 font-mono",children:"Bs"}),mn(Vt*ht,"Bs",2)]})}),h.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-x-4 gap-y-1 mt-4 pt-3 border-t border-white/5 opacity-80",children:[h.jsxs("div",{className:"text-[10px] flex items-center gap-1",children:[h.jsx("span",{className:"text-orange-400 font-bold uppercase",children:"Base:"}),h.jsxs("span",{className:"text-white",children:["$",xe.toFixed(2)," / Bs ",mn(xe*ht,"Bs",2)]})]}),Bt>0&&h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{width:"1px",height:"8px",background:"rgba(255,255,255,0.2)"}}),h.jsxs("div",{className:"text-[10px] flex items-center gap-1",children:[h.jsx("span",{className:"text-green-400 font-bold uppercase",children:"Propina:"}),h.jsxs("span",{className:"text-white",children:["$",Bt.toFixed(2)," / Bs ",mn(Bt*ht,"Bs",2)]})]})]}),h.jsx("div",{style:{width:"1px",height:"8px",background:"rgba(255,255,255,0.2)"}}),h.jsxs("div",{className:"text-[10px] flex items-center gap-1",children:[h.jsx("span",{className:"text-orange-400 font-bold uppercase",children:"Total:"}),h.jsxs("span",{className:"text-white font-black",children:["$",Tt.toFixed(2)," / Bs ",mn(Tt*ht,"Bs",2)]})]})]})]})})()]}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 min-h-0",children:[h.jsxs("div",{className:"flex-[1.2] flex flex-col gap-4",children:[h.jsxs("div",{className:"glass-panel p-4 border-orange-500/20 bg-orange-500/5 relative overflow-hidden",style:{borderRadius:"16px"},children:[h.jsx("label",{className:"text-[10px] font-bold text-orange-400 mb-3 block uppercase tracking-widest",children:"Registrar Pago"}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("input",{type:"number",className:"glass-input w-full text-3xl font-black p-4 text-center ring-inset focus:ring-1 ring-orange-500/50",style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px"},value:U,onChange:_e=>Y(_e.target.value),placeholder:"0.00"}),h.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-black text-lg",children:Xe.find(Ze=>Ze.name===Z)?.currency==="Bs"?"Bs":"$"})]}),h.jsxs("select",{className:"glass-input h-auto px-4 text-sm font-bold sm:w-44 bg-white/5",style:{borderRadius:"12px"},value:Z,onChange:_e=>q(_e.target.value),children:[h.jsx("option",{value:"",children:"Seleccionar Mtodo..."}),Xe.map(_e=>h.jsx("option",{value:_e.name,children:_e.name},_e.id))]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"glass-button flex-1 text-[10px] font-bold py-3 border-green-500/30 text-green-400 bg-green-500/5 hover:bg-green-500/10 active:scale-95 transition-all uppercase",style:{borderRadius:"10px"},onClick:()=>{const _e=parseFloat(He)||0,Ze=parseFloat(et)||0,ht=t.exchangeRate||1;let gt=0;Ke==="percent"?gt=xe*(_e/100):Ke==="USD"?gt=_e:Ke==="BS"&&(gt=_e/ht);let Bt=0;rt==="percent"?Bt=xe*(Ze/100):rt==="USD"?Bt=Ze:rt==="BS"&&(Bt=Ze/ht);const Tt=xe-gt+Bt,xr=we.reduce((Fr,Ka)=>Fr+(Ka.currency==="USD"?Ka.amount:Ka.amount/Ka.rate),0),Vt=Math.max(0,Tt-xr),vr=Xe.find(Fr=>Fr.name===Z)?.currency==="Bs";Y(vr?(Vt*ht).toFixed(2):Vt.toFixed(2))},children:"Monto Pendiente"}),h.jsxs("button",{className:"primary-button flex-[2] p-3 text-lg font-black flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",style:{borderRadius:"10px"},onClick:()=>{if(!U||!Z)return;const _e=Z,ht=Xe.find(Fr=>Fr.name===_e)?.currency==="Bs",gt=parseFloat(U),Bt=parseFloat(He)||0,Tt=parseFloat(et)||0,xr=t.exchangeRate||1;let Vt=0;Ke==="percent"?Vt=xe*(Bt/100):Ke==="USD"?Vt=Bt:Ke==="BS"&&(Vt=Bt/xr);let Xr=0;rt==="percent"?Xr=xe*(Tt/100):rt==="USD"?Xr=Tt:rt==="BS"&&(Xr=Tt/xr);const vr=xe-Vt+Xr;if(_e.toLowerCase().includes("efectivo")){const Fr=we.reduce((Ic,nr)=>Ic+(nr.currency==="USD"?nr.amount:nr.amount/nr.rate),0),Ka=Math.max(0,vr-Fr);je({method:_e,amount:gt,debtAmount:Ka,currency:ht?"BS":"USD",rate:t.exchangeRate}),pe(!0)}else ue([...we,{id:Date.now(),method:_e,amount:gt,currency:ht?"BS":"USD",rate:t.exchangeRate}]),Y("")},children:["AGREGAR PAGO ",h.jsx(xE,{size:20})]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[h.jsxs("div",{className:"glass-panel p-4 border-white/10 bg-white/5 flex flex-col",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-2 block tracking-widest",children:"Descuento"}),h.jsxs("div",{className:"flex gap-2 mt-auto",children:[h.jsx("input",{type:"number",className:"glass-input p-2 flex-1 text-base font-black text-center bg-transparent border-b border-white/10",style:{border:"none",borderBottom:"2px solid rgba(255,255,255,0.05)",borderRadius:0},value:He,onChange:_e=>Be(_e.target.value),placeholder:"0"}),h.jsx("div",{className:"flex bg-black/20 rounded-xl p-1 border border-white/5",children:["percent","USD","BS"].map(_e=>h.jsx("button",{className:`w-10 h-10 flex items-center justify-center rounded-xl font-black text-xs transition-all duration-200 active:scale-95 ${Ke===_e?"bg-orange-600 text-white shadow-lg scale-105 border border-white/20":"text-gray-400 hover:text-gray-200 hover:bg-white/5"}`,onClick:()=>Je(_e),children:_e==="percent"?"%":_e==="USD"?"$":"Bs"},_e))})]})]}),h.jsxs("div",{className:"glass-panel p-4 border-white/10 bg-white/5 flex flex-col",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-2 block tracking-widest",children:"Propina"}),h.jsxs("div",{className:"flex gap-2 mt-auto",children:[h.jsx("input",{type:"number",className:"glass-input p-2 flex-1 text-base font-black text-center bg-transparent border-b border-white/10",style:{border:"none",borderBottom:"2px solid rgba(255,255,255,0.05)",borderRadius:0},value:et,onChange:_e=>st(_e.target.value),placeholder:"0.00"}),h.jsx("div",{className:"flex bg-black/20 rounded-xl p-1 border border-white/5",children:["percent","USD","BS"].map(_e=>h.jsx("button",{className:`w-10 h-10 flex items-center justify-center rounded-xl font-black text-xs transition-all duration-200 active:scale-95 ${rt===_e?"bg-orange-600 text-white shadow-lg scale-105 border border-white/20":"text-gray-400 hover:text-gray-200 hover:bg-white/5"}`,onClick:()=>ce(_e),children:_e==="percent"?"%":_e==="USD"?"$":"Bs"},_e))})]})]})]})]}),h.jsxs("div",{className:"flex-1 flex flex-col gap-3 min-h-[300px]",children:[h.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest px-1",children:["Pagos Registrados (",we.length,")"]}),h.jsx("div",{className:"flex-1 overflow-y-auto flex flex-col gap-2 no-scrollbar p-1",children:we.length===0?h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-700 border-2 border-dashed border-white/5 rounded-2xl opacity-40",children:[h.jsx(wE,{size:40,className:"mb-2"}),h.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin pagos registrados"})]}):we.map(_e=>h.jsxs("div",{className:"glass-panel p-3 flex justify-between items-center bg-white/5 border-white/5 hover:border-orange-500/20 transition-all group",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-xl text-orange-400",children:_e.method.toLowerCase().includes("efectivo")?h.jsx(BR,{size:20}):h.jsx(Ff,{size:20})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase block tracking-tighter",children:_e.method}),h.jsxs("span",{className:"text-lg font-black text-white italic",children:[_e.currency==="BS"?"Bs":"$"," ",mn(_e.amount,_e.currency,2)]})]})]}),h.jsx("button",{className:"w-10 h-10 flex items-center justify-center text-red-400 bg-red-400/0 hover:bg-red-400/10 rounded-full transition-colors active:scale-90",onClick:()=>ue(Ze=>Ze.filter(ht=>ht.id!==_e.id)),children:h.jsx(Ha,{size:18})})]},_e.id))})]})]})]}),h.jsx("div",{className:"flex flex-col sm:flex-row gap-3 p-3 border-t border-white/10 bg-[#1e1e1e] shadow-2xl z-50 mt-auto",style:{flexShrink:0},children:h.jsxs("button",{className:`primary-button flex-1 py-4 text-xl font-black flex items-center justify-center gap-3 shadow-xl ${we.length===0?"opacity-50 grayscale":"shadow-orange-600/20"}`,style:{borderRadius:"12px"},disabled:we.length===0,onClick:qe,children:[h.jsx(vu,{size:24}),"FINALIZAR VENTA"]})})]})}),h.jsx(br,{isOpen:Dt,onClose:()=>Et(!1),title:"rdenes en Espera",fullscreen:B,children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",height:"100%"},children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:`glass-button flex-1 ${At==="active"?"primary":""}`,onClick:()=>Ut("active"),children:"Activas"}),h.jsx("button",{className:`glass-button flex-1 ${At==="trash"?"primary":""}`,onClick:()=>Ut("trash"),children:"Papelera"})]}),h.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.75rem"},children:At==="active"?Ft.length===0?h.jsx("p",{className:"text-center text-gray-500 py-10",children:"No hay rdenes pendientes"}):Ft.map(_e=>h.jsxs("div",{className:"glass-panel p-4 flex justify-between items-center bg-white/5",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-lg",children:_e.note||"Sin Nota"}),h.jsxs("span",{className:"text-xs text-gray-400",children:[new Date(_e.timestamp).toLocaleTimeString()," - ",_e.items.length," items"]}),h.jsxs("p",{className:"text-green-400 font-bold mt-1",children:["Total: $",_e.total.toFixed(2)]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"primary-button p-2 px-4 text-sm",onClick:()=>cr(_e),children:"Recobrar"}),h.jsx("button",{className:"glass-button p-2 text-red-500",onClick:()=>n(_e.id),children:h.jsx(Fs,{size:20})})]})]},_e.id)):ai.length===0?h.jsx("p",{className:"text-center text-gray-500 py-10",children:"Papelera vaca"}):ai.map(_e=>h.jsxs("div",{className:"glass-panel p-4 flex justify-between items-center opacity-70",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold",children:_e.note||"Sin Nota"}),h.jsxs("span",{className:"text-[10px] text-gray-400",children:["Cancelado: ",new Date(_e.cancelledAt).toLocaleTimeString()]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"glass-button text-xs py-1 px-2",onClick:()=>a(_e.id),children:"Restaurar"}),h.jsx("button",{className:"glass-button text-red-600 border-red-600/30 py-1 px-2",onClick:()=>i(_e.id),children:h.jsx(Ha,{size:16})})]})]},_e.id))})]})}),h.jsx(br,{isOpen:Ge,onClose:()=>it(!1),title:"Historial de Ventas",fullscreen:B,children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",height:"100%"},children:[m?.role!=="cashier"&&h.jsxs("div",{className:"glass-panel p-4 bg-green-500/10 border-green-500/30 text-center",children:[h.jsx("span",{className:"text-xs text-green-400 font-bold",children:"VENTAS TOTALES (HOY)"}),h.jsxs("h2",{className:"text-3xl font-black text-green-500",children:["$",(t.sales||[]).reduce((_e,Ze)=>_e+Ze.total,0).toFixed(2)]})]}),h.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem"},children:(t.sales||[]).slice().reverse().slice(0,m?.role==="cashier"?4:void 0).map(_e=>h.jsxs("div",{className:"glass-panel p-3 text-xs bg-white/5 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("span",{className:"font-bold block",children:[new Date(_e.date).toLocaleTimeString()," - ",_e.cashier]}),h.jsxs("span",{className:"text-gray-400",children:[_e.items.length," productos | ",_e.paymentMethod]})]}),h.jsxs("span",{className:"text-lg font-black text-orange-400",children:["$",_e.total.toFixed(2)]})]},_e.id))})]})}),h.jsx(br,{isOpen:It,onClose:()=>pt(!1),title:"Enviar a Produccin",children:h.jsxs("div",{className:"flex flex-col gap-5 p-2",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Prioridad de la Orden"}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:["normal","priority","high"].map(_e=>h.jsx("button",{className:`p-3 rounded-lg text-xs font-bold border ${rn===_e?"bg-orange-600 border-orange-400":"bg-white/5 border-white/10"}`,onClick:()=>yn(_e),children:_e.toUpperCase()},_e))})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Tipo de Entrega"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{className:`p-4 rounded-xl flex flex-col items-center gap-2 border ${fn?"bg-white/5 border-white/10":"bg-orange-600 border-orange-400"}`,onClick:()=>Vr(!1),children:[h.jsx(cv,{size:24})," ",h.jsx("span",{className:"font-bold",children:"PARA AQU"})]}),h.jsxs("button",{className:`p-4 rounded-xl flex flex-col items-center gap-2 border ${fn?"bg-indigo-600 border-indigo-400":"bg-white/5 border-white/10"}`,onClick:()=>Vr(!0),children:[h.jsx(vu,{size:24})," ",h.jsx("span",{className:"font-bold",children:"PARA LLEVAR"})]})]})]}),h.jsx("button",{className:"primary-button p-4 text-xl font-black mt-2",onClick:Qe,children:"CONFIRMAR Y ENVIAR"})]})}),h.jsx(ZB,{isOpen:ae,onClose:()=>pe(!1),amount:X?.amount||0,debtAmount:X?.currency==="BS"?X.debtAmount*X.rate:X?.debtAmount,currency:X?.currency,denominationsConfig:X?.currency==="BS"?t.denominationsBS:t.denominationsUSD,onConfirm:(_e,Ze,ht,gt)=>{const Bt=X?.amount||0,Tt=Math.min(Ze,Bt);ue([...we,{...X,id:Date.now(),amount:Tt,denominations:_e,received:Ze,change:ht,changeMethod:gt}]),pe(!1),je(null),Y("")}}),h.jsx(Vte,{isOpen:Me,onClose:()=>wt(!1),onSelectClient:_e=>{me(_e.id),wt(!1)}}),B&&P&&h.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm",onClick:()=>N(!1)})]})},Hf=({columns:e,data:t,actions:r,onRowClick:n})=>h.jsxs("div",{className:"glass-panel no-scrollbar",style:{overflowX:"auto"},children:[h.jsxs("table",{className:"desktop-table",style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[h.jsx("thead",{children:h.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)",background:"rgba(0,0,0,0.2)"},children:[e.map((a,i)=>h.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"var(--text-secondary)",fontWeight:"600",whiteSpace:"nowrap"},children:a.header},i)),r&&h.jsx("th",{style:{padding:"0.75rem"}})]})}),h.jsx("tbody",{children:t.map((a,i)=>h.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:n?"pointer":"default",transition:"background 0.2s"},className:n?"row-clickable":"",onClick:s=>{n&&!s.target.closest("button")&&!s.target.closest("a")&&n(a)},children:[e.map((s,l)=>h.jsx("td",{style:{padding:"0.75rem",whiteSpace:"nowrap"},children:s.render?s.render(a):a[s.accessor]},l)),r&&h.jsx("td",{style:{padding:"0.75rem",textAlign:"right",whiteSpace:"nowrap"},children:r(a)})]},a.id||i))})]}),h.jsx("div",{className:"mobile-cards",style:{display:"none",flexDirection:"column",gap:"1rem"},children:t.map((a,i)=>h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255,255,255,0.03)",cursor:n?"pointer":"default"},onClick:s=>{n&&!s.target.closest("button")&&!s.target.closest("a")&&n(a)},children:[e.map((s,l)=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.05)",paddingBottom:"0.5rem"},children:[h.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:[s.header,":"]}),h.jsx("span",{style:{textAlign:"right",fontWeight:"500"},children:s.render?s.render(a):a[s.accessor]})]},l)),r&&h.jsx("div",{style:{marginTop:"1rem",display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:r(a)})]},a.id||i))}),h.jsx("style",{children:`
                @media (max-width: 768px) {
                    .desktop-table { display: none !important; }
                    .mobile-cards { display: flex !important; }
                }
                .row-clickable:hover {
                    background: rgba(255, 255, 255, 0.03) !important;
                }
            `})]}),Hte=()=>{const{data:e,addItem:t,deleteItem:r,updateItem:n,uploadToDrive:a}=ea();e.inventory;const{confirm:i,alert:s}=qn(),[l,u]=T.useState(!1),[f,d]=T.useState(null),[m,g]=T.useState(!1),[x,b]=T.useState({supplierId:"",paymentCondition:"Contado",invoiceNumber:"",date:new Date().toISOString().split("T")[0]}),[_,y]=T.useState([]),[w,C]=T.useState({name:"",quantity:"",unit:"Litros",costPrice:"",hasIVA:!1}),A=async N=>{await i({title:"Eliminar tem",message:"Ests seguro de eliminar este tem?"})&&r("inventory",N)},O=async()=>{if(!w.name||!w.quantity||!w.costPrice)return await s({title:"Datos incompletos",message:"Completa nombre, cantidad y precio"});const N={id:Date.now(),name:w.name,quantity:parseFloat(w.quantity),unit:w.unit,costPrice:parseFloat(w.costPrice),hasIVA:w.hasIVA};y([..._,N]),C({name:"",quantity:"",unit:"Litros",costPrice:"",hasIVA:!1})},F=N=>{y(_.filter(B=>B.id!==N))},M=N=>N.quantity*N.costPrice,j=N=>N.hasIVA?M(N)*.16:0,k=N=>M(N)+j(N),R={subtotal:_.reduce((N,B)=>N+M(B),0),iva:_.reduce((N,B)=>N+j(B),0),total:_.reduce((N,B)=>N+k(B),0)},I=async()=>{if(!x.supplierId)return await s({title:"Error",message:"Debes seleccionar un proveedor"});if(_.length===0)return await s({title:"Error",message:"Debes agregar al menos un producto"});if(!f)return await s({title:"Foto requerida",message:" La foto de la factura es OBLIGATORIA"});g(!0);const N=await a(f,"Facturas Inventario");if(g(!1),!N||!N.webViewLink)return await s({title:"Error de carga",message:"Error al subir la foto. Intenta de nuevo."});const B=N.webViewLink,oe={...x,items:_,totals:R,photo:B,timestamp:new Date().toISOString()};if(t("inventoryEntries",oe),_.forEach(he=>{const ne=e.inventory.find(de=>de.name.toLowerCase()===he.name.toLowerCase());if(ne){const de=ne.stock+he.quantity,be=de<10?"low":"ok";n("inventory",ne.id,{stock:de,status:be})}else{const de=he.quantity<10?"low":"ok";t("inventory",{name:he.name,category:"Materia Prima",stock:he.quantity,unit:he.unit,status:de,cost:he.costPrice})}}),x.paymentCondition==="Credito"){const he=e.suppliers.find(ne=>ne.id===parseInt(x.supplierId));if(he){const ne=(he.debt||0)+R.total;n("suppliers",he.id,{debt:ne})}}u(!1),b({supplierId:"",paymentCondition:"Contado",invoiceNumber:"",date:new Date().toISOString().split("T")[0]}),y([]),d(null),await s({title:"xito",message:" Entrada registrada exitosamente"})},P=[{header:"Nombre",accessor:"name"},{header:"Categora",accessor:"category"},{header:"Stock",accessor:"stock",render:N=>h.jsxs("span",{style:{fontWeight:"bold",color:N.status==="low"?"var(--accent-red)":"var(--text-primary)"},children:[N.stock," ",N.unit]})},{header:"Estado",accessor:"status",render:N=>h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.status==="ok"?h.jsx(yp,{size:16,color:"var(--accent-green)"}):h.jsx(xA,{size:16,color:"var(--accent-red)"}),h.jsx("span",{style:{color:N.status==="ok"?"var(--accent-green)":"var(--accent-red)"},children:N.status==="ok"?"Normal":"Bajo"})]})}];return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx("h1",{style:{fontSize:"2rem"},children:"Inventario"}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},onClick:()=>u(!0),children:[h.jsx(fs,{size:20}),"Registrar Entrada"]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.5rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Total Leche"}),h.jsxs("p",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:[e.inventory.find(N=>N.name.includes("Leche"))?.stock||0," L"]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Bajos de Stock"}),h.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--accent-red)"},children:e.inventory.filter(N=>N.status==="low").length})]})]}),h.jsx(Hf,{columns:P,data:e.inventory,actions:N=>h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-red)"},onClick:()=>A(N.id),title:"Eliminar",children:h.jsx(Ha,{size:18})})}),h.jsx(br,{isOpen:l,onClose:()=>{u(!1),y([]),d(null)},title:"Registrar Entrada de Inventario",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxHeight:"70vh",overflowY:"auto"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0, 242, 255, 0.05)"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.75rem",color:"var(--accent-blue)"},children:"Datos de la Factura"}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Proveedor *"}),h.jsxs("select",{className:"glass-input",value:x.supplierId,onChange:N=>b({...x,supplierId:N.target.value}),style:{fontSize:"0.9rem",padding:"0.5rem"},children:[h.jsx("option",{value:"",children:"Seleccionar..."}),e.suppliers.map(N=>h.jsx("option",{value:N.id,children:N.name},N.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Nro. Factura"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"opcional",value:x.invoiceNumber,onChange:N=>b({...x,invoiceNumber:N.target.value}),style:{fontSize:"0.9rem",padding:"0.5rem"}})]})]}),h.jsxs("div",{style:{marginTop:"0.75rem"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Condicin de Pago"}),h.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[h.jsx("input",{type:"radio",checked:x.paymentCondition==="Contado",onChange:()=>b({...x,paymentCondition:"Contado"})}),"Contado"]}),h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},children:[h.jsx("input",{type:"radio",checked:x.paymentCondition==="Credito",onChange:()=>b({...x,paymentCondition:"Credito"})}),"Crdito"]})]})]}),h.jsxs("div",{style:{marginTop:"0.75rem"},children:[h.jsxs("label",{style:{display:"block",marginBottom:"0.25rem",fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Foto de Factura ",h.jsx("span",{style:{color:"var(--accent-red)"},children:"* OBLIGATORIA"})]}),h.jsxs("label",{className:"glass-button",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"center",width:"100%",padding:"0.75rem"},children:[h.jsx(lv,{size:18}),f?" Foto Cargada - Cambiar":" Tomar/Subir Foto",h.jsx("input",{type:"file",accept:"image/*",capture:"environment",style:{display:"none"},onChange:N=>d(N.target.files[0])})]}),f&&h.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--accent-green)",marginTop:"0.25rem",textAlign:"center"},children:[" ",f.name]})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0,0,0,0.3)"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.75rem",color:"var(--accent-orange)"},children:"Productos de la Entrada"}),_.length>0&&h.jsx("div",{style:{marginBottom:"1rem",maxHeight:"200px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem"},children:_.map(N=>h.jsxs("div",{className:"glass-panel",style:{padding:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255,255,255,0.03)"},children:[h.jsxs("div",{style:{flex:1},children:[h.jsxs("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:"bold"},children:[N.name," ",N.hasIVA&&h.jsx("span",{style:{fontSize:"0.7rem",color:"var(--accent-orange)"},children:"(+IVA)"})]}),h.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-secondary)"},children:[N.quantity," ",N.unit,"  $",N.costPrice.toFixed(2)," =",h.jsxs("span",{style:{color:"var(--accent-green)",fontWeight:"bold"},children:[" $",k(N).toFixed(2)]})]})]}),h.jsx("button",{onClick:()=>F(N.id),className:"glass-button",style:{padding:"0.25rem",color:"var(--accent-red)"},children:h.jsx(Fs,{size:14})})]},N.id))}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[h.jsxs("div",{children:[h.jsx("input",{type:"text",list:"existing-products",className:"glass-input",placeholder:"Nombre del producto (escribe o selecciona) *",value:w.name,onChange:N=>{const B=N.target.value;C({...w,name:B});const oe=e.products.find(he=>he.name.toLowerCase()===B.toLowerCase());oe&&oe.unit&&C({...w,name:B,unit:oe.unit})},style:{fontSize:"0.9rem",padding:"0.5rem"}}),h.jsxs("datalist",{id:"existing-products",children:[e.products.map((N,B)=>h.jsx("option",{value:N.name,children:N.category},B)),e.inventory.map((N,B)=>h.jsx("option",{value:N.name,children:"Inventario"},`inv-${B}`))]}),h.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",margin:"0.25rem 0 0 0"},children:" Empieza a escribir para ver sugerencias"})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.5rem"},children:[h.jsx("input",{type:"number",className:"glass-input",placeholder:"Cantidad *",value:w.quantity,onChange:N=>C({...w,quantity:N.target.value}),style:{fontSize:"0.9rem",padding:"0.5rem"}}),h.jsxs("select",{className:"glass-input",value:w.unit,onChange:N=>C({...w,unit:N.target.value}),style:{fontSize:"0.9rem",padding:"0.5rem"},children:[h.jsx("option",{children:"Litros"}),h.jsx("option",{children:"Kilos"}),h.jsx("option",{children:"Unidades"}),h.jsx("option",{children:"Galones"})]}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"Costo ($) *",value:w.costPrice,onChange:N=>C({...w,costPrice:N.target.value}),style:{fontSize:"0.9rem",padding:"0.5rem"}})]}),h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.85rem"},children:[h.jsx("input",{type:"checkbox",checked:w.hasIVA,onChange:N=>C({...w,hasIVA:N.target.checked})}),"Este producto tiene IVA (16%)"]}),h.jsx("button",{onClick:O,className:"glass-button accent",style:{fontSize:"0.85rem",padding:"0.5rem",width:"100%"},children:"+ Agregar a la Lista"})]})]}),_.length>0&&h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0, 255, 0, 0.05)",border:"1px solid rgba(0, 255, 0, 0.2)"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",color:"var(--accent-green)"},children:"Resumen de Costos"}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.85rem",marginBottom:"0.25rem"},children:[h.jsx("span",{children:"Subtotal:"}),h.jsxs("span",{children:["$",R.subtotal.toFixed(2)]})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.85rem",marginBottom:"0.25rem",color:"var(--accent-orange)"},children:[h.jsx("span",{children:"IVA (16%):"}),h.jsxs("span",{children:["$",R.iva.toFixed(2)]})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.1rem",fontWeight:"bold",paddingTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[h.jsx("span",{children:"TOTAL:"}),h.jsxs("span",{style:{color:"var(--accent-green)"},children:["$",R.total.toFixed(2)]})]}),h.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem",marginBottom:0},children:[_.length," producto(s) en esta entrada"]})]}),h.jsx("button",{className:"glass-button primary",style:{width:"100%",padding:"0.75rem",fontSize:"1rem",fontWeight:"bold"},onClick:I,disabled:m||_.length===0||!f||!x.supplierId,children:m?"Subiendo Foto...":" Guardar Entrada Completa"}),(!f||_.length===0||!x.supplierId)&&h.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent-orange)",textAlign:"center"},children:[!x.supplierId&&h.jsx("p",{style:{margin:"0.25rem 0"},children:" Selecciona un proveedor"}),_.length===0&&h.jsx("p",{style:{margin:"0.25rem 0"},children:" Agrega al menos un producto"}),!f&&h.jsx("p",{style:{margin:"0.25rem 0"},children:" La foto es obligatoria"})]})]})})]})},y8=({products:e,onSelect:t,placeholder:r="Buscar producto..."})=>{const[n,a]=T.useState(""),[i,s]=T.useState(!1),l=e.filter(u=>u.name.toLowerCase().includes(n.toLowerCase())).slice(0,10);return h.jsxs("div",{style:{position:"relative",width:"100%"},children:[h.jsxs("div",{style:{position:"relative"},children:[h.jsx("input",{type:"text",className:"glass-input",placeholder:r,value:n,onChange:u=>{a(u.target.value),s(!0)},onFocus:()=>s(!0),style:{paddingRight:"2.5rem"}}),h.jsx("div",{style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",opacity:.5},children:h.jsx(Ou,{size:18})})]}),i&&n.length>0&&h.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:100,background:"#1a1a1a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginTop:"0.25rem",maxHeight:"200px",overflowY:"auto",boxShadow:"0 10px 25px rgba(0,0,0,0.5)"},children:[l.map(u=>h.jsxs("div",{onClick:()=>{t(u),a(""),s(!1)},style:{padding:"0.75rem",borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:"pointer",transition:"background 0.2s"},className:"hover-card",children:[h.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:u.name}),h.jsxs("div",{style:{fontSize:"0.75rem",opacity:.7},children:["Costo: $",u.costPrice?.toFixed(2)||"0.00"," | Venta: $",u.price?.toFixed(2)||"0.00"]})]},u.id)),l.length===0&&h.jsx("div",{style:{padding:"1rem",textAlign:"center",opacity:.5,fontSize:"0.85rem"},children:"No se encontraron productos"})]})]})},qte=()=>{const{data:e,addItem:t,deleteItem:r,updateItem:n,uploadToDrive:a}=ea();e.suppliers;const{confirm:i,alert:s}=qn(),[l,u]=T.useState(!1),[f,d]=T.useState(!1),[m,g]=T.useState(null),[x,b]=T.useState(!1),[_,y]=T.useState(!1),[w,C]=T.useState(!1),[A,O]=T.useState(null),[F,M]=T.useState(!1),[j,k]=T.useState(null),[R,I]=T.useState(null),P=e.suppliers.find(ce=>ce.id===j),N=P?.transactions?.find(ce=>ce.id===A),[B,oe]=T.useState(!1),[he,ne]=T.useState(null),[de,be]=T.useState("recent"),[we,ue]=T.useState({name:"",contact:"",phone:"",products:[],debt:0,lastDelivery:new Date().toLocaleDateString(),paymentMethod:"Efectivo",bankName:"",reference:""}),[U,Y]=T.useState({name:"",costPrice:"",salePrice:""}),[Z,q]=T.useState({supplierId:null,amount:"",source:"Caja Chica",reference:"",proof:null}),[se,me]=T.useState({supplierId:null,productId:"",quantity:"",costPrice:0}),ve=async ce=>{const Se=e.suppliers.find(Me=>Me.id===ce);if(Se&&(Se.debt||0)>0)return await s({title:"Accin Bloqueada",message:`No se puede eliminar al proveedor "${Se.name}" porque tiene una deuda pendiente de $${Se.debt.toFixed(2)}. Primero debes saldar la cuenta.`});await i({title:"Eliminar Proveedor",message:"Ests seguro de eliminar este proveedor?"})&&r("suppliers",ce)},H=ce=>{ue({name:ce.name||"",contact:ce.contact||"",phone:ce.phone||"",products:ce.products||[],debt:ce.debt||0,lastDelivery:ce.lastDelivery||new Date().toLocaleDateString(),paymentMethod:ce.paymentMethod||"Efectivo",bankName:ce.bankName||"",reference:ce.reference||""}),ne(ce.id),oe(!0),u(!0)},G=()=>{if(U.productId){const ce=(e.products||[]).find(Ye=>Ye.id==U.productId);if(!ce||we.products.some(Ye=>Ye.id==ce.id))return;const Se={id:ce.id,name:ce.name,costPrice:parseFloat(U.costPrice||ce.costPrice||0),salePrice:parseFloat(U.salePrice||ce.price||0),isNewInInventory:!1};ue({...we,products:[...we.products,Se]})}else if(U.name){const ce={id:Date.now(),name:U.name,costPrice:parseFloat(U.costPrice||0),salePrice:parseFloat(U.salePrice||0),isNewInInventory:!0};ue({...we,products:[...we.products,ce]})}else return;Y({productId:"",name:"",costPrice:"",salePrice:""})},ee=ce=>{ue({...we,products:we.products.filter(Se=>Se.id!==ce)})},ae=async()=>{if(!we.name)return await s({title:"Error",message:"El nombre es obligatorio"});let ce=he;if(B&&he)n("suppliers",he,we);else{const Se=Date.now();ce=Se,t("suppliers",{...we,id:Se})}we.products&&we.products.length>0&&we.products.forEach(Se=>{Se.isNewInInventory?t("products",{id:Se.id,name:Se.name,costPrice:Se.costPrice,price:Se.salePrice||0,stock:0,category:e.categories&&e.categories[0]?.id||"sin_categoria",supplierId:ce,showInPOS:!0}):n("products",Se.id,{supplierId:ce})}),u(!1),oe(!1),ne(null),ue({name:"",contact:"",phone:"",products:[],debt:0,lastDelivery:new Date().toLocaleDateString(),paymentMethod:"Efectivo",bankName:"",reference:""}),Y({name:"",costPrice:"",salePrice:""})},pe=ce=>{q({supplierId:ce.id,amount:"",inputCurrency:"USD",source:"Caja Chica",reference:"",note:"",proof:null}),d(!0)},X=(ce,Se,Ye)=>{const Me=ce.exchangeRate||e.exchangeRate||1,wt=ce.originalCurrency==="Bs"?ce.originalAmount:ce.amount*Me,Dt=ce.originalCurrency==="USD"?ce.originalAmount:ce.amount,Et=`*Confirmacin de Pago - La Autntica POS*

 *Fecha:* ${new Date(ce.date).toLocaleDateString()}
 *Proveedor:* ${Se}
`+(ce.originalCurrency==="Bs"?` *Monto:* ${wt.toLocaleString("es-VE",{minimumFractionDigits:2})} Bs ($${Dt.toFixed(2)})
`:` *Monto:* $${Dt.toFixed(2)} (${wt.toLocaleString("es-VE",{minimumFractionDigits:2})} Bs)
`)+` *Tasa:* ${Me.toFixed(2)} Bs/$
 *Mtodo:* ${ce.source}
`+(ce.reference?` *Ref:* ${ce.reference}
`:"")+(ce.note?` *Nota:* ${ce.note}
`:"")+(ce.proof&&!ce.proof.includes("Subiendo")&&!ce.proof.includes("Fall")||ce.localProof?` *Comprobante:* ${ce.proof?.startsWith("http")?ce.proof:ce.localProof}

`:`
`)+"Gracias por su confianza!",At=encodeURIComponent(Et),Ut=Ye?.replace(/\D/g,"")||"";window.open(`https://wa.me/${Ut}?text=${At}`,"_blank")},je=ce=>{const Se=ce.exchangeRate||e.exchangeRate,Ye=P?.name||"Proveedor",Me=ce.originalCurrency==="Bs"?ce.originalAmount:ce.amount*Se,wt=ce.originalCurrency==="USD"?ce.originalAmount:ce.amount,Dt=ce.proof?.startsWith("http")&&!ce.proof.includes("Subiendo")?ce.proof:ce.localProof,Et=encodeURIComponent(`Comprobante de Pago - ${Ye}`),At=encodeURIComponent(`Confirmacin de Pago - La Autntica POS

Fecha: ${new Date(ce.date).toLocaleDateString()}
Proveedor: ${Ye}
Monto: ${ce.originalCurrency==="Bs"?`${Me.toLocaleString()} Bs ($${wt.toFixed(2)})`:`$${wt.toFixed(2)} (${Me.toLocaleString()} Bs)`}
Mtodo: ${ce.source}
`+(ce.reference?`Referencia: ${ce.reference}
`:"")+(ce.note?`Nota: ${ce.note}
`:"")+(Dt?`Comprobante: ${Dt}
`:"")+"Gracias!");window.location.href=`mailto:?subject=${Et}&body=${At}`},He=async()=>{if(!Z.amount||Z.amount<=0)return await s({title:"Error",message:"El monto debe ser mayor a 0"});if(!Z.source)return await s({title:"Error",message:"Selecciona una fuente de pago"});if(!m)return await s({title:"Comprobante Obligatorio",message:"Debes adjuntar una foto del comprobante para registrar el pago."});const ce=e.suppliers.find(it=>it.id===Z.supplierId);if(!ce)return;const Se=e.exchangeRate||1,Ye=Z.inputCurrency==="Bs"?parseFloat(Z.amount)/Se:parseFloat(Z.amount);if(Ye>ce.debt+.01)return await s({title:"Error",message:"El monto no puede ser mayor a la deuda actual"});const Me=Math.max(0,ce.debt-Ye),wt=Date.now(),Dt=m,Et=URL.createObjectURL(Dt),At={id:wt,date:new Date().toISOString(),type:"Pago",amount:Ye,originalAmount:parseFloat(Z.amount),originalCurrency:Z.inputCurrency,source:Z.source,reference:Z.reference,note:Z.note,proof:" Subiendo...",localProof:Et,exchangeRate:Se,balanceAfter:Me};n("suppliers",ce.id,it=>({debt:Me,transactions:[At,...it.transactions||[]]})),d(!1),g(null),q(it=>({...it,amount:"",reference:"",note:""}));const Ut=wt+100;t("expenses",{id:Ut,date:new Date().toISOString(),description:`Pago a Proveedor: ${ce.name} ${Z.note?`- ${Z.note}`:""}`,category:"Pagos Proveedores",amount:Ye,method:Z.source,proof:m?" Subiendo...":"N/A",localProof:Et,supplierId:ce.id,transactionId:wt}),(async()=>{let it=null,bt=null;try{const xt=new FormData;xt.append("proof",Dt);const It=localStorage.getItem("pos_server_url")||`${window.location.protocol}//${window.location.hostname}:3001`;console.log(" Subiendo comprobante a:",`${It}/api/upload-proof`);const rn=await(await fetch(`${It}/api/upload-proof`,{method:"POST",body:xt})).json();rn.success&&(it=rn.url,n("suppliers",ce.id,yn=>({transactions:(yn.transactions||[]).map(fn=>fn.id===wt?{...fn,localProof:it,proof:fn.proof===" Subiendo..."?it:fn.proof}:fn)})),n("expenses",Ut,{proof:it}))}catch(xt){console.error("Local upload failed:",xt)}try{const xt=await a(Dt,"ERP La Autentica","Comprobantes Pago");xt&&xt.webViewLink?(bt=xt.webViewLink,n("suppliers",ce.id,It=>({transactions:(It.transactions||[]).map(pt=>pt.id===wt?{...pt,proof:bt,localProof:it||pt.localProof}:pt)})),n("expenses",Ut,{proof:bt})):it?n("suppliers",ce.id,It=>({transactions:(It.transactions||[]).map(pt=>pt.id===wt?{...pt,proof:it}:pt)})):(n("suppliers",ce.id,It=>({transactions:(It.transactions||[]).map(pt=>pt.id===wt?{...pt,proof:" Fall subida"}:pt)})),n("expenses",Ut,{proof:" Fall subida"}))}catch(xt){console.error("Cloud upload failed:",xt),it||n("suppliers",ce.id,It=>({transactions:(It.transactions||[]).map(pt=>pt.id===wt?{...pt,proof:" Fall subida"}:pt)}))}})(),await i({title:"Pago Registrado",message:"Deseas enviar el comprobante por WhatsApp al proveedor?",confirmText:"Enviar WhatsApp",cancelText:"Cerrar"})&&X(At,ce.name,ce.phone)},Be=ce=>{const Se=(e.products||[]).filter(Ye=>Ye.supplierId==ce.id);if(Se.length===0)return s({title:"Sin Productos",message:"No hay productos vinculados a este proveedor en el Inventario. Primero debes asignar al menos un producto a este proveedor."});me({supplierId:ce.id,productId:Se[0].id,quantity:"",costPrice:Se[0].costPrice||0}),y(!0)},Ke=async()=>{if(!se.quantity||se.quantity<=0)return await s({title:"Error",message:"Ingresa una cantidad vlida"});if(!R)return await s({title:"Foto Obligatoria",message:"Debes capturar o subir una foto de la mercanca recibida para continuar."});const ce=e.suppliers.find(At=>At.id===se.supplierId),Se=(e.products||[]).find(At=>At.id==se.productId);if(!Se)return await s({title:"Error",message:"Producto no encontrado en el inventario global."});const Ye=parseFloat(se.quantity),Me=Ye*(Se.costPrice||0),wt=Date.now(),Dt=URL.createObjectURL(R),Et=R;I(null),n("suppliers",ce.id,At=>({debt:(At.debt||0)+Me,transactions:[{id:wt,date:new Date().toISOString(),type:"Entrega",productId:Se.id,productName:Se.name,quantity:Ye,amount:Me,balanceAfter:(At.debt||0)+Me,proof:" Subiendo...",localProof:Dt},...At.transactions||[]]})),n("products",Se.id,At=>({stock:(At.stock||0)+Ye})),y(!1),(async()=>{let At="",Ut="";try{const Ge=new FormData;Ge.append("proof",Et);const it=localStorage.getItem("pos_server_url")||`${window.location.protocol}//${window.location.hostname}:3001`,xt=await(await fetch(`${it}/api/upload-proof`,{method:"POST",body:Ge})).json();xt.success&&(At=xt.url,n("suppliers",ce.id,It=>({transactions:(It.transactions||[]).map(pt=>pt.id===wt?{...pt,localProof:At,proof:pt.proof===" Subiendo..."?At:pt.proof}:pt)})))}catch(Ge){console.error("Local delivery photo upload failed:",Ge)}try{const Ge=await a(Et,"ERP La Autentica","Comprobantes Entrega");Ge&&Ge.webViewLink?(Ut=Ge.webViewLink,n("suppliers",ce.id,it=>({transactions:(it.transactions||[]).map(bt=>bt.id===wt?{...bt,proof:Ut,localProof:At||bt.localProof}:bt)}))):At||n("suppliers",ce.id,it=>({transactions:(it.transactions||[]).map(bt=>bt.id===wt?{...bt,proof:" Fall subida"}:bt)}))}catch(Ge){console.error("Drive delivery photo upload failed:",Ge)}})(),await s({title:"Entrega Registrada",message:`Se han aadido ${Ye} unidades de "${Se.name}" al inventario y se sumaron $${Me.toFixed(2)} a la deuda del proveedor.`})},Je=ce=>{k(ce.id),C(!0)},et=[...e.suppliers].sort((ce,Se)=>de==="debtHigh"?Se.debt-ce.debt:de==="debtLow"?ce.debt-Se.debt:de==="recent"?Se.id-ce.id:de==="old"?ce.id-Se.id:0),st=[{header:"Proveedor",accessor:"name",render:ce=>h.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold"},children:ce.name})},{header:"Contacto",accessor:"contact"},{header:"Productos",accessor:"products",render:ce=>h.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:[(ce.products||[]).length>0?ce.products.slice(0,2).map((Se,Ye)=>h.jsx("span",{style:{background:"rgba(0, 242, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",border:"1px solid rgba(0, 242, 255, 0.3)",color:"var(--accent-blue)"},children:Se.name},Ye)):h.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Sin productos"}),(ce.products||[]).length>2&&h.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["+",ce.products.length-2," ms"]})]})},{header:"ltima Entrega",accessor:"lastDelivery"},{header:"Deuda ($)",accessor:"debt",render:ce=>h.jsxs("span",{style:{fontWeight:"bold",color:ce.debt>0?"var(--accent-red)":"var(--accent-green)"},children:["$",ce.debt.toFixed(2)]})}],rt=ce=>h.jsxs("div",{style:{display:"flex",gap:"0.4rem",justifyContent:"flex-end"},children:[h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-orange)"},title:"Registrar Entrega",onClick:()=>Be(ce),children:h.jsx(_W,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-green)"},title:"Ver Libro Mayor",onClick:()=>Je(ce),children:h.jsx(yW,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},title:"Llamar",children:h.jsx(qR,{size:16})}),h.jsx("button",{className:"glass-button accent",style:{padding:"0.5rem"},title:"Registrar Pago",onClick:()=>pe(ce),children:h.jsx(gh,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-blue)"},title:"Editar",onClick:()=>H(ce),children:h.jsx(bp,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-red)"},title:"Eliminar",onClick:()=>ve(ce.id),children:h.jsx(Ha,{size:16})})]});return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx("h1",{style:{fontSize:"2rem"},children:"Proveedores"}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},onClick:()=>u(!0),children:[h.jsx(fs,{size:20}),"Nuevo Proveedor"]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.5rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Deuda Total"}),h.jsxs("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--accent-red)"},children:["$",e.suppliers.reduce((ce,Se)=>ce+Se.debt,0).toFixed(2)]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Proveedores"}),h.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:e.suppliers.length})]})]}),h.jsx("div",{style:{display:"flex",gap:"0.5rem",overflowX:"auto",paddingBottom:"0.5rem"},children:[{id:"recent",label:"Ms Reciente"},{id:"old",label:"Ms Antiguo"},{id:"debtHigh",label:"Mayor Deuda"},{id:"debtLow",label:"Menor Deuda"}].map(ce=>h.jsx("button",{className:`glass-button ${de===ce.id?"active":""}`,onClick:()=>be(ce.id),style:{fontSize:"0.85rem",background:de===ce.id?"rgba(255,255,255,0.15)":"transparent",borderColor:de===ce.id?"var(--accent-blue)":"rgba(255,255,255,0.1)"},children:ce.label},ce.id))}),h.jsx(Hf,{columns:st,data:et,actions:rt,onRowClick:Je}),h.jsx(br,{isOpen:f,onClose:()=>d(!1),title:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",paddingRight:"1rem"},children:[h.jsx("span",{children:"Registrar Pago a Proveedor"}),h.jsxs("div",{style:{fontSize:"0.75rem",background:"rgba(255,165,0,0.1)",color:"var(--accent-orange)",padding:"0.2rem 0.6rem",borderRadius:"20px",border:"1px solid rgba(255,165,0,0.2)",fontWeight:"bold"},children:["Tasa: ",e.exchangeRate.toFixed(2)," Bs/$"]})]}),children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[h.jsxs("label",{style:{color:"var(--text-secondary)"},children:["Monto a Pagar (",Z.inputCurrency==="USD"?"$":"Bs",")"]}),h.jsxs("div",{style:{display:"flex",background:"rgba(255,255,255,0.05)",borderRadius:"8px",padding:"2px"},children:[h.jsx("button",{className:`glass-button ${Z.inputCurrency==="USD"?"active":""}`,style:{padding:"0.2rem 0.6rem",fontSize:"0.7rem",border:"none",background:Z.inputCurrency==="USD"?"var(--accent-blue)":"transparent",color:Z.inputCurrency==="USD"?"#000":"#fff"},onClick:()=>q({...Z,inputCurrency:"USD"}),children:"$"}),h.jsx("button",{className:`glass-button ${Z.inputCurrency==="Bs"?"active":""}`,style:{padding:"0.2rem 0.6rem",fontSize:"0.7rem",border:"none",background:Z.inputCurrency==="Bs"?"var(--accent-blue)":"transparent",color:Z.inputCurrency==="Bs"?"#000":"#fff"},onClick:()=>q({...Z,inputCurrency:"Bs"}),children:"Bs"})]})]}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"0.00",value:Z.amount,onChange:ce=>q({...Z,amount:ce.target.value})}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",marginTop:"0.25rem"},children:[h.jsxs("span",{style:{color:"var(--text-secondary)"},children:[Z.inputCurrency==="USD"?"Equiv. Bs: ":"Equiv. USD: ",h.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold"},children:Z.inputCurrency==="USD"?`${((parseFloat(Z.amount)||0)*(e.exchangeRate||1)).toLocaleString("es-VE",{minimumFractionDigits:2})} Bs`:`$${((parseFloat(Z.amount)||0)/(e.exchangeRate||1)).toFixed(2)}`})]}),h.jsxs("span",{style:{color:"var(--text-secondary)"},children:["Deuda: ",h.jsxs("span",{style:{color:"var(--accent-red)",fontWeight:"bold"},children:["$",e.suppliers.find(ce=>ce.id===Z.supplierId)?.debt.toFixed(2),h.jsxs("span",{style:{fontSize:"0.7rem",marginLeft:"0.25rem"},children:["(",((e.suppliers.find(ce=>ce.id===Z.supplierId)?.debt||0)*(e.exchangeRate||1)).toLocaleString("es-VE",{minimumFractionDigits:0})," Bs)"]})]})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Fuente de Pago"}),h.jsxs("select",{className:"glass-input",value:Z.source,onChange:ce=>q({...Z,source:ce.target.value}),children:[h.jsx("option",{value:"",children:"-- Seleccionar --"}),(e.paymentMethods||[]).map(ce=>h.jsx("option",{value:ce.name,children:ce.name},ce.id))]})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[h.jsxs("div",{style:{flex:1},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Referencia"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ref...",value:Z.reference,onChange:ce=>q({...Z,reference:ce.target.value})})]}),h.jsxs("div",{style:{flex:2},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nota / Observacin"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"...",value:Z.note||"",onChange:ce=>q({...Z,note:ce.target.value})})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Comprobante (Obligatorio) "}),h.jsx("input",{type:"file",accept:"image/*",onChange:ce=>g(ce.target.files[0]),style:{color:"var(--text-secondary)"}})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:He,disabled:x,children:x?"Subiendo...":"Confirmar Pago"})]})}),h.jsx(br,{isOpen:l,onClose:()=>{u(!1),oe(!1),ne(null),ue({name:"",contact:"",phone:"",products:[],debt:0,lastDelivery:new Date().toLocaleDateString(),paymentMethod:"Efectivo",bankName:"",reference:""}),Y({name:"",costPrice:"",salePrice:""})},title:B?"Editar Proveedor":"Registrar Nuevo Proveedor",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nombre del Proveedor"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej: Distribuidora, Lcteos, etc.",value:we.name,onChange:ce=>ue({...we,name:ce.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Persona de Contacto"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Nombre y Apellido",value:we.contact,onChange:ce=>ue({...we,contact:ce.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Telfono"}),h.jsx("input",{type:"tel",className:"glass-input",placeholder:"0414-XXXXXXX",value:we.phone,onChange:ce=>ue({...we,phone:ce.target.value})})]}),h.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"1rem",background:"rgba(0,0,0,0.2)"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.75rem",color:"var(--accent-blue)"},children:"Productos que Suministra"}),we.products.length>0&&h.jsx("div",{style:{marginBottom:"1rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:we.products.map(ce=>h.jsxs("div",{className:"glass-panel",style:{padding:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255,255,255,0.03)"},children:[h.jsxs("div",{style:{flex:1},children:[h.jsx("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:"bold"},children:ce.name}),h.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-secondary)"},children:["Costo: ",h.jsxs("span",{style:{color:"var(--accent-orange)"},children:["$",ce.costPrice.toFixed(2)]}),ce.salePrice>0&&h.jsxs("span",{style:{marginLeft:"1rem"},children:["| Venta: ",h.jsxs("span",{style:{color:"var(--accent-green)"},children:["$",ce.salePrice.toFixed(2)]})]})]})]}),h.jsx("button",{onClick:()=>ee(ce.id),className:"glass-button",style:{padding:"0.25rem 0.5rem",color:"var(--accent-red)"},children:h.jsx(Ha,{size:14})})]},ce.id))}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[h.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:h.jsxs("select",{className:"glass-input",value:U.productId,onChange:ce=>{const Se=(e.products||[]).find(Ye=>Ye.id==ce.target.value);Y({...U,productId:ce.target.value,name:Se?.name||"",costPrice:Se?.costPrice||"",salePrice:Se?.price||""})},style:{flex:1,fontSize:"0.9rem"},children:[h.jsx("option",{value:"",children:"-- Vincular Producto del Inventario --"}),(e.products||[]).filter(ce=>!ce.supplierId||ce.supplierId==(he||"")).sort((ce,Se)=>ce.name.localeCompare(Se.name)).map(ce=>h.jsxs("option",{value:ce.id,children:[ce.name," ($",(ce.costPrice||0).toFixed(2),")"]},ce.id))]})}),h.jsxs("div",{style:{marginBottom:"0.5rem"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.85rem"},children:"O escribe un nuevo nombre:"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Nombre de producto nuevo...",value:U.name,onChange:ce=>Y({...U,name:ce.target.value,productId:""}),style:{fontSize:"0.9rem"}})]}),h.jsxs("div",{style:{marginBottom:"1rem"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Buscador de Productos"}),h.jsx(y8,{products:(e.products||[]).filter(ce=>!ce.supplierId||ce.supplierId==(he||"")),onSelect:ce=>{Y({...U,productId:ce.id,name:ce.name,costPrice:ce.costPrice||"",salePrice:ce.price||""})},placeholder:"Escribe para buscar..."})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[h.jsx("input",{type:"number",className:"glass-input",placeholder:"Confirmar Costo ($)",value:U.costPrice,onChange:ce=>Y({...U,costPrice:ce.target.value}),style:{fontSize:"0.85rem"}}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"Confirmar Venta ($)",value:U.salePrice,onChange:ce=>Y({...U,salePrice:ce.target.value}),style:{fontSize:"0.85rem"}})]}),h.jsx("button",{onClick:G,className:"glass-button primary",style:{fontSize:"0.85rem",padding:"0.5rem"},children:"+ Agregar Producto"})]})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:ae,disabled:we.products.length===0,children:B?"Actualizar Proveedor":"Guardar Proveedor"}),we.products.length===0&&h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--accent-orange)",textAlign:"center",margin:"0.5rem 0 0 0"},children:" Debes agregar al menos un producto"})]})}),h.jsx(br,{isOpen:_,onClose:()=>y(!1),title:"Registrar Entrega de Producto",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Seleccionar Producto"}),h.jsx("div",{style:{marginBottom:"0.5rem"},children:h.jsx(y8,{products:(e.products||[]).filter(ce=>ce.supplierId==se.supplierId),onSelect:ce=>{me({...se,productId:ce.id,costPrice:ce.costPrice||0})},placeholder:"Buscar en productos de este proveedor..."})}),h.jsxs("select",{className:"glass-input",value:se.productId,onChange:ce=>{const Se=(e.products||[]).find(Ye=>Ye.id==ce.target.value);me({...se,productId:ce.target.value,costPrice:Se?.costPrice||0})},children:[h.jsx("option",{value:"",children:"-- Seleccionar --"}),(e.products||[]).filter(ce=>ce.supplierId==se.supplierId).map(ce=>h.jsxs("option",{value:ce.id,children:[ce.name," ($",(ce.costPrice||0).toFixed(2),")"]},ce.id))]}),(e.products||[]).filter(ce=>ce.supplierId==se.supplierId).length===0&&h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--accent-orange)",marginTop:"0.5rem"},children:"Nota: Este proveedor no tiene productos asignados en el inventario."})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Cantidad (Unidades / Litros / Kg)"}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"0.00",value:se.quantity,onChange:ce=>me({...se,quantity:ce.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Foto de Mercanca (Obligatoria)"}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",overflow:"hidden",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",border:`2px ${R?"solid var(--accent-green)":"dashed rgba(255,255,255,0.2)"}`},children:R?h.jsx("img",{src:URL.createObjectURL(R),alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):h.jsx(lv,{size:24,color:"var(--text-secondary)"})}),h.jsxs("label",{className:"glass-button",style:{cursor:"pointer",flex:1,textAlign:"center",borderColor:"var(--accent-blue)"},children:[R?"Cambiar Foto":"Tomar/Subir Foto",h.jsx("input",{type:"file",accept:"image/*",capture:"environment",style:{display:"none"},onChange:ce=>I(ce.target.files[0])})]})]})]}),h.jsx("div",{className:"glass-panel",style:{padding:"0.75rem",background:"rgba(255,165,0,0.05)",border:"1px solid rgba(255,165,0,0.1)"},children:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.85rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Total a sumar a deuda:"}),h.jsxs("span",{style:{fontWeight:"bold",color:"var(--accent-orange)"},children:["$",((parseFloat(se.quantity)||0)*(se.costPrice||0)).toFixed(2)]})]})}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"0.5rem"},onClick:Ke,children:"Confirmar Entrega"})]})}),h.jsx(br,{isOpen:w,onClose:()=>C(!1),title:`Libro Mayor: ${e.suppliers.find(ce=>ce.id===j)?.name}`,children:e.suppliers.find(ce=>ce.id===j)&&(()=>{const ce=e.suppliers.find(Se=>Se.id===j);return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%",overflowX:"hidden"},children:[h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Deuda Actual"}),h.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--accent-red)"},children:["$",ce.debt.toFixed(2)]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Ultima Entrega"}),h.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:ce.lastDelivery})]})]}),h.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",overflowX:"hidden",width:"100%",display:"block"},children:h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.85rem",tableLayout:"fixed"},children:[h.jsx("thead",{style:{position:"sticky",top:0,background:"#111",zIndex:1},children:h.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[h.jsx("th",{style:{padding:"0.75rem"},children:"Fecha"}),h.jsx("th",{style:{padding:"0.75rem"},children:"Tipo"}),h.jsx("th",{style:{padding:"0.75rem"},children:"Detalle"}),h.jsx("th",{style:{padding:"0.75rem",textAlign:"right"},children:"Monto"}),h.jsx("th",{style:{padding:"0.75rem",textAlign:"right"},children:"Saldo"})]})}),h.jsx("tbody",{children:(ce.transactions||[]).length>0?ce.transactions.map((Se,Ye)=>h.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",cursor:"pointer"},onClick:()=>{O(Se.id),M(!0)},children:[h.jsx("td",{style:{padding:"0.75rem",opacity:.7},children:new Date(Se.date).toLocaleDateString()}),h.jsx("td",{style:{padding:"0.75rem"},children:h.jsx("span",{style:{padding:"0.15rem 0.4rem",borderRadius:"4px",fontSize:"0.7rem",background:Se.type==="Entrega"?"rgba(255,165,0,0.1)":"rgba(0,255,0,0.1)",color:Se.type==="Entrega"?"var(--accent-orange)":"var(--accent-green)"},children:Se.type})}),h.jsx("td",{style:{padding:"0.75rem"},children:Se.type==="Entrega"?h.jsxs("div",{style:{fontSize:"0.8rem"},children:[Se.quantity," x ",Se.productName]}):h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[h.jsx("div",{style:{fontSize:"0.8rem",fontWeight:"500"},children:Se.source}),Se.note&&h.jsx("div",{style:{fontSize:"0.7rem",color:"var(--accent-orange)",fontStyle:"italic"},children:Se.note}),h.jsxs("div",{style:{display:"flex",gap:"0.4rem",marginTop:"0.2rem",flexWrap:"wrap"},children:[(Se.proof||Se.localProof)&&Se.proof!=="N/A"&&(Se.proof?.includes("Subiendo")&&!Se.localProof?h.jsx("span",{style:{fontSize:"0.7rem",color:"var(--accent-orange)"},children:Se.proof}):Se.proof?.includes("Fall")&&!Se.localProof?h.jsx("span",{style:{fontSize:"0.7rem",color:"var(--accent-red)"},children:Se.proof}):h.jsx("a",{href:Se.proof?.startsWith("http")&&!Se.proof.includes("Subiendo")?Se.proof:Se.localProof,target:"_blank",rel:"noreferrer",className:"glass-button",style:{padding:"0.2rem 0.4rem",fontSize:"0.65rem",textDecoration:"none",color:"var(--accent-blue)"},onClick:Me=>Me.stopPropagation(),children:" Ver Comprobante"})),h.jsxs("button",{className:"glass-button",style:{padding:"0.2rem 0.5rem",fontSize:"0.65rem",color:"var(--accent-green)",display:"flex",alignItems:"center",gap:"0.25rem"},onClick:Me=>{Me.stopPropagation(),X(Se,ce.name,ce.phone)},children:[h.jsx(wG,{size:12})," WhatsApp"]}),h.jsxs("button",{className:"glass-button",style:{padding:"0.2rem 0.5rem",fontSize:"0.65rem",color:"#fff",display:"flex",alignItems:"center",gap:"0.25rem"},onClick:Me=>{Me.stopPropagation(),je(Se,ce.name)},children:[h.jsx(VR,{size:12})," Correo"]})]})]})}),h.jsxs("td",{style:{padding:"0.75rem",textAlign:"right"},children:[h.jsx("div",{style:{fontWeight:"bold"},children:Se.type==="Entrega"?`+$${Se.amount.toFixed(2)}`:`-$${Se.amount.toFixed(2)}`}),Se.originalCurrency==="Bs"&&h.jsxs("div",{style:{fontSize:"0.65rem",opacity:.6},children:["(",Se.originalAmount.toLocaleString("es-VE")," Bs)"]})]}),h.jsxs("td",{style:{padding:"0.75rem",textAlign:"right",opacity:.8},children:["$",Se.balanceAfter?.toFixed(2)||"---"]})]},Ye)):h.jsx("tr",{children:h.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:"No hay transacciones registradas."})})})]})})]})})()}),h.jsx(br,{isOpen:F,onClose:()=>M(!1),title:"Detalle de Transaccin",children:N&&h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Fecha:"}),h.jsx("span",{children:new Date(N.date).toLocaleString()})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Monto:"}),h.jsxs("div",{style:{textAlign:"right"},children:[h.jsxs("div",{style:{fontWeight:"bold",color:N.type==="Entrega"?"var(--accent-orange)":"var(--accent-green)"},children:[N.type==="Entrega"?"+":"-","$",N.amount.toFixed(2)]}),(N.originalCurrency==="Bs"||N.exchangeRate)&&h.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8,color:"var(--accent-blue)"},children:[" ",(N.originalCurrency==="Bs"?N.originalAmount:N.amount*(N.exchangeRate||e.exchangeRate)).toLocaleString("es-VE",{minimumFractionDigits:2})," Bs"]})]})]}),N.note&&h.jsxs("div",{style:{marginBottom:"1rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)",display:"block",marginBottom:"0.25rem"},children:"Nota:"}),h.jsx("div",{style:{background:"rgba(255,255,255,0.05)",padding:"0.75rem",borderRadius:"8px",fontStyle:"italic"},children:N.note})]}),N.reference&&h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Referencia:"}),h.jsx("code",{children:N.reference})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Deuda Restante:"}),h.jsxs("div",{style:{textAlign:"right"},children:[h.jsxs("div",{style:{fontWeight:"bold",color:"var(--text-primary)"},children:["$",N.balanceAfter?.toFixed(2)||"0.00"]}),h.jsxs("div",{style:{fontSize:"0.75rem",opacity:.6},children:[" ",(N.balanceAfter*(N.exchangeRate||e.exchangeRate)).toLocaleString("es-VE",{minimumFractionDigits:2})," Bs"]})]})]})]}),(N.proof||N.localProof)&&h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.5rem"},children:"Comprobante:"}),(N.proof?.includes("Subiendo")||N.proof?.includes("Fall"))&&!N.localProof?h.jsx("p",{style:{color:"var(--accent-orange)"},children:N.proof}):h.jsxs("div",{style:{position:"relative"},children:[h.jsx("img",{src:N.proof?.startsWith("http")&&!N.proof.includes("Subiendo")?N.proof:N.localProof,alt:"Comprobante",style:{maxWidth:"100%",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",cursor:"zoom-in"},onClick:()=>window.open(N.proof?.startsWith("http")&&!N.proof.includes("Subiendo")?N.proof:N.localProof,"_blank"),onError:ce=>{N.localProof&&ce.target.src!==N.localProof&&(console.log("Falla link prioridad, intentando backup local..."),ce.target.src=N.localProof)}}),N.proof?.includes("Fall")&&N.localProof&&h.jsx("div",{style:{position:"absolute",bottom:"10px",right:"10px",background:"rgba(0,0,0,0.7)",color:"var(--accent-orange)",padding:"2px 8px",borderRadius:"4px",fontSize:"0.6rem"},children:"Respaldo Local"})]})]})]})})]})};var us=1200,Wte=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],lC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},cC=function(e){Wte.indexOf(e)!=-1&&(lC[0]=e)};function Gte(){cC(1252)}var Ps=function(e){us=e,cC(e)};function JB(){Ps(1200),Gte()}function b8(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function eM(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Kte(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e[2*r]+(e[2*r+1]<<8));return t.join("")}function tM(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var fh=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?eM(e.slice(2)):t==254&&r==255?tM(e.slice(2)):t==65279?e.slice(1):e},Ng=function(t){return String.fromCharCode(t)},_8=function(t){return String.fromCharCode(t)},Xte=null,ic="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function w8(e){for(var t="",r=0,n=0,a=0,i=0,s=0,l=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,n=e.charCodeAt(f++),s=(r&3)<<4|n>>4,a=e.charCodeAt(f++),l=(n&15)<<2|a>>6,u=a&63,isNaN(n)?l=u=64:isNaN(a)&&(u=64),t+=ic.charAt(i)+ic.charAt(s)+ic.charAt(l)+ic.charAt(u);return t}function Li(e){var t="",r=0,n=0,a=0,i=0,s=0,l=0,u=0;if(e.slice(0,5)=="data:"){var f=e.slice(0,1024).indexOf(";base64,");f>-1&&(e=e.slice(f+8))}e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=ic.indexOf(e.charAt(f++)),s=ic.indexOf(e.charAt(f++)),r=i<<2|s>>4,t+=String.fromCharCode(r),l=ic.indexOf(e.charAt(f++)),n=(s&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),u=ic.indexOf(e.charAt(f++)),a=(l&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var qt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Dc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})(),Kh=(function(){if(typeof Buffer>"u")return!1;var e=Dc([65,0]);if(!e)return!1;var t=e.toString("utf16le");return t.length==1})();function bc(e){return qt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function E8(e){return qt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ni=function(t){return qt?Dc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function nl(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function uC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return uC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var rc=qt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Dc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)a=e[t].length,e[t]instanceof Uint8Array?n.set(e[t],r):typeof e[t]=="string"?n.set(new Uint8Array(Ni(e[t])),r):n.set(new Uint8Array(e[t]),r);return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Yte(e){for(var t=[],r=0,n=e.length+250,a=bc(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|l>>6&15|(s&3)<<4,a[r++]=128|l&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=bc(65535),n=65530)}return t.push(a.slice(0,r)),rc(t)}var xi=/\u0000/g,dh=/[\u0001-\u0006]/g;function ff(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Rs(e,t){var r=""+e;return r.length>=t?r:Jt("0",t-r.length)+r}function fC(e,t){var r=""+e;return r.length>=t?r:Jt(" ",t-r.length)+r}function Ov(e,t){var r=""+e;return r.length>=t?r:r+Jt(" ",t-r.length)}function Qte(e,t){var r=""+Math.round(e);return r.length>=t?r:Jt("0",t-r.length)+r}function Zte(e,t){var r=""+e;return r.length>=t?r:Jt("0",t-r.length)+r}var S8=Math.pow(2,32);function H0(e,t){if(e>S8||e<-S8)return Qte(e,t);var r=Math.round(e);return Zte(r,t)}function jv(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var A8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],__=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Jte(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var kt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},C8={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ere={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Nv(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,l=0,u=1,f=0,d=0,m=Math.floor(a);f<t&&(m=Math.floor(a),l=m*s+i,d=m*f+u,!(a-m<5e-8));)a=1/(a-m),i=s,s=l,u=f,f=d;if(d>t&&(f>t?(d=u,l=i):(d=f,l=s)),!r)return[0,n*l,d];var g=Math.floor(n*l/d);return[g,n*l-g*d,d]}function tre(e){var t=e.toPrecision(16);if(t.indexOf("e")>-1){var r=t.slice(0,t.indexOf("e"));return r=r.indexOf(".")>-1?r.slice(0,r.slice(0,2)=="0."?17:16):r.slice(0,15)+Jt("0",r.length-15),r+t.slice(t.indexOf("e"))}var n=t.indexOf(".")>-1?t.slice(0,t.slice(0,2)=="0."?17:16):t.slice(0,15)+Jt("0",t.length-15);return Number(n)}function Lo(e,t,r){if(e>2958465||e<0)return null;e=tre(e);var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),n<60&&(i=(i+6)%7),r&&(i=ire(u,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}function dC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function rre(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function nre(e){var t=e<0?12:11,r=dC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function are(e){var t=dC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Xh(e){if(!isFinite(e))return isNaN(e)?"#NUM!":"#DIV/0!";var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=nre(e):t===10?r=e.toFixed(10).substr(0,12):r=are(e),dC(rre(r.toUpperCase()))}function Iu(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Xh(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return zi(14,Jn(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function ire(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function sre(e,t,r,n){var a="",i=0,s=0,l=r.y,u,f=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:u=l%100,f=2;break;default:u=l%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return __[r.m-1][1];case 5:return __[r.m-1][0];default:return __[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return A8[r.q][0];default:return A8[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Rs(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Rs(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+(n==0?Math.round(r.S+r.u):r.S);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=l,f=1;break}var d=f>0?Rs(u,f):"";return d}function $o(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var rM=/%/g;function ore(e,t,r){var n=t.replace(rM,""),a=t.length-n.length;return Xo(e,n,r*Math.pow(10,2*a))+Jt("%",a)}function lre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function nM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+nM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,d){return u+f+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var aM=/# (\?+)( ?)\/( ?)(\d+)/;function cre(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(s===0?Jt(" ",e[1].length+1+e[4].length):fC(s,e[1].length)+e[2]+"/"+e[3]+Rs(l,e[4].length))}function ure(e,t,r){return r+(t===0?"":""+t)+Jt(" ",e[1].length+2+e[4].length)}var iM=/^#*0*\.([0#]+)/,sM=/\)[^)]*[0#]/,oM=/\(###\) ###\\?-####/;function Qa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function T8(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function k8(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function fre(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function dre(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ns(e,t,r){if(e.charCodeAt(0)===40&&!t.match(sM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ns("n",n,r):"("+ns("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return lre(e,t,r);if(t.indexOf("%")!==-1)return ore(e,t,r);if(t.indexOf("E")!==-1)return nM(t,r);if(t.charCodeAt(0)===36)return"$"+ns(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,l,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+H0(u,t.length);if(t.match(/^[#?]+$/))return a=H0(r,0),a==="0"&&(a=""),a.length>t.length?a:Qa(t.substr(0,t.length-a.length))+a;if(i=t.match(aM))return cre(i,u,f);if(t.match(/^#+0+$/))return f+H0(u,t.length-t.indexOf("0"));if(i=t.match(iM))return a=T8(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Qa(i[1])).replace(/\.$/,"."+Qa(i[1])).replace(/\.(\d*)$/,function(b,_){return"."+_+Jt("0",Qa(i[1]).length-_.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+T8(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+$o(H0(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ns(e,t,-r):$o(""+(Math.floor(r)+fre(r,i[1].length)))+"."+Rs(k8(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ns(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ff(ns(e,t.replace(/[\\-]/g,""),r)),s=0,ff(ff(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return s<a.length?a.charAt(s++):b==="0"?"0":""}));if(t.match(oM))return a=ns(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=Nv(u,Math.pow(10,s)-1,!1),a=""+f,d=Xo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Ov(l[2],s),d.length<i[4].length&&(d=Qa(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=Nv(u,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?fC(l[1],s)+i[2]+"/"+i[3]+Ov(l[2],s):Jt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=H0(r,0),t.length<=a.length?a:Qa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var m=t.indexOf(".")-s,g=t.length-a.length-m;return Qa(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=k8(r,i[1].length),r<0?"-"+ns(e,t,-r):$o(dre(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Rs(0,3-b.length):"")+b})+"."+Rs(s,i[1].length);switch(t){case"###,##0.00":return ns(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=$o(H0(u,0));return x!=="0"?f+x:"";case"###,###.00":return ns(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ns(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function hre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function pre(e,t,r){var n=t.replace(rM,""),a=t.length-n.length;return Xo(e,n,r*Math.pow(10,2*a))+Jt("%",a)}function lM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+lM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,d){return u+f+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function no(e,t,r){if(e.charCodeAt(0)===40&&!t.match(sM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?no("n",n,r):"("+no("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return hre(e,t,r);if(t.indexOf("%")!==-1)return pre(e,t,r);if(t.indexOf("E")!==-1)return lM(t,r);if(t.charCodeAt(0)===36)return"$"+no(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,l,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Rs(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Qa(t.substr(0,t.length-a.length))+a;if(i=t.match(aM))return ure(i,u,f);if(t.match(/^#+0+$/))return f+Rs(u,t.length-t.indexOf("0"));if(i=t.match(iM))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Qa(i[1])).replace(/\.$/,"."+Qa(i[1])),a=a.replace(/\.(\d*)$/,function(b,_){return"."+_+Jt("0",Qa(i[1]).length-_.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+$o(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+no(e,t,-r):$o(""+r)+"."+Jt("0",i[1].length);if(i=t.match(/^#,#*,#0/))return no(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ff(no(e,t.replace(/[\\-]/g,""),r)),s=0,ff(ff(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return s<a.length?a.charAt(s++):b==="0"?"0":""}));if(t.match(oM))return a=no(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=Nv(u,Math.pow(10,s)-1,!1),a=""+f,d=Xo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Ov(l[2],s),d.length<i[4].length&&(d=Qa(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=Nv(u,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?fC(l[1],s)+i[2]+"/"+i[3]+Ov(l[2],s):Jt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Qa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var m=t.indexOf(".")-s,g=t.length-a.length-m;return Qa(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+no(e,t,-r):$o(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Rs(0,3-b.length):"")+b})+"."+Rs(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=$o(""+u);return x!=="0"?f+x:"";default:if(t.match(/\.[0#?]*$/))return no(e,t.slice(0,t.lastIndexOf(".")),r)+Qa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Xo(e,t,r){return(r|0)===r?no(e,t,r):ns(e,t,r)}function mre(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var cM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ms(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":jv(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(cM))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function gre(e,t,r,n){for(var a=[],i="",s=0,l="",u="t",f,d,m,g="H";s<e.length;)switch(l=e.charAt(s)){case"G":if(!jv(e,s))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(m=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(m);a[a.length]={t:"t",v:i},++s;break;case"\\":var x=e.charAt(++s),b=x==="("||x===")"?x:"t";a[a.length]={t:b,v:x},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(f==null&&(f=Lo(t,r,e.charAt(s+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},u=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=Lo(t,r),f==null))return"";for(i=l;++s<e.length&&e.charAt(s).toLowerCase()===l;)i+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=g),a[a.length]={t:l,v:i},u=l;break;case"A":case"a":case"":var _={t:l,v:l};if(f==null&&(f=Lo(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(f!=null&&(_.v=f.H>=12?e.charAt(s+2):l),_.t="T",g="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(f!=null&&(_.v=f.H>=12?"PM":"AM"),_.t="T",s+=5,g="h"):e.substr(s,5).toUpperCase()==="/"?(f!=null&&(_.v=f.H>=12?"":""),_.t="T",s+=5,g="h"):(_.t="t",++s),f==null&&_.t==="T")return"";a[a.length]=_,u=l;break;case"[":for(i=l;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(cM)){if(f==null&&(f=Lo(t,r),f==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ms(e)||(a[a.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=l;++s<e.length&&(l=e.charAt(s))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++s<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(s))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++s)===l;)i+=l;a[a.length]={t:l,v:i},u=l;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++s;break}var y=0,w=0,C;for(s=a.length-1,u="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=g,u="h",y<1&&(y=1);break;case"s":(C=a[s].v.match(/\.0+$/))&&(w=Math.max(w,C[0].length-1),y=4),y<3&&(y=3);case"d":case"y":case"e":u=a[s].t;break;case"M":u=a[s].t,y<2&&(y=2);break;case"m":u==="s"&&(a[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[s].v.match(/[Hh]/)&&(y=1),y<2&&a[s].v.match(/[Mm]/)&&(y=2),y<3&&a[s].v.match(/[Ss]/)&&(y=3)}var A;switch(y){case 0:break;case 1:case 2:case 3:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H),f.H>=24&&(f.H=0,++f.D,A=Lo(f.D),A.u=f.u,A.S=f.S,A.M=f.M,A.H=f.H,f=A);break;case 4:switch(w){case 1:f.u=Math.round(f.u*10)/10;break;case 2:f.u=Math.round(f.u*100)/100;break;case 3:f.u=Math.round(f.u*1e3)/1e3;break}f.u>=1&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H),f.H>=24&&(f.H=0,++f.D,A=Lo(f.D),A.u=f.u,A.S=f.S,A.M=f.M,A.H=f.H,f=A);break}var O="",F;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=sre(a[s].t.charCodeAt(0),a[s].v,f,w),a[s].t="t";break;case"n":case"?":for(F=s+1;a[F]!=null&&((l=a[F].t)==="?"||l==="D"||(l===" "||l==="t")&&a[F+1]!=null&&(a[F+1].t==="?"||a[F+1].t==="t"&&a[F+1].v==="/")||a[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[F].v==="/"||a[F].v===" "&&a[F+1]!=null&&a[F+1].t=="?"));)a[s].v+=a[F].v,a[F]={v:"",t:";"},++F;O+=a[s].v,s=F-1;break;case"G":a[s].t="t",a[s].v=Iu(t,r);break}var M="",j,k;if(O.length>0){O.charCodeAt(0)==40?(j=t<0&&O.charCodeAt(0)===45?-t:t,k=Xo("n",O,j)):(j=t<0&&n>1?-t:t,k=Xo("n",O,j),j<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),F=k.length-1;var R=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){R=s;break}var I=a.length;if(R===a.length&&k.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(F>=a[s].v.length-1?(F-=a[s].v.length,a[s].v=k.substr(F+1,a[s].v.length)):F<0?a[s].v="":(a[s].v=k.substr(0,F+1),F=-1),a[s].t="t",I=s);F>=0&&I<a.length&&(a[I].v=k.substr(0,F+1)+a[I].v)}else if(R!==a.length&&k.indexOf("E")===-1){for(F=k.indexOf(".")-1,s=R;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===R?a[s].v.indexOf(".")-1:a[s].v.length-1,M=a[s].v.substr(d+1);d>=0;--d)F>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(M=k.charAt(F--)+M);a[s].v=M,a[s].t="t",I=s}for(F>=0&&I<a.length&&(a[I].v=k.substr(0,F+1)+a[I].v),F=k.indexOf(".")+1,s=R;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==R)){for(d=a[s].v.indexOf(".")>-1&&s===R?a[s].v.indexOf(".")+1:0,M=a[s].v.substr(0,d);d<a[s].v.length;++d)F<k.length&&(M+=k.charAt(F++));a[s].v=M,a[s].t="t",I=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(j=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Xo(a[s].t,a[s].v,j),a[s].t="t");var P="";for(s=0;s!==a.length;++s)a[s]!=null&&(P+=a[s].v);return P}var D8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function O8(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function xre(e,t){var r=mre(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(typeof t=="number"&&!isFinite(t)&&(t=0),r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(D8),l=r[1].match(D8);return O8(t,s)?[n,r[0]]:O8(t,l)?[n,r[1]]:[n,r[s!=null&&l!=null?2:1]]}return[n,i]}function zi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:kt)[e],n==null&&(n=r.table&&r.table[C8[e]]||kt[C8[e]]),n==null&&(n=ere[e]||"General");break}if(jv(n,0))return Iu(t,r);t instanceof Date&&(t=Jn(t,r.date1904));var a=xre(n,t);if(jv(a[1]))return Iu(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else{if(t===""||t==null)return"";if(isNaN(t)&&a[1].indexOf("0")>-1)return"#NUM!";if(!isFinite(t)&&a[1].indexOf("0")>-1)return"#DIV/0!"}return gre(a[1],t,r,a[0])}function vre(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(kt[r]==null){t<0&&(t=r);continue}if(kt[r]==e){t=r;break}}t<0&&(t=391)}return kt[t]=e,t}function uM(){kt=Jte()}var yre={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Iv=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function bre(e){var t=typeof e=="number"?kt[e]:e;return t=t.replace(Iv,"(\\d+)"),Iv.lastIndex=0,new RegExp("^"+t+"$")}function _re(e,t,r){var n=-1,a=-1,i=-1,s=-1,l=-1,u=-1;(t.match(Iv)||[]).forEach(function(m,g){var x=parseInt(r[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=x;break;case"d":i=x;break;case"h":s=x;break;case"s":u=x;break;case"m":s>=0?l=x:a=x;break}}),Iv.lastIndex=0,u>=0&&l==-1&&a>=0&&(l=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return s==-1&&l==-1&&u==-1?f:n==-1&&a==-1&&i==-1?d:f+"T"+d}var wre={"d.m":"d\\.m"};function bu(e,t){return vre(wre[e]||e,t)}var j8=(function(){var e={};e.version="1.2.0";function t(){for(var j=0,k=new Array(256),R=0;R!=256;++R)j=R,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,k[R]=j;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(j){var k=0,R=0,I=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)P[I]=j[I];for(I=0;I!=256;++I)for(R=j[I],k=256+I;k<4096;k+=256)R=P[k]=R>>>8^j[R&255];var N=[];for(I=1;I!=16;++I)N[I-1]=typeof Int32Array<"u"&&typeof P.subarray=="function"?P.subarray(I*256,I*256+256):P.slice(I*256,I*256+256);return N}var a=n(r),i=a[0],s=a[1],l=a[2],u=a[3],f=a[4],d=a[5],m=a[6],g=a[7],x=a[8],b=a[9],_=a[10],y=a[11],w=a[12],C=a[13],A=a[14];function O(j,k){for(var R=k^-1,I=0,P=j.length;I<P;)R=R>>>8^r[(R^j.charCodeAt(I++))&255];return~R}function F(j,k){for(var R=k^-1,I=j.length-15,P=0;P<I;)R=A[j[P++]^R&255]^C[j[P++]^R>>8&255]^w[j[P++]^R>>16&255]^y[j[P++]^R>>>24]^_[j[P++]]^b[j[P++]]^x[j[P++]]^g[j[P++]]^m[j[P++]]^d[j[P++]]^f[j[P++]]^u[j[P++]]^l[j[P++]]^s[j[P++]]^i[j[P++]]^r[j[P++]];for(I+=15;P<I;)R=R>>>8^r[(R^j[P++])&255];return~R}function M(j,k){for(var R=k^-1,I=0,P=j.length,N=0,B=0;I<P;)N=j.charCodeAt(I++),N<128?R=R>>>8^r[(R^N)&255]:N<2048?(R=R>>>8^r[(R^(192|N>>6&31))&255],R=R>>>8^r[(R^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,B=j.charCodeAt(I++)&1023,R=R>>>8^r[(R^(240|N>>8&7))&255],R=R>>>8^r[(R^(128|N>>2&63))&255],R=R>>>8^r[(R^(128|B>>6&15|(N&3)<<4))&255],R=R>>>8^r[(R^(128|B&63))&255]):(R=R>>>8^r[(R^(224|N>>12&15))&255],R=R>>>8^r[(R^(128|N>>6&63))&255],R=R>>>8^r[(R^(128|N&63))&255]);return~R}return e.table=r,e.bstr=O,e.buf=F,e.str=M,e})(),er=(function(){var t={};t.version="1.2.2";function r(W,le){for(var Q=W.split("/"),J=le.split("/"),ie=0,fe=0,Ce=Math.min(Q.length,J.length);ie<Ce;++ie){if(fe=Q[ie].length-J[ie].length)return fe;if(Q[ie]!=J[ie])return Q[ie]<J[ie]?-1:1}return Q.length-J.length}function n(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:n(W.slice(0,-1));var le=W.lastIndexOf("/");return le===-1?W:W.slice(0,le+1)}function a(W){if(W.charAt(W.length-1)=="/")return a(W.slice(0,-1));var le=W.lastIndexOf("/");return le===-1?W:W.slice(le+1)}function i(W,le){typeof le=="string"&&(le=new Date(le));var Q=le.getHours();Q=Q<<6|le.getMinutes(),Q=Q<<5|le.getSeconds()>>>1,W.write_shift(2,Q);var J=le.getFullYear()-1980;J=J<<4|le.getMonth()+1,J=J<<5|le.getDate(),W.write_shift(2,J)}function s(W){var le=W.read_shift(2)&65535,Q=W.read_shift(2)&65535,J=new Date,ie=Q&31;Q>>>=5;var fe=Q&15;Q>>>=4,J.setMilliseconds(0),J.setFullYear(Q+1980),J.setMonth(fe-1),J.setDate(ie);var Ce=le&31;le>>>=5;var Fe=le&63;return le>>>=6,J.setHours(le),J.setMinutes(Fe),J.setSeconds(Ce<<1),J}function l(W){Yn(W,0);for(var le={},Q=0;W.l<=W.length-4;){var J=W.read_shift(2),ie=W.read_shift(2),fe=W.l+ie,Ce={};switch(J){case 21589:Q=W.read_shift(1),Q&1&&(Ce.mtime=W.read_shift(4)),ie>5&&(Q&2&&(Ce.atime=W.read_shift(4)),Q&4&&(Ce.ctime=W.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break;case 1:{var Fe=W.read_shift(4),te=W.read_shift(4);Ce.usz=te*Math.pow(2,32)+Fe,Fe=W.read_shift(4),te=W.read_shift(4),Ce.csz=te*Math.pow(2,32)+Fe}break}W.l=fe,le[J]=Ce}return le}var u;function f(){return u||(u=Ere)}function d(W,le){if(W[0]==80&&W[1]==75)return Vr(W,le);if((W[0]|32)==109&&(W[1]|32)==105)return Ft(W,le);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var Q=3,J=512,ie=0,fe=0,Ce=0,Fe=0,te=0,ge=[],xe=W.slice(0,512);Yn(xe,0);var Ie=m(xe);switch(Q=Ie[0],Q){case 3:J=512;break;case 4:J=4096;break;case 0:if(Ie[1]==0)return Vr(W,le);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}J!==512&&(xe=W.slice(0,J),Yn(xe,28));var Ue=W.slice(0,J);g(xe,Q);var Qe=xe.read_shift(4,"i");if(Q===3&&Qe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Qe);xe.l+=4,Ce=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),Fe=xe.read_shift(4,"i"),ie=xe.read_shift(4,"i"),te=xe.read_shift(4,"i"),fe=xe.read_shift(4,"i");for(var qe=-1,Xe=0;Xe<109&&(qe=xe.read_shift(4,"i"),!(qe<0));++Xe)ge[Xe]=qe;var ct=x(W,J);y(te,fe,ct,J,ge);var cr=C(ct,Ce,ge,J);Ce<cr.length&&(cr[Ce].name="!Directory"),ie>0&&Fe!==B&&(cr[Fe].name="!MiniFAT"),cr[ge[0]].name="!FAT",cr.fat_addrs=ge,cr.ssz=J;var _e={},Ze=[],ht=[],gt=[];A(Ce,cr,ct,Ze,ie,_e,ht,Fe),b(ht,gt,Ze),Ze.shift();var Bt={FileIndex:ht,FullPaths:gt};return le&&le.raw&&(Bt.raw={header:Ue,sectors:ct}),Bt}function m(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(oe,"Header Signature: "),W.l+=16;var le=W.read_shift(2,"u");return[W.read_shift(2,"u"),le]}function g(W,le){var Q=9;switch(W.l+=2,Q=W.read_shift(2)){case 9:if(le!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(le!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function x(W,le){for(var Q=Math.ceil(W.length/le)-1,J=[],ie=1;ie<Q;++ie)J[ie-1]=W.slice(ie*le,(ie+1)*le);return J[Q-1]=W.slice(Q*le),J}function b(W,le,Q){for(var J=0,ie=0,fe=0,Ce=0,Fe=0,te=Q.length,ge=[],xe=[];J<te;++J)ge[J]=xe[J]=J,le[J]=Q[J];for(;Fe<xe.length;++Fe)J=xe[Fe],ie=W[J].L,fe=W[J].R,Ce=W[J].C,ge[J]===J&&(ie!==-1&&ge[ie]!==ie&&(ge[J]=ge[ie]),fe!==-1&&ge[fe]!==fe&&(ge[J]=ge[fe])),Ce!==-1&&(ge[Ce]=J),ie!==-1&&J!=ge[J]&&(ge[ie]=ge[J],xe.lastIndexOf(ie)<Fe&&xe.push(ie)),fe!==-1&&J!=ge[J]&&(ge[fe]=ge[J],xe.lastIndexOf(fe)<Fe&&xe.push(fe));for(J=1;J<te;++J)ge[J]===J&&(fe!==-1&&ge[fe]!==fe?ge[J]=ge[fe]:ie!==-1&&ge[ie]!==ie&&(ge[J]=ge[ie]));for(J=1;J<te;++J)if(W[J].type!==0){if(Fe=J,Fe!=ge[Fe])do Fe=ge[Fe],le[J]=le[Fe]+"/"+le[J];while(Fe!==0&&ge[Fe]!==-1&&Fe!=ge[Fe]);ge[J]=-1}for(le[0]+="/",J=1;J<te;++J)W[J].type!==2&&(le[J]+="/")}function _(W,le,Q){for(var J=W.start,ie=W.size,fe=[],Ce=J;Q&&ie>0&&Ce>=0;)fe.push(le.slice(Ce*N,Ce*N+N)),ie-=N,Ce=fu(Q,Ce*4);return fe.length===0?Bn(0):rc(fe).slice(0,W.size)}function y(W,le,Q,J,ie){var fe=B;if(W===B){if(le!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var Ce=Q[W],Fe=(J>>>2)-1;if(!Ce)return;for(var te=0;te<Fe&&(fe=fu(Ce,te*4))!==B;++te)ie.push(fe);le>=1&&y(fu(Ce,J-4),le-1,Q,J,ie)}}function w(W,le,Q,J,ie){var fe=[],Ce=[];ie||(ie=[]);var Fe=J-1,te=0,ge=0;for(te=le;te>=0;){ie[te]=!0,fe[fe.length]=te,Ce.push(W[te]);var xe=Q[Math.floor(te*4/J)];if(ge=te*4&Fe,J<4+ge)throw new Error("FAT boundary crossed: "+te+" 4 "+J);if(!W[xe])break;te=fu(W[xe],ge)}return{nodes:fe,data:L8([Ce])}}function C(W,le,Q,J){var ie=W.length,fe=[],Ce=[],Fe=[],te=[],ge=J-1,xe=0,Ie=0,Ue=0,Qe=0;for(xe=0;xe<ie;++xe)if(Fe=[],Ue=xe+le,Ue>=ie&&(Ue-=ie),!Ce[Ue]){te=[];var qe=[];for(Ie=Ue;Ie>=0;){qe[Ie]=!0,Ce[Ie]=!0,Fe[Fe.length]=Ie,te.push(W[Ie]);var Xe=Q[Math.floor(Ie*4/J)];if(Qe=Ie*4&ge,J<4+Qe)throw new Error("FAT boundary crossed: "+Ie+" 4 "+J);if(!W[Xe]||(Ie=fu(W[Xe],Qe),qe[Ie]))break}fe[Ue]={nodes:Fe,data:L8([te])}}return fe}function A(W,le,Q,J,ie,fe,Ce,Fe){for(var te=0,ge=J.length?2:0,xe=le[W].data,Ie=0,Ue=0,Qe;Ie<xe.length;Ie+=128){var qe=xe.slice(Ie,Ie+128);Yn(qe,64),Ue=qe.read_shift(2),Qe=xC(qe,0,Ue-ge),J.push(Qe);var Xe={name:Qe,type:qe.read_shift(1),color:qe.read_shift(1),L:qe.read_shift(4,"i"),R:qe.read_shift(4,"i"),C:qe.read_shift(4,"i"),clsid:qe.read_shift(16),state:qe.read_shift(4,"i"),start:0,size:0},ct=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);ct!==0&&(Xe.ct=O(qe,qe.l-8));var cr=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);cr!==0&&(Xe.mt=O(qe,qe.l-8)),Xe.start=qe.read_shift(4,"i"),Xe.size=qe.read_shift(4,"i"),Xe.size<0&&Xe.start<0&&(Xe.size=Xe.type=0,Xe.start=B,Xe.name=""),Xe.type===5?(te=Xe.start,ie>0&&te!==B&&(le[te].name="!StreamData")):Xe.size>=4096?(Xe.storage="fat",le[Xe.start]===void 0&&(le[Xe.start]=w(Q,Xe.start,le.fat_addrs,le.ssz)),le[Xe.start].name=Xe.name,Xe.content=le[Xe.start].data.slice(0,Xe.size)):(Xe.storage="minifat",Xe.size<0?Xe.size=0:te!==B&&Xe.start!==B&&le[te]&&(Xe.content=_(Xe,le[te].data,(le[Fe]||{}).data))),Xe.content&&Yn(Xe.content,0),fe[Qe]=Xe,Ce.push(Xe)}}function O(W,le){return new Date((Ii(W,le+4)/1e7*Math.pow(2,32)+Ii(W,le)/1e7-11644473600)*1e3)}function F(W,le){return f(),d(u.readFileSync(W),le)}function M(W,le){var Q=le&&le.type;switch(Q||qt&&Buffer.isBuffer(W)&&(Q="buffer"),Q||"base64"){case"file":return F(W,le);case"base64":return d(Ni(Li(W)),le);case"binary":return d(Ni(W),le)}return d(W,le)}function j(W,le){var Q=le||{},J=Q.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=J+"/",W.FileIndex[0]={name:J,type:5}),Q.CLSID&&(W.FileIndex[0].clsid=Q.CLSID),k(W)}function k(W){var le="Sh33tJ5";if(!er.find(W,"/"+le)){var Q=Bn(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,W.FileIndex.push({name:le,type:2,content:Q,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+le),R(W)}}function R(W,le){j(W);for(var Q=!1,J=!1,ie=W.FullPaths.length-1;ie>=0;--ie){var fe=W.FileIndex[ie];switch(fe.type){case 0:J?Q=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:J=!0,isNaN(fe.R*fe.L*fe.C)&&(Q=!0),fe.R>-1&&fe.L>-1&&fe.R==fe.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!le)){var Ce=new Date(1987,1,19),Fe=0,te=Object.create?Object.create(null):{},ge=[];for(ie=0;ie<W.FullPaths.length;++ie)te[W.FullPaths[ie]]=!0,W.FileIndex[ie].type!==0&&ge.push([W.FullPaths[ie],W.FileIndex[ie]]);for(ie=0;ie<ge.length;++ie){var xe=n(ge[ie][0]);for(J=te[xe];!J;){for(;n(xe)&&!te[n(xe)];)xe=n(xe);ge.push([xe,{name:a(xe).replace("/",""),type:1,clsid:ne,ct:Ce,mt:Ce,content:null}]),te[xe]=!0,xe=n(ge[ie][0]),J=te[xe]}}for(ge.sort(function(Qe,qe){return r(Qe[0],qe[0])}),W.FullPaths=[],W.FileIndex=[],ie=0;ie<ge.length;++ie)W.FullPaths[ie]=ge[ie][0],W.FileIndex[ie]=ge[ie][1];for(ie=0;ie<ge.length;++ie){var Ie=W.FileIndex[ie],Ue=W.FullPaths[ie];if(Ie.name=a(Ue).replace("/",""),Ie.L=Ie.R=Ie.C=-(Ie.color=1),Ie.size=Ie.content?Ie.content.length:0,Ie.start=0,Ie.clsid=Ie.clsid||ne,ie===0)Ie.C=ge.length>1?1:-1,Ie.size=0,Ie.type=5;else if(Ue.slice(-1)=="/"){for(Fe=ie+1;Fe<ge.length&&n(W.FullPaths[Fe])!=Ue;++Fe);for(Ie.C=Fe>=ge.length?-1:Fe,Fe=ie+1;Fe<ge.length&&n(W.FullPaths[Fe])!=n(Ue);++Fe);Ie.R=Fe>=ge.length?-1:Fe,Ie.type=1}else n(W.FullPaths[ie+1]||"")==n(Ue)&&(Ie.R=ie+1),Ie.type=2}}}function I(W,le){var Q=le||{};if(Q.fileType=="mad")return ai(W,Q);if(R(W),Q.fileType==="zip")return Cr(W,Q);var J=(function(Qe){for(var qe=0,Xe=0,ct=0;ct<Qe.FileIndex.length;++ct){var cr=Qe.FileIndex[ct];if(cr.content){var _e=cr.content.length;_e>0&&(_e<4096?qe+=_e+63>>6:Xe+=_e+511>>9)}}for(var Ze=Qe.FullPaths.length+3>>2,ht=qe+7>>3,gt=qe+127>>7,Bt=ht+Xe+Ze+gt,Tt=Bt+127>>7,xr=Tt<=109?0:Math.ceil((Tt-109)/127);Bt+Tt+xr+127>>7>Tt;)xr=++Tt<=109?0:Math.ceil((Tt-109)/127);var Vt=[1,xr,Tt,gt,Ze,Xe,qe,0];return Qe.FileIndex[0].size=qe<<6,Vt[7]=(Qe.FileIndex[0].start=Vt[0]+Vt[1]+Vt[2]+Vt[3]+Vt[4]+Vt[5])+(Vt[6]+7>>3),Vt})(W),ie=Bn(J[7]<<9),fe=0,Ce=0;{for(fe=0;fe<8;++fe)ie.write_shift(1,he[fe]);for(fe=0;fe<8;++fe)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),fe=0;fe<3;++fe)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,J[2]),ie.write_shift(4,J[0]+J[1]+J[2]+J[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,J[3]?J[0]+J[1]+J[2]-1:B),ie.write_shift(4,J[3]),ie.write_shift(-4,J[1]?J[0]-1:B),ie.write_shift(4,J[1]),fe=0;fe<109;++fe)ie.write_shift(-4,fe<J[2]?J[1]+fe:-1)}if(J[1])for(Ce=0;Ce<J[1];++Ce){for(;fe<236+Ce*127;++fe)ie.write_shift(-4,fe<J[2]?J[1]+fe:-1);ie.write_shift(-4,Ce===J[1]-1?B:Ce+1)}var Fe=function(Qe){for(Ce+=Qe;fe<Ce-1;++fe)ie.write_shift(-4,fe+1);Qe&&(++fe,ie.write_shift(-4,B))};for(Ce=fe=0,Ce+=J[1];fe<Ce;++fe)ie.write_shift(-4,de.DIFSECT);for(Ce+=J[2];fe<Ce;++fe)ie.write_shift(-4,de.FATSECT);Fe(J[3]),Fe(J[4]);for(var te=0,ge=0,xe=W.FileIndex[0];te<W.FileIndex.length;++te)xe=W.FileIndex[te],xe.content&&(ge=xe.content.length,!(ge<4096)&&(xe.start=Ce,Fe(ge+511>>9)));for(Fe(J[6]+7>>3);ie.l&511;)ie.write_shift(-4,de.ENDOFCHAIN);for(Ce=fe=0,te=0;te<W.FileIndex.length;++te)xe=W.FileIndex[te],xe.content&&(ge=xe.content.length,!(!ge||ge>=4096)&&(xe.start=Ce,Fe(ge+63>>6)));for(;ie.l&511;)ie.write_shift(-4,de.ENDOFCHAIN);for(fe=0;fe<J[4]<<2;++fe){var Ie=W.FullPaths[fe];if(!Ie||Ie.length===0){for(te=0;te<17;++te)ie.write_shift(4,0);for(te=0;te<3;++te)ie.write_shift(4,-1);for(te=0;te<12;++te)ie.write_shift(4,0);continue}xe=W.FileIndex[fe],fe===0&&(xe.start=xe.size?xe.start-1:B);var Ue=fe===0&&Q.root||xe.name;if(Ue.length>31&&(console.error("Name "+Ue+" will be truncated to "+Ue.slice(0,31)),Ue=Ue.slice(0,31)),ge=2*(Ue.length+1),ie.write_shift(64,Ue,"utf16le"),ie.write_shift(2,ge),ie.write_shift(1,xe.type),ie.write_shift(1,xe.color),ie.write_shift(-4,xe.L),ie.write_shift(-4,xe.R),ie.write_shift(-4,xe.C),xe.clsid)ie.write_shift(16,xe.clsid,"hex");else for(te=0;te<4;++te)ie.write_shift(4,0);ie.write_shift(4,xe.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,xe.start),ie.write_shift(4,xe.size),ie.write_shift(4,0)}for(fe=1;fe<W.FileIndex.length;++fe)if(xe=W.FileIndex[fe],xe.size>=4096)if(ie.l=xe.start+1<<9,qt&&Buffer.isBuffer(xe.content))xe.content.copy(ie,ie.l,0,xe.size),ie.l+=xe.size+511&-512;else{for(te=0;te<xe.size;++te)ie.write_shift(1,xe.content[te]);for(;te&511;++te)ie.write_shift(1,0)}for(fe=1;fe<W.FileIndex.length;++fe)if(xe=W.FileIndex[fe],xe.size>0&&xe.size<4096)if(qt&&Buffer.isBuffer(xe.content))xe.content.copy(ie,ie.l,0,xe.size),ie.l+=xe.size+63&-64;else{for(te=0;te<xe.size;++te)ie.write_shift(1,xe.content[te]);for(;te&63;++te)ie.write_shift(1,0)}if(qt)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function P(W,le){var Q=W.FullPaths.map(function(te){return te.toUpperCase()}),J=Q.map(function(te){var ge=te.split("/");return ge[ge.length-(te.slice(-1)=="/"?2:1)]}),ie=!1;le.charCodeAt(0)===47?(ie=!0,le=Q[0].slice(0,-1)+le):ie=le.indexOf("/")!==-1;var fe=le.toUpperCase(),Ce=ie===!0?Q.indexOf(fe):J.indexOf(fe);if(Ce!==-1)return W.FileIndex[Ce];var Fe=!fe.match(dh);for(fe=fe.replace(xi,""),Fe&&(fe=fe.replace(dh,"!")),Ce=0;Ce<Q.length;++Ce)if((Fe?Q[Ce].replace(dh,"!"):Q[Ce]).replace(xi,"")==fe||(Fe?J[Ce].replace(dh,"!"):J[Ce]).replace(xi,"")==fe)return W.FileIndex[Ce];return null}var N=64,B=-2,oe="d0cf11e0a1b11ae1",he=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",de={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function be(W,le,Q){f();var J=I(W,Q);u.writeFileSync(le,J)}function we(W){for(var le=new Array(W.length),Q=0;Q<W.length;++Q)le[Q]=String.fromCharCode(W[Q]);return le.join("")}function ue(W,le){var Q=I(W,le);switch(le&&le.type||"buffer"){case"file":return f(),u.writeFileSync(le.filename,Q),Q;case"binary":return typeof Q=="string"?Q:we(Q);case"base64":return w8(typeof Q=="string"?Q:we(Q));case"buffer":if(qt)return Buffer.isBuffer(Q)?Q:Dc(Q);case"array":return typeof Q=="string"?Ni(Q):Q}return Q}var U;function Y(W){try{var le=W.InflateRaw,Q=new le;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)U=W;else throw new Error("zlib does not expose bytesRead")}catch(J){console.error("cannot use native zlib: "+(J.message||J))}}function Z(W,le){if(!U)return yn(W,le);var Q=U.InflateRaw,J=new Q,ie=J._processChunk(W.slice(W.l),J._finishFlushFlag);return W.l+=J.bytesRead,ie}function q(W){return U?U.deflateRawSync(W):Ut(W)}var se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ve=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function H(W){var le=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(le>>16|le>>8|le)&255}for(var G=typeof Uint8Array<"u",ee=G?new Uint8Array(256):[],ae=0;ae<256;++ae)ee[ae]=H(ae);function pe(W,le){var Q=ee[W&255];return le<=8?Q>>>8-le:(Q=Q<<8|ee[W>>8&255],le<=16?Q>>>16-le:(Q=Q<<8|ee[W>>16&255],Q>>>24-le))}function X(W,le){var Q=le&7,J=le>>>3;return(W[J]|(Q<=6?0:W[J+1]<<8))>>>Q&3}function je(W,le){var Q=le&7,J=le>>>3;return(W[J]|(Q<=5?0:W[J+1]<<8))>>>Q&7}function He(W,le){var Q=le&7,J=le>>>3;return(W[J]|(Q<=4?0:W[J+1]<<8))>>>Q&15}function Be(W,le){var Q=le&7,J=le>>>3;return(W[J]|(Q<=3?0:W[J+1]<<8))>>>Q&31}function Ke(W,le){var Q=le&7,J=le>>>3;return(W[J]|(Q<=1?0:W[J+1]<<8))>>>Q&127}function Je(W,le,Q){var J=le&7,ie=le>>>3,fe=(1<<Q)-1,Ce=W[ie]>>>J;return Q<8-J||(Ce|=W[ie+1]<<8-J,Q<16-J)||(Ce|=W[ie+2]<<16-J,Q<24-J)||(Ce|=W[ie+3]<<24-J),Ce&fe}function et(W,le,Q){var J=le&7,ie=le>>>3;return J<=5?W[ie]|=(Q&7)<<J:(W[ie]|=Q<<J&255,W[ie+1]=(Q&7)>>8-J),le+3}function st(W,le,Q){var J=le&7,ie=le>>>3;return Q=(Q&1)<<J,W[ie]|=Q,le+1}function rt(W,le,Q){var J=le&7,ie=le>>>3;return Q<<=J,W[ie]|=Q&255,Q>>>=8,W[ie+1]=Q,le+8}function ce(W,le,Q){var J=le&7,ie=le>>>3;return Q<<=J,W[ie]|=Q&255,Q>>>=8,W[ie+1]=Q&255,W[ie+2]=Q>>>8,le+16}function Se(W,le){var Q=W.length,J=2*Q>le?2*Q:le+5,ie=0;if(Q>=le)return W;if(qt){var fe=E8(J);if(W.copy)W.copy(fe);else for(;ie<W.length;++ie)fe[ie]=W[ie];return fe}else if(G){var Ce=new Uint8Array(J);if(Ce.set)Ce.set(W);else for(;ie<Q;++ie)Ce[ie]=W[ie];return Ce}return W.length=J,W}function Ye(W){for(var le=new Array(W),Q=0;Q<W;++Q)le[Q]=0;return le}function Me(W,le,Q){var J=1,ie=0,fe=0,Ce=0,Fe=0,te=W.length,ge=G?new Uint16Array(32):Ye(32);for(fe=0;fe<32;++fe)ge[fe]=0;for(fe=te;fe<Q;++fe)W[fe]=0;te=W.length;var xe=G?new Uint16Array(te):Ye(te);for(fe=0;fe<te;++fe)ge[ie=W[fe]]++,J<ie&&(J=ie),xe[fe]=0;for(ge[0]=0,fe=1;fe<=J;++fe)ge[fe+16]=Fe=Fe+ge[fe-1]<<1;for(fe=0;fe<te;++fe)Fe=W[fe],Fe!=0&&(xe[fe]=ge[Fe+16]++);var Ie=0;for(fe=0;fe<te;++fe)if(Ie=W[fe],Ie!=0)for(Fe=pe(xe[fe],J)>>J-Ie,Ce=(1<<J+4-Ie)-1;Ce>=0;--Ce)le[Fe|Ce<<Ie]=Ie&15|fe<<4;return J}var wt=G?new Uint16Array(512):Ye(512),Dt=G?new Uint16Array(32):Ye(32);if(!G){for(var Et=0;Et<512;++Et)wt[Et]=0;for(Et=0;Et<32;++Et)Dt[Et]=0}(function(){for(var W=[],le=0;le<32;le++)W.push(5);Me(W,Dt,32);var Q=[];for(le=0;le<=143;le++)Q.push(8);for(;le<=255;le++)Q.push(9);for(;le<=279;le++)Q.push(7);for(;le<=287;le++)Q.push(8);Me(Q,wt,288)})();var At=(function(){for(var le=G?new Uint8Array(32768):[],Q=0,J=0;Q<ve.length-1;++Q)for(;J<ve[Q+1];++J)le[J]=Q;for(;J<32768;++J)le[J]=29;var ie=G?new Uint8Array(259):[];for(Q=0,J=0;Q<me.length-1;++Q)for(;J<me[Q+1];++J)ie[J]=Q;function fe(Fe,te){for(var ge=0;ge<Fe.length;){var xe=Math.min(65535,Fe.length-ge),Ie=ge+xe==Fe.length;for(te.write_shift(1,+Ie),te.write_shift(2,xe),te.write_shift(2,~xe&65535);xe-- >0;)te[te.l++]=Fe[ge++]}return te.l}function Ce(Fe,te){for(var ge=0,xe=0,Ie=G?new Uint16Array(32768):[];xe<Fe.length;){var Ue=Math.min(65535,Fe.length-xe);if(Ue<10){for(ge=et(te,ge,+(xe+Ue==Fe.length)),ge&7&&(ge+=8-(ge&7)),te.l=ge/8|0,te.write_shift(2,Ue),te.write_shift(2,~Ue&65535);Ue-- >0;)te[te.l++]=Fe[xe++];ge=te.l*8;continue}ge=et(te,ge,+(xe+Ue==Fe.length)+2);for(var Qe=0;Ue-- >0;){var qe=Fe[xe];Qe=(Qe<<5^qe)&32767;var Xe=-1,ct=0;if((Xe=Ie[Qe])&&(Xe|=xe&-32768,Xe>xe&&(Xe-=32768),Xe<xe))for(;Fe[Xe+ct]==Fe[xe+ct]&&ct<250;)++ct;if(ct>2){qe=ie[ct],qe<=22?ge=rt(te,ge,ee[qe+1]>>1)-1:(rt(te,ge,3),ge+=5,rt(te,ge,ee[qe-23]>>5),ge+=3);var cr=qe<8?0:qe-4>>2;cr>0&&(ce(te,ge,ct-me[qe]),ge+=cr),qe=le[xe-Xe],ge=rt(te,ge,ee[qe]>>3),ge-=3;var _e=qe<4?0:qe-2>>1;_e>0&&(ce(te,ge,xe-Xe-ve[qe]),ge+=_e);for(var Ze=0;Ze<ct;++Ze)Ie[Qe]=xe&32767,Qe=(Qe<<5^Fe[xe])&32767,++xe;Ue-=ct-1}else qe<=143?qe=qe+48:ge=st(te,ge,1),ge=rt(te,ge,ee[qe]),Ie[Qe]=xe&32767,++xe}ge=rt(te,ge,0)-1}return te.l=(ge+7)/8|0,te.l}return function(te,ge){return te.length<8?fe(te,ge):Ce(te,ge)}})();function Ut(W){var le=Bn(50+Math.floor(W.length*1.1)),Q=At(W,le);return le.slice(0,Q)}var Ge=G?new Uint16Array(32768):Ye(32768),it=G?new Uint16Array(32768):Ye(32768),bt=G?new Uint16Array(128):Ye(128),xt=1,It=1;function pt(W,le){var Q=Be(W,le)+257;le+=5;var J=Be(W,le)+1;le+=5;var ie=He(W,le)+4;le+=4;for(var fe=0,Ce=G?new Uint8Array(19):Ye(19),Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],te=1,ge=G?new Uint8Array(8):Ye(8),xe=G?new Uint8Array(8):Ye(8),Ie=Ce.length,Ue=0;Ue<ie;++Ue)Ce[se[Ue]]=fe=je(W,le),te<fe&&(te=fe),ge[fe]++,le+=3;var Qe=0;for(ge[0]=0,Ue=1;Ue<=te;++Ue)xe[Ue]=Qe=Qe+ge[Ue-1]<<1;for(Ue=0;Ue<Ie;++Ue)(Qe=Ce[Ue])!=0&&(Fe[Ue]=xe[Qe]++);var qe=0;for(Ue=0;Ue<Ie;++Ue)if(qe=Ce[Ue],qe!=0){Qe=ee[Fe[Ue]]>>8-qe;for(var Xe=(1<<7-qe)-1;Xe>=0;--Xe)bt[Qe|Xe<<qe]=qe&7|Ue<<3}var ct=[];for(te=1;ct.length<Q+J;)switch(Qe=bt[Ke(W,le)],le+=Qe&7,Qe>>>=3){case 16:for(fe=3+X(W,le),le+=2,Qe=ct[ct.length-1];fe-- >0;)ct.push(Qe);break;case 17:for(fe=3+je(W,le),le+=3;fe-- >0;)ct.push(0);break;case 18:for(fe=11+Ke(W,le),le+=7;fe-- >0;)ct.push(0);break;default:ct.push(Qe),te<Qe&&(te=Qe);break}var cr=ct.slice(0,Q),_e=ct.slice(Q);for(Ue=Q;Ue<286;++Ue)cr[Ue]=0;for(Ue=J;Ue<30;++Ue)_e[Ue]=0;return xt=Me(cr,Ge,286),It=Me(_e,it,30),le}function rn(W,le){if(W[0]==3&&!(W[1]&3))return[bc(le),2];for(var Q=0,J=0,ie=E8(le||1<<18),fe=0,Ce=ie.length>>>0,Fe=0,te=0;(J&1)==0;){if(J=je(W,Q),Q+=3,J>>>1)J>>1==1?(Fe=9,te=5):(Q=pt(W,Q),Fe=xt,te=It);else{Q&7&&(Q+=8-(Q&7));var ge=W[Q>>>3]|W[(Q>>>3)+1]<<8;if(Q+=32,ge>0)for(!le&&Ce<fe+ge&&(ie=Se(ie,fe+ge),Ce=ie.length);ge-- >0;)ie[fe++]=W[Q>>>3],Q+=8;continue}for(;;){!le&&Ce<fe+32767&&(ie=Se(ie,fe+32767),Ce=ie.length);var xe=Je(W,Q,Fe),Ie=J>>>1==1?wt[xe]:Ge[xe];if(Q+=Ie&15,Ie>>>=4,(Ie>>>8&255)===0)ie[fe++]=Ie;else{if(Ie==256)break;Ie-=257;var Ue=Ie<8?0:Ie-4>>2;Ue>5&&(Ue=0);var Qe=fe+me[Ie];Ue>0&&(Qe+=Je(W,Q,Ue),Q+=Ue),xe=Je(W,Q,te),Ie=J>>>1==1?Dt[xe]:it[xe],Q+=Ie&15,Ie>>>=4;var qe=Ie<4?0:Ie-2>>1,Xe=ve[Ie];for(qe>0&&(Xe+=Je(W,Q,qe),Q+=qe),!le&&Ce<Qe&&(ie=Se(ie,Qe+100),Ce=ie.length);fe<Qe;)ie[fe]=ie[fe-Xe],++fe}}}return le?[ie,Q+7>>>3]:[ie.slice(0,fe),Q+7>>>3]}function yn(W,le){var Q=W.slice(W.l||0),J=rn(Q,le);return W.l+=J[1],J[0]}function fn(W,le){if(W)typeof console<"u"&&console.error(le);else throw new Error(le)}function Vr(W,le){var Q=W;Yn(Q,0);var J=[],ie=[],fe={FileIndex:J,FullPaths:ie};j(fe,{root:le.root});for(var Ce=Q.length-4;(Q[Ce]!=80||Q[Ce+1]!=75||Q[Ce+2]!=5||Q[Ce+3]!=6)&&Ce>=0;)--Ce;Q.l=Ce+4,Q.l+=4;var Fe=Q.read_shift(2);Q.l+=6;var te=Q.read_shift(4);for(Q.l=te,Ce=0;Ce<Fe;++Ce){Q.l+=20;var ge=Q.read_shift(4),xe=Q.read_shift(4),Ie=Q.read_shift(2),Ue=Q.read_shift(2),Qe=Q.read_shift(2);Q.l+=8;var qe=Q.read_shift(4),Xe=l(Q.slice(Q.l+Ie,Q.l+Ie+Ue));Q.l+=Ie+Ue+Qe;var ct=Q.l;Q.l=qe+4,Xe&&Xe[1]&&((Xe[1]||{}).usz&&(xe=Xe[1].usz),(Xe[1]||{}).csz&&(ge=Xe[1].csz)),ia(Q,ge,xe,fe,Xe),Q.l=ct}return fe}function ia(W,le,Q,J,ie){W.l+=2;var fe=W.read_shift(2),Ce=W.read_shift(2),Fe=s(W);if(fe&8257)throw new Error("Unsupported ZIP encryption");for(var te=W.read_shift(4),ge=W.read_shift(4),xe=W.read_shift(4),Ie=W.read_shift(2),Ue=W.read_shift(2),Qe="",qe=0;qe<Ie;++qe)Qe+=String.fromCharCode(W[W.l++]);if(Ue){var Xe=l(W.slice(W.l,W.l+Ue));(Xe[21589]||{}).mt&&(Fe=Xe[21589].mt),(Xe[1]||{}).usz&&(xe=Xe[1].usz),(Xe[1]||{}).csz&&(ge=Xe[1].csz),ie&&((ie[21589]||{}).mt&&(Fe=ie[21589].mt),(ie[1]||{}).usz&&(xe=ie[1].usz),(ie[1]||{}).csz&&(ge=ie[1].csz))}W.l+=Ue;var ct=W.slice(W.l,W.l+ge);switch(Ce){case 8:ct=Z(W,xe);break;case 0:W.l+=ge;break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var cr=!1;fe&8&&(te=W.read_shift(4),te==134695760&&(te=W.read_shift(4),cr=!0),ge=W.read_shift(4),xe=W.read_shift(4)),ge!=le&&fn(cr,"Bad compressed size: "+le+" != "+ge),xe!=Q&&fn(cr,"Bad uncompressed size: "+Q+" != "+xe),Tr(J,Qe,ct,{unsafe:!0,mt:Fe})}function Cr(W,le){var Q=le||{},J=[],ie=[],fe=Bn(1),Ce=Q.compression?8:0,Fe=0,te=0,ge=0,xe=0,Ie=0,Ue=W.FullPaths[0],Qe=Ue,qe=W.FileIndex[0],Xe=[],ct=0;for(te=1;te<W.FullPaths.length;++te)if(Qe=W.FullPaths[te].slice(Ue.length),qe=W.FileIndex[te],!(!qe.size||!qe.content||Array.isArray(qe.content)&&qe.content.length==0||Qe=="Sh33tJ5")){var cr=xe,_e=Bn(Qe.length);for(ge=0;ge<Qe.length;++ge)_e.write_shift(1,Qe.charCodeAt(ge)&127);_e=_e.slice(0,_e.l),Xe[Ie]=typeof qe.content=="string"?j8.bstr(qe.content,0):j8.buf(qe.content,0);var Ze=typeof qe.content=="string"?Ni(qe.content):qe.content;Ce==8&&(Ze=q(Ze)),fe=Bn(30),fe.write_shift(4,67324752),fe.write_shift(2,20),fe.write_shift(2,Fe),fe.write_shift(2,Ce),qe.mt?i(fe,qe.mt):fe.write_shift(4,0),fe.write_shift(-4,Xe[Ie]),fe.write_shift(4,Ze.length),fe.write_shift(4,qe.content.length),fe.write_shift(2,_e.length),fe.write_shift(2,0),xe+=fe.length,J.push(fe),xe+=_e.length,J.push(_e),xe+=Ze.length,J.push(Ze),fe=Bn(46),fe.write_shift(4,33639248),fe.write_shift(2,0),fe.write_shift(2,20),fe.write_shift(2,Fe),fe.write_shift(2,Ce),fe.write_shift(4,0),fe.write_shift(-4,Xe[Ie]),fe.write_shift(4,Ze.length),fe.write_shift(4,qe.content.length),fe.write_shift(2,_e.length),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(4,0),fe.write_shift(4,cr),ct+=fe.l,ie.push(fe),ct+=_e.length,ie.push(_e),++Ie}return fe=Bn(22),fe.write_shift(4,101010256),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,Ie),fe.write_shift(2,Ie),fe.write_shift(4,ct),fe.write_shift(4,xe),fe.write_shift(2,0),rc([rc(J),rc(ie),fe])}var nn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dn(W,le){if(W.ctype)return W.ctype;var Q=W.name||"",J=Q.match(/\.([^\.]+)$/);return J&&nn[J[1]]||le&&(J=(Q=le).match(/[\.\\]([^\.\\])+$/),J&&nn[J[1]])?nn[J[1]]:"application/octet-stream"}function Kr(W){for(var le=w8(W),Q=[],J=0;J<le.length;J+=76)Q.push(le.slice(J,J+76));return Q.join(`\r
`)+`\r
`}function Ga(W){var le=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var xe=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});le=le.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),le.charAt(0)==`
`&&(le="=0D"+le.slice(1)),le=le.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],J=le.split(`\r
`),ie=0;ie<J.length;++ie){var fe=J[ie];if(fe.length==0){Q.push("");continue}for(var Ce=0;Ce<fe.length;){var Fe=76,te=fe.slice(Ce,Ce+Fe);te.charAt(Fe-1)=="="?Fe--:te.charAt(Fe-2)=="="?Fe-=2:te.charAt(Fe-3)=="="&&(Fe-=3),te=fe.slice(Ce,Ce+Fe),Ce+=Fe,Ce<fe.length&&(te+="="),Q.push(te)}}return Q.join(`\r
`)}function wi(W){for(var le=[],Q=0;Q<W.length;++Q){for(var J=W[Q];Q<=W.length&&J.charAt(J.length-1)=="=";)J=J.slice(0,J.length-1)+W[++Q];le.push(J)}for(var ie=0;ie<le.length;++ie)le[ie]=le[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(fe){return String.fromCharCode(parseInt(fe.slice(1),16))});return Ni(le.join(`\r
`))}function an(W,le,Q){for(var J="",ie="",fe="",Ce,Fe=0;Fe<10;++Fe){var te=le[Fe];if(!te||te.match(/^\s*$/))break;var ge=te.match(/^([^:]*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":J=ge[2].trim();break;case"content-type":fe=ge[2].trim();break;case"content-transfer-encoding":ie=ge[2].trim();break}}switch(++Fe,ie.toLowerCase()){case"base64":Ce=Ni(Li(le.slice(Fe).join("")));break;case"quoted-printable":Ce=wi(le.slice(Fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var xe=Tr(W,J.slice(Q.length),Ce,{unsafe:!0});fe&&(xe.ctype=fe)}function Ft(W,le){if(we(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=le&&le.root||"",J=(qt&&Buffer.isBuffer(W)?W.toString("binary"):we(W)).split(`\r
`),ie=0,fe="";for(ie=0;ie<J.length;++ie)if(fe=J[ie],!!/^Content-Location:/i.test(fe)&&(fe=fe.slice(fe.indexOf("file")),Q||(Q=fe.slice(0,fe.lastIndexOf("/")+1)),fe.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),fe.slice(0,Q.length)!=Q););var Ce=(J[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var Fe="--"+(Ce[1]||""),te=[],ge=[],xe={FileIndex:te,FullPaths:ge};j(xe);var Ie,Ue=0;for(ie=0;ie<J.length;++ie){var Qe=J[ie];Qe!==Fe&&Qe!==Fe+"--"||(Ue++&&an(xe,J.slice(Ie,ie),Q),Ie=ie)}return xe}function ai(W,le){var Q=le||{},J=Q.boundary||"SheetJS";J="------="+J;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+J.slice(2)+'"',"","",""],fe=W.FullPaths[0],Ce=fe,Fe=W.FileIndex[0],te=1;te<W.FullPaths.length;++te)if(Ce=W.FullPaths[te].slice(fe.length),Fe=W.FileIndex[te],!(!Fe.size||!Fe.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ct){return"_x"+ct.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ct){return"_u"+ct.charCodeAt(0).toString(16)+"_"});for(var ge=Fe.content,xe=qt&&Buffer.isBuffer(ge)?ge.toString("binary"):we(ge),Ie=0,Ue=Math.min(1024,xe.length),Qe=0,qe=0;qe<=Ue;++qe)(Qe=xe.charCodeAt(qe))>=32&&Qe<128&&++Ie;var Xe=Ie>=Ue*4/5;ie.push(J),ie.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+Ce),ie.push("Content-Transfer-Encoding: "+(Xe?"quoted-printable":"base64")),ie.push("Content-Type: "+dn(Fe,Ce)),ie.push(""),ie.push(Xe?Ga(xe):Kr(xe))}return ie.push(J+`--\r
`),ie.join(`\r
`)}function bn(W){var le={};return j(le,W),le}function Tr(W,le,Q,J){var ie=J&&J.unsafe;ie||j(W);var fe=!ie&&er.find(W,le);if(!fe){var Ce=W.FullPaths[0];le.slice(0,Ce.length)==Ce?Ce=le:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+le).replace("//","/")),fe={name:a(le),type:2},W.FileIndex.push(fe),W.FullPaths.push(Ce),ie||er.utils.cfb_gc(W)}return fe.content=Q,fe.size=Q?Q.length:0,J&&(J.CLSID&&(fe.clsid=J.CLSID),J.mt&&(fe.mt=J.mt),J.ct&&(fe.ct=J.ct)),fe}function sn(W,le){j(W);var Q=er.find(W,le);if(Q){for(var J=0;J<W.FileIndex.length;++J)if(W.FileIndex[J]==Q)return W.FileIndex.splice(J,1),W.FullPaths.splice(J,1),!0}return!1}function Gn(W,le,Q){j(W);var J=er.find(W,le);if(J){for(var ie=0;ie<W.FileIndex.length;++ie)if(W.FileIndex[ie]==J)return W.FileIndex[ie].name=a(Q),W.FullPaths[ie]=Q,!0}return!1}function kr(W){R(W,!0)}return t.find=P,t.read=M,t.parse=d,t.write=ue,t.writeFile=be,t.utils={cfb_new:bn,cfb_add:Tr,cfb_del:sn,cfb_mov:Gn,cfb_gc:kr,ReadShift:Sh,CheckField:PM,prep_blob:Yn,bconcat:rc,use_zlib:Y,_deflateRaw:Ut,_inflateRaw:yn,consts:de},t})(),Ere;function Sre(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||n.message.indexOf("onstruct")==-1)throw n}throw new Error("Cannot access file "+e)}function ds(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function hC(e){for(var t=[],r=ds(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var fM=Date.UTC(1899,11,30,0,0,0),Are=Date.UTC(1899,11,31,0,0,0),Cre=Date.UTC(1904,0,1,0,0,0);function Jn(e,t){var r=e.getTime(),n=(r-fM)/(1440*60*1e3);return t?(n-=1462,n<-1402?n-1:n):n<60?n-1:n}function dc(e){if(e>=60&&e<61)return e;var t=new Date;return t.setTime((e>60?e:e+1)*24*60*60*1e3+fM),t}function Tre(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var kre=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,Dre=/^(\d+)-(\d+)-(\d+)$/,dM=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function Oa(e,t){if(e instanceof Date)return e;var r=e.match(kre);if(r)return new Date((t?Cre:Are)+((parseInt(r[1],10)*60+parseInt(r[2],10))*60+(r[3]?parseInt(r[3].slice(1),10):0))*1e3+(r[4]?parseInt((r[4]+"000").slice(1,4),10):0));if(r=e.match(Dre),r)return new Date(Date.UTC(+r[1],+r[2]-1,+r[3],0,0,0,0));if(r=e.match(dM),r)return new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],r[6]&&parseInt(r[6].slice(1),10)||0,r[7]&&parseInt((r[7]+"0000").slice(1,4),10)||0));var n=new Date(e);return n}function Pu(e,t){if(qt&&Buffer.isBuffer(e)){if(t&&Kh){if(e[0]==255&&e[1]==254)return hh(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return hh(tM(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return hh(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return hh(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}var n=[],a=0;try{for(a=0;a<e.length-65536;a+=65536)n.push(String.fromCharCode.apply(0,e.slice(a,a+65536)));n.push(String.fromCharCode.apply(0,e.slice(a)))}catch{try{for(;a<e.length-16384;a+=16384)n.push(String.fromCharCode.apply(0,e.slice(a,a+16384)));n.push(String.fromCharCode.apply(0,e.slice(a)))}catch{for(;a!=e.length;++a)n.push(String.fromCharCode(e[a]))}}return n.join("")}function $n(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=$n(e[r]));return t}function Jt(e,t){for(var r="";r.length<t;)r+=e;return r}function Fi(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(]([^()]*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Ore=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,jre=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,Nre=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,Ire=new Date("6/9/69 00:00 UTC").valueOf()==-177984e5;function Pre(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],+e[4],parseFloat(e[3])*1e3)):new Date(Date.UTC(1899,11,31,e[7]=="p"?12:0,+e[1],+e[2],parseFloat(e[3])*1e3)):e[5]?new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],+e[5],e[6]?parseFloat(e[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1]%12+(e[7]=="p"?12:0),0,0,0))}function Rre(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[4],parseFloat(e[3])*1e3)):new Date(Date.UTC(1899,11,31,0,+e[1],+e[2],parseFloat(e[3])*1e3)):e[5]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[5],e[6]?parseFloat(e[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+e[1],+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1],0,0,0))}var Fre=["january","february","march","april","may","june","july","august","september","october","november","december"];function Yh(e){if(Nre.test(e))return e.indexOf("Z")==-1?ny(new Date(e)):new Date(e);var t=e.toLowerCase(),r=t.replace(/\s+/g," ").trim(),n=r.match(Ore);if(n)return Pre(n);if(n=r.match(jre),n)return Rre(n);if(n=r.match(dM),n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var a=new Date(Ire&&e.indexOf("UTC")==-1?e+" UTC":e),i=new Date(NaN),s=a.getYear();a.getMonth();var l=a.getDate();if(isNaN(l))return i;if(t.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(t=t.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),t.length>3&&Fre.indexOf(t)==-1)return i}else if(t.replace(/[ap]m?/,"").match(/[a-z]/))return i;return s<0||s>8099||e.match(/[^-0-9:,\/\\\ ]/)?i:a}var Bre=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],l=1;l<i.length;++l)s.push(a),s.push(i[l]);return s}})();function Ru(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function ny(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function pC(e){var t=e.slice(0,1024),r=t.indexOf("<!DOCTYPE");if(r==-1)return e;var n=e.match(/<[\w]/);return n?e.slice(0,r)+e.slice(n.index):e}function mC(e,t,r){for(var n=[],a=e.indexOf(t);a>-1;){var i=e.indexOf(r,a+t.length);if(i==-1)break;n.push(e.slice(a,i+r.length)),a=e.indexOf(t,i+r.length)}return n.length>0?n:null}function Cp(e,t,r){var n=[],a=0,i=e.indexOf(t);if(i==-1)return e;for(;i>-1;){n.push(e.slice(a,i));var s=e.indexOf(r,i+t.length);if(s==-1)break;(i=e.indexOf(t,a=s+r.length))==-1&&n.push(e.slice(a))}return n.join("")}var Mre={" ":1,"	":1,"\r":1,"\n":1,">":1};function _u(e,t){for(var r=e.indexOf("<"+t),n=t.length+1,a=e.length;r>=0&&r<=a-n&&!Mre[e.charAt(r+n)];)r=e.indexOf("<"+t,r+1);if(r===-1)return null;var i=e.indexOf(">",r+t.length);if(i===-1)return null;var s="</"+t+">",l=e.indexOf(s,i);return l==-1?null:[e.slice(r,l+s.length),e.slice(i+1,l)]}var ha=(function(){var e={};return function(r,n){var a=e[n];a||(e[n]=a=[new RegExp("<(?:\\w+:)?"+n+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+n+">","g")]),a[0].lastIndex=a[1].lastIndex=0;var i=a[0].exec(r);if(!i)return null;var s=i.index,l=a[0].lastIndex;if(a[1].lastIndex=a[0].lastIndex,i=a[1].exec(r),!i)return null;var u=i.index,f=a[1].lastIndex;return[r.slice(s,f),r.slice(l,u)]}})(),hM=(function(){var e={};return function(r,n){var a=[],i=e[n];i||(e[n]=i=[new RegExp("<(?:\\w+:)?"+n+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+n+">","g")]),i[0].lastIndex=i[1].lastIndex=0;for(var s;s=i[0].exec(r);){var l=s.index;if(i[1].lastIndex=i[0].lastIndex,s=i[1].exec(r),!s)return null;var u=i[1].lastIndex;a.push(r.slice(l,u)),i[0].lastIndex=i[1].lastIndex}return a.length==0?null:a}})(),Lre=(function(){var e={};return function(r,n){var a=[],i=e[n];i||(e[n]=i=[new RegExp("<(?:\\w+:)?"+n+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+n+">","g")]),i[0].lastIndex=i[1].lastIndex=0;for(var s,l=0,u=0;s=i[0].exec(r);){if(l=s.index,a.push(r.slice(u,l)),u=l,i[1].lastIndex=i[0].lastIndex,s=i[1].exec(r),!s)return null;u=i[1].lastIndex,i[0].lastIndex=i[1].lastIndex}return a.push(r.slice(u)),a.length==0?"":a.join("")}})(),zre=(function(){var e={};return function(r,n){var a=[],i=e[n];i||(e[n]=i=[new RegExp("<"+n+"\\b[^<>]*>","ig"),new RegExp("</"+n+">","ig")]),i[0].lastIndex=i[1].lastIndex=0;for(var s;s=i[0].exec(r);){var l=s.index;if(i[1].lastIndex=i[0].lastIndex,s=i[1].exec(r),!s)return null;var u=i[1].lastIndex;a.push(r.slice(l,u)),i[0].lastIndex=i[1].lastIndex}return a.length==0?null:a}})();function pM(e){return e?e.content&&e.type?Pu(e.content,!0):e.data?fh(e.data):e.asNodeBuffer&&qt?fh(e.asNodeBuffer().toString("binary")):e.asBinary?fh(e.asBinary()):e._data&&e._data.getContent?fh(Pu(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function mM(e){if(!e)return null;if(e.data)return b8(e.data);if(e.asNodeBuffer&&qt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?b8(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Ure(e){return e&&e.name.slice(-4)===".bin"?mM(e):pM(e)}function ss(e,t){for(var r=e.FullPaths||ds(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function gC(e,t){var r=ss(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Rn(e,t,r){if(!r)return Ure(gC(e,t));if(!t)return null;try{return Rn(e,t)}catch{return null}}function ei(e,t,r){if(!r)return pM(gC(e,t));if(!t)return null;try{return ei(e,t)}catch{return null}}function Vre(e,t,r){return mM(gC(e,t))}function N8(e){for(var t=e.FullPaths||ds(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function $re(e,t,r){if(e.FullPaths){if(Array.isArray(r)&&typeof r[0]=="string"&&(r=r.join("")),typeof r=="string"){var n;return qt?n=Dc(r):n=Yte(r),er.utils.cfb_add(e,t,n)}er.utils.cfb_add(e,t,r)}else e.file(t,r)}function gM(e,t){switch(t.type){case"base64":return er.read(e,{type:"base64"});case"binary":return er.read(e,{type:"binary"});case"buffer":case"array":return er.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function rf(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var xM=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,vM=/\s([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,I8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?<>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'"<>\s=]+))*\s*[\/\?]?>/mg,Hre=/<[^<>]*>/g,ja=xM.match(I8)?I8:Hre,qre=/<\w*:/,Wre=/<(\/?)\w+:/;function lt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(vM),l=0,u="",f=0,d="",m="",g=1;if(s)for(f=0;f!=s.length;++f){for(m=s[f].slice(1),i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(d=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(g=(a=m.charCodeAt(i+1))==34||a==39?1:0,u=m.slice(i+1+g,m.length-g),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=u,n[d.toLowerCase()]=u;else{var x=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[x]&&d.slice(l-3,l)=="ext")continue;n[x]=u,n[x.toLowerCase()]=u}}return n}function Gre(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(a===e.length)return n;var s=e.match(vM),l="",u=0,f="",d="",m=1;if(s)for(u=0;u!=s.length;++u){for(d=s[u].slice(1),i=0;i!=d.length&&d.charCodeAt(i)!==61;++i);for(f=d.slice(0,i).trim();d.charCodeAt(i+1)==32;)++i;m=(a=d.charCodeAt(i+1))==34||a==39?1:0,l=d.slice(i+1+m,d.length-m),f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),n[f]=l,n[f.toLowerCase()]=l}return n}function xs(e){return e.replace(Wre,"<$1")}var yM={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Kre=hC(yM),Yt=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,u){return yM[l]||String.fromCharCode(parseInt(u,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,u){return String.fromCharCode(parseInt(u,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}return function(a,i){var s=r(a);return i?s.replace(/\r\n/g,`
`):s}})(),Xre=/[&<>'"]/g,Yre=/[\u0000-\u001f]/g;function Eh(e){var t=e+"";return t.replace(Xre,function(r){return Kre[r]}).replace(/\n/g,"<br/>").replace(Yre,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var P8=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function yr(e){switch(e){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}function w_(e){for(var t="",r=0,n=0,a=0,i=0,s=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function R8(e){var t=bc(2*e.length),r,n,a=1,i=0,s=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function F8(e){return Dc(e,"binary").toString("utf8")}var Ig="foo bar baz",Pr=qt&&(F8(Ig)==w_(Ig)&&F8||R8(Ig)==w_(Ig)&&R8)||w_,hh=qt?function(e){return Dc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},bM=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/(^|[^\t\n\r ])[\t\n\r ]+$/,"$1").replace(/>\s+/g,">").replace(/\b\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^<>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),Qre=/<\/?(?:vt:)?variant>/g,Zre=/<(?:vt:)([^<"'>]*)>([\s\S]*)</;function B8(e,t){var r=lt(e),n=hM(e,r.baseType)||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Qre,"").match(Zre);s&&a.push({v:Pr(s[2]),t:s[1]})}),a}var Jre=/(^\s|\s$|\n)/;function ene(e){return ds(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function tne(e,t,r){return"<"+e+(r!=null?ene(r):"")+(t!=null?(t.match(Jre)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ay(e){if(qt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Pr(nl(uC(e)));throw new Error("Bad input format: expected Buffer or string")}var Fn=/<([\/]?)([^\s?><!\/:"]*:|)([^\s?<>:\/"]+)(?:\s+[^<>=?"'\s]+="[^"]*?")*\s*[\/]?>/mg,rne={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},nne=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function ane(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function ine(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var M8=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},L8=qt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Dc(t)})):M8(e)}:M8,z8=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Ho(e,a)));return n.join("").replace(xi,"")},xC=qt?function(e,t,r){return!Buffer.isBuffer(e)||!Kh?z8(e,t,r):e.toString("utf16le",t,r).replace(xi,"")}:z8,U8=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},_M=qt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):U8(e,t,r)}:U8,V8=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(J0(e,a)));return n.join("")},Tp=qt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):V8(t,r,n)}:V8,wM=function(e,t){var r=Ii(e,t);return r>0?Tp(e,t+4,t+4+r-1):""},EM=wM,SM=function(e,t){var r=Ii(e,t);return r>0?Tp(e,t+4,t+4+r-1):""},AM=SM,CM=function(e,t){var r=2*Ii(e,t);return r>0?Tp(e,t+4,t+4+r-1):""},TM=CM,kM=function(t,r){var n=Ii(t,r);return n>0?xC(t,r+4,r+4+n):""},DM=kM,OM=function(e,t){var r=Ii(e,t);return r>0?Tp(e,t+4,t+4+r):""},jM=OM,NM=function(e,t){return ane(e,t)},Pv=NM,IM=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};qt&&(EM=function(t,r){if(!Buffer.isBuffer(t))return wM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},AM=function(t,r){if(!Buffer.isBuffer(t))return SM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},TM=function(t,r){if(!Buffer.isBuffer(t)||!Kh)return CM(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},DM=function(t,r){if(!Buffer.isBuffer(t)||!Kh)return kM(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},jM=function(t,r){if(!Buffer.isBuffer(t))return OM(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Pv=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):NM(t,r)},IM=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var J0=function(e,t){return e[t]},Ho=function(e,t){return e[t+1]*256+e[t]},sne=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ii=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},fu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},one=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Sh(e,t){var r="",n,a,i=[],s,l,u,f;switch(t){case"dbcs":if(f=this.l,qt&&Buffer.isBuffer(this)&&Kh)r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Ho(this,f)),f+=2;e*=2;break;case"utf8":r=Tp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=xC(this,this.l,this.l+e);break;case"wstr":return Sh.call(this,e,"dbcs");case"lpstr-ansi":r=EM(this,this.l),e=4+Ii(this,this.l);break;case"lpstr-cp":r=AM(this,this.l),e=4+Ii(this,this.l);break;case"lpwstr":r=TM(this,this.l),e=4+2*Ii(this,this.l);break;case"lpp4":e=4+Ii(this,this.l),r=DM(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ii(this,this.l),r=jM(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=J0(this,this.l+e++))!==0;)i.push(Ng(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Ho(this,this.l+e))!==0;)i.push(Ng(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return s=J0(this,f),this.l=f+1,l=Sh.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Ng(Ho(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return s=J0(this,f),this.l=f+1,l=Sh.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Ng(J0(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return n=J0(this,this.l),this.l++,n;case 2:return n=(t==="i"?sne:Ho)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?fu:one)(this,this.l),this.l+=4,n):(a=Ii(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Pv(this,this.l):a=Pv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=_M(this,this.l,e);break}}return this.l+=e,r}var lne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},cne=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},une=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function fne(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)une(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"||r=="cpstr"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,lne(this,t,this.l);break;case 8:if(n=8,r==="f"){ine(this,t,this.l);break}case 16:break;case-4:n=4,cne(this,t,this.l);break}return this.l+=n,this}function PM(e,t){var r=_M(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Yn(e,t){e.l=t,e.read_shift=Sh,e.chk=PM,e.write_shift=fne}function qa(e,t){e.l+=t}function Bn(e){var t=bc(e);return Yn(t,0),t}function fl(e,t,r){if(e){var n,a,i;Yn(e,e.l||0);for(var s=e.length,l=0,u=0;e.l<s;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var f=zv[l]||zv[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;u=e.l+i;var d=f.f&&f.f(e,i,r);if(e.l=u,t(d,f,l))return}}}function JE(){var e=[],t=qt?16384:2048;qt&&Bn(t).copy;var r=function(d){var m=Bn(d);return Yn(m,0),m},n=r(t),a=function(){n&&(n.l&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n)),n=null)},i=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,t)))},s=function(){return a(),rc(e)},l=function(){return a(),e},u=function(d){a(),n=d,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:u,end:s,_bufs:e,end2:l}}function Ah(e,t,r){var n=$n(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function $8(e,t,r){var n=$n(e);return n.s=Ah(n.s,t.s,r),n.e=Ah(n.e,t.s,r),n}function Ch(e,t){if(e.cRel&&e.c<0)for(e=$n(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=$n(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=or(e);return!e.cRel&&e.cRel!=null&&(r=pne(r)),!e.rRel&&e.rRel!=null&&(r=dne(r)),r}function E_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+lr(e.s.c)+":"+(e.e.cRel?"":"$")+lr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+_r(e.s.r)+":"+(e.e.rRel?"":"$")+_r(e.e.r):Ch(e.s,t.biff)+":"+Ch(e.e,t.biff)}function vC(e){return parseInt(hne(e),10)-1}function _r(e){return""+(e+1)}function dne(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function hne(e){return e.replace(/\$(\d+)$/,"$1")}function yC(e){for(var t=mne(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function lr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function pne(e){return e.replace(/^([A-Z])/,"$$$1")}function mne(e){return e.replace(/^\$([A-Z])/,"$1")}function gne(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ua(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function or(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function e0(e){var t=e.indexOf(":");return t==-1?{s:Ua(e),e:Ua(e)}:{s:Ua(e.slice(0,t)),e:Ua(e.slice(t+1))}}function Qt(e,t){return typeof t>"u"||typeof t=="number"?Qt(e.s,e.e):(typeof e!="string"&&(e=or(e)),typeof t!="string"&&(t=or(t)),e==t?e:e+":"+t)}function xne(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e.replace(/'/g,"''")+"'":e}function Tn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function H8(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=zi(e.z,r?Jn(t):t)}catch{}try{return e.w=zi((e.XF||{}).numFmtId||(r?14:0),r?Jn(t):t)}catch{return""+t}}function _c(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?vi[e.v]||e.v:t==null?H8(e,e.v):H8(e,t))}function Oc(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function vne(e){var t={},r=e||{};return r.dense&&(t["!data"]=[]),t}function RM(e,t,r){var n=r||{},a=e?e["!data"]!=null:n.dense,i=e||(a?{"!data":[]}:{});a&&!i["!data"]&&(i["!data"]=[]);var s=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var u=typeof n.origin=="string"?Ua(n.origin):n.origin;s=u.r,l=u.c}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Tn(i["!ref"]);f.s.c=d.s.c,f.s.r=d.s.r,f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),s==-1&&(f.e.r=s=i["!ref"]?d.e.r+1:0)}else f.s.c=f.e.c=f.s.r=f.e.r=0;for(var m=[],g=!1,x=0;x!=t.length;++x)if(t[x]){if(!Array.isArray(t[x]))throw new Error("aoa_to_sheet expects an array of arrays");var b=s+x;a&&(i["!data"][b]||(i["!data"][b]=[]),m=i["!data"][b]);for(var _=t[x],y=0;y!=_.length;++y)if(!(typeof _[y]>"u")){var w={v:_[y],t:""},C=l+y;if(f.s.r>b&&(f.s.r=b),f.s.c>C&&(f.s.c=C),f.e.r<b&&(f.e.r=b),f.e.c<C&&(f.e.c=C),g=!0,_[y]&&typeof _[y]=="object"&&!Array.isArray(_[y])&&!(_[y]instanceof Date))w=_[y];else if(Array.isArray(w.v)&&(w.f=_[y][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(n.nullError)w.t="e",w.v=0;else if(n.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?isFinite(w.v)?w.t="n":isNaN(w.v)?(w.t="e",w.v=15):(w.t="e",w.v=7):typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=n.dateNF||kt[14],n.UTC||(w.v=ny(w.v)),n.cellDates?(w.t="d",w.w=zi(w.z,Jn(w.v,n.date1904))):(w.t="n",w.v=Jn(w.v,n.date1904),w.w=zi(w.z,w.v))):w.t="s";if(a)m[C]&&m[C].z&&(w.z=m[C].z),m[C]=w;else{var A=lr(C)+(b+1);i[A]&&i[A].z&&(w.z=i[A].z),i[A]=w}}}return g&&f.s.c<104e5&&(i["!ref"]=Qt(f)),i}function qf(e,t){return RM(null,e,t)}function yne(e){return e.read_shift(4,"i")}function Va(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function bne(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function bC(e,t){var r=e.l,n=e.read_shift(1),a=Va(e),i=[],s={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),u=0;u!=l;++u)i.push(bne(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var _ne=bC;function vs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function t0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var wne=Va;function iy(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Ene=Va,eS=iy;function sy(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Pv([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):fu(t,0)>>2;return r?a/100:a}function FM(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var r0=FM;function za(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Sne(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var f=wu[a];f&&(t.rgb=Zh(f));break;case 2:t.rgb=Zh([s,l,u]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Ane(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function BM(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Cne(e){return BM(e,1)}function Tne(e){return BM(e,2)}var _C=2,pi=3,Pg=11,q8=12,Rv=19,Rg=64,kne=65,Dne=71,One=4108,jne=4126,ua=80,MM=81,Nne=[ua,MM],Ine={1:{n:"CodePage",t:_C},2:{n:"Category",t:ua},3:{n:"PresentationFormat",t:ua},4:{n:"ByteCount",t:pi},5:{n:"LineCount",t:pi},6:{n:"ParagraphCount",t:pi},7:{n:"SlideCount",t:pi},8:{n:"NoteCount",t:pi},9:{n:"HiddenCount",t:pi},10:{n:"MultimediaClipCount",t:pi},11:{n:"ScaleCrop",t:Pg},12:{n:"HeadingPairs",t:One},13:{n:"TitlesOfParts",t:jne},14:{n:"Manager",t:ua},15:{n:"Company",t:ua},16:{n:"LinksUpToDate",t:Pg},17:{n:"CharacterCount",t:pi},19:{n:"SharedDoc",t:Pg},22:{n:"HyperlinksChanged",t:Pg},23:{n:"AppVersion",t:pi,p:"version"},24:{n:"DigSig",t:kne},26:{n:"ContentType",t:ua},27:{n:"ContentStatus",t:ua},28:{n:"Language",t:ua},29:{n:"Version",t:ua},255:{},2147483648:{n:"Locale",t:Rv},2147483651:{n:"Behavior",t:Rv},1919054434:{}},Pne={1:{n:"CodePage",t:_C},2:{n:"Title",t:ua},3:{n:"Subject",t:ua},4:{n:"Author",t:ua},5:{n:"Keywords",t:ua},6:{n:"Comments",t:ua},7:{n:"Template",t:ua},8:{n:"LastAuthor",t:ua},9:{n:"RevNumber",t:ua},10:{n:"EditTime",t:Rg},11:{n:"LastPrinted",t:Rg},12:{n:"CreatedDate",t:Rg},13:{n:"ModifiedDate",t:Rg},14:{n:"PageCount",t:pi},15:{n:"WordCount",t:pi},16:{n:"CharCount",t:pi},17:{n:"Thumbnail",t:Dne},18:{n:"Application",t:ua},19:{n:"DocSecurity",t:pi},255:{},2147483648:{n:"Locale",t:Rv},2147483651:{n:"Behavior",t:Rv},1919054434:{}},W8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Rne=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Fne(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Bne=Fne([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),wu=$n(Bne),vi={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Ta={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},LM=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],G8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Mne(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Lne(e){var t=Mne();if(!e||!e.match)return t;var r={};if((e.match(ja)||[]).forEach(function(n){var a=lt(n);switch(a[0].replace(qre,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension.toLowerCase()]=a.ContentType;break;case"<Override":t[G8[a.ContentType]]!==void 0&&t[G8[a.ContentType]].push(a.PartName);break}}),t.xmlns!==rne.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var nf={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",CONN:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tS(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Th(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(ja)||[]).forEach(function(a){var i=lt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=Yt(i.Target),s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:rf(i.Target,t);r[l]=s,n[i.Id]=s}}),r["!id"]=n,r}var zne="application/vnd.oasis.opendocument.spreadsheet";function Une(e,t){for(var r=ay(e),n,a;n=Fn.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=lt(n[0],!1),a.path=="/"&&a.type!==zne)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var K8=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function zM(e){var t={};e=Pr(e);for(var r=0;r<K8.length;++r){var n=K8[r],a=_u(e,n[0]);a!=null&&a.length>0&&(t[n[1]]=Yt(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Oa(t[n[1]]))}return t}var Vne=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function UM(e,t,r,n){var a=[];if(typeof e=="string")a=B8(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var s=typeof t=="string"?B8(t,n).map(function(d){return d.v}):t,l=0,u=0;if(s.length>0)for(var f=0;f!==a.length;f+=2){switch(u=+a[f+1].v,a[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=s.slice(l,l+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=s.slice(l,l+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=s.slice(l,l+u);break}l+=u}}function $ne(e,t,r){var n={};return t||(t={}),e=Pr(e),Vne.forEach(function(a){var i=(ha(e,a[0])||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Yt(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=_u(e,a[0]);s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&UM(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Hne=/<[^<>]+>[^<]*/g;function qne(e,t){var r={},n="",a=e.match(Hne);if(a)for(var i=0;i!=a.length;++i){var s=a[i],l=lt(s);switch(xs(l[0])){case"<?xml":break;case"<Properties":break;case"<property":n=Yt(l.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var u=s.split(">"),f=u[0].slice(4),d=u[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[n]=Yt(d);break;case"bool":r[n]=yr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Oa(d);break;case"cy":case"error":r[n]=Yt(d);break;default:if(f.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,f,u)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Wne={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},S_;function Gne(e,t,r){S_||(S_=hC(Wne)),t=S_[t]||t,e[t]=r}function wC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Kne(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Xne(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function VM(e,t,r){return t===31?Xne(e):Kne(e,t,r)}function kh(e,t,r){return VM(e,t,r===!1?0:4)}function Yne(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return VM(e,t,0)}function Qne(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(xi,""),e.l-a&2&&(e.l+=2)}return r}function Zne(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(xi,"");return r}function Jne(e){var t=e.l,r=Fv(e,MM);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Fv(e,pi);return[r,n]}function eae(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Jne(e));return r}function X8(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(xi,"").replace(dh,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function $M(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function tae(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Fv(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==q8&&n!==t&&Nne.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===q8?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:e.l+=4,val=kh(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:e.l+=4,val=kh(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 64:return wC(e);case 65:return $M(e);case 71:return tae(e);case 80:return kh(e,n,!i.raw).replace(xi,"");case 81:return Yne(e,n).replace(xi,"");case 4108:return eae(e);case 4126:case 4127:return n==4127?Qne(e):Zne(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function Y8(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,l=0,u=-1,f={};for(s=0;s!=a;++s){var d=e.read_shift(4),m=e.read_shift(4);i[s]=[d,m+r]}i.sort(function(C,A){return C[1]-A[1]});var g={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var x=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,x=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],x=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],x=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(x=!1,e.l=i[s][1]),x)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){if(i[s][0]==0&&i.length>s+1&&i[s][1]==i[s+1][1])continue;var b=t[i[s][0]];if(g[b.n]=Fv(e,b.t,{raw:!0}),b.p==="version"&&(g[b.n]=String(g[b.n]>>16)+"."+("0000"+String(g[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(g[b.n]){case 0:g[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ps(l=g[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[b.n])}}else if(i[s][0]===1){if(l=g.CodePage=Fv(e,_C),Ps(l),u!==-1){var _=e.l;e.l=i[u][1],f=X8(e,l),e.l=_}}else if(i[s][0]===0){if(l===0){u=s,e.l=i[s+1][1];continue}f=X8(e,l)}else{var y=f[i[s][0]],w;switch(e[e.l]){case 65:e.l+=4,w=$M(e);break;case 30:e.l+=4,w=kh(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:e.l+=4,w=kh(e,e[e.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 3:e.l+=4,w=e.read_shift(4,"i");break;case 19:e.l+=4,w=e.read_shift(4);break;case 5:e.l+=4,w=e.read_shift(8,"f");break;case 11:e.l+=4,w=Sn(e,4);break;case 64:e.l+=4,w=Oa(wC(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[y]=w}}return e.l=r+n,g}function Q8(e,t,r){var n=e.content;if(!n)return{};Yn(n,0);var a,i,s,l,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),d=n.read_shift(16);if(d!==er.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(s=n.read_shift(16),u=n.read_shift(4));var m=Y8(n,t),g={SystemIdentifier:f};for(var x in m)g[x]=m[x];if(g.FMTID=i,a===1)return g;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var b;try{b=Y8(n,null)}catch{}for(x in b)g[x]=b[x];return g.FMTID=[i,s],g}function Yl(e,t){return e.read_shift(t),null}function rae(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Sn(e,t){return e.read_shift(t)===1}function gn(e){return e.read_shift(2,"u")}function HM(e,t){return rae(e,t,gn)}function qM(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Ef(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont",i=us;if(r&&r.biff>=8&&(us=1200),!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return us=i,l}function nae(e){var t=us;us=1200;var r=e.read_shift(2),n=e.read_shift(1),a=n&4,i=n&8,s=1+(n&1),l=0,u,f={};i&&(l=e.read_shift(2)),a&&(u=e.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",m=r===0?"":e.read_shift(r,d);return i&&(e.l+=4*l),a&&(e.l+=u),f.t=m,i||(f.raw="<t>"+f.t+"</t>",f.r=f.t),us=t,f}function Fu(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function kp(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Fu(e,n,r)}function n0(e,t,r){if(r.biff>5)return kp(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function aae(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function iae(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(xi,"");return n&&(e.l+=24),a}function sae(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(xi,"");return r+s}function oae(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return iae(e);case"0303000000000000c000000000000046":return sae(e);default:throw new Error("Unsupported Moniker "+r)}}function Fg(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(xi,""):"";return r}function lae(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,l,u,f="",d,m;a&16&&(i=Fg(e,r-e.l)),a&128&&(s=Fg(e,r-e.l)),(a&257)===257&&(l=Fg(e,r-e.l)),(a&257)===1&&(u=oae(e,r-e.l)),a&8&&(f=Fg(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(m=wC(e)),e.l=r;var g=s||l||u||"";g&&f&&(g+="#"+f),g||(g="#"+f),a&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return d&&(x.guid=d),m&&(x.time=m),i&&(x.Tooltip=i),x}function WM(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function GM(e,t){var r=WM(e);return r[3]=0,r}function Vs(e,t,r){var n=e.read_shift(2),a=e.read_shift(2),i={r:n,c:a,ixfe:0};if(r&&r.biff==2||t==7){var s=e.read_shift(1);i.ixfe=s&63,e.l+=2}else i.ixfe=e.read_shift(2);return i}function cae(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function uae(e,t,r){return t===0?"":n0(e,t,r)}function fae(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function KM(e){var t=e.read_shift(2),r=sy(e);return[t,r]}function dae(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Ef(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function oy(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function XM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var hae=XM;function YM(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function pae(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function mae(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Pa(e){e.l+=2,e.l+=e.read_shift(2)}var gae={0:Pa,4:Pa,5:Pa,6:Pa,7:mae,8:Pa,9:Pa,10:Pa,11:Pa,12:Pa,13:pae,14:Pa,15:Pa,16:Pa,17:Pa,18:Pa,19:Pa,20:Pa,21:YM};function xae(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n[a]=gae[a](e,r-e.l)}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Bg(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function vae(e,t){return t===0||e.read_shift(2),1200}function yae(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=n0(e,0,r);return e.read_shift(t+n-e.l),a}function bae(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function _ae(e,t,r){var n="";if(r.biff==4)return n=Ef(e,0,r),n.length===0&&(n="Sheet1"),{name:n};var a=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}return n=Ef(e,0,r),n.length===0&&(n="Sheet1"),{pos:a,hs:i,dt:s,name:n}}function wae(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(nae(e));return i.Count=n,i.Unique=a,i}function Eae(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Sae(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Aae(e){var t=cae(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Cae(e){return e.read_shift(2),e.read_shift(4)}function Z8(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Tae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2),f=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:l,Selected:u,TabRatio:f}}function kae(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Dae(){}function Oae(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Ef(e,0,r),n}function jae(e,t,r){var n=Vs(e,t,r);return n.isst=e.read_shift(4),n}function Nae(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Vs(e,t,r),i=kp(e,n-e.l,r);return a.val=i,a}function Iae(e,t,r){var n=e.read_shift(2),a=n0(e,0,r);return[n,a]}var Pae=n0;function J8(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),l=e.read_shift(2),u=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:s,c:u}}}function Rae(e){var t=e.read_shift(2),r=e.read_shift(2),n=KM(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Fae(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(KM(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Bae(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Mae(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(4),u=e.read_shift(2);return a.patternType=Rne[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function Lae(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Mae(e,t,n.fStyle,r),n}function zae(e){var t={};return t.ifnt=e.read_shift(1),e.l++,t.flags=e.read_shift(1),t.numFmtId=t.flags&63,t.flags>>=6,t.fStyle=0,t.data={},t}function Uae(e){var t={};return t.ifnt=e.read_shift(1),t.numFmtId=e.read_shift(1),t.flags=e.read_shift(2),t.fStyle=t.flags>>2&1,t.data={},t}function Vae(e){var t={};return t.ifnt=e.read_shift(1),t.numFmtId=e.read_shift(1),t.flags=e.read_shift(2),t.fStyle=t.flags>>2&1,t.data={},t}function $ae(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Hae(e,t,r){var n=Vs(e,6,r),a=qM(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function qae(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Vs(e,6,r),a=za(e);return n.val=a,n}var e6=uae;function Wae(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Fu(e,i),l=[];n>e.l;)l.push(kp(e));return[i,a,s,l]}function t6(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=dae(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}function r6(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var f=Fu(e,s,r);a&32&&(f=LM[f.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var m=n==e.l||l===0||!(d>0)?[]:_le(e,d,r,l);return{chKey:i,Name:f,itab:u,rgce:m}}function QM(e,t,r){if(r.biff<8||!(r.biff>8)&&t==e[e.l]+(e[e.l+1]==3?1:0)+1)return n6(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(fae(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function n6(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Ef(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Gae(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Fu(e,n,r),s=Fu(e,a,r);return[i,s]}function Kae(e,t,r){var n=XM(e);e.l++;var a=e.read_shift(1);return t-=8,[wle(e,t,r),a,n]}function a6(e,t,r){var n=hae(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,yle(e,t,r)]}function Xae(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Yae(e,t,r){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),l=n0(e,0,r);return[{r:n,c:a},l,s,i]}function Qae(e,t,r){if(r&&r.biff<8){var n=e.read_shift(2),a=e.read_shift(2);if(n==65535||n==-1)return;var i=e.read_shift(2),s=e.read_shift(Math.min(i,2048),"cpstr");return[{r:n,c:a},s]}return Yae(e,t,r)}function Zae(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(oy(e));return r}function Jae(e,t,r){if(r&&r.biff<8)return tie(e,t,r);var n=YM(e),a=xae(e,t-22,n[1]);return{cmo:n,ft:a}}var eie={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function tie(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((eie[n]||qa)(e,t,r)),{cmo:[a,n,i],ft:s}}function rie(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=aae(e,6,r);var l=e.read_shift(2);e.read_shift(2),gn(e,2);var u=e.read_shift(2);e.l+=u;for(var f=1;f<e.lens.length-1;++f){if(e.l-n!=e.lens[f])throw new Error("TxO: bad continue record");var d=e[e.l],m=Fu(e,e.lens[f+1]-e.lens[f]-1);if(a+=m,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function nie(e,t){var r=oy(e);e.l+=16;var n=lae(e,t-24);return[r,n]}function aie(e,t){e.read_shift(2);var r=oy(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(xi,""),[r,n]}function iie(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=W8[r]||r,r=e.read_shift(2),t[1]=W8[r]||r,t}function sie(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(GM(e));return r}function oie(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(GM(e));return r}function lie(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function ZM(e,t,r){if(!r.cellStyles)return qa(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var f={s:a,e:i,w:s,ixfe:l,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function cie(e,t){var r={};return t<32||(e.l+=16,r.header=za(e),r.footer=za(e),e.l+=2),r}function uie(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var fie=Vs,die=HM,hie=kp;function pie(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function mie(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Vs(e,7,r),a=n0(e,t-7,r);return n.t="str",n.val=a,n}function gie(e,t,r){var n=Vs(e,7,r),a=za(e);return n.t="n",n.val=a,n}function xie(e,t,r){var n=Vs(e,7,r),a=e.read_shift(2);return n.t="n",n.val=a,n}function vie(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function yie(e,t,r){var n=e.l+7,a=Vs(e,6,r);e.l=n;var i=qM(e);return a.val=i,a.t=i===!0||i===!1?"b":"e",a}function bie(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function _ie(e,t,r){var n=e.l+t,a=Vs(e,6,r),i=e.read_shift(2),s=Fu(e,i,r);return e.l=n,a.t="str",a.val=s,a}function wie(e){var t=e.read_shift(4),r=e.read_shift(1),n=e.read_shift(r,"sbcs");return n.length===0&&(n="Sheet1"),{flags:t,name:n}}var Eie=[2,3,48,49,131,139,140,245],i6=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=hC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,u){var f=[],d=bc(1);switch(u.type){case"base64":d=Ni(Li(l));break;case"binary":d=Ni(l);break;case"buffer":case"array":d=l;break}Yn(d,0);var m=d.read_shift(1),g=!!(m&136),x=!1,b=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var _=0,y=521;m==2&&(_=d.read_shift(2)),d.l+=3,m!=2&&(_=d.read_shift(4)),_>1048576&&(_=1e6),m!=2&&(y=d.read_shift(2));var w=d.read_shift(2);u.codepage,m!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&e[d[d.l]],d.l+=1,d.l+=2),b&&(d.l+=36);for(var C=[],A={},O=Math.min(d.length,m==2?521:y-10-(x?264:0)),F=b?32:11;d.l<O&&d[d.l]!=13;)switch(A={},A.name=nl(d.slice(d.l,d.l+F)).replace(/[\u0000\r\n][\S\s]*$/g,""),d.l+=F,A.type=String.fromCharCode(d.read_shift(1)),m!=2&&!b&&(A.offset=d.read_shift(4)),A.len=d.read_shift(1),m==2&&(A.offset=d.read_shift(2)),A.dec=d.read_shift(1),A.name.length&&C.push(A),m!=2&&(d.l+=b?13:14),A.type){case"B":(!x||A.len!=8)&&u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var M=0,j=0;for(f[0]=[],j=0;j!=C.length;++j)f[0][j]=C[j].name;for(;_-- >0;){if(d[d.l]===42){d.l+=w;continue}for(++d.l,f[++M]=[],j=0,j=0;j!=C.length;++j){var k=d.slice(d.l,d.l+C[j].len);d.l+=C[j].len,Yn(k,0);var R=nl(k);switch(C[j].type){case"C":R.trim().length&&(f[M][j]=R.replace(/([^\s])\s+$/,"$1"));break;case"D":R.length===8?(f[M][j]=new Date(Date.UTC(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8),0,0,0,0)),u&&u.UTC||(f[M][j]=Ru(f[M][j]))):f[M][j]=R;break;case"F":f[M][j]=parseFloat(R.trim());break;case"+":case"I":f[M][j]=b?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":f[M][j]=!0;break;case"N":case"F":f[M][j]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[M][j]="##MEMO##"+(b?parseInt(R.trim(),10):k.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(f[M][j]=+R||0);break;case"@":f[M][j]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":{var I=k.read_shift(4),P=k.read_shift(4);if(I==0&&P==0)break;f[M][j]=new Date((I-2440588)*864e5+P),u&&u.UTC||(f[M][j]=Ru(f[M][j]))}break;case"Y":f[M][j]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[M][j]=-k.read_shift(-8,"f");break;case"B":if(x&&C[j].len==8){f[M][j]=k.read_shift(8,"f");break}case"G":case"P":k.l+=C[j].len;break;case"0":if(C[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[j].type)}}}if(m!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=C,f}function n(l,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var d=qf(r(l,f),f);return d["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,d}function a(l,u){try{var f=Oc(n(l,u),u);return f.bookType="dbf",f}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,u){if(!l["!ref"])throw new Error("Cannot export empty sheet to DBF");var f=u||{},d=us;if(+f.codepage>=0&&Ps(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var m=JE(),g=iS(l,{header:1,raw:!0,cellDates:!0}),x=g[0],b=g.slice(1),_=l["!cols"]||[],y=0,w=0,C=0,A=1;for(y=0;y<x.length;++y){if(((_[y]||{}).DBF||{}).name){x[y]=_[y].DBF.name,++C;continue}if(x[y]!=null){if(++C,typeof x[y]=="number"&&(x[y]=x[y].toString(10)),typeof x[y]!="string")throw new Error("DBF Invalid column name "+x[y]+" |"+typeof x[y]+"|");if(x.indexOf(x[y])!==y){for(w=0;w<1024;++w)if(x.indexOf(x[y]+"_"+w)==-1){x[y]+="_"+w;break}}}}var O=Tn(l["!ref"]),F=[],M=[],j=[];for(y=0;y<=O.e.c-O.s.c;++y){var k="",R="",I=0,P=[];for(w=0;w<b.length;++w)b[w][y]!=null&&P.push(b[w][y]);if(P.length==0||x[y]==null){F[y]="?";continue}for(w=0;w<P.length;++w){switch(typeof P[w]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=P[w]instanceof Date?"D":"C";break;default:R="C"}I=Math.max(I,String(P[w]).length),k=k&&k!=R?"C":R}I>250&&(I=250),R=((_[y]||{}).DBF||{}).type,R=="C"&&_[y].DBF.len>I&&(I=_[y].DBF.len),k=="B"&&R=="N"&&(k="N",j[y]=_[y].DBF.dec,I=_[y].DBF.len),M[y]=k=="C"||R=="N"?I:i[k]||0,A+=M[y],F[y]=k}var N=m.next(32);for(N.write_shift(4,318902576),N.write_shift(4,b.length),N.write_shift(2,296+32*C),N.write_shift(2,A),y=0;y<4;++y)N.write_shift(4,0);var B=+t[us]||3;for(N.write_shift(4,0|B<<8),e[B]!=+f.codepage&&(f.codepage&&console.error("DBF Unsupported codepage "+us+", using 1252"),us=1252),y=0,w=0;y<x.length;++y)if(x[y]!=null){var oe=m.next(32),he=(x[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);oe.write_shift(1,he,"sbcs"),oe.write_shift(1,F[y]=="?"?"C":F[y],"sbcs"),oe.write_shift(4,w),oe.write_shift(1,M[y]||i[F[y]]||0),oe.write_shift(1,j[y]||0),oe.write_shift(1,2),oe.write_shift(4,0),oe.write_shift(1,0),oe.write_shift(4,0),oe.write_shift(4,0),w+=M[y]||i[F[y]]||0}var ne=m.next(264);for(ne.write_shift(4,13),y=0;y<65;++y)ne.write_shift(4,0);for(y=0;y<b.length;++y){var de=m.next(A);for(de.write_shift(1,0),w=0;w<x.length;++w)if(x[w]!=null)switch(F[w]){case"L":de.write_shift(1,b[y][w]==null?63:b[y][w]?84:70);break;case"B":de.write_shift(8,b[y][w]||0,"f");break;case"N":var be="0";for(typeof b[y][w]=="number"&&(be=b[y][w].toFixed(j[w]||0)),be.length>M[w]&&(be=be.slice(0,M[w])),C=0;C<M[w]-be.length;++C)de.write_shift(1,32);de.write_shift(1,be,"sbcs");break;case"D":b[y][w]?(de.write_shift(4,("0000"+b[y][w].getFullYear()).slice(-4),"sbcs"),de.write_shift(2,("00"+(b[y][w].getMonth()+1)).slice(-2),"sbcs"),de.write_shift(2,("00"+b[y][w].getDate()).slice(-2),"sbcs")):de.write_shift(8,"00000000","sbcs");break;case"C":var we=de.l,ue=String(b[y][w]!=null?b[y][w]:"").slice(0,M[w]);for(de.write_shift(1,ue,"cpstr"),we+=M[w]-de.l,C=0;C<we;++C)de.write_shift(1,32);break}}return us=d,m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}})(),Sie=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ds(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{t=new RegExp("\x1BN("+ds(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var r=function(x,b){var _=e[b];return typeof _=="number"?_8(_):_},n=function(x,b,_){var y=b.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return y==59?x:_8(y)};e["|"]=254;var a=function(x){return x.replace(/\n/g,"\x1B :").replace(/\r/g,"\x1B =")};function i(x,b){switch(b.type){case"base64":return s(Li(x),b);case"binary":return s(x,b);case"buffer":return s(qt&&Buffer.isBuffer(x)?x.toString("binary"):nl(x),b);case"array":return s(Pu(x),b)}throw new Error("Unrecognized type "+b.type)}function s(x,b){var _=x.split(/[\n\r]+/),y=-1,w=-1,C=0,A=0,O=[],F=[],M=null,j={},k=[],R=[],I=[],P=0,N,B={Workbook:{WBProps:{},Names:[]}};for(+b.codepage>=0&&Ps(+b.codepage);C!==_.length;++C){P=0;var oe=_[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),he=oe.replace(/;;/g,"\0").split(";").map(function(ae){return ae.replace(/\u0000/g,";")}),ne=he[0],de;if(oe.length>0)switch(ne){case"ID":break;case"E":break;case"B":break;case"O":for(A=1;A<he.length;++A)switch(he[A].charAt(0)){case"V":{var be=parseInt(he[A].slice(1),10);be>=1&&be<=4&&(B.Workbook.WBProps.date1904=!0)}break}break;case"W":break;case"P":he[1].charAt(0)==="P"&&F.push(oe.slice(3).replace(/;;/g,";"));break;case"NN":{var we={Sheet:0};for(A=1;A<he.length;++A)switch(he[A].charAt(0)){case"N":we.Name=he[A].slice(1);break;case"E":we.Ref=(b&&b.sheet||"Sheet1")+"!"+Eu(he[A].slice(1));break}B.Workbook.Names.push(we)}break;case"C":var ue=!1,U=!1,Y=!1,Z=!1,q=-1,se=-1,me="",ve="z",H="";for(A=1;A<he.length;++A)switch(he[A].charAt(0)){case"A":H=he[A].slice(1);break;case"X":w=parseInt(he[A].slice(1),10)-1,U=!0;break;case"Y":for(y=parseInt(he[A].slice(1),10)-1,U||(w=0),N=O.length;N<=y;++N)O[N]=[];break;case"K":de=he[A].slice(1),de.charAt(0)==='"'?(de=de.slice(1,de.length-1),ve="s"):de==="TRUE"||de==="FALSE"?(de=de==="TRUE",ve="b"):de.charAt(0)=="#"&&Ta[de]!=null?(ve="e",de=Ta[de]):isNaN(Fi(de))||(de=Fi(de),ve="n",M!==null&&Ms(M)&&b.cellDates&&(de=dc(B.Workbook.WBProps.date1904?de+1462:de),ve=typeof de=="number"?"n":"d")),ue=!0;break;case"E":Z=!0,me=Eu(he[A].slice(1),{r:y,c:w});break;case"S":Y=!0;break;case"G":break;case"R":q=parseInt(he[A].slice(1),10)-1;break;case"C":se=parseInt(he[A].slice(1),10)-1;break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+oe)}if(ue&&(O[y][w]?(O[y][w].t=ve,O[y][w].v=de):O[y][w]={t:ve,v:de},M&&(O[y][w].z=M),b.cellText!==!1&&M&&(O[y][w].w=zi(O[y][w].z,O[y][w].v,{date1904:B.Workbook.WBProps.date1904})),M=null),Y){if(Z)throw new Error("SYLK shared formula cannot have own formula");var G=q>-1&&O[q][se];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");me=o9(G[1],{r:y-q,c:w-se})}me&&(O[y][w]?O[y][w].f=me:O[y][w]={t:"n",f:me}),H&&(O[y][w]||(O[y][w]={t:"z"}),O[y][w].c=[{a:"SheetJSYLK",t:H}]);break;case"F":var ee=0;for(A=1;A<he.length;++A)switch(he[A].charAt(0)){case"X":w=parseInt(he[A].slice(1),10)-1,++ee;break;case"Y":for(y=parseInt(he[A].slice(1),10)-1,N=O.length;N<=y;++N)O[N]=[];break;case"M":P=parseInt(he[A].slice(1),10)/20;break;case"F":break;case"G":break;case"P":M=F[parseInt(he[A].slice(1),10)];break;case"S":break;case"D":break;case"N":break;case"W":for(I=he[A].slice(1).split(" "),N=parseInt(I[0],10);N<=parseInt(I[1],10);++N)P=parseInt(I[2],10),R[N-1]=P===0?{hidden:!0}:{wch:P};break;case"C":w=parseInt(he[A].slice(1),10)-1,R[w]||(R[w]={});break;case"R":y=parseInt(he[A].slice(1),10)-1,k[y]||(k[y]={}),P>0?(k[y].hpt=P,k[y].hpx=Jh(P)):P===0&&(k[y].hidden=!0);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+oe)}ee<1&&(M=null);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+oe)}}return k.length>0&&(j["!rows"]=k),R.length>0&&(j["!cols"]=R),R.forEach(function(ae){Sf(ae)}),b&&b.sheetRows&&(O=O.slice(0,b.sheetRows)),[O,j,B]}function l(x,b){var _=i(x,b),y=_[0],w=_[1],C=_[2],A=$n(b);A.date1904=(((C||{}).Workbook||{}).WBProps||{}).date1904;var O=qf(y,A);ds(w).forEach(function(M){O[M]=w[M]});var F=Oc(O,b);return ds(C).forEach(function(M){F[M]=C[M]}),F.bookType="sylk",F}function u(x,b,_,y,w,C){var A="C;Y"+(_+1)+";X"+(y+1)+";K";switch(x.t){case"n":A+=isFinite(x.v)?x.v||0:vi[isNaN(x.v)?36:7],x.f&&!x.F&&(A+=";E"+aoe(x.f,{r:_,c:y}));break;case"b":A+=x.v?"TRUE":"FALSE";break;case"e":A+=x.w||vi[x.v]||x.v;break;case"d":A+=Jn(Oa(x.v,C),C);break;case"s":A+='"'+(x.v==null?"":String(x.v)).replace(/"/g,"").replace(/;/g,";;")+'"';break}return A}function f(x,b,_){var y="C;Y"+(b+1)+";X"+(_+1)+";A";return y+=a(x.map(function(w){return w.t}).join("")),y}function d(x,b){b.forEach(function(_,y){var w="F;W"+(y+1)+" "+(y+1)+" ";_.hidden?w+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=Mv(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=Lv(_.wpx)),typeof _.wch=="number"&&(w+=Math.round(_.wch))),w.charAt(w.length-1)!=" "&&x.push(w)})}function m(x,b){b.forEach(function(_,y){var w="F;";_.hidden?w+="M0;":_.hpt?w+="M"+20*_.hpt+";":_.hpx&&(w+="M"+20*i9(_.hpx)+";"),w.length>2&&x.push(w+"R"+(y+1))})}function g(x,b,_){b||(b={}),b._formats=["General"];var y=["ID;PSheetJS;N;E"],w=[],C=Tn(x["!ref"]||"A1"),A,O=x["!data"]!=null,F=`\r
`,M=(((_||{}).Workbook||{}).WBProps||{}).date1904,j="General";y.push("P;PGeneral");var k=C.s.r,R=C.s.c,I=[];if(x["!ref"]){for(k=C.s.r;k<=C.e.r;++k)if(!(O&&!x["!data"][k])){for(I=[],R=C.s.c;R<=C.e.c;++R)A=O?x["!data"][k][R]:x[lr(R)+_r(k)],!(!A||!A.c)&&I.push(f(A.c,k,R));I.length&&w.push(I.join(F))}}if(x["!ref"]){for(k=C.s.r;k<=C.e.r;++k)if(!(O&&!x["!data"][k])){for(I=[],R=C.s.c;R<=C.e.c;++R)if(A=O?x["!data"][k][R]:x[lr(R)+_r(k)],!(!A||A.v==null&&(!A.f||A.F))){if((A.z||(A.t=="d"?kt[14]:"General"))!=j){var P=b._formats.indexOf(A.z);P==-1&&(b._formats.push(A.z),P=b._formats.length-1,y.push("P;P"+A.z.replace(/;/g,";;"))),I.push("F;P"+P+";Y"+(k+1)+";X"+(R+1))}I.push(u(A,x,k,R,b,M))}w.push(I.join(F))}}return y.push("F;P0;DG0G8;M255"),x["!cols"]&&d(y,x["!cols"]),x["!rows"]&&m(y,x["!rows"]),x["!ref"]&&y.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" ")),y.push("O;L;D;B"+(M?";V4":"")+";K47;G100 0.001"),delete b._formats,y.join(F)+F+w.join(F)+F+"E"+F}return{to_workbook:l,from_sheet:g}})(),Aie=(function(){function e(l,u){switch(u.type){case"base64":return t(Li(l),u);case"binary":return t(l,u);case"buffer":return t(qt&&Buffer.isBuffer(l)?l.toString("binary"):nl(l),u);case"array":return t(Pu(l),u)}throw new Error("Unrecognized type "+u.type)}function t(l,u){for(var f=l.split(`
`),d=-1,m=-1,g=0,x=[];g!==f.length;++g){if(f[g].trim()==="BOT"){x[++d]=[],m=0;continue}if(!(d<0)){var b=f[g].trim().split(","),_=b[0],y=b[1];++g;for(var w=f[g]||"";(w.match(/["]/g)||[]).length&1&&g<f.length-1;)w+=`
`+f[++g];switch(w=w.trim(),+_){case-1:if(w==="BOT"){x[++d]=[],m=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?x[d][m]=!0:w==="FALSE"?x[d][m]=!1:isNaN(Fi(y))?isNaN(Yh(y).getDate())?x[d][m]=y:(x[d][m]=Oa(y),u&&u.UTC||(x[d][m]=Ru(x[d][m]))):x[d][m]=Fi(y),++m;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),x[d][m++]=w!==""?w:null;break}if(w==="EOD")break}}return u&&u.sheetRows&&(x=x.slice(0,u.sheetRows)),x}function r(l,u){return qf(e(l,u),u)}function n(l,u){var f=Oc(r(l,u),u);return f.bookType="dif",f}function a(l,u){return"0,"+String(l)+`\r
`+u}function i(l){return`1,0\r
"`+l.replace(/"/g,'""')+'"'}function s(l){if(!l["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var u=Tn(l["!ref"]),f=l["!data"]!=null,d=[`TABLE\r
0,1\r
"sheetjs"\r
`,`VECTORS\r
0,`+(u.e.r-u.s.r+1)+`\r
""\r
`,`TUPLES\r
0,`+(u.e.c-u.s.c+1)+`\r
""\r
`,`DATA\r
0,0\r
""\r
`],m=u.s.r;m<=u.e.r;++m){for(var g=f?l["!data"][m]:[],x=`-1,0\r
BOT\r
`,b=u.s.c;b<=u.e.c;++b){var _=f?g&&g[b]:l[or({r:m,c:b})];if(_==null){x+=`1,0\r
""\r
`;continue}switch(_.t){case"n":_.w!=null?x+="0,"+_.w+`\r
V`:_.v!=null?x+=a(_.v,"V"):_.f!=null&&!_.F?x+=i("="+_.f):x+=`1,0\r
""`;break;case"b":x+=_.v?a(1,"TRUE"):a(0,"FALSE");break;case"s":x+=i(isNaN(+_.v)?_.v:'="'+_.v+'"');break;case"d":_.w||(_.w=zi(_.z||kt[14],Jn(Oa(_.v)))),x+=a(_.w,"V");break;default:x+=`1,0\r
""`}x+=`\r
`}d.push(x)}return d.join("")+`-1,0\r
EOD`}return{to_workbook:n,to_sheet:r,from_sheet:s}})(),Cie=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,g){for(var x=m.split(`
`),b=-1,_=-1,y=0,w=[];y!==x.length;++y){var C=x[y].trim().split(":");if(C[0]==="cell"){var A=Ua(C[1]);if(w.length<=A.r)for(b=w.length;b<=A.r;++b)w[b]||(w[b]=[]);switch(b=A.r,_=A.c,C[2]){case"t":w[b][_]=e(C[3]);break;case"v":w[b][_]=+C[3];break;case"vtf":var O=C[C.length-1];case"vtc":C[3]==="nl"?w[b][_]=!!+C[4]:w[b][_]=C[C.length-1].charAt(0)=="#"?{t:"e",v:Ta[C[C.length-1]]}:+C[4],C[2]=="vtf"&&(w[b][_]=[w[b][_],O])}}}return g&&g.sheetRows&&(w=w.slice(0,g.sheetRows)),w}function n(m,g){return qf(r(m,g),g)}function a(m,g){return Oc(n(m,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],b,_="",y=e0(m["!ref"]),w=m["!data"]!=null,C=y.s.r;C<=y.e.r;++C)for(var A=y.s.c;A<=y.e.c;++A)if(_=or({r:C,c:A}),b=w?(m["!data"][C]||[])[A]:m[_],!(!b||b.v==null||b.t==="z")){switch(x=["cell",_,"t"],b.t){case"s":x.push(t(b.v));break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var O=Jn(Oa(b.v));x[2]="vtc",x[3]="nd",x[4]=""+O,x[5]=b.w||zi(b.z||kt[14],O);break;case"n":isFinite(b.v)?b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=t(b.f)):(x[2]="v",x[3]=b.v):(x[2]="vt"+(b.f?"f":"c"),x[3]="e"+vi[isNaN(b.v)?36:7],x[4]="0",x[5]=b.f||x[3].slice(1),x[6]="e",x[7]=x[3].slice(1));break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(m){return[i,s,l,s,f(m),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}})(),Qh=(function(){function e(d,m,g,x,b){b.raw?m[g][x]=d:d===""||(d==="TRUE"?m[g][x]=!0:d==="FALSE"?m[g][x]=!1:isNaN(Fi(d))?isNaN(Yh(d).getDate())?d.charCodeAt(0)==35&&Ta[d]!=null?m[g][x]={t:"e",v:Ta[d],w:d}:m[g][x]=d:m[g][x]=Oa(d):m[g][x]=Fi(d))}function t(d,m){var g=m||{},x=[];if(!d||d.length===0)return x;for(var b=d.split(/[\r\n]/),_=b.length-1;_>=0&&b[_].length===0;)--_;for(var y=10,w=0,C=0;C<=_;++C)w=b[C].indexOf(" "),w==-1?w=b[C].length:w++,y=Math.max(y,w);for(C=0;C<=_;++C){x[C]=[];var A=0;for(e(b[C].slice(0,y).trim(),x,C,A,g),A=1;A<=(b[C].length-y)/10+1;++A)e(b[C].slice(y+(A-1)*10,y+A*10).trim(),x,C,A,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var m={},g=!1,x=0,b=0;x<d.length;++x)(b=d.charCodeAt(x))==34?g=!g:!g&&b in r&&(m[b]=(m[b]||0)+1);b=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x]);if(!b.length){m=n;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x])}return b.sort(function(_,y){return _[0]-y[0]||n[_[1]]-n[y[1]]}),r[b.pop()[1]]||44}function i(d,m){var g=m||{},x="",b={};g.dense&&(b["!data"]=[]);var _={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=a(d.slice(0,1024)):g&&g.FS?x=g.FS:x=a(d.slice(0,1024));var y=0,w=0,C=0,A=0,O=0,F=x.charCodeAt(0),M=!1,j=0,k=d.charCodeAt(0),R=g.dateNF!=null?bre(g.dateNF):null;function I(){var P=d.slice(A,O);P.slice(-1)=="\r"&&(P=P.slice(0,-1));var N={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),g.cellText!==!1&&(N.w=P),P.length===0)N.t="z";else if(g.raw)N.t="s",N.v=P;else if(P.trim().length===0)N.t="s",N.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(N.t="s",N.v=P.slice(2,-1).replace(/""/g,'"')):ioe(P)?(N.t="s",N.f=P.slice(1),N.v=P):(N.t="s",N.v=P);else if(P=="TRUE")N.t="b",N.v=!0;else if(P=="FALSE")N.t="b",N.v=!1;else if(!isNaN(C=Fi(P)))N.t="n",N.v=C;else if(!isNaN((C=Yh(P)).getDate())||R&&P.match(R)){if(N.z=g.dateNF||kt[14],R&&P.match(R)){var B=_re(P,g.dateNF,P.match(R)||[]);C=Oa(B),g&&g.UTC===!1&&(C=Ru(C))}else g&&g.UTC===!1?C=Ru(C):g.cellText!==!1&&g.dateNF&&(N.w=zi(N.z,C));g.cellDates?(N.t="d",N.v=C):(N.t="n",N.v=Jn(C)),g.cellNF||delete N.z}else P.charCodeAt(0)==35&&Ta[P]!=null?(N.t="e",N.w=P,N.v=Ta[P]):(N.t="s",N.v=P);if(N.t=="z"||(g.dense?(b["!data"][y]||(b["!data"][y]=[]),b["!data"][y][w]=N):b[or({c:w,r:y})]=N),A=O+1,k=d.charCodeAt(A),_.e.c<w&&(_.e.c=w),_.e.r<y&&(_.e.r=y),j==F)++w;else if(w=0,++y,g.sheetRows&&g.sheetRows<=y)return!0}e:for(;O<d.length;++O)switch(j=d.charCodeAt(O)){case 34:k===34&&(M=!M);break;case 13:if(M)break;d.charCodeAt(O+1)==10&&++O;case F:case 10:if(!M&&I())break e;break}return O-A>0&&I(),b["!ref"]=Qt(_),b}function s(d,m){return!(m&&m.PRN)||m.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,m):qf(t(d,m),m)}function l(d,m){var g="",x=m.type=="string"?[0,0,0,0]:DC(d,m);switch(m.type){case"base64":g=Li(d);break;case"binary":g=d;break;case"buffer":m.codepage==65001?g=d.toString("utf8"):(m.codepage,g=qt&&Buffer.isBuffer(d)?d.toString("binary"):nl(d));break;case"array":g=Pu(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=Pr(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=Pr(g):m.type=="binary",g.slice(0,19)=="socialcalc:version:"?Cie.to_sheet(m.type=="string"?g:Pr(g),m):s(g,m)}function u(d,m){return Oc(l(d,m),m)}function f(d){var m=[];if(!d["!ref"])return"";for(var g=Tn(d["!ref"]),x,b=d["!data"]!=null,_=g.s.r;_<=g.e.r;++_){for(var y=[],w=g.s.c;w<=g.e.c;++w){var C=or({r:_,c:w});if(x=b?(d["!data"][_]||[])[w]:d[C],!x||x.v==null){y.push("          ");continue}for(var A=(x.w||(_c(x),x.w)||"").slice(0,10);A.length<10;)A+=" ";y.push(A+(w===0?" ":""))}m.push(y.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:f}})();function Tie(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Sie.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,i.message.indexOf("SYLK bad record ID")==-1&&n)throw i;return Qh.to_workbook(e,t)}}var Dh=(function(){function e(H,G,ee){if(H){Yn(H,H.l||0);for(var ae=ee.Enum||Z;H.l<H.length;){var pe=H.read_shift(2),X=ae[pe]||ae[65535],je=H.read_shift(2),He=H.l+je,Be=X.f&&X.f(H,je,ee);if(H.l=He,G(Be,X,pe))return}}}function t(H,G){switch(G.type){case"base64":return n(Ni(Li(H)),G);case"binary":return n(Ni(H),G);case"buffer":case"array":return n(H,G)}throw"Unsupported type "+G.type}var r=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function n(H,G){if(!H)return H;var ee=G||{},ae={},pe="Sheet1",X="",je=0,He={},Be=[],Ke=[],Je=[];ee.dense&&(Je=ae["!data"]=[]);var et={s:{r:0,c:0},e:{r:0,c:0}},st=ee.sheetRows||0,rt={};if(H[4]==81&&H[5]==80&&H[6]==87)return ve(H,G);if(H[2]==0&&(H[3]==8||H[3]==9)&&H.length>=16&&H[14]==5&&H[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(H[2]==2)ee.Enum=Z,e(H,function(Me,wt,Dt){switch(Dt){case 0:ee.vers=Me,Me>=4096&&(ee.qpro=!0);break;case 255:ee.vers=Me,ee.works=!0;break;case 6:et=Me;break;case 204:Me&&(X=Me);break;case 222:X=Me;break;case 15:case 51:(!ee.qpro&&!ee.works||Dt==51)&&Me[1].v.charCodeAt(0)<48&&(Me[1].v=Me[1].v.slice(1)),(ee.works||ee.works2)&&(Me[1].v=Me[1].v.replace(/\r\n/g,`
`));case 13:case 14:case 16:(Me[2]&112)==112&&(Me[2]&15)>1&&(Me[2]&15)<15&&(Me[1].z=ee.dateNF||r[(Me[2]&15)-1]||kt[14],ee.cellDates&&(Me[1].v=dc(Me[1].v),Me[1].t=typeof Me[1].v=="number"?"n":"d")),ee.qpro&&Me[3]>je&&(ae["!ref"]=Qt(et),He[pe]=ae,Be.push(pe),ae={},ee.dense&&(Je=ae["!data"]=[]),et={s:{r:0,c:0},e:{r:0,c:0}},je=Me[3],pe=X||"Sheet"+(je+1),X="");var Et=ee.dense?(Je[Me[0].r]||[])[Me[0].c]:ae[or(Me[0])];if(Et){Et.t=Me[1].t,Et.v=Me[1].v,Me[1].z!=null&&(Et.z=Me[1].z),Me[1].f!=null&&(Et.f=Me[1].f),rt=Et;break}ee.dense?(Je[Me[0].r]||(Je[Me[0].r]=[]),Je[Me[0].r][Me[0].c]=Me[1]):ae[or(Me[0])]=Me[1],rt=Me[1];break;case 21509:ee.works2=!0;break;case 21506:Me==5281&&(rt.z="hh:mm:ss",ee.cellDates&&rt.t=="n"&&(rt.v=dc(rt.v),rt.t=typeof rt.v=="number"?"n":"d"));break}},ee);else if(H[2]==26||H[2]==14)ee.Enum=q,H[2]==14&&(ee.qpro=!0,H.l=0),e(H,function(Me,wt,Dt){switch(Dt){case 204:pe=Me;break;case 22:Me[1].v.charCodeAt(0)<48&&(Me[1].v=Me[1].v.slice(1)),Me[1].v=Me[1].v.replace(/\x0F./g,function(Et){return String.fromCharCode(Et.charCodeAt(1)-32)}).replace(/\r\n/g,`
`);case 23:case 24:case 25:case 37:case 39:case 40:if(Me[3]>je&&(ae["!ref"]=Qt(et),He[pe]=ae,Be.push(pe),ae={},ee.dense&&(Je=ae["!data"]=[]),et={s:{r:0,c:0},e:{r:0,c:0}},je=Me[3],pe="Sheet"+(je+1)),st>0&&Me[0].r>=st)break;ee.dense?(Je[Me[0].r]||(Je[Me[0].r]=[]),Je[Me[0].r][Me[0].c]=Me[1]):ae[or(Me[0])]=Me[1],et.e.c<Me[0].c&&(et.e.c=Me[0].c),et.e.r<Me[0].r&&(et.e.r=Me[0].r);break;case 27:Me[14e3]&&(Ke[Me[14e3][0]]=Me[14e3][1]);break;case 1537:Ke[Me[0]]=Me[1],Me[0]==je&&(pe=Me[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+H[2]);if(ae["!ref"]=Qt(et),He[X||pe]=ae,Be.push(X||pe),!Ke.length)return{SheetNames:Be,Sheets:He};for(var ce={},Se=[],Ye=0;Ye<Ke.length;++Ye)He[Be[Ye]]?(Se.push(Ke[Ye]||Be[Ye]),ce[Ke[Ye]]=He[Ke[Ye]]||He[Be[Ye]]):(Se.push(Ke[Ye]),ce[Ke[Ye]]={"!ref":"A1"});return{SheetNames:Se,Sheets:ce}}function a(H,G){var ee=G||{};if(+ee.codepage>=0&&Ps(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var ae=JE();if(!H["!ref"])throw new Error("Cannot export empty sheet to WK1");var pe=Tn(H["!ref"]),X=H["!data"]!=null,je=[];Oi(ae,0,s(1030)),Oi(ae,6,f(pe));for(var He=Math.min(pe.e.r,8191),Be=pe.s.c;Be<=pe.e.c;++Be)je[Be]=lr(Be);for(var Ke=pe.s.r;Ke<=He;++Ke){var Je=_r(Ke);for(Be=pe.s.c;Be<=pe.e.c;++Be){var et=X?(H["!data"][Ke]||[])[Be]:H[je[Be]+Je];if(!(!et||et.t=="z"))switch(et.t){case"n":(et.v|0)==et.v&&et.v>=-32768&&et.v<=32767?Oi(ae,13,y(Ke,Be,et)):Oi(ae,14,C(Ke,Be,et));break;case"d":var st=Jn(et.v);(st|0)==st&&st>=-32768&&st<=32767?Oi(ae,13,y(Ke,Be,{v:st,z:et.z||kt[14]})):Oi(ae,14,C(Ke,Be,{v:st,z:et.z||kt[14]}));break;default:var rt=_c(et);Oi(ae,15,x(Ke,Be,rt.slice(0,239)))}}}return Oi(ae,1),ae.end()}function i(H,G){var ee=G||{};if(+ee.codepage>=0&&Ps(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var ae=JE();Oi(ae,0,l(H));for(var pe=0,X=0;pe<H.SheetNames.length;++pe)(H.Sheets[H.SheetNames[pe]]||{})["!ref"]&&Oi(ae,27,Y(H.SheetNames[pe],X++));var je=0;for(pe=0;pe<H.SheetNames.length;++pe){var He=H.Sheets[H.SheetNames[pe]];if(!(!He||!He["!ref"])){for(var Be=Tn(He["!ref"]),Ke=He["!data"]!=null,Je=[],et=Math.min(Be.e.r,8191),st=Be.s.r;st<=et;++st)for(var rt=_r(st),ce=Be.s.c;ce<=Be.e.c;++ce){st===Be.s.r&&(Je[ce]=lr(ce));var Se=Je[ce]+rt,Ye=Ke?(He["!data"][st]||[])[ce]:He[Se];if(!(!Ye||Ye.t=="z"))if(Ye.t=="n")Oi(ae,23,B(st,ce,je,Ye.v));else{var Me=_c(Ye);Oi(ae,22,I(st,ce,je,Me.slice(0,239)))}}++je}}return Oi(ae,1),ae.end()}function s(H){var G=Bn(2);return G.write_shift(2,H),G}function l(H){var G=Bn(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var ee=0,ae=0,pe=0,X=0;X<H.SheetNames.length;++X){var je=H.SheetNames[X],He=H.Sheets[je];if(!(!He||!He["!ref"])){++pe;var Be=e0(He["!ref"]);ee<Be.e.r&&(ee=Be.e.r),ae<Be.e.c&&(ae=Be.e.c)}}return ee>8191&&(ee=8191),G.write_shift(2,ee),G.write_shift(1,pe),G.write_shift(1,ae),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function u(H,G,ee){var ae={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&ee.qpro?(ae.s.c=H.read_shift(1),H.l++,ae.s.r=H.read_shift(2),ae.e.c=H.read_shift(1),H.l++,ae.e.r=H.read_shift(2),ae):(ae.s.c=H.read_shift(2),ae.s.r=H.read_shift(2),G==12&&ee.qpro&&(H.l+=2),ae.e.c=H.read_shift(2),ae.e.r=H.read_shift(2),G==12&&ee.qpro&&(H.l+=2),ae.s.c==65535&&(ae.s.c=ae.e.c=ae.s.r=ae.e.r=0),ae)}function f(H){var G=Bn(8);return G.write_shift(2,H.s.c),G.write_shift(2,H.s.r),G.write_shift(2,H.e.c),G.write_shift(2,H.e.r),G}function d(H,G,ee){var ae=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(ae[0].c=H.read_shift(1),ae[3]=H.read_shift(1),ae[0].r=H.read_shift(2),H.l+=2):ee.works?(ae[0].c=H.read_shift(2),ae[0].r=H.read_shift(2),ae[2]=H.read_shift(2)):(ae[2]=H.read_shift(1),ae[0].c=H.read_shift(2),ae[0].r=H.read_shift(2)),ae}function m(H){return H.z&&Ms(H.z)?240|(r.indexOf(H.z)+1||2):255}function g(H,G,ee){var ae=H.l+G,pe=d(H,G,ee);if(pe[1].t="s",(ee.vers&65534)==20768){H.l++;var X=H.read_shift(1);return pe[1].v=H.read_shift(X,"utf8"),pe}return ee.qpro&&H.l++,pe[1].v=H.read_shift(ae-H.l,"cstr"),pe}function x(H,G,ee){var ae=Bn(7+ee.length);ae.write_shift(1,255),ae.write_shift(2,G),ae.write_shift(2,H),ae.write_shift(1,39);for(var pe=0;pe<ae.length;++pe){var X=ee.charCodeAt(pe);ae.write_shift(1,X>=128?95:X)}return ae.write_shift(1,0),ae}function b(H,G,ee){var ae=H.l+G,pe=d(H,G,ee);if(pe[1].t="s",ee.vers==20768){var X=H.read_shift(1);return pe[1].v=H.read_shift(X,"utf8"),pe}return pe[1].v=H.read_shift(ae-H.l,"cstr"),pe}function _(H,G,ee){var ae=d(H,G,ee);return ae[1].v=H.read_shift(2,"i"),ae}function y(H,G,ee){var ae=Bn(7);return ae.write_shift(1,m(ee)),ae.write_shift(2,G),ae.write_shift(2,H),ae.write_shift(2,ee.v,"i"),ae}function w(H,G,ee){var ae=d(H,G,ee);return ae[1].v=H.read_shift(8,"f"),ae}function C(H,G,ee){var ae=Bn(13);return ae.write_shift(1,m(ee)),ae.write_shift(2,G),ae.write_shift(2,H),ae.write_shift(8,ee.v,"f"),ae}function A(H,G,ee){var ae=H.l+G,pe=d(H,G,ee);if(pe[1].v=H.read_shift(8,"f"),ee.qpro)H.l=ae;else{var X=H.read_shift(2);j(H.slice(H.l,H.l+X),pe),H.l+=X}return pe}function O(H,G,ee){var ae=G&32768;return G&=-32769,G=(ae?H:0)+(G>=8192?G-16384:G),(ae?"":"$")+(ee?lr(G):_r(G))}var F={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},M=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(H,G){Yn(H,0);for(var ee=[],ae=0,pe="",X="",je="",He="";H.l<H.length;){var Be=H[H.l++];switch(Be){case 0:ee.push(H.read_shift(8,"f"));break;case 1:X=O(G[0].c,H.read_shift(2),!0),pe=O(G[0].r,H.read_shift(2),!1),ee.push(X+pe);break;case 2:{var Ke=O(G[0].c,H.read_shift(2),!0),Je=O(G[0].r,H.read_shift(2),!1);X=O(G[0].c,H.read_shift(2),!0),pe=O(G[0].r,H.read_shift(2),!1),ee.push(Ke+Je+":"+X+pe)}break;case 3:if(H.l<H.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(H.read_shift(2));break;case 6:{for(var et="";Be=H[H.l++];)et+=String.fromCharCode(Be);ee.push('"'+et.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:He=ee.pop(),je=ee.pop(),ee.push(["AND","OR"][Be-20]+"("+je+","+He+")");break;default:if(Be<32&&M[Be])He=ee.pop(),je=ee.pop(),ee.push(je+M[Be]+He);else if(F[Be]){if(ae=F[Be][1],ae==69&&(ae=H[H.l++]),ae>ee.length){console.error("WK1 bad formula parse 0x"+Be.toString(16)+":|"+ee.join("|")+"|");return}var st=ee.slice(-ae);ee.length-=ae,ee.push(F[Be][0]+"("+st.join(",")+")")}else return Be<=7?console.error("WK1 invalid opcode "+Be.toString(16)):Be<=24?console.error("WK1 unsupported op "+Be.toString(16)):Be<=30?console.error("WK1 invalid opcode "+Be.toString(16)):Be<=115?console.error("WK1 unsupported function opcode "+Be.toString(16)):console.error("WK1 unrecognized opcode "+Be.toString(16))}}ee.length==1?G[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function k(H){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=H.read_shift(2),G[3]=H[H.l++],G[0].c=H[H.l++],G}function R(H,G){var ee=k(H);return ee[1].t="s",ee[1].v=H.read_shift(G-4,"cstr"),ee}function I(H,G,ee,ae){var pe=Bn(6+ae.length);pe.write_shift(2,H),pe.write_shift(1,ee),pe.write_shift(1,G),pe.write_shift(1,39);for(var X=0;X<ae.length;++X){var je=ae.charCodeAt(X);pe.write_shift(1,je>=128?95:je)}return pe.write_shift(1,0),pe}function P(H,G){var ee=k(H);ee[1].v=H.read_shift(2);var ae=ee[1].v>>1;if(ee[1].v&1)switch(ae&7){case 0:ae=(ae>>3)*5e3;break;case 1:ae=(ae>>3)*500;break;case 2:ae=(ae>>3)/20;break;case 3:ae=(ae>>3)/200;break;case 4:ae=(ae>>3)/2e3;break;case 5:ae=(ae>>3)/2e4;break;case 6:ae=(ae>>3)/16;break;case 7:ae=(ae>>3)/64;break}return ee[1].v=ae,ee}function N(H,G){var ee=k(H),ae=H.read_shift(4),pe=H.read_shift(4),X=H.read_shift(2);if(X==65535)return ae===0&&pe===3221225472?(ee[1].t="e",ee[1].v=15):ae===0&&pe===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var je=X&32768;return X=(X&32767)-16446,ee[1].v=(1-je*2)*(pe*Math.pow(2,X+32)+ae*Math.pow(2,X)),ee}function B(H,G,ee,ae){var pe=Bn(14);if(pe.write_shift(2,H),pe.write_shift(1,ee),pe.write_shift(1,G),ae==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var X=0,je=0,He=0,Be=0;return ae<0&&(X=1,ae=-ae),je=Math.log2(ae)|0,ae/=Math.pow(2,je-31),Be=ae>>>0,(Be&2147483648)==0&&(ae/=2,++je,Be=ae>>>0),ae-=Be,Be|=2147483648,Be>>>=0,ae*=Math.pow(2,32),He=ae>>>0,pe.write_shift(4,He),pe.write_shift(4,Be),je+=16383+(X?32768:0),pe.write_shift(2,je),pe}function oe(H,G){var ee=N(H);return H.l+=G-14,ee}function he(H,G){var ee=k(H),ae=H.read_shift(4);return ee[1].v=ae>>6,ee}function ne(H,G){var ee=k(H),ae=H.read_shift(8,"f");return ee[1].v=ae,ee}function de(H,G){var ee=ne(H);return H.l+=G-12,ee}function be(H,G){return H[H.l+G-1]==0?H.read_shift(G,"cstr"):""}function we(H,G){var ee=H[H.l++];ee>G-1&&(ee=G-1);for(var ae="";ae.length<ee;)ae+=String.fromCharCode(H[H.l++]);return ae}function ue(H,G,ee){if(!(!ee.qpro||G<21)){var ae=H.read_shift(1);H.l+=17,H.l+=1,H.l+=2;var pe=H.read_shift(G-21,"cstr");return[ae,pe]}}function U(H,G){for(var ee={},ae=H.l+G;H.l<ae;){var pe=H.read_shift(2);if(pe==14e3){for(ee[pe]=[0,""],ee[pe][0]=H.read_shift(2);H[H.l];)ee[pe][1]+=String.fromCharCode(H[H.l]),H.l++;H.l++}}return ee}function Y(H,G){var ee=Bn(5+H.length);ee.write_shift(2,14e3),ee.write_shift(2,G);for(var ae=0;ae<H.length;++ae){var pe=H.charCodeAt(ae);ee[ee.l++]=pe>127?95:pe}return ee[ee.l++]=0,ee}var Z={0:{n:"BOF",f:gn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:A},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:b},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:be},222:{n:"SHEETNAMELP",f:we},255:{n:"BOF",f:gn},21506:{n:"WKSNF",f:gn},65535:{n:""}},q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:oe},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:U},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:he},38:{n:"??"},39:{n:"NUMBER27",f:ne},40:{n:"FORMULA28",f:de},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:be},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},se={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function me(H){var G=H.read_shift(2),ee=H.read_shift(1);if(ee!=0)throw"unsupported QPW string type "+ee.toString(16);return H.read_shift(G,"sbcs-cont")}function ve(H,G){Yn(H,0);var ee=G||{},ae={};ee.dense&&(ae["!data"]=[]);var pe=[],X="",je={s:{r:-1,c:-1},e:{r:-1,c:-1}},He=0,Be=0,Ke=0,Je=0,et={SheetNames:[],Sheets:{}},st=[];e:for(;H.l<H.length;){var rt=H.read_shift(2),ce=H.read_shift(2),Se=H.slice(H.l,H.l+ce);switch(Yn(Se,0),rt){case 1:if(Se.read_shift(4)!=962023505)throw"Bad QPW9 BOF!";break;case 2:break e;case 8:break;case 10:for(var Ye=Se.read_shift(4),Me=(Se.length-Se.l)/Ye|0,wt=0;wt<Ye;++wt){var Dt=Se.l+Me,Et={};Se.l+=2,Et.numFmtId=Se.read_shift(2),se[Et.numFmtId]&&(Et.z=se[Et.numFmtId]),Se.l=Dt,st.push(Et)}break;case 1025:break;case 1026:break;case 1031:for(Se.l+=12;Se.l<Se.length;)He=Se.read_shift(2),Be=Se.read_shift(1),pe.push(Se.read_shift(He,"cstr"));break;case 1032:break;case 1537:{var At=Se.read_shift(2);ae={},ee.dense&&(ae["!data"]=[]),je.s.c=Se.read_shift(2),je.e.c=Se.read_shift(2),je.s.r=Se.read_shift(4),je.e.r=Se.read_shift(4),Se.l+=4,Se.l+2<Se.length&&(He=Se.read_shift(2),Be=Se.read_shift(1),X=He==0?"":Se.read_shift(He,"cstr")),X||(X=lr(At))}break;case 1538:{if(je.s.c>255||je.s.r>999999)break;je.e.c<je.s.c&&(je.e.c=je.s.c),je.e.r<je.s.r&&(je.e.r=je.s.r),ae["!ref"]=Qt(je),Np(et,ae,X)}break;case 2561:Ke=Se.read_shift(2),je.e.c<Ke&&(je.e.c=Ke),je.s.c>Ke&&(je.s.c=Ke),Je=Se.read_shift(4),je.s.r>Je&&(je.s.r=Je),Je=Se.read_shift(4),je.e.r<Je&&(je.e.r=Je);break;case 3073:{Je=Se.read_shift(4),He=Se.read_shift(4),je.s.r>Je&&(je.s.r=Je),je.e.r<Je+He-1&&(je.e.r=Je+He-1);for(var Ut=lr(Ke);Se.l<Se.length;){var Ge={t:"z"},it=Se.read_shift(1),bt=-1;it&128&&(bt=Se.read_shift(2));var xt=it&64?Se.read_shift(2)-1:0;switch(it&31){case 0:break;case 1:break;case 2:Ge={t:"n",v:Se.read_shift(2)};break;case 3:Ge={t:"n",v:Se.read_shift(2,"i")};break;case 4:Ge={t:"n",v:sy(Se)};break;case 5:Ge={t:"n",v:Se.read_shift(8,"f")};break;case 7:Ge={t:"s",v:pe[Be=Se.read_shift(4)-1]};break;case 8:Ge={t:"n",v:Se.read_shift(8,"f")},Se.l+=2,Se.l+=4,isNaN(Ge.v)&&(Ge={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(it&31)}bt!=-1&&(st[bt-1]||{}).z&&(Ge.z=st[bt-1].z);var It=0;if(it&32)switch(it&31){case 2:It=Se.read_shift(2);break;case 3:It=Se.read_shift(2,"i");break;case 7:It=Se.read_shift(2);break;default:throw"Unsupported delta for QPW cell type "+(it&31)}if(!(!ee.sheetStubs&&Ge.t=="z")){var pt=$n(Ge);Ge.t=="n"&&Ge.z&&Ms(Ge.z)&&ee.cellDates&&(pt.v=dc(Ge.v),pt.t=typeof pt.v=="number"?"n":"d"),ae["!data"]!=null?(ae["!data"][Je]||(ae["!data"][Je]=[]),ae["!data"][Je][Ke]=pt):ae[Ut+_r(Je)]=pt}for(++Je,--He;xt-- >0&&He>=0;){if(it&32)switch(it&31){case 2:Ge={t:"n",v:Ge.v+It&65535};break;case 3:Ge={t:"n",v:Ge.v+It&65535},Ge.v>32767&&(Ge.v-=65536);break;case 7:Ge={t:"s",v:pe[Be=Be+It>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(it&31)}else switch(it&31){case 1:Ge={t:"z"};break;case 2:Ge={t:"n",v:Se.read_shift(2)};break;case 7:Ge={t:"s",v:pe[Be=Se.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(it&31)}!ee.sheetStubs&&Ge.t=="z"||(ae["!data"]!=null?(ae["!data"][Je]||(ae["!data"][Je]=[]),ae["!data"][Je][Ke]=Ge):ae[Ut+_r(Je)]=Ge),++Je,--He}}}break;case 3074:{Ke=Se.read_shift(2),Je=Se.read_shift(4);var rn=me(Se);ae["!data"]!=null?(ae["!data"][Je]||(ae["!data"][Je]=[]),ae["!data"][Je][Ke]={t:"s",v:rn}):ae[lr(Ke)+_r(Je)]={t:"s",v:rn}}break}H.l+=ce}return et}return{sheet_to_wk1:a,book_to_wk3:i,to_workbook:t}})();function kie(e){var t={},r=e.match(ja),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=lt(r[n]);switch(i[0].replace(/<\w*:/g,"<")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=lC[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var Die=(function(){function e(n){var a=ha(n,"t");if(!a)return{t:"s",v:""};var i={t:"s",v:Yt(a[1])},s=ha(n,"rPr");return s&&(i.s=kie(s[1])),i}var t=/<(?:\w+:)?r>/g,r=/<\/(?:\w+:)?r>/;return function(a){return a.replace(t,"").split(r).map(e).filter(function(i){return i.v})}})(),Oie=(function(){var t=/(\r\n|\n)/g;function r(a,i,s){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),s.push("</"+u+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),jie=/<(?:\w+:)?t\b[^<>]*>([^<]*)<\/(?:\w+:)?t>/g,Nie=/<(?:\w+:)?r\b[^<>]*>/;function EC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Yt(Pr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||""),!0),n.r=Pr(e),r&&(n.h=Eh(n.t))):e.match(Nie)&&(n.r=Pr(e),n.t=Yt(Pr((Lre(e,"rPh").match(jie)||[]).join("").replace(ja,"")),!0),r&&(n.h=Oie(Die(n.r)))),n):{t:""}}var Iie=/<(?:\w+:)?(?:si|sstItem)>/g,Pie=/<\/(?:\w+:)?(?:si|sstItem)>/;function Rie(e,t){var r=[],n="";if(!e)return r;var a=ha(e,"sst");if(a){n=a[1].replace(Iie,"").split(Pie);for(var i=0;i!=n.length;++i){var s=EC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=lt(a[0].slice(0,a[0].indexOf(">"))),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Fie(e){return[e.read_shift(4),e.read_shift(4)]}function Bie(e,t){var r=[],n=!1;return fl(e,function(i,s,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function JM(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Yo(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Mie(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Yo(e,4),t.U=Yo(e,4),t.W=Yo(e,4),t}function Lie(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function zie(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Lie(e));return t}function Uie(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Vie(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Yo(e,4),t.U=Yo(e,4),t.W=Yo(e,4),t}function $ie(e){var t=Vie(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function e9(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function t9(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Hie(e){var t=Yo(e);switch(t.Minor){case 2:return[t.Minor,qie(e)];case 3:return[t.Minor,Wie()];case 4:return[t.Minor,Gie(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function qie(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=e9(e,r),a=t9(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Wie(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Gie(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(ja,function(i){var s=lt(i);switch(xs(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=s[l]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Kie(e,t){var r={},n=r.EncryptionVersionInfo=Yo(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=e9(e,a),t-=a,r.EncryptionVerifier=t9(e,t),r}function Xie(e){var t={},r=t.EncryptionVersionInfo=Yo(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Yie(e){var t=0,r,n=JM(e),a=n.length+1,i,s,l,u,f;for(r=bc(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],l=(t&16384)===0?0:1,u=t<<1&32767,f=l|u,t=f^s;return t^52811}var r9=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,l){return n(s^l)},i=function(s){for(var l=t[s.length-1],u=104,f=s.length-1;f>=0;--f)for(var d=s[f],m=0;m!=7;++m)d&64&&(l^=r[u]),d*=2,--u;return l};return function(s){for(var l=JM(s),u=i(l),f=l.length,d=bc(16),m=0;m!=16;++m)d[m]=0;var g,x,b;for((f&1)===1&&(g=u>>8,d[f]=a(e[0],g),--f,g=u&255,x=l[l.length-1],d[f]=a(x,g));f>0;)--f,g=u>>8,d[f]=a(l[f],g),--f,g=u&255,d[f]=a(l[f],g);for(f=15,b=15-l.length;b>0;)g=u>>8,d[f]=a(e[b],g),--f,--b,g=u&255,d[f]=a(l[f],g),--f,--b;return d}})(),Qie=function(e,t,r,n,a){a||(a=t),n||(n=r9(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Zie=function(e){var t=0,r=r9(e);return function(n){var a=Qie("",n,t,r);return t=a[1],a[0]}};function Jie(e,t,r,n){var a={key:gn(e),verificationBytes:gn(e)};return r.password&&(a.verifier=Yie(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Zie(r.password)),a}function ese(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Xie(e):n.Data=Kie(e,t),n}function tse(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?ese(e,t-2,n):Jie(e,r.biff>=8?t:t-2,r,n),n}function rse(e,t){switch(t.type){case"base64":return Mg(Li(e),t);case"binary":return Mg(e,t);case"buffer":return Mg(qt&&Buffer.isBuffer(e)?e.toString("binary"):nl(e),t);case"array":return Mg(Pu(e),t)}throw new Error("Unrecognized type "+t.type)}function Mg(e,t){var r=t||{},n={},a=r.dense;a&&(n["!data"]=[]);var i=mC(e,"\\trowd","\\row");if(!i)throw new Error("RTF missing table");var s={s:{c:0,r:0},e:{c:0,r:i.length-1}},l=[];return i.forEach(function(u,f){a&&(l=n["!data"][f]=[]);for(var d=/\\[\w\-]+\b/g,m=0,g,x=-1,b=[];(g=d.exec(u))!=null;){var _=u.slice(m,d.lastIndex-g[0].length);switch(_.charCodeAt(0)==32&&(_=_.slice(1)),_.length&&b.push(_),g[0]){case"\\cell":if(++x,b.length){var y={v:b.join(""),t:"s"};y.v=="TRUE"||y.v=="FALSE"?(y.v=y.v=="TRUE",y.t="b"):isNaN(Fi(y.v))?Ta[y.v]!=null&&(y.t="e",y.w=y.v,y.v=Ta[y.v]):(y.t="n",r.cellText!==!1&&(y.w=y.v),y.v=Fi(y.v)),a?l[x]=y:n[or({r:f,c:x})]=y}b=[];break;case"\\par":b.push(`
`);break}m=d.lastIndex}x>s.e.c&&(s.e.c=x)}),n["!ref"]=Qt(s),n}function nse(e,t){var r=Oc(rse(e,t),t);return r.bookType="rtf",r}function ase(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Zh(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function ise(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var l=0,u=0,f=a+i;switch(u=s/(f>1?2-f:f),a){case t:l=((r-n)/s+6)%6;break;case r:l=(n-t)/s+2;break;case n:l=(t-r)/s+4;break}return[l/6,u,f/2]}function sse(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],l=6*t,u;if(r!==0)switch(l|0){case 0:case 6:u=a*l,s[0]+=a,s[1]+=u;break;case 1:u=a*(2-l),s[0]+=u,s[1]+=a;break;case 2:u=a*(l-2),s[1]+=a,s[2]+=u;break;case 3:u=a*(4-l),s[1]+=u,s[2]+=a;break;case 4:u=a*(l-4),s[2]+=a,s[0]+=u;break;case 5:u=a*(6-l),s[2]+=u,s[0]+=a;break}for(var f=0;f!=3;++f)s[f]=Math.round(s[f]*255);return s}function Bv(e,t){if(t===0)return e;var r=ise(ase(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Zh(sse(r))}var n9=6,ose=15,lse=1,Za=n9;function Mv(e){return Math.floor((e+Math.round(128/Za)/256)*Za)}function Lv(e){return Math.floor((e-5)/Za*100+.5)/100}function rS(e){return Math.round((e*Za+5)/Za*256)/256}function A_(e){return rS(Lv(Mv(e)))}function SC(e){var t=Math.abs(e-A_(e)),r=Za;if(t>.005)for(Za=lse;Za<ose;++Za)Math.abs(e-A_(e))<=t&&(t=Math.abs(e-A_(e)),r=Za);Za=r}function Sf(e){e.width?(e.wpx=Mv(e.width),e.wch=Lv(e.wpx),e.MDW=Za):e.wpx?(e.wch=Lv(e.wpx),e.width=rS(e.wch),e.MDW=Za):typeof e.wch=="number"&&(e.width=rS(e.wch),e.wpx=Mv(e.width),e.MDW=Za),e.customWidth&&delete e.customWidth}var cse=96,a9=cse;function i9(e){return e*96/a9}function Jh(e){return e*a9/96}var use={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function fse(e,t,r,n){t.Borders=[];var a={},i=!1;(e.match(ja)||[]).forEach(function(s){var l=lt(s);switch(xs(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=yr(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=yr(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function dse(e,t,r,n){t.Fills=[];var a={},i=!1;(e.match(ja)||[]).forEach(function(s){var l=lt(s);switch(xs(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function hse(e,t,r,n){t.Fonts=[];var a={},i=!1;(e.match(ja)||[]).forEach(function(s){var l=lt(s);switch(xs(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Pr(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?yr(l.val):1;break;case"<b/>":a.bold=1;break;case"</b>":case"</b":break;case"<i":a.italic=l.val?yr(l.val):1;break;case"<i/>":a.italic=1;break;case"</i>":case"</i":break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"</u>":case"</u":break;case"<strike":a.strike=l.val?yr(l.val):1;break;case"<strike/>":a.strike=1;break;case"</strike>":case"</strike":break;case"<outline":a.outline=l.val?yr(l.val):1;break;case"<outline/>":a.outline=1;break;case"</outline>":case"</outline":break;case"<shadow":a.shadow=l.val?yr(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"</shadow>":case"</shadow":break;case"<condense":a.condense=l.val?yr(l.val):1;break;case"<condense/>":a.condense=1;break;case"</condense>":case"</condense":break;case"<extend":a.extend=l.val?yr(l.val):1;break;case"<extend/>":a.extend=1;break;case"</extend>":case"</extend":break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":case"</sz":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":case"</vertAlign":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":case"</family":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":case"</scheme":break;case"<charset":if(l.val=="1")break;l.codepage=lC[parseInt(l.val,10)];break;case"<charset/>":case"</charset>":case"</charset":break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=yr(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var u=wu[a.color.index];a.color.index==81&&(u=wu[1]),u||(u=wu[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Bv(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":case"</color":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":case"</AlternateContent":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function pse(e,t,r){t.NumberFmt=[];for(var n=ds(kt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=kt[n[a]];var i=e.match(ja);if(i)for(a=0;a<i.length;++a){var s=lt(i[a]);switch(xs(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Yt(Pr(s.formatCode)),u=parseInt(s.numFmtId,10);if(t.NumberFmt[u]=l,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=l}bu(l,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Lg=["numFmtId","fillId","fontId","borderId","xfId"],zg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function mse(e,t,r){t.CellXf=[];var n,a=!1;(e.match(ja)||[]).forEach(function(i){var s=lt(i),l=0;switch(xs(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":case"<xf>":for(n=s,delete n[0],l=0;l<Lg.length;++l)n[Lg[l]]&&(n[Lg[l]]=parseInt(n[Lg[l]],10));for(l=0;l<zg.length;++l)n[zg[l]]&&(n[zg[l]]=yr(n[zg[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":case"<alignment>":var u={};s.vertical&&(u.vertical=s.vertical),s.horizontal&&(u.horizontal=s.horizontal),s.textRotation!=null&&(u.textRotation=s.textRotation),s.indent&&(u.indent=s.indent),s.wrapText&&(u.wrapText=yr(s.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":case"<protection>":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var gse=(function(){return function(r,n,a){var i={};if(!r)return i;r=pC(Cp(r,"<!--","-->"));var s;return(s=ha(r,"numFmts"))&&pse(s[0],i,a),(s=ha(r,"fonts"))&&hse(s[0],i,n,a),(s=ha(r,"fills"))&&dse(s[0],i,n,a),(s=ha(r,"borders"))&&fse(s[0],i,n,a),(s=ha(r,"cellXfs"))&&mse(s[0],i,a),i}})();function xse(e,t){var r=e.read_shift(2),n=Va(e);return[r,n]}function vse(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Ane(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var l=e.read_shift(1);l>0&&(n.family=l);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=Sne(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Va(e),n}var yse=qa;function bse(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var _se=qa;function wse(e,t,r){var n={};n.NumberFmt=[];for(var a in kt)n.NumberFmt[a]=kt[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return fl(e,function(u,f,d){switch(d){case 44:n.NumberFmt[u[0]]=u[1],bu(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=Bv(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(d),s=!0;break;case 38:i.pop(),s=!1;break;default:if(f.T>0)i.push(d);else if(f.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var Ese=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Sse(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(ja)||[]).forEach(function(a){var i=lt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"</a:srgbClr>":break;case"<a:sysClr":n.rgb=i.lastClr;break;case"</a:sysClr>":break;case"</a:dk1>":case"</a:lt1>":case"<a:dk1>":case"<a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Ese.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Ase(e,t,r){t.themeElements={};var n;if(!(n=_u(e,"a:clrScheme")))throw new Error("clrScheme not found in themeElements");if(Sse(n,t,r),!(n=_u(e,"a:fontScheme")))throw new Error("fontScheme not found in themeElements");if(!(n=_u(e,"a:fmtScheme")))throw new Error("fmtScheme not found in themeElements")}function s9(e,t){(!e||e.length===0)&&(e=Cse());var r,n={};if(!(r=_u(e,"a:themeElements")))throw new Error("themeElements not found in theme");return Ase(r[0],n,t),n.raw=e,n}function Cse(e,t){var r=[xM];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Tse(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=gM(i,{type:"array"})}catch{return}var l=ei(s,"theme/theme/theme1.xml",!0);if(l)return s9(l,r)}}function kse(e){return e.read_shift(4)}function Dse(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Ose(e,4);break;case 2:t.xclrValue=WM(e);break;case 3:t.xclrValue=kse(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Ose(e,t){return qa(e,t)}function jse(e,t){return qa(e,t)}function Nse(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Dse(e);break;case 6:n[1]=jse(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Ise(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Nse(e,r-e.l));return{ixfe:n,ext:i}}function Pse(e,t){t.forEach(function(r){r[0]})}function Rse(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Va(e)}}function Fse(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Bse(e){return e.l+=4,e.read_shift(4)!=0}function Mse(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,l=2;return fl(e,function(u,f,d){switch(d){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(m){l==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):l==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:l=u?1:0;break;case 338:l=2;break;case 35:i.push(d),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!f.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function Lse(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(ja,function(l){var u=lt(l);switch(xs(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==u.name&&(s=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):i==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+u.i);break;default:if(!a&&r?.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return l}),n}function zse(e){var t=[];if(!e)return t;var r=1;return(e.match(ja)||[]).forEach(function(n){var a=lt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Use(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=or(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Vse(e,t,r){var n=[];return fl(e,function(i,s,l){switch(l){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function $se(e,t,r,n){if(!e)return e;var a=n||{},i=!1;fl(e,function(l,u,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},a)}function Hse(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^<>]*r:id="([^<>"]*)"/)||["",""])[1];return t["!id"][r].Target}function qse(e,t,r){var n=0;(hM(e,"shape")||[]).forEach(function(a){var i="",s=!0,l=-1,u=-1,f=-1;if(a.replace(ja,function(m,g){var x=lt(m);switch(xs(x[0])){case"<ClientData":x.ObjectType&&(i=x.ObjectType);break;case"<Visible":case"<Visible/>":s=!1;break;case"<Row":case"<Row>":l=g+m.length;break;case"</Row>":u=+a.slice(l,g).trim();break;case"<Column":case"<Column>":l=g+m.length;break;case"</Column>":f=+a.slice(l,g).trim();break}return""}),i==="Note"){var d=tp(t,u>=0&&f>=0?or({r:u,c:f}):r[n].ref);d.c&&(d.c.hidden=s),++n}})}function s6(e,t,r,n){var a=e["!data"]!=null,i;t.forEach(function(s){var l=Ua(s.ref);if(!(l.r<0||l.c<0)){if(a?(e["!data"][l.r]||(e["!data"][l.r]=[]),i=e["!data"][l.r][l.c]):i=e[s.ref],!i){i={t:"z"},a?e["!data"][l.r][l.c]=i:e[s.ref]=i;var u=Tn(e["!ref"]||"BDWGO1000001:A1");u.s.r>l.r&&(u.s.r=l.r),u.e.r<l.r&&(u.e.r=l.r),u.s.c>l.c&&(u.s.c=l.c),u.e.c<l.c&&(u.e.c=l.c);var f=Qt(u);e["!ref"]=f}i.c||(i.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var m=i.c.length-1;m>=0;--m){if(!r&&i.c[m].T)return;r&&!i.c[m].T&&i.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(d.a==n[m].id){d.a=n[m].name||d.a;break}}i.c.push(d)}})}function Wse(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=ha(e,"authors");a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?author[^<>]*>(.*)/);l&&r.push(l[1])}});var i=ha(e,"commentList");return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?comment[^<>]*>/);if(l){var u=lt(l[0]),f={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},d=Ua(u.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var m=ha(s,"text"),g=!!m&&!!m[1]&&EC(m[1])||{r:"",t:"",h:""};f.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),f.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(f.h=g.h),n.push(f)}}}}),n}function Gse(e,t){var r=[],n=!1,a={},i=0;return e.replace(ja,function(l,u){var f=lt(l);switch(xs(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=u+l.length;break;case"</text>":a.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return l}),r}function Kse(e,t){var r=[],n=!1;return e.replace(ja,function(i){var s=lt(i);switch(xs(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Xse(e){var t={};t.iauthor=e.read_shift(4);var r=r0(e);return t.rfx=r.s,t.ref=or(r.s),e.l+=16,t}var Yse=Va;function Qse(e,t){var r=[],n=[],a={},i=!1;return fl(e,function(l,u,f){switch(f){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}var Zse="application/vnd.ms-office.vbaProject";function Jse(e){var t=er.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");er.utils.cfb_add(t,a,e.FileIndex[n].content)}}),er.write(t)}function eoe(){return{"!type":"dialog"}}function toe(){return{"!type":"dialog"}}function roe(){return{"!type":"macro"}}function noe(){return{"!type":"macro"}}var Eu=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var l=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return l?d+=t.c:--d,u?f+=t.r:--f,a+(l?"":"$")+lr(d)+(u?"":"$")+_r(f)}return function(a,i){return t=i,a.replace(e,r)}})(),AC=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{AC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var aoe=(function(){return function(t,r){return t.replace(AC,function(n,a,i,s,l,u){var f=yC(s)-(i?0:r.c),d=vC(u)-(l?0:r.r),m=l=="$"?d+1:d==0?"":"["+d+"]",g=i=="$"?f+1:f==0?"":"["+f+"]";return a+"R"+m+"C"+g})}})();function o9(e,t){return e.replace(AC,function(r,n,a,i,s,l){return n+(a=="$"?a+i:lr(yC(i)+t.c))+(s=="$"?s+l:_r(vC(l)+t.r))})}function o6(e,t,r){var n=e0(t),a=n.s,i=Ua(r),s={r:i.r-a.r,c:i.c-a.c};return o9(e,s)}function ioe(e){return e.length!=1}function l6(e){return e.replace(/_xlfn\./g,"")}function In(e){e.l+=1}function wc(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function l9(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return c9(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=wc(e),l=wc(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function c9(e){var t=wc(e),r=wc(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function soe(e,t,r){if(r.biff<8)return c9(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=wc(e),s=wc(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function u9(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ooe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=wc(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function ooe(e){var t=wc(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function loe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function coe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return uoe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:l}}function uoe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function foe(e,t,r){var n=(e[e.l++]&96)>>5,a=l9(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function doe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=l9(e,i,r);return[n,a,s]}function hoe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function poe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function moe(e,t,r){var n=(e[e.l++]&96)>>5,a=soe(e,t-1,r);return[n,a]}function goe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function c6(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function xoe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function voe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function yoe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function boe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function _oe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function f9(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function woe(e){return e.read_shift(2),f9(e)}function Eoe(e){return e.read_shift(2),f9(e)}function Soe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=u9(e,0,r);return[n,a]}function Aoe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=coe(e,0,r);return[n,a]}function Coe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=u9(e,0,r);return[n,a,i]}function Toe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[kle[a],p9[a],n]}function koe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Doe(e);return[a,(i[0]===0?p9:Tle)[i[1]]]}function Doe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Ooe(e,t,r){e.l+=r&&r.biff==2?3:4}function joe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Noe(e){return e.l++,vi[e.read_shift(1)]}function Ioe(e){return e.l++,e.read_shift(2)}function Poe(e){return e.l++,e.read_shift(1)!==0}function Roe(e){return e.l++,za(e)}function Foe(e,t,r){return e.l++,Ef(e,t-1,r)}function Boe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Sn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=vi[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=za(e);break;case 2:r[1]=n0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Moe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?r0:oy)(e));return a}function Loe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var l=0;l!=a;++l)s[i][l]=Boe(e,r.biff);return s}function zoe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Uoe(e,t,r){if(r.biff==5)return Voe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Voe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function $oe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Hoe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function qoe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Woe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Goe=qa,Koe=qa,Xoe=qa;function Dp(e,t,r){return e.l+=2,[loe(e)]}function CC(e){return e.l+=6,[]}var Yoe=Dp,Qoe=CC,Zoe=CC,Joe=Dp;function d9(e){return e.l+=2,[gn(e),e.read_shift(2)&1]}var ele=Dp,tle=d9,rle=CC,nle=Dp,ale=Dp,ile=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function sle(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=ile[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function ole(e){return e.l+=2,[e.read_shift(4)]}function lle(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function cle(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ule(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function fle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function dle(e){return e.l+=4,[0,0]}var u6={1:{n:"PtgExp",f:joe},2:{n:"PtgTbl",f:Xoe},3:{n:"PtgAdd",f:In},4:{n:"PtgSub",f:In},5:{n:"PtgMul",f:In},6:{n:"PtgDiv",f:In},7:{n:"PtgPower",f:In},8:{n:"PtgConcat",f:In},9:{n:"PtgLt",f:In},10:{n:"PtgLe",f:In},11:{n:"PtgEq",f:In},12:{n:"PtgGe",f:In},13:{n:"PtgGt",f:In},14:{n:"PtgNe",f:In},15:{n:"PtgIsect",f:In},16:{n:"PtgUnion",f:In},17:{n:"PtgRange",f:In},18:{n:"PtgUplus",f:In},19:{n:"PtgUminus",f:In},20:{n:"PtgPercent",f:In},21:{n:"PtgParen",f:In},22:{n:"PtgMissArg",f:In},23:{n:"PtgStr",f:Foe},26:{n:"PtgSheet",f:lle},27:{n:"PtgEndSheet",f:cle},28:{n:"PtgErr",f:Noe},29:{n:"PtgBool",f:Poe},30:{n:"PtgInt",f:Ioe},31:{n:"PtgNum",f:Roe},32:{n:"PtgArray",f:goe},33:{n:"PtgFunc",f:Toe},34:{n:"PtgFuncVar",f:koe},35:{n:"PtgName",f:zoe},36:{n:"PtgRef",f:Soe},37:{n:"PtgArea",f:foe},38:{n:"PtgMemArea",f:$oe},39:{n:"PtgMemErr",f:Goe},40:{n:"PtgMemNoMem",f:Koe},41:{n:"PtgMemFunc",f:Hoe},42:{n:"PtgRefErr",f:qoe},43:{n:"PtgAreaErr",f:hoe},44:{n:"PtgRefN",f:Aoe},45:{n:"PtgAreaN",f:moe},46:{n:"PtgMemAreaN",f:ule},47:{n:"PtgMemNoMemN",f:fle},57:{n:"PtgNameX",f:Uoe},58:{n:"PtgRef3d",f:Coe},59:{n:"PtgArea3d",f:doe},60:{n:"PtgRefErr3d",f:Woe},61:{n:"PtgAreaErr3d",f:poe},255:{}},hle={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ple={1:{n:"PtgElfLel",f:d9},2:{n:"PtgElfRw",f:nle},3:{n:"PtgElfCol",f:Yoe},6:{n:"PtgElfRwV",f:ale},7:{n:"PtgElfColV",f:Joe},10:{n:"PtgElfRadical",f:ele},11:{n:"PtgElfRadicalS",f:rle},13:{n:"PtgElfColS",f:Qoe},15:{n:"PtgElfColSV",f:Zoe},16:{n:"PtgElfRadicalLel",f:tle},25:{n:"PtgList",f:sle},29:{n:"PtgSxName",f:ole},255:{}},mle={0:{n:"PtgAttrNoop",f:dle},1:{n:"PtgAttrSemi",f:_oe},2:{n:"PtgAttrIf",f:yoe},4:{n:"PtgAttrChoose",f:xoe},8:{n:"PtgAttrGoto",f:voe},16:{n:"PtgAttrSum",f:Ooe},32:{n:"PtgAttrBaxcel",f:c6},33:{n:"PtgAttrBaxcel",f:c6},64:{n:"PtgAttrSpace",f:woe},65:{n:"PtgAttrSpaceSemi",f:Eoe},128:{n:"PtgAttrIfError",f:boe},255:{}};function Op(e,t,r,n){if(n.biff<8)return qa(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Loe(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Moe(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(qa(e,t)),i}function jp(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=u6[i]||u6[hle[i]],(i===24||i===25)&&(a=(i===24?ple:mle)[e[e.l+1]]),!a||!a.f?qa(e,t):s.push([a.n,a.f(e,t,r)]);return s}function gle(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];s?s[0]===2?a.push('"'+s[1].replace(/"/g,'""')+'"'):a.push(s[1]):a.push("")}t.push(a.join(","))}return t.join(";")}var xle={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function vle(e,t){var r=e.lastIndexOf("!"),n=t.lastIndexOf("!");return r==-1&&n==-1?e+":"+t:r>0&&n>0&&e.slice(0,r).toLowerCase()==t.slice(0,n).toLowerCase()?e+":"+t.slice(n+1):(console.error("Cannot hydrate range",e,t),e+":"+t)}function h9(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function f6(e,t,r){var n=h9(e,t,r);return n=="#REF"?n:xne(n,r)}function Ba(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},l=[],u,f,d,m=0,g=0,x,b="";if(!e[0]||!e[0][0])return"";for(var _=-1,y="",w=0,C=e[0].length;w<C;++w){var A=e[0][w];switch(A[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),f=l.pop(),_>=0){switch(e[0][_][1][0]){case 0:y=Jt(" ",e[0][_][1][1]);break;case 1:y=Jt("\r",e[0][_][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][_][1][0])}f=f+y,_=-1}l.push(f+xle[A[0]]+u);break;case"PtgIsect":u=l.pop(),f=l.pop(),l.push(f+" "+u);break;case"PtgUnion":u=l.pop(),f=l.pop(),l.push(f+","+u);break;case"PtgRange":u=l.pop(),f=l.pop(),l.push(vle(f,u));break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Ah(A[1][1],s,a),l.push(Ch(d,i));break;case"PtgRefN":d=r?Ah(A[1][1],r,a):A[1][1],l.push(Ch(d,i));break;case"PtgRef3d":m=A[1][1],d=Ah(A[1][2],s,a),b=f6(n,m,a),l.push(b+"!"+Ch(d,i));break;case"PtgFunc":case"PtgFuncVar":var O=A[1][0],F=A[1][1];O||(O=0),O&=127;var M=O==0?[]:l.slice(-O);l.length-=O,F==="User"&&(F=M.shift()),l.push(F+"("+M.join(",")+")");break;case"PtgBool":l.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(A[1]);break;case"PtgNum":l.push(String(A[1]));break;case"PtgStr":l.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(A[1]);break;case"PtgAreaN":x=$8(A[1][1],r?{s:r}:s,a),l.push(E_(x,a));break;case"PtgArea":x=$8(A[1][1],s,a),l.push(E_(x,a));break;case"PtgArea3d":m=A[1][1],x=A[1][2],b=f6(n,m,a),l.push(b+"!"+E_(x,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=A[1][2];var j=(n.names||[])[g-1]||(n[0]||[])[g],k=j?j.Name:"SH33TJSNAME"+String(g);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var R=A[1][1];g=A[1][2];var I;if(a.biff<=5)R<0&&(R=-R),n[R]&&(I=n[R][g]);else{var P="";if(((n[R]||[])[0]||[])[0]==14849||(((n[R]||[])[0]||[])[0]==1025?n[R][g]&&n[R][g].itab>0&&(P=n.SheetNames[n[R][g].itab-1]+"!"):P=n.SheetNames[g-1]+"!"),n[R]&&n[R][g])P+=n[R][g].Name;else if(n[0]&&n[0][g])P+=n[0][g].Name;else{var N=(h9(n,R,a)||"").split(";;");N[g-1]?P=N[g-1]:P+="SH33TJSERRX"}l.push(P);break}I||(I={Name:"SH33TJSERRY"}),l.push(I.Name);break;case"PtgParen":var B="(",oe=")";if(_>=0){switch(y="",e[0][_][1][0]){case 2:B=Jt(" ",e[0][_][1][1])+B;break;case 3:B=Jt("\r",e[0][_][1][1])+B;break;case 4:oe=Jt(" ",e[0][_][1][1])+oe;break;case 5:oe=Jt("\r",e[0][_][1][1])+oe;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][_][1][0])}_=-1}l.push(B+l.pop()+oe);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:A[1][1],r:A[1][0]};var he={c:r.c,r:r.r};if(n.sharedf[or(d)]){var ne=n.sharedf[or(d)];l.push(Ba(ne,s,he,n,a))}else{var de=!1;for(u=0;u!=n.arrayf.length;++u)if(f=n.arrayf[u],!(d.c<f[0].s.c||d.c>f[0].e.c)&&!(d.r<f[0].s.r||d.r>f[0].e.r)){l.push(Ba(f[1],s,he,n,a)),de=!0;break}de||l.push(A[1])}break;case"PtgArray":l.push("{"+gle(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var be=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&_>=0&&be.indexOf(e[0][w][0])==-1){A=e[0][_];var we=!0;switch(A[1][0]){case 4:we=!1;case 0:y=Jt(" ",A[1][1]);break;case 5:we=!1;case 1:y=Jt("\r",A[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}l.push((we?y:"")+l.pop()+(we?"":y)),_=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]=="TRUE"?!0:l[0]=="FALSE"?!1:l[0]}function yle(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],qa(e,t-2)];var l=jp(e,s,r);return t!==s+a&&(i=Op(e,t-s-a,l,r)),e.l=n,[l,i]}function ble(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],qa(e,t-2)];var l=jp(e,s,r);return t!==s+a&&(i=Op(e,t-s-a,l,r)),e.l=n,[l,i]}function _le(e,t,r,n){var a=e.l+t,i=jp(e,n,r),s;return a!==e.l&&(s=Op(e,a-e.l,i,r)),[i,s]}function wle(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=jp(e,i,r);return i==65535?[[],qa(e,t-2)]:(t!==i+2&&(a=Op(e,n-i-2,s,r)),[s,a])}function Ele(e){var t;if(Ho(e,e.l+6)!==65535)return[za(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function C_(e,t,r){var n=e.l+t,a=Vs(e,6,r),i=Ele(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=ble(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:s>>3&1,tt:i[1]}}function ly(e,t,r){var n=e.read_shift(4),a=jp(e,n,r),i=e.read_shift(4),s=i>0?Op(e,i,a,r):null;return[a,s]}var Sle=ly,cy=ly,Ale=ly,Cle=ly,Tle={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},p9={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},kle={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function d6(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\$'([^']|'')+'/g,function(t){return t.slice(1)}),e=e.replace(/\$([^\]\. #$]+)/g,function(t,r){return r.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?t:r}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function T_(e){e=e.replace(/\$'([^']|'')+'/g,function(n){return n.slice(1)}),e=e.replace(/\$([^\]\. #$]+)/g,function(n,a){return a.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?n:a});var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Oh={},df={};function jh(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function m9(e,t,r,n,a,i,s){try{n.cellNF&&(e.z=kt[t])}catch(u){if(n.WTF)throw u}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Oa(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(kt[t]==null&&bu(yre[t]||"General",t),e.t==="e")e.w=e.w||vi[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Xh(e.v);else if(e.t==="d"){var l=Jn(e.v,!!s);(l|0)===l?e.w=l.toString(10):e.w=Xh(l)}else{if(e.v===void 0)return"";e.w=Iu(e.v,df)}else e.t==="d"?e.w=zi(t,Jn(e.v,!!s),df):e.w=zi(t,e.v,df)}catch(u){if(n.WTF)throw u}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Bv(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Bv(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(u){if(n.WTF&&i.Fills)throw u}}}function Dle(e,t){var r=Tn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Qt(r))}var Ole=/<(?:\w+:)?mergeCell ref=["'][A-Z0-9:]+['"]\s*[\/]?>/g,jle=/<(?:\w+:)?hyperlink [^<>]*>/mg,Nle=/"(\w*:\w*)"/,Ile=/<(?:\w+:)?col\b[^<>]*[\/]?>/g,Ple=/<(?:\w+:)?autoFilter[^>]*/g,Rle=/<(?:\w+:)?pageMargins[^<>]*\/>/g,g9=/<(?:\w+:)?sheetPr\b[^<>]*?\/>/;function Fle(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var l={};t.dense&&(l["!data"]=[]);var u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",d="",m=ha(e,"sheetData");m?(f=e.slice(0,m.index),d=e.slice(m.index+m[0].length)):f=d=e;var g=f.match(g9);g?TC(g[0],l,a,r):(g=ha(f,"sheetPr"))&&Ble(g[0],g[1]||"",l,a,r);var x=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var b=f.slice(x,x+50).match(Nle);b&&!(t&&t.nodim)&&Dle(l,b[1])}var _=ha(f,"sheetViews");_&&_[1]&&$le(_[1],a);var y=[];if(t.cellStyles){var w=f.match(Ile);w&&zle(y,w)}m&&Hle(m[1],l,t,u,i,s,a);var C=d.match(Ple);C&&(l["!autofilter"]=Ule(C[0]));var A=[],O=d.match(Ole);if(O)for(x=0;x!=O.length;++x)A[x]=Tn(O[x].slice(O[x].indexOf("=")+2));var F=d.match(jle);F&&Mle(l,F,n);var M=d.match(Rle);M&&(l["!margins"]=Lle(lt(M[0])));var j;if((j=d.match(/legacyDrawing r:id="(.*?)"/))&&(l["!legrel"]=j[1]),t&&t.nodim&&(u.s.c=u.s.r=0),!l["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(l["!ref"]=Qt(u)),t.sheetRows>0&&l["!ref"]){var k=Tn(l["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>u.e.r&&(k.e.r=u.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>u.e.c&&(k.e.c=u.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Qt(k))}return y.length>0&&(l["!cols"]=y),A.length>0&&(l["!merges"]=A),n["!id"][l["!legrel"]]&&(l["!legdrawel"]=n["!id"][l["!legrel"]]),l}function TC(e,t,r,n){var a=lt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Yt(Pr(a.codeName)))}function Ble(e,t,r,n,a){TC(e.slice(0,e.indexOf(">")),r,n,a)}function Mle(e,t,r){for(var n=e["!data"]!=null,a=0;a!=t.length;++a){var i=lt(Pr(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Yt(i.location))):(i.Target="#"+Yt(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Tn(i.ref),u=l.s.r;u<=l.e.r;++u)for(var f=l.s.c;f<=l.e.c;++f){var d=lr(f)+_r(u);n?(e["!data"][u]||(e["!data"][u]=[]),e["!data"][u][f]||(e["!data"][u][f]={t:"z",v:void 0}),e["!data"][u][f].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function Lle(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function zle(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=lt(t[n],!0);a.hidden&&(a.hidden=yr(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,SC(a.width)),Sf(a);i<=s;)e[i++]=$n(a)}}function Ule(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Vle=/<(?:\w:)?sheetView(?:[^<>a-z][^<>]*)?\/?>/g;function $le(e,t){t.Views||(t.Views=[{}]),(e.match(Vle)||[]).forEach(function(r,n){var a=lt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),a.rightToLeft&&yr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Hle=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/ref=["']([^"']*)["']/;return function(i,s,l,u,f,d,m){for(var g=0,x="",b=[],_=[],y=0,w=0,C=0,A="",O,F,M=0,j=0,k,R,I=0,P=0,N=Array.isArray(d.CellXf),B,oe=[],he=[],ne=s["!data"]!=null,de=[],be={},we=!1,ue=!!l.sheetStubs,U=!!((m||{}).WBProps||{}).date1904,Y=i.split(t),Z=0,q=Y.length;Z!=q;++Z){x=Y[Z].trim();var se=x.length;if(se!==0){var me=0;e:for(g=0;g<se;++g)switch(x[g]){case">":if(x[g-1]!="/"){++g;break e}if(l&&l.cellStyles){if(F=lt(x.slice(me,g),!0),M=F.r!=null?parseInt(F.r,10):M+1,j=-1,l.sheetRows&&l.sheetRows<M)continue;be={},we=!1,F.ht&&(we=!0,be.hpt=parseFloat(F.ht),be.hpx=Jh(be.hpt)),F.hidden&&yr(F.hidden)&&(we=!0,be.hidden=!0),F.outlineLevel!=null&&(we=!0,be.level=+F.outlineLevel),we&&(de[M-1]=be)}break;case"<":me=g;break}if(me>=g)break;if(F=lt(x.slice(me,g),!0),M=F.r!=null?parseInt(F.r,10):M+1,j=-1,!(l.sheetRows&&l.sheetRows<M)){l.nodim||(u.s.r>M-1&&(u.s.r=M-1),u.e.r<M-1&&(u.e.r=M-1)),l&&l.cellStyles&&(be={},we=!1,F.ht&&(we=!0,be.hpt=parseFloat(F.ht),be.hpx=Jh(be.hpt)),F.hidden&&yr(F.hidden)&&(we=!0,be.hidden=!0),F.outlineLevel!=null&&(we=!0,be.level=+F.outlineLevel),we&&(de[M-1]=be)),b=x.slice(g).split(e);for(var ve=0;ve!=b.length&&b[ve].trim().charAt(0)=="<";++ve);for(b=b.slice(ve),g=0;g!=b.length;++g)if(x=b[g].trim(),x.length!==0){if(_=x.match(r),y=g,w=0,C=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,_!=null&&_.length===2){for(y=0,A=_[1],w=0;w!=A.length&&!((C=A.charCodeAt(w)-64)<1||C>26);++w)y=26*y+C;--y,j=y}else++j;for(w=0;w!=x.length&&x.charCodeAt(w)!==62;++w);if(++w,F=lt(x.slice(0,w),!0),F.r||(F.r=or({r:M-1,c:j})),A=x.slice(w),O={t:""},(_=ha(A,"v"))!=null&&_[1]!==""&&(O.v=Yt(_[1])),l.cellFormula){if((_=ha(A,"f"))!=null){if(_[1]=="")_[0].indexOf('t="shared"')>-1&&(R=lt(_[0]),he[R.si]&&(O.f=o6(he[R.si][1],he[R.si][2],F.r)));else if(O.f=Yt(Pr(_[1]),!0),l.xlfn||(O.f=l6(O.f)),_[0].indexOf('t="array"')>-1)O.F=(A.match(n)||[])[1],O.F.indexOf(":")>-1&&oe.push([Tn(O.F),O.F]);else if(_[0].indexOf('t="shared"')>-1){R=lt(_[0]);var H=Yt(Pr(_[1]));l.xlfn||(H=l6(H)),he[parseInt(R.si,10)]=[R,H,F.r]}}else(_=A.match(/<f[^<>]*\/>/))&&(R=lt(_[0]),he[R.si]&&(O.f=o6(he[R.si][1],he[R.si][2],F.r)));var G=Ua(F.r);for(w=0;w<oe.length;++w)G.r>=oe[w][0].s.r&&G.r<=oe[w][0].e.r&&G.c>=oe[w][0].s.c&&G.c<=oe[w][0].e.c&&(O.F=oe[w][1])}if(F.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(ue)O.t="z";else continue;else O.t=F.t||"n";switch(u.s.c>j&&(u.s.c=j),u.e.c<j&&(u.e.c=j),O.t){case"n":if(O.v==""||O.v==null){if(!ue)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!ue)continue;O.t="z"}else k=Oh[parseInt(O.v,10)],O.v=k.t,O.r=k.r,l.cellHTML&&(O.h=k.h);break;case"str":O.t="s",O.v=O.v!=null?Yt(Pr(O.v),!0):"",l.cellHTML&&(O.h=Eh(O.v));break;case"inlineStr":_=ha(A,"is"),O.t="s",_!=null&&(k=EC(_[1]))?(O.v=k.t,l.cellHTML&&(O.h=k.h)):O.v="";break;case"b":O.v=yr(O.v);break;case"d":l.cellDates?O.v=Oa(O.v,U):(O.v=Jn(Oa(O.v,U),U),O.t="n");break;case"e":(!l||l.cellText!==!1)&&(O.w=O.v),O.v=Ta[O.v];break}if(I=P=0,B=null,N&&F.s!==void 0&&(B=d.CellXf[F.s],B!=null&&(B.numFmtId!=null&&(I=B.numFmtId),l.cellStyles&&B.fillId!=null&&(P=B.fillId))),m9(O,I,P,l,f,d,U),l.cellDates&&N&&O.t=="n"&&Ms(kt[I])&&(O.v=dc(O.v+(U?1462:0)),O.t=typeof O.v=="number"?"n":"d"),F.cm&&l.xlmeta){var ee=(l.xlmeta.Cell||[])[+F.cm-1];ee&&ee.type=="XLDAPR"&&(O.D=!0)}var ae;l.nodim&&(ae=Ua(F.r),u.s.r>ae.r&&(u.s.r=ae.r),u.e.r<ae.r&&(u.e.r=ae.r)),ne?(ae=Ua(F.r),s["!data"][ae.r]||(s["!data"][ae.r]=[]),s["!data"][ae.r][ae.c]=O):s[F.r]=O}}}}de.length>0&&(s["!rows"]=de)}})();function qle(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Wle=r0;function Gle(){}function Kle(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=wne(e),r}function Xle(e){var t=vs(e);return[t]}function Yle(e){var t=t0(e);return[t]}function Qle(e){var t=vs(e),r=e.read_shift(1);return[t,r,"b"]}function Zle(e){var t=t0(e),r=e.read_shift(1);return[t,r,"b"]}function Jle(e){var t=vs(e),r=e.read_shift(1);return[t,r,"e"]}function ece(e){var t=t0(e),r=e.read_shift(1);return[t,r,"e"]}function tce(e){var t=vs(e),r=e.read_shift(4);return[t,r,"s"]}function rce(e){var t=t0(e),r=e.read_shift(4);return[t,r,"s"]}function nce(e){var t=vs(e),r=za(e);return[t,r,"n"]}function x9(e){var t=t0(e),r=za(e);return[t,r,"n"]}function ace(e){var t=vs(e),r=sy(e);return[t,r,"n"]}function ice(e){var t=t0(e),r=sy(e);return[t,r,"n"]}function sce(e){var t=vs(e),r=bC(e);return[t,r,"is"]}function oce(e){var t=vs(e),r=Va(e);return[t,r,"str"]}function lce(e){var t=t0(e),r=Va(e);return[t,r,"str"]}function cce(e,t,r){var n=e.l+t,a=vs(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=cy(e,n-e.l,r);s[3]=Ba(l,null,a,r.supbooks,r)}else e.l=n;return s}function uce(e,t,r){var n=e.l+t,a=vs(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=cy(e,n-e.l,r);s[3]=Ba(l,null,a,r.supbooks,r)}else e.l=n;return s}function fce(e,t,r){var n=e.l+t,a=vs(e);a.r=r["!row"];var i=za(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=cy(e,n-e.l,r);s[3]=Ba(l,null,a,r.supbooks,r)}else e.l=n;return s}function dce(e,t,r){var n=e.l+t,a=vs(e);a.r=r["!row"];var i=Va(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=cy(e,n-e.l,r);s[3]=Ba(l,null,a,r.supbooks,r)}else e.l=n;return s}var hce=r0;function pce(e,t){var r=e.l+t,n=r0(e),a=iy(e),i=Va(e),s=Va(e),l=Va(e);e.l=r;var u={rfx:n,relId:a,loc:i,display:l};return s&&(u.Tooltip=s),u}function mce(){}function gce(e,t,r){var n=e.l+t,a=FM(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var l=Sle(e,n-e.l,r);s[1]=l}else e.l=n;return s}function xce(e,t,r){var n=e.l+t,a=r0(e),i=[a];if(r.cellFormula){var s=Cle(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var vce=["left","right","top","bottom","header","footer"];function yce(e){var t={};return vce.forEach(function(r){t[r]=za(e)}),t}function bce(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function _ce(){}function wce(){}function Ece(e,t,r,n,a,i,s){if(!e)return e;var l=t||{};n||(n={"!id":{}});var u={};l.dense&&(u["!data"]=[]);var f,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,g=!1,x,b,_,y,w,C,A,O,F,M=[];l.biff=12,l["!row"]=0;var j=0,k=!1,R=[],I={},P=l.supbooks||a.supbooks||[[]];if(P.sharedf=I,P.arrayf=R,P.SheetNames=a.SheetNames||a.Sheets.map(function(we){return we.name}),!l.supbooks&&(l.supbooks=P,a.Names))for(var N=0;N<a.Names.length;++N)P[0][N+1]=a.Names[N];var B=[],oe=[],he=!1;zv[16]={n:"BrtShortReal",f:x9};var ne,de=1462*+!!((a||{}).WBProps||{}).date1904;if(fl(e,function(ue,U,Y){if(!g)switch(Y){case 148:f=ue;break;case 0:x=ue,l.sheetRows&&l.sheetRows<=x.r&&(g=!0),O=_r(y=x.r),l["!row"]=x.r,(ue.hidden||ue.hpt||ue.level!=null)&&(ue.hpt&&(ue.hpx=Jh(ue.hpt)),oe[ue.r]=ue);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:ue[2]},ue[2]){case"n":b.v=ue[1];break;case"s":A=Oh[ue[1]],b.v=A.t,b.r=A.r;break;case"b":b.v=!!ue[1];break;case"e":b.v=ue[1],l.cellText!==!1&&(b.w=vi[b.v]);break;case"str":b.t="s",b.v=ue[1];break;case"is":b.t="s",b.v=ue[1].t;break}if((_=s.CellXf[ue[0].iStyleRef])&&m9(b,_.numFmtId,null,l,i,s,de>0),w=ue[0].c==-1?w+1:ue[0].c,l.dense?(u["!data"][y]||(u["!data"][y]=[]),u["!data"][y][w]=b):u[lr(w)+O]=b,l.cellFormula){for(k=!1,j=0;j<R.length;++j){var Z=R[j];x.r>=Z[0].s.r&&x.r<=Z[0].e.r&&w>=Z[0].s.c&&w<=Z[0].e.c&&(b.F=Qt(Z[0]),k=!0)}!k&&ue.length>3&&(b.f=ue[3])}if(d.s.r>x.r&&(d.s.r=x.r),d.s.c>w&&(d.s.c=w),d.e.r<x.r&&(d.e.r=x.r),d.e.c<w&&(d.e.c=w),l.cellDates&&_&&b.t=="n"&&Ms(kt[_.numFmtId])){var q=Lo(b.v+de);q&&(b.t="d",b.v=new Date(Date.UTC(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u)))}ne&&(ne.type=="XLDAPR"&&(b.D=!0),ne=void 0);break;case 1:case 12:if(!l.sheetStubs||m)break;b={t:"z",v:void 0},w=ue[0].c==-1?w+1:ue[0].c,l.dense?(u["!data"][y]||(u["!data"][y]=[]),u["!data"][y][w]=b):u[lr(w)+O]=b,d.s.r>x.r&&(d.s.r=x.r),d.s.c>w&&(d.s.c=w),d.e.r<x.r&&(d.e.r=x.r),d.e.c<w&&(d.e.c=w),ne&&(ne.type=="XLDAPR"&&(b.D=!0),ne=void 0);break;case 176:M.push(ue);break;case 49:ne=((l.xlmeta||{}).Cell||[])[ue-1];break;case 494:var se=n["!id"][ue.relId];for(se?(ue.Target=se.Target,ue.loc&&(ue.Target+="#"+ue.loc),ue.Rel=se):ue.relId==""&&(ue.Target="#"+ue.loc),y=ue.rfx.s.r;y<=ue.rfx.e.r;++y)for(w=ue.rfx.s.c;w<=ue.rfx.e.c;++w)l.dense?(u["!data"][y]||(u["!data"][y]=[]),u["!data"][y][w]||(u["!data"][y][w]={t:"z",v:void 0}),u["!data"][y][w].l=ue):(C=lr(w)+_r(y),u[C]||(u[C]={t:"z",v:void 0}),u[C].l=ue);break;case 426:if(!l.cellFormula)break;R.push(ue),F=l.dense?u["!data"][y][w]:u[lr(w)+O],F.f=Ba(ue[1],d,{r:x.r,c:w},P,l),F.F=Qt(ue[0]);break;case 427:if(!l.cellFormula)break;I[or(ue[0].s)]=ue[1],F=l.dense?u["!data"][y][w]:u[lr(w)+O],F.f=Ba(ue[1],d,{r:x.r,c:w},P,l);break;case 60:if(!l.cellStyles)break;for(;ue.e>=ue.s;)B[ue.e--]={width:ue.w/256,hidden:!!(ue.flags&1),level:ue.level},he||(he=!0,SC(ue.w/256)),Sf(B[ue.e+1]);break;case 551:ue&&(u["!legrel"]=ue);break;case 161:u["!autofilter"]={ref:Qt(ue)};break;case 476:u["!margins"]=ue;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),ue.name&&(a.Sheets[r].CodeName=ue.name),(ue.above||ue.left)&&(u["!outline"]={above:ue.above,left:ue.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),ue.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!U.T){if(!m||l.WTF)throw new Error("Unexpected record 0x"+Y.toString(16))}}},l),delete l.supbooks,delete l["!row"],!u["!ref"]&&(d.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(u["!ref"]=Qt(f||d)),l.sheetRows&&u["!ref"]){var be=Tn(u["!ref"]);l.sheetRows<=+be.e.r&&(be.e.r=l.sheetRows-1,be.e.r>d.e.r&&(be.e.r=d.e.r),be.e.r<be.s.r&&(be.s.r=be.e.r),be.e.c>d.e.c&&(be.e.c=d.e.c),be.e.c<be.s.c&&(be.s.c=be.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Qt(be))}return M.length>0&&(u["!merges"]=M),B.length>0&&(u["!cols"]=B),oe.length>0&&(u["!rows"]=oe),n["!id"][u["!legrel"]]&&(u["!legdrawel"]=n["!id"][u["!legrel"]]),u}function Sce(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<])<\/c:v><\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<]*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Yt((_u(e,"c:formatCode")||["","General"])[1]);return(mC(e,"<c:f>","</c:f>")||[]).forEach(function(i){n=i.replace(/<[^<>]*>/g,"")}),[t,a,n]}function Ace(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var l=0,u=0,f="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(mC(e,"<c:numCache>","</c:numCache>")||[]).forEach(function(m){var g=Sce(m);d.s.r=d.s.c=0,d.e.c=l,f=lr(l),g[0].forEach(function(x,b){s["!data"]?(s["!data"][b]||(s["!data"][b]=[]),s["!data"][b][l]={t:"n",v:x,z:g[1]}):s[f+_r(b)]={t:"n",v:x,z:g[1]},u=b}),d.e.r<u&&(d.e.r=u),++l}),l>0&&(s["!ref"]=Qt(d)),s}function Cce(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,l=e.match(g9);return l&&TC(l[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Tce(e,t){e.l+=10;var r=Va(e);return{name:r}}function kce(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return fl(e,function(u,f,d){switch(d){case 550:i["!rel"]=u;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),u.name&&(a.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var v9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Dce=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Oce=[],jce=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function h6(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=yr(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function p6(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=yr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function y9(e){p6(e.WBProps,v9),p6(e.CalcPr,jce),h6(e.WBView,Dce),h6(e.Sheets,Oce),df.date1904=yr(e.WBProps.date1904)}var Nce=":][*?/\\".split("");function Ice(e,t){try{if(e=="")throw new Error("Sheet name cannot be blank");if(e.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(e.charCodeAt(0)==39||e.charCodeAt(e.length-1)==39)throw new Error("Sheet name cannot start or end with apostrophe (')");if(e.toLowerCase()=="history")throw new Error("Sheet name cannot be 'History'");Nce.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(r){throw r}return!0}var Pce=/<\w+:workbook/;function Rce(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(ja,function(u,f){var d=lt(u);switch(xs(d[0])){case"<?xml":break;case"<workbook":u.match(Pce)&&(a="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":v9.forEach(function(m){if(d[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=yr(d[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(d[m[0]],10);break;default:r.WBProps[m[0]]=d[m[0]]}}),d.codeName&&(r.WBProps.CodeName=Pr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Yt(Pr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Pr(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),yr(d.hidden||"0")&&(i.Hidden=!0),s=f+u.length;break;case"</definedName>":i.Ref=Yt(Pr(e.slice(s,f))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return u}),nne.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return y9(r),r}function Fce(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=eS(e),r.name=Va(e),r}function Bce(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Va(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Mce(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Lce(e,t,r){var n=e.l+t,a=e.read_shift(4);e.l+=1;var i=e.read_shift(4),s=Ene(e),l,u="";try{l=Ale(e,0,r);try{u=iy(e)}catch{}}catch{console.error("Could not parse defined name "+s)}a&32&&(s="_xlnm."+s),e.l=n;var f={Name:s,Ptg:l,Flags:a};return i<268435455&&(f.Sheet=i),u&&(f.Comment=u),f}function zce(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],zv[16]={n:"BrtFRTArchID$",f:Mce},fl(e,function(u,f,d){switch(d){case 156:s.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=u.Ptg?Ba(u.Ptg,null,null,s,t):"#REF!",delete t.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,u]):s[0]=[d,u],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(u),s.XTI=s.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!f.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),y9(r),r.Names=i,r.supbooks=s,r}function Uce(e,t,r){return t.slice(-4)===".bin"?zce(e,r):Rce(e,r)}function Vce(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?Ece(e,n,r,a,i,s,l):Fle(e,n,r,a,i,s,l)}function $ce(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?kce(e,n,r,a,i):Cce(e,n,r,a,i)}function Hce(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?roe():noe()}function qce(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?eoe():toe()}function Wce(e,t,r,n){return t.slice(-4)===".bin"?wse(e,r,n):gse(e,r,n)}function Gce(e,t,r){return t.slice(-4)===".bin"?Bie(e,r):Rie(e,r)}function Kce(e,t,r){return t.slice(-4)===".bin"?Qse(e,r):Wse(e,r)}function Xce(e,t,r){return t.slice(-4)===".bin"?Vse(e):zse(e)}function Yce(e,t,r,n){return r.slice(-4)===".bin"?$se(e,t,r,n):void 0}function Qce(e,t,r){return t.slice(-4)===".bin"?Mse(e,t,r):Lse(e,t,r)}var b9=/\b((?:\w+:)?[\w]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,_9=/\b((?:\w+:)?[\w]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ks(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(b9),i,s,l,u;if(a)for(u=0;u!=a.length;++u)i=a[u].match(_9),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(s+1),n[l]=i[2].slice(1,i[2].length-1));return n}function Zce(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(b9),a,i,s,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(_9),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Nh;function Jce(e,t,r){var n=Nh[e]||Yt(e);return n==="General"?Iu(t):zi(n,t,{date1904:!!r})}function eue(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=yr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Oa(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Yt(t)]=a}function tue(e,t,r,n){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||vi[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Xh(e.v):e.w=Iu(e.v):e.w=Jce(t||"General",e.v,n)}catch(s){if(r.WTF)throw s}try{var a=Nh[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&Ms(a)){var i=Lo(e.v+(n?1462:0));i&&(e.t="d",e.v=new Date(Date.UTC(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u)))}}catch(s){if(r.WTF)throw s}}}function rue(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=use[n.Pattern]||n.Pattern)}e[t.ID]=t}function nue(e,t,r,n,a,i,s,l,u,f,d){var m="General",g=n.StyleID,x={};f=f||{};var b=[],_=0;for(g===void 0&&l&&(g=l.StyleID),g===void 0&&s&&(g=s.StyleID);i[g]!==void 0;){var y=i[g];if(y.nf&&(m=y.nf),y.Interior&&b.push(y.Interior),!y.Parent)break;g=y.Parent}switch(r.Type){case"Boolean":n.t="b",n.v=yr(e);break;case"String":n.t="s",n.r=P8(Yt(e)),n.v=e.indexOf("<")>-1?Yt(t||e).replace(/<[^<>]*>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=Jn(Oa(e,d),d),n.v!==n.v&&(n.v=Yt(e)),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Ta[e],f.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=P8(t||e));break}if(tue(n,m,f,d),f.cellFormula!==!1)if(n.Formula){var w=Yt(n.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),n.f=Eu(w,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Eu("RC:RC",a):n.ArrayRange&&(n.F=Eu(n.ArrayRange,a),u.push([Tn(n.F),n.F]))}else for(_=0;_<u.length;++_)a.r>=u[_][0].s.r&&a.r<=u[_][0].e.r&&a.c>=u[_][0].s.c&&a.c<=u[_][0].e.c&&(n.F=u[_][1]);f.cellStyles&&(b.forEach(function(C){!x.patternType&&C.patternType&&(x.patternType=C.patternType)}),n.s=x),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function aue(e){return LM.indexOf("_xlnm."+e)>-1?"_xlnm."+e:e}function iue(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function k_(e,t){var r=t||{};uM();var n=fh(ay(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Pr(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=$n(r);return s.type="string",Qh.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Je){a.indexOf("<"+Je)>=0&&(i=!0)}),i)return pue(n,r);Nh={"General Number":"General","General Date":kt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":kt[15],"Short Date":kt[14],"Long Time":kt[19],"Medium Time":kt[18],"Short Time":kt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:kt[2],Standard:kt[4],Percent:kt[10],Scientific:kt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,u=[],f,d={},m=[],g={},x="";r.dense&&(g["!data"]=[]);var b={},_={},y=ks('<Data ss:Type="String">'),w=0,C=0,A=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},F={},M={},j="",k=0,R=[],I={},P={},N=0,B=[],oe=[],he={},ne=[],de,be=!1,we=[],ue=[],U={},Y=0,Z=0,q={Sheets:[],WBProps:{date1904:!1}},se={};Fn.lastIndex=0,n=Cp(n,"<!--","-->");for(var me="";l=Fn.exec(n);)switch(l[3]=(me=l[3]).toLowerCase()){case"data":if(me=="data"){if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break}if(u[u.length-1][1])break;l[1]==="/"?nue(n.slice(w,l.index),j,y,u[u.length-1][0]=="comment"?he:b,{c:C,r:A},F,ne[C],_,we,r,q.WBProps.date1904):(j="",y=ks(l[0]),w=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(oe.length>0&&(b.c=oe),(!r.sheetRows||r.sheetRows>A)&&b.v!==void 0&&(r.dense?(g["!data"][A]||(g["!data"][A]=[]),g["!data"][A][C]=b):g[lr(C)+_r(A)]=b),b.HRef&&(b.l={Target:Yt(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(Y=C+(parseInt(b.MergeAcross,10)|0),Z=A+(parseInt(b.MergeDown,10)|0),(Y>C||Z>A)&&R.push({s:{c:C,r:A},e:{c:Y,r:Z}})),!r.sheetStubs)b.MergeAcross?C=Y+1:++C;else if(b.MergeAcross||b.MergeDown){for(var ve=C;ve<=Y;++ve)for(var H=A;H<=Z;++H)(ve>C||H>A)&&(r.dense?(g["!data"][H]||(g["!data"][H]=[]),g["!data"][H][ve]={t:"z"}):g[lr(ve)+_r(H)]={t:"z"});C=Y+1}else++C;else b=Zce(l[0]),b.Index&&(C=+b.Index-1),C<O.s.c&&(O.s.c=C),C>O.e.c&&(O.e.c=C),l[0].slice(-2)==="/>"&&++C,oe=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(A<O.s.r&&(O.s.r=A),A>O.e.r&&(O.e.r=A),l[0].slice(-2)==="/>"&&(_=ks(l[0]),_.Index&&(A=+_.Index-1)),C=0,++A):(_=ks(l[0]),_.Index&&(A=+_.Index-1),U={},(_.AutoFitHeight=="0"||_.Height)&&(U.hpx=parseInt(_.Height,10),U.hpt=i9(U.hpx),ue[A]=U),_.Hidden=="1"&&(U.hidden=!0,ue[A]=U));break;case"worksheet":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"));m.push(x),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(g["!ref"]=Qt(O),r.sheetRows&&r.sheetRows<=O.e.r&&(g["!fullref"]=g["!ref"],O.e.r=r.sheetRows-1,g["!ref"]=Qt(O))),R.length&&(g["!merges"]=R),ne.length>0&&(g["!cols"]=ne),ue.length>0&&(g["!rows"]=ue),d[x]=g}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=C=0,u.push([l[3],!1]),f=ks(l[0]),x=Yt(f.Name),g={},r.dense&&(g["!data"]=[]),R=[],we=[],ue=[],se={name:x,Hidden:0},q.Sheets.push(se);break;case"table":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else{if(l[0].slice(-2)=="/>")break;u.push([l[3],!1]),ne=[],be=!1}break;case"style":l[1]==="/"?rue(F,M,r):M=ks(l[0]);break;case"numberformat":M.nf=Yt(ks(l[0]).Format||"General"),Nh[M.nf]&&(M.nf=Nh[M.nf]);for(var G=0;G!=392&&kt[G]!=M.nf;++G);if(G==392){for(G=57;G!=392;++G)if(kt[G]==null){bu(M.nf,G);break}}break;case"column":if(u[u.length-1][0]!=="table"||l[1]==="/")break;if(de=ks(l[0]),de.Hidden&&(de.hidden=!0,delete de.Hidden),de.Width&&(de.wpx=parseInt(de.Width,10)),!be&&de.wpx>10){be=!0,Za=n9;for(var ee=0;ee<ne.length;++ee)ne[ee]&&Sf(ne[ee])}be&&Sf(de),ne[de.Index-1||ne.length]=de;for(var ae=0;ae<+de.Span;++ae)ne[ne.length]=$n(de);break;case"namedrange":if(l[1]==="/")break;q.Names||(q.Names=[]);var pe=lt(l[0]),X={Name:aue(pe.Name),Ref:Eu(pe.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(X.Sheet=q.Sheets.length-1),q.Names.push(X);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(k,l.index):k=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;M.Interior=ks(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Gne(I,me,n.slice(N,l.index)):N=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else u.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"));iue(he),oe.push(he)}else u.push([l[3],!1]),f=ks(l[0]),yr(f.ShowAlways||"0")||(oe.hidden=!0),he={a:f.Author};break;case"autofilter":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var je=ks(l[0]);g["!autofilter"]={ref:Eu(je.Range).replace(/\$/g,"")},u.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((f=u.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"null":break;default:if(u.length==0&&l[3]=="document"||u.length==0&&l[3]=="uof")return y6(n,r);var He=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:He=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:He=!1}break;case"excelworkbook":switch(l[3]){case"date1904":q.WBProps.date1904=!0;break;case"hidehorizontalscrollbar":break;case"hideverticalscrollbar":break;case"hideworkbooktabs":break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:He=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:He=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(N,l.index)){case"SheetHidden":se.Hidden=1;break;case"SheetVeryHidden":se.Hidden=2;break}else N=l.index+l[0].length;break;case"header":g["!margins"]||jh(g["!margins"]={},"xlml"),isNaN(+lt(l[0]).Margin)||(g["!margins"].header=+lt(l[0]).Margin);break;case"footer":g["!margins"]||jh(g["!margins"]={},"xlml"),isNaN(+lt(l[0]).Margin)||(g["!margins"].footer=+lt(l[0]).Margin);break;case"pagemargins":var Be=lt(l[0]);g["!margins"]||jh(g["!margins"]={},"xlml"),isNaN(+Be.Top)||(g["!margins"].top=+Be.Top),isNaN(+Be.Left)||(g["!margins"].left=+Be.Left),isNaN(+Be.Right)||(g["!margins"].right=+Be.Right),isNaN(+Be.Bottom)||(g["!margins"].bottom=+Be.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:He=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:He=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:He=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:He=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:He=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:He=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:He=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:He=!1}break;case"smarttags":break;default:He=!1;break}if(He||l[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?eue(P,me,B,n.slice(N,l.index)):(B=l,N=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+u.join("|")}var Ke={};return!r.bookSheets&&!r.bookProps&&(Ke.Sheets=d),Ke.SheetNames=m,Ke.Workbook=q,Ke.SSF=$n(kt),Ke.Props=I,Ke.Custprops=P,Ke.bookType="xlml",Ke}function nS(e,t){switch(kC(t=t||{}),t.type||"base64"){case"base64":return k_(Li(e),t);case"binary":case"buffer":case"file":return k_(e,t);case"array":return k_(nl(e),t)}}function sue(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Cne(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Tne(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var oue=[60,1084,2066,2165,2175];function lue(e,t,r,n,a){var i=n,s=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}s.push(l),r.l+=i;for(var u=Ho(r,r.l),f=aS[u],d=0;f!=null&&oue.indexOf(u)>-1;)i=Ho(r,r.l+2),d=r.l+4,u==2066?d+=4:(u==2165||u==2175)&&(d+=12),l=r.slice(d,r.l+4+i),s.push(l),r.l+=4+i,f=aS[u=Ho(r,r.l)];var m=rc(s);Yn(m,0);var g=0;m.lens=[];for(var x=0;x<s.length;++x)m.lens.push(g),g+=s[x].length;if(m.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+n;return t.f(m,m.length,a)}function to(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&e.z==null&&(e.z=kt[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||vi[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Xh(e.v):e.w=Iu(e.v):e.w=zi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Ms(kt[n]||String(n))){var a=Lo(e.v+(r?1462:0));a&&(e.t="d",e.v=new Date(Date.UTC(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u)))}}}function Ug(e,t,r){return{v:e,ixfe:t,t:r}}function cue(e,t){var r={opts:{}},n={},a={};t.dense&&(a["!data"]=[]);var i={},s={},l=null,u=[],f="",d={},m,g="",x,b,_,y,w={},C=[],A,O,F=[],M=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},R=!1,I=function(Ge){return Ge<8?wu[Ge]:Ge<64&&M[Ge-8]||wu[Ge]},P=function(Ge,it){var bt=Ge.XF.data;if(!(!bt||!bt.patternType||!it||!it.cellStyles)){Ge.s={},Ge.s.patternType=bt.patternType;var xt;(xt=Zh(I(bt.icvFore)))&&(Ge.s.fgColor={rgb:xt}),(xt=Zh(I(bt.icvBack)))&&(Ge.s.bgColor={rgb:xt})}},N=function(Ge,it,bt){if(!(!R&&Y>1)&&!(bt.sheetRows&&Ge.r>=bt.sheetRows)){if(bt.cellStyles&&it.XF&&it.XF.data&&P(it,bt),delete it.ixfe,delete it.XF,m=Ge,g=or(Ge),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Ge.r<s.s.r&&(s.s.r=Ge.r),Ge.c<s.s.c&&(s.s.c=Ge.c),Ge.r+1>s.e.r&&(s.e.r=Ge.r+1),Ge.c+1>s.e.c&&(s.e.c=Ge.c+1),bt.cellFormula&&it.f){for(var xt=0;xt<C.length;++xt)if(!(C[xt][0].s.c>Ge.c||C[xt][0].s.r>Ge.r)&&!(C[xt][0].e.c<Ge.c||C[xt][0].e.r<Ge.r)){it.F=Qt(C[xt][0]),(C[xt][0].s.c!=Ge.c||C[xt][0].s.r!=Ge.r)&&delete it.f,it.f&&(it.f=""+Ba(C[xt][1],s,Ge,ue,B));break}}bt.dense?(a["!data"][Ge.r]||(a["!data"][Ge.r]=[]),a["!data"][Ge.r][Ge.c]=it):a[g]=it}},B={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:C,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(B.password=t.password);var oe,he=[],ne=[],de=[],be=[],we=!1,ue=[];ue.SheetNames=B.snames,ue.sharedf=B.sharedf,ue.arrayf=B.arrayf,ue.names=[],ue.XTI=[];var U=0,Y=0,Z=0,q=[],se=[],me;B.codepage=1200,Ps(1200);for(var ve=!1;e.l<e.length-1;){var H=e.l,G=e.read_shift(2);if(G===0&&U===10)break;var ee=e.l===e.length?0:e.read_shift(2),ae=aS[G];if(Y==0&&[9,521,1033,2057].indexOf(G)==-1)break;if(ae&&ae.f){if(t.bookSheets&&U===133&&G!==133)break;if(U=G,ae.r===2||ae.r==12){var pe=e.read_shift(2);if(ee-=2,!B.enc&&pe!==G&&((pe&255)<<8|pe>>8)!==G)throw new Error("rt mismatch: "+pe+"!="+G);ae.r==12&&(e.l+=10,ee-=10)}var X={};if(G===10?X=ae.f(e,ee,B):X=lue(G,ae,e,ee,B),Y==0&&[9,521,1033,2057].indexOf(U)===-1)continue;switch(G){case 34:r.opts.Date1904=j.WBProps.date1904=X;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(B.enc||(e.l=0),B.enc=X,!t.password)throw new Error("File is password-protected");if(X.valid==null)throw new Error("Encryption scheme unsupported");if(!X.valid)throw new Error("Password is incorrect");break;case 92:B.lastuser=X;break;case 66:var je=Number(X);switch(je){case 21010:je=1200;break;case 32768:je=1e4;break;case 32769:je=1252;break}Ps(B.codepage=je),ve=!0;break;case 317:B.rrtabid=X;break;case 25:B.winlocked=X;break;case 439:r.opts.RefreshAll=X;break;case 12:r.opts.CalcCount=X;break;case 16:r.opts.CalcDelta=X;break;case 17:r.opts.CalcIter=X;break;case 13:r.opts.CalcMode=X;break;case 14:r.opts.CalcPrecision=X;break;case 95:r.opts.CalcSaveRecalc=X;break;case 15:B.CalcRefMode=X;break;case 2211:r.opts.FullCalc=X;break;case 129:X.fDialog&&(a["!type"]="dialog"),X.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),X.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 67:case 579:case 1091:case 224:F.push(X);break;case 430:ue.push([X]),ue[ue.length-1].XTI=[];break;case 35:case 547:ue[ue.length-1].push(X);break;case 24:case 536:me={Name:X.Name,Ref:Ba(X.rgce,s,null,ue,B)},X.itab>0&&(me.Sheet=X.itab-1),ue.names.push(me),ue[0]||(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].push(X),X.Name=="_xlnm._FilterDatabase"&&X.itab>0&&X.rgce&&X.rgce[0]&&X.rgce[0][0]&&X.rgce[0][0][0]=="PtgArea3d"&&(se[X.itab-1]={ref:Qt(X.rgce[0][0][1][2])});break;case 22:B.ExternCount=X;break;case 23:ue.length==0&&(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].XTI=ue[ue.length-1].XTI.concat(X),ue.XTI=ue.XTI.concat(X);break;case 2196:if(B.biff<8)break;me!=null&&(me.Comment=X[1]);break;case 18:a["!protect"]=X;break;case 19:X!==0&&B.WTF&&console.error("Password verifier: "+X);break;case 133:i[B.biff==4?B.snames.length:X.pos]=X,B.snames.push(X.name);break;case 10:{if(--Y?!R:R)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Qt(s),t.sheetRows&&t.sheetRows<=s.e.r){var He=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Qt(s),s.e.r=He}s.e.r++,s.e.c++}he.length>0&&(a["!merges"]=he),ne.length>0&&(a["!objects"]=ne),de.length>0&&(a["!cols"]=de),be.length>0&&(a["!rows"]=be),j.Sheets.push(k)}f===""?d=a:n[f]=a,a={},t.dense&&(a["!data"]=[])}break;case 9:case 521:case 1033:case 2057:{if(B.biff===8&&(B.biff={9:2,521:3,1033:4}[G]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[X.BIFFVer]||8),B.biffguess=X.BIFFVer==0,X.BIFFVer==0&&X.dt==4096&&(B.biff=5,ve=!0,Ps(B.codepage=28591)),B.biff==4&&X.dt&256&&(R=!0),B.biff==8&&X.BIFFVer==0&&X.dt==16&&(B.biff=2),Y++&&!R)break;if(a={},t.dense&&(a["!data"]=[]),B.biff<8&&!ve&&(ve=!0,Ps(B.codepage=t.codepage||1252)),B.biff==4&&R)f=(i[B.snames.indexOf(f)+1]||{name:""}).name;else if(B.biff<5||X.BIFFVer==0&&X.dt==4096){f===""&&(f="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Be={pos:e.l-ee,name:f};i[Be.pos]=Be,B.snames.push(f)}else f=(i[H]||{name:""}).name;X.dt==32&&(a["!type"]="chart"),X.dt==64&&(a["!type"]="macro"),he=[],ne=[],B.arrayf=C=[],de=[],be=[],we=!1,k={Hidden:(i[H]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a["!data"][X.r]||[])[X.c]:a[lr(X.c)+_r(X.r)])&&++X.c,A={ixfe:X.ixfe,XF:F[X.ixfe]||{},v:X.val,t:"n"},Z>0&&(A.z=A.XF&&A.XF.numFmtId&&q[A.XF.numFmtId]||q[A.ixfe>>8&63]),to(A,t,r.opts.Date1904),N({c:X.c,r:X.r},A,t);break;case 5:case 517:A={ixfe:X.ixfe,XF:F[X.ixfe],v:X.val,t:X.t},Z>0&&(A.z=A.XF&&A.XF.numFmtId&&q[A.XF.numFmtId]||q[A.ixfe>>8&63]),to(A,t,r.opts.Date1904),N({c:X.c,r:X.r},A,t);break;case 638:A={ixfe:X.ixfe,XF:F[X.ixfe],v:X.rknum,t:"n"},Z>0&&(A.z=A.XF&&A.XF.numFmtId&&q[A.XF.numFmtId]||q[A.ixfe>>8&63]),to(A,t,r.opts.Date1904),N({c:X.c,r:X.r},A,t);break;case 189:for(var Ke=X.c;Ke<=X.C;++Ke){var Je=X.rkrec[Ke-X.c][0];A={ixfe:Je,XF:F[Je],v:X.rkrec[Ke-X.c][1],t:"n"},Z>0&&(A.z=A.XF&&A.XF.numFmtId&&q[A.XF.numFmtId]||q[A.ixfe>>8&63]),to(A,t,r.opts.Date1904),N({c:Ke,r:X.r},A,t)}break;case 6:case 518:case 1030:{if(X.val=="String"){l=X;break}if(A=Ug(X.val,X.cell.ixfe,X.tt),A.XF=F[A.ixfe],t.cellFormula){var et=X.formula;if(et&&et[0]&&et[0][0]&&et[0][0][0]=="PtgExp"){var st=et[0][0][1][0],rt=et[0][0][1][1],ce=or({r:st,c:rt});w[ce]?A.f=""+Ba(X.formula,s,X.cell,ue,B):A.F=((t.dense?(a["!data"][st]||[])[rt]:a[ce])||{}).F}else A.f=""+Ba(X.formula,s,X.cell,ue,B)}Z>0&&(A.z=A.XF&&A.XF.numFmtId&&q[A.XF.numFmtId]||q[A.ixfe>>8&63]),to(A,t,r.opts.Date1904),N(X.cell,A,t),l=X}break;case 7:case 519:if(l)l.val=X,A=Ug(X,l.cell.ixfe,"s"),A.XF=F[A.ixfe],t.cellFormula&&(A.f=""+Ba(l.formula,s,l.cell,ue,B)),Z>0&&(A.z=A.XF&&A.XF.numFmtId&&q[A.XF.numFmtId]||q[A.ixfe>>8&63]),to(A,t,r.opts.Date1904),N(l.cell,A,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{C.push(X);var Se=or(X[0].s);if(x=t.dense?(a["!data"][X[0].s.r]||[])[X[0].s.c]:a[Se],t.cellFormula&&x){if(!l||!Se||!x)break;x.f=""+Ba(X[1],s,X[0],ue,B),x.F=Qt(X[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!l)break;w[or(l.cell)]=X[0],x=t.dense?(a["!data"][l.cell.r]||[])[l.cell.c]:a[or(l.cell)],(x||{}).f=""+Ba(X[0],s,m,ue,B)}}break;case 253:A=Ug(u[X.isst].t,X.ixfe,"s"),u[X.isst].h&&(A.h=u[X.isst].h),A.XF=F[A.ixfe],Z>0&&(A.z=A.XF&&A.XF.numFmtId&&q[A.XF.numFmtId]||q[A.ixfe>>8&63]),to(A,t,r.opts.Date1904),N({c:X.c,r:X.r},A,t);break;case 513:t.sheetStubs&&(A={ixfe:X.ixfe,XF:F[X.ixfe],t:"z"},Z>0&&(A.z=A.XF&&A.XF.numFmtId&&q[A.XF.numFmtId]||q[A.ixfe>>8&63]),to(A,t,r.opts.Date1904),N({c:X.c,r:X.r},A,t));break;case 190:if(t.sheetStubs)for(var Ye=X.c;Ye<=X.C;++Ye){var Me=X.ixfe[Ye-X.c];A={ixfe:Me,XF:F[Me],t:"z"},Z>0&&(A.z=A.XF&&A.XF.numFmtId&&q[A.XF.numFmtId]||q[A.ixfe>>8&63]),to(A,t,r.opts.Date1904),N({c:Ye,r:X.r},A,t)}break;case 214:case 516:case 4:A=Ug(X.val,X.ixfe,"s"),A.XF=F[A.ixfe],Z>0&&(A.z=A.XF&&A.XF.numFmtId&&q[A.XF.numFmtId]||q[A.ixfe>>8&63]),to(A,t,r.opts.Date1904),N({c:X.c,r:X.r},A,t);break;case 0:case 512:Y===1&&(s=X);break;case 252:u=X;break;case 1054:if(B.biff>=3&&B.biff<=4){q[Z++]=X[1];for(var wt=0;wt<Z+163&&kt[wt]!=X[1];++wt);wt>=163&&bu(X[1],Z+163)}else bu(X[1],X[0]);break;case 30:{q[Z++]=X;for(var Dt=0;Dt<Z+163&&kt[Dt]!=X;++Dt);Dt>=163&&bu(X,Z+163)}break;case 229:he=he.concat(X);break;case 93:ne[X.cmo[0]]=B.lastobj=X;break;case 438:B.lastobj.TxO=X;break;case 127:B.lastobj.ImData=X;break;case 440:for(y=X[0].s.r;y<=X[0].e.r;++y)for(_=X[0].s.c;_<=X[0].e.c;++_)x=t.dense?(a["!data"][y]||[])[_]:a[or({c:_,r:y})],x&&(x.l=X[1]);break;case 2048:for(y=X[0].s.r;y<=X[0].e.r;++y)for(_=X[0].s.c;_<=X[0].e.c;++_)x=t.dense?(a["!data"][y]||[])[_]:a[or({c:_,r:y})],x&&x.l&&(x.l.Tooltip=X[1]);break;case 28:{if(x=t.dense?(a["!data"][X[0].r]||[])[X[0].c]:a[or(X[0])],x||(t.dense?(a["!data"][X[0].r]||(a["!data"][X[0].r]=[]),x=a["!data"][X[0].r][X[0].c]={t:"z"}):x=a[or(X[0])]={t:"z"},s.e.r=Math.max(s.e.r,X[0].r),s.s.r=Math.min(s.s.r,X[0].r),s.e.c=Math.max(s.e.c,X[0].c),s.s.c=Math.min(s.s.c,X[0].c)),x.c||(x.c=[]),B.biff<=5&&B.biff>=2)b={a:"SheetJ5",t:X[1]};else{var Et=ne[X[2]];b={a:X[1],t:Et.TxO.t},X[3]!=null&&!(X[3]&2)&&(x.c.hidden=!0)}x.c.push(b)}break;case 2173:Pse(F[X.ixfe],X.ext);break;case 125:{if(!B.cellStyles)break;for(;X.e>=X.s;)de[X.e--]={width:X.w/256,level:X.level||0,hidden:!!(X.flags&1)},we||(we=!0,SC(X.w/256)),Sf(de[X.e+1])}break;case 520:{var At={};X.level!=null&&(be[X.r]=At,At.level=X.level),X.hidden&&(be[X.r]=At,At.hidden=!0),X.hpt&&(be[X.r]=At,At.hpt=X.hpt,At.hpx=Jh(X.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||jh(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[G]]=X;break;case 161:a["!margins"]||jh(a["!margins"]={}),a["!margins"].header=X.header,a["!margins"].footer=X.footer;break;case 574:X.RTL&&(j.Views[0].RTL=!0);break;case 146:M=X;break;case 2198:oe=X;break;case 140:O=X;break;case 442:f?k.CodeName=X||k.name:j.WBProps.CodeName=X||"ThisWorkbook";break}}else ae||console.error("Missing Info for XLS Record 0x"+G.toString(16)),e.l+=ee}return r.SheetNames=ds(i).sort(function(Ut,Ge){return Number(Ut)-Number(Ge)}).map(function(Ut){return i[Ut].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&se.forEach(function(Ut,Ge){r.Sheets[r.SheetNames[Ge]]["!autofilter"]=Ut}),r.Strings=u,r.SSF=$n(kt),B.enc&&(r.Encryption=B.enc),oe&&(r.Themes=oe),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),ue.names.length>0&&(j.Names=ue.names),r.Workbook=j,r}var m6={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function uue(e,t,r){var n=er.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=Q8(n,Ine,m6.DSI);for(var i in a)t[i]=a[i]}catch(f){if(r.WTF)throw f}var s=er.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var l=Q8(s,Pne,m6.SI);for(var u in l)t[u]==null&&(t[u]=l[u])}catch(f){if(r.WTF)throw f}t.HeadingPairs&&t.TitlesOfParts&&(UM(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function w9(e,t){t||(t={}),kC(t),JB(),t.codepage&&cC(t.codepage);var r,n;if(e.FullPaths){if(er.find(e,"/encryption"))throw new Error("File is password-protected");r=er.find(e,"!CompObj"),n=er.find(e,"/Workbook")||er.find(e,"/Book")}else{switch(t.type){case"base64":e=Ni(Li(e));break;case"binary":e=Ni(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Yn(e,0),n={content:e}}var a,i;if(r&&sue(r),t.bookProps&&!t.bookSheets)a={};else{var s=qt?"buffer":"array";if(n&&n.content)a=cue(n.content,t);else if((i=er.find(e,"PerfectOffice_MAIN"))&&i.content)a=Dh.to_workbook(i.content,(t.type=s,t));else if((i=er.find(e,"NativeContent_MAIN"))&&i.content)a=Dh.to_workbook(i.content,(t.type=s,t));else throw(i=er.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&er.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Jse(e))}var l={};return e.FullPaths&&uue(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var zv={0:{f:qle},1:{f:Xle},2:{f:ace},3:{f:Jle},4:{f:Qle},5:{f:nce},6:{f:oce},7:{f:tce},8:{f:dce},9:{f:fce},10:{f:cce},11:{f:uce},12:{f:Yle},13:{f:ice},14:{f:ece},15:{f:Zle},16:{f:x9},17:{f:lce},18:{f:rce},19:{f:bC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Lce},40:{},42:{},43:{f:vse},44:{f:xse},45:{f:yse},46:{f:_se},47:{f:bse},48:{},49:{f:yne},50:{},51:{f:Fse},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ZM},62:{f:sce},63:{f:Use},64:{f:_ce},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:bce},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Kle},148:{f:Wle,p:16},151:{f:mce},152:{},153:{f:Bce},154:{},155:{},156:{f:Fce},157:{},158:{},159:{T:1,f:Fie},160:{T:-1},161:{T:1,f:r0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:hce},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Rse},336:{T:-1},337:{f:Bse,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:eS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:QM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:gce},427:{f:xce},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:yce},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Gle},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:pce},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:eS},551:{f:iy},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Yse},633:{T:1},634:{T:-1},635:{T:1,f:Xse},636:{T:-1},637:{f:_ne},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Tce},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:wce},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},aS={6:{f:C_},10:{f:Yl},12:{f:gn},13:{f:gn},14:{f:Sn},15:{f:Sn},16:{f:za},17:{f:Sn},18:{f:Sn},19:{f:gn},20:{f:e6},21:{f:e6},23:{f:QM},24:{f:r6},25:{f:Sn},26:{},27:{},28:{f:Qae},29:{},34:{f:Sn},35:{f:t6},38:{f:za},39:{f:za},40:{f:za},41:{f:za},42:{f:Sn},43:{f:Sn},47:{f:tse},49:{f:Oae},51:{f:gn},60:{},61:{f:Tae},64:{f:Sn},65:{f:Dae},66:{f:gn},77:{},80:{},81:{},82:{},85:{f:gn},89:{},90:{},91:{},92:{f:yae},93:{f:Jae},94:{},95:{f:Sn},96:{},97:{},99:{f:Sn},125:{f:ZM},128:{f:$ae},129:{f:bae},130:{f:gn},131:{f:Sn},132:{f:Sn},133:{f:_ae},134:{},140:{f:iie},141:{f:gn},144:{},146:{f:oie},151:{},152:{},153:{},154:{},155:{},156:{f:gn},157:{},158:{},160:{f:die},161:{f:cie},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Fae},190:{f:Bae},193:{f:Yl},197:{},198:{},199:{},200:{},201:{},202:{f:Sn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:gn},220:{},221:{f:Sn},222:{},224:{f:Lae},225:{f:vae},226:{f:Yl},227:{},229:{f:Zae},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:wae},253:{f:jae},255:{f:Eae},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:HM},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Sn},353:{f:Yl},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Wae},431:{f:Sn},432:{},433:{},434:{},437:{},438:{f:rie},439:{f:Sn},440:{f:nie},441:{},442:{f:kp},443:{},444:{f:gn},445:{},446:{},448:{f:Yl},449:{f:Cae,r:2},450:{f:Yl},512:{f:J8},513:{f:fie},515:{f:qae},516:{f:Nae},517:{f:Hae},519:{f:hie},520:{f:Sae},523:{},545:{f:a6},549:{f:Z8},566:{},574:{f:kae},638:{f:Rae},659:{},1048:{},1054:{f:Iae},1084:{},1212:{f:Kae},2048:{f:aie},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Bg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Yl},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:lie,r:12},2173:{f:Ise,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Sn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Gae,r:12},2197:{},2198:{f:Tse,r:12},2199:{},2200:{},2201:{},2202:{f:Xae,r:12},2203:{f:Yl},2204:{},2205:{},2206:{},2207:{},2211:{f:Aae},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:gn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:uie},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:sie},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:J8},1:{},2:{f:xie},3:{f:gie},4:{f:mie},5:{f:yie},7:{f:vie},8:{},9:{f:Bg},11:{},22:{f:gn},30:{f:Pae},31:{},32:{},33:{f:a6},36:{},37:{f:Z8},50:{f:bie},62:{},52:{},67:{f:zae},68:{f:gn},69:{},86:{},126:{},127:{f:pie},135:{},136:{},137:{},143:{f:wie},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:_ie},223:{},234:{},354:{},421:{},518:{f:C_},521:{f:Bg},536:{f:r6},547:{f:t6},561:{},579:{f:Uae},1030:{f:C_},1033:{f:Bg},1091:{f:Vae},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},101:{},102:{},105:{},106:{},107:{},109:{},112:{},114:{},29282:{}};function Oi(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&IM(r)&&e.push(r)}}function g6(e,t){var r=t||{},n=r.dense!=null?r.dense:Xte,a={};n&&(a["!data"]=[]),e=Cp(e,"<!--","-->");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),l=i.index,u=s&&s.index||e.length,f=Bre(e.slice(l,u),/(:?<tr[^<>]*>)/i,"<tr>"),d=-1,m=0,g=0,x=0,b={s:{r:1e7,c:1e7},e:{r:0,c:0}},_=[];for(l=0;l<f.length;++l){var y=f[l].trim(),w=y.slice(0,3).toLowerCase();if(w=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}m=0;continue}if(!(w!="<td"&&w!="<th")){var C=y.split(/<\/t[dh]>/i);for(u=0;u<C.length;++u){var A=C[u].trim();if(A.match(/<t[dh]/i)){for(var O=A,F=0;O.charAt(0)=="<"&&(F=O.indexOf(">"))>-1;)O=O.slice(F+1);for(var M=0;M<_.length;++M){var j=_[M];j.s.c==m&&j.s.r<d&&d<=j.e.r&&(m=j.e.c+1,M=-1)}var k=lt(A.slice(0,A.indexOf(">")));x=k.colspan?+k.colspan:1,((g=+k.rowspan)>1||x>1)&&_.push({s:{r:d,c:m},e:{r:d+(g||1)-1,c:m+x-1}});var R=k.t||k["data-t"]||"";if(!O.length){m+=x;continue}if(O=bM(O),b.s.r>d&&(b.s.r=d),b.e.r<d&&(b.e.r=d),b.s.c>m&&(b.s.c=m),b.e.c<m&&(b.e.c=m),!O.length){m+=x;continue}var I={t:"s",v:O};r.raw||!O.trim().length||R=="s"||(O==="TRUE"?I={t:"b",v:!0}:O==="FALSE"?I={t:"b",v:!1}:isNaN(Fi(O))?isNaN(Yh(O).getDate())?O.charCodeAt(0)==35&&Ta[O]!=null&&(I.t="e",I.w=O,I.v=Ta[O]):(I={t:"d",v:Oa(O)},r.UTC===!1&&(I.v=Ru(I.v)),r.cellDates||(I={t:"n",v:Jn(I.v)}),I.z=r.dateNF||kt[14]):I={t:"n",v:Fi(O)}),I.cellText!==!1&&(I.w=O),n?(a["!data"][d]||(a["!data"][d]=[]),a["!data"][d][m]=I):a[or({r:d,c:m})]=I,m+=x}}}}return a["!ref"]=Qt(b),_.length&&(a["!merges"]=_),a}function fue(e,t,r,n){for(var a=e["!merges"]||[],i=[],s={},l=e["!data"]!=null,u=t.s.c;u<=t.e.c;++u){for(var f=0,d=0,m=0;m<a.length;++m)if(!(a[m].s.r>r||a[m].s.c>u)&&!(a[m].e.r<r||a[m].e.c<u)){if(a[m].s.r<r||a[m].s.c<u){f=-1;break}f=a[m].e.r-a[m].s.r+1,d=a[m].e.c-a[m].s.c+1;break}if(!(f<0)){var g=lr(u)+_r(r),x=l?(e["!data"][r]||[])[u]:e[g];x&&x.t=="n"&&x.v!=null&&!isFinite(x.v)&&(isNaN(x.v)?x={t:"e",v:36,w:vi[36]}:x={t:"e",v:7,w:vi[7]});var b=x&&x.v!=null&&(x.h||Eh(x.w||(_c(x),x.w)||""))||"";s={},f>1&&(s.rowspan=f),d>1&&(s.colspan=d),n.editable?b='<span contenteditable="true">'+b+"</span>":x&&(s["data-t"]=x&&x.t||"z",x.v!=null&&(s["data-v"]=Eh(x.v instanceof Date?x.v.toISOString():x.v)),x.z!=null&&(s["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(b='<a href="'+Eh(x.l.Target)+'">'+b+"</a>")),s.id=(n.id||"sjs")+"-"+g,i.push(tne("td",b,s))}}var _="<tr>";return _+i.join("")+"</tr>"}var due='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',hue="</body></html>";function pue(e,t){var r=zre(e,"table");if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1){var n=Oc(g6(r[0],t),t);return n.bookType="html",n}var a=OC();return r.forEach(function(i,s){Np(a,g6(i,t),"Sheet"+(s+1))}),a.bookType="html",a}function mue(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function gue(e,t){var r=t||{},n=r.header!=null?r.header:due,a=r.footer!=null?r.footer:hue,i=[n],s=e0(e["!ref"]||"A1");if(i.push(mue(e,s,r)),e["!ref"])for(var l=s.s.r;l<=s.e.r;++l)i.push(fue(e,s,l,r));return i.push("</table>"+a),i.join("")}function E9(e,t,r){var n=t.rows;if(!n)throw"Unsupported origin when "+t.tagName+" is not a TABLE";var a=r||{},i=e["!data"]!=null,s=0,l=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var u=typeof a.origin=="string"?Ua(a.origin):a.origin;s=u.r,l=u.c}var f=Math.min(a.sheetRows||1e7,n.length),d={s:{r:0,c:0},e:{r:s,c:l}};if(e["!ref"]){var m=e0(e["!ref"]);d.s.r=Math.min(d.s.r,m.s.r),d.s.c=Math.min(d.s.c,m.s.c),d.e.r=Math.max(d.e.r,m.e.r),d.e.c=Math.max(d.e.c,m.e.c),s==-1&&(d.e.r=s=m.e.r+1)}var g=[],x=0,b=e["!rows"]||(e["!rows"]=[]),_=0,y=0,w=0,C=0,A=0,O=0;for(e["!cols"]||(e["!cols"]=[]);_<n.length&&y<f;++_){var F=n[_];if(x6(F)){if(a.display)continue;b[y]={hidden:!0}}var M=F.cells;for(w=C=0;w<M.length;++w){var j=M[w];if(!(a.display&&x6(j))){var k=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):bM(j.innerHTML),R=j.getAttribute("data-z")||j.getAttribute("z");for(x=0;x<g.length;++x){var I=g[x];I.s.c==C+l&&I.s.r<y+s&&y+s<=I.e.r&&(C=I.e.c+1-l,x=-1)}O=+j.getAttribute("colspan")||1,((A=+j.getAttribute("rowspan")||1)>1||O>1)&&g.push({s:{r:y+s,c:C+l},e:{r:y+s+(A||1)-1,c:C+l+(O||1)-1}});var P={t:"s",v:k},N=j.getAttribute("data-t")||j.getAttribute("t")||"";k!=null&&(k.length==0?P.t=N||"z":a.raw||k.trim().length==0||N=="s"||(N=="e"&&vi[+k]?P={t:"e",v:+k,w:vi[+k]}:k==="TRUE"?P={t:"b",v:!0}:k==="FALSE"?P={t:"b",v:!1}:isNaN(Fi(k))?isNaN(Yh(k).getDate())?k.charCodeAt(0)==35&&Ta[k]!=null&&(P={t:"e",v:Ta[k],w:k}):(P={t:"d",v:Oa(k)},a.UTC&&(P.v=ny(P.v)),a.cellDates||(P={t:"n",v:Jn(P.v)}),P.z=a.dateNF||kt[14]):P={t:"n",v:Fi(k)})),P.z===void 0&&R!=null&&(P.z=R);var B="",oe=j.getElementsByTagName("A");if(oe&&oe.length)for(var he=0;he<oe.length&&!(oe[he].hasAttribute("href")&&(B=oe[he].getAttribute("href"),B.charAt(0)!="#"));++he);B&&B.charAt(0)!="#"&&B.slice(0,11).toLowerCase()!="javascript:"&&(P.l={Target:B}),i?(e["!data"][y+s]||(e["!data"][y+s]=[]),e["!data"][y+s][C+l]=P):e[or({c:C+l,r:y+s})]=P,d.e.c<C+l&&(d.e.c=C+l),C+=O}}++y}return g.length&&(e["!merges"]=(e["!merges"]||[]).concat(g)),d.e.r=Math.max(d.e.r,y-1+s),e["!ref"]=Qt(d),y>=f&&(e["!fullref"]=Qt((d.e.r=n.length-_+y-1+s,d))),e}function S9(e,t){var r=t||{},n={};return r.dense&&(n["!data"]=[]),E9(n,e,t)}function xue(e,t){var r=Oc(S9(e,t),t);return r}function x6(e){var t="",r=vue(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function vue(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function yue(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^<>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Yt(t.replace(/<[^<>]*>/g,""));return[r]}function A9(e,t,r){var n=r||{},a=ay(e);Fn.lastIndex=0,a=pC(Cp(a,"<!--","-->"));for(var i,s,l="",u="",f,d=0,m=-1,g="";i=Fn.exec(a);)switch(i[3]=i[3].replace(/_[\s\S]*$/,"")){case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":case"text-style":i[1]==="/"?(s["truncate-on-overflow"]=="false"&&(l.match(/h/)?l=l.replace(/h+/,"[$&]"):l.match(/m/)?l=l.replace(/m+/,"[$&]"):l.match(/s/)&&(l=l.replace(/s+/,"[$&]"))),n[s.name]=l,l=""):i[0].charAt(i[0].length-2)!=="/"&&(l="",s=lt(i[0],!1));break;case"boolean-style":i[1]==="/"?(n[s.name]="General",l=""):i[0].charAt(i[0].length-2)!=="/"&&(l="",s=lt(i[0],!1));break;case"boolean":l+="General";break;case"text":i[1]==="/"?(g=a.slice(m,Fn.lastIndex-i[0].length),g=="%"&&s[0]=="<number:percentage-style"?l+="%":l+='"'+g.replace(/"/g,'""')+'"'):i[0].charAt(i[0].length-2)!=="/"&&(m=Fn.lastIndex);break;case"day":switch(f=lt(i[0],!1),f.style){case"short":l+="d";break;case"long":l+="dd";break;default:l+="dd";break}break;case"day-of-week":switch(f=lt(i[0],!1),f.style){case"short":l+="ddd";break;case"long":l+="dddd";break;default:l+="ddd";break}break;case"era":switch(f=lt(i[0],!1),f.style){case"short":l+="ee";break;case"long":l+="eeee";break;default:l+="eeee";break}break;case"hours":switch(f=lt(i[0],!1),f.style){case"short":l+="h";break;case"long":l+="hh";break;default:l+="hh";break}break;case"minutes":switch(f=lt(i[0],!1),f.style){case"short":l+="m";break;case"long":l+="mm";break;default:l+="mm";break}break;case"month":switch(f=lt(i[0],!1),f.textual&&(l+="mm"),f.style){case"short":l+="m";break;case"long":l+="mm";break;default:l+="m";break}break;case"seconds":{switch(f=lt(i[0],!1),f.style){case"short":l+="s";break;case"long":l+="ss";break;default:l+="ss";break}f["decimal-places"]&&(l+="."+Jt("0",+f["decimal-places"]))}break;case"year":switch(f=lt(i[0],!1),f.style){case"short":l+="yy";break;case"long":l+="yyyy";break;default:l+="yy";break}break;case"am-pm":l+="AM/PM";break;case"week-of-year":case"quarter":console.error("Excel does not support ODS format token "+i[3]);break;case"fill-character":i[1]==="/"?(g=a.slice(m,Fn.lastIndex-i[0].length),l+='"'+g.replace(/"/g,'""')+'"*'):i[0].charAt(i[0].length-2)!=="/"&&(m=Fn.lastIndex);break;case"scientific-number":f=lt(i[0],!1),l+="0."+Jt("0",+f["min-decimal-places"]||+f["decimal-places"]||2)+Jt("?",+f["decimal-places"]-+f["min-decimal-places"]||0)+"E"+(yr(f["forced-exponent-sign"])?"+":"")+Jt("0",+f["min-exponent-digits"]||2);break;case"fraction":f=lt(i[0],!1),+f["min-integer-digits"]?l+=Jt("0",+f["min-integer-digits"]):l+="#",l+=" ",l+=Jt("?",+f["min-numerator-digits"]||1),l+="/",+f["denominator-value"]?l+=f["denominator-value"]:l+=Jt("?",+f["min-denominator-digits"]||1);break;case"currency-symbol":i[1]==="/"?l+='"'+a.slice(m,Fn.lastIndex-i[0].length).replace(/"/g,'""')+'"':i[0].charAt(i[0].length-2)!=="/"?m=Fn.lastIndex:l+="$";break;case"text-properties":switch(f=lt(i[0],!1),(f.color||"").toLowerCase().replace("#","")){case"ff0000":case"red":l="[Red]"+l;break}break;case"text-content":l+="@";break;case"map":f=lt(i[0],!1),Yt(f.condition)=="value()>=0"?l=n[f["apply-style-name"]]+";"+l:console.error("ODS number format may be incorrect: "+f.condition);break;case"number":if(i[1]==="/")break;f=lt(i[0],!1),u="",u+=Jt("0",+f["min-integer-digits"]||1),yr(f.grouping)&&(u=$o(Jt("#",Math.max(0,4-u.length))+u)),(+f["min-decimal-places"]||+f["decimal-places"])&&(u+="."),+f["min-decimal-places"]&&(u+=Jt("0",+f["min-decimal-places"]||1)),+f["decimal-places"]-(+f["min-decimal-places"]||0)&&(u+=Jt("0",+f["decimal-places"]-(+f["min-decimal-places"]||0))),l+=u;break;case"embedded-text":i[1]==="/"?d==0?l+='"'+a.slice(m,Fn.lastIndex-i[0].length).replace(/"/g,'""')+'"':l=l.slice(0,d)+'"'+a.slice(m,Fn.lastIndex-i[0].length).replace(/"/g,'""')+'"'+l.slice(d):i[0].charAt(i[0].length-2)!=="/"&&(m=Fn.lastIndex,d=-+lt(i[0],!1).position||0);break}return n}function C9(e,t,r){var n=t||{},a=ay(e),i=[],s,l,u,f="",d=0,m,g,x={},b=[],_={};n.dense&&(_["!data"]=[]);var y,w,C={value:""},A={},O="",F=0,M="",j=0,k=[],R=[],I=-1,P=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},B=0,oe=r||{},he={},ne=[],de={},be=0,we=0,ue=[],U=1,Y=1,Z=[],q={Names:[],WBProps:{}},se={},me=["",""],ve=[],H={},G="",ee=0,ae=!1,pe=!1,X=0;for(Fn.lastIndex=0,a=pC(Cp(a,"<!--","-->"));y=Fn.exec(a);)switch(y[3]=y[3].replace(/_[\s\S]*$/,"")){case"table":case"":y[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?_["!ref"]=Qt(N):_["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=N.e.r&&(_["!fullref"]=_["!ref"],N.e.r=n.sheetRows-1,_["!ref"]=Qt(N)),ne.length&&(_["!merges"]=ne),ue.length&&(_["!rows"]=ue),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),b.push(m.name),x[m.name]=_,pe=!1):y[0].charAt(y[0].length-2)!=="/"&&(m=lt(y[0],!1),I=P=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,_={},n.dense&&(_["!data"]=[]),ne=[],ue=[],pe=!0);break;case"table-row-group":y[1]==="/"?--B:++B;break;case"table-row":case"":if(y[1]==="/"){I+=U,U=1;break}if(g=lt(y[0],!1),g.?I=g.-1:I==-1&&(I=0),U=+g["number-rows-repeated"]||1,U<10)for(X=0;X<U;++X)B>0&&(ue[I+X]={level:B});P=-1;break;case"covered-table-cell":if(y[1]!=="/")if(++P,C=lt(y[0],!1),Y=parseInt(C["number-columns-repeated"]||"1",10)||1,n.sheetStubs){for(;Y-- >0;)n.dense?(_["!data"][I]||(_["!data"][I]=[]),_["!data"][I][P]={t:"z"}):_[or({r:I,c:P})]={t:"z"},++P;--P}else P+=Y-1;O="",k=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++P,C=lt(y[0],!1),Y=parseInt(C["number-columns-repeated"]||"1",10)||1,w={t:"z",v:null},C.formula&&n.cellFormula!=!1&&(w.f=d6(Yt(C.formula))),C["style-name"]&&he[C["style-name"]]&&(w.z=he[C["style-name"]]),(C.||C["value-type"])=="string"&&(w.t="s",w.v=Yt(C["string-value"]||""),n.dense?(_["!data"][I]||(_["!data"][I]=[]),_["!data"][I][P]=w):_[lr(P)+_r(I)]=w),P+=Y-1;else if(y[1]!=="/"){++P,O=M="",F=j=0,k=[],R=[],Y=1;var je=U?I+U-1:I;if(P>N.e.c&&(N.e.c=P),P<N.s.c&&(N.s.c=P),I<N.s.r&&(N.s.r=I),je>N.e.r&&(N.e.r=je),C=lt(y[0],!1),A=Gre(y[0]),ve=[],H={},w={t:C.||C["value-type"],v:null},C["style-name"]&&he[C["style-name"]]&&(w.z=he[C["style-name"]]),n.cellFormula)if(C.formula&&(C.formula=Yt(C.formula)),C["number-matrix-columns-spanned"]&&C["number-matrix-rows-spanned"]&&(be=parseInt(C["number-matrix-rows-spanned"],10)||0,we=parseInt(C["number-matrix-columns-spanned"],10)||0,de={s:{r:I,c:P},e:{r:I+be-1,c:P+we-1}},w.F=Qt(de),Z.push([de,w.F])),C.formula)w.f=d6(C.formula);else for(X=0;X<Z.length;++X)I>=Z[X][0].s.r&&I<=Z[X][0].e.r&&P>=Z[X][0].s.c&&P<=Z[X][0].e.c&&(w.F=Z[X][1]);switch((C["number-columns-spanned"]||C["number-rows-spanned"])&&(be=parseInt(C["number-rows-spanned"]||"1",10)||1,we=parseInt(C["number-columns-spanned"]||"1",10)||1,be*we>1&&(de={s:{r:I,c:P},e:{r:I+be-1,c:P+we-1}},ne.push(de))),C["number-columns-repeated"]&&(Y=parseInt(C["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=yr(C["boolean-value"])||+C["boolean-value"]>=1;break;case"float":w.t="n",w.v=parseFloat(C.value),n.cellDates&&w.z&&Ms(w.z)&&(w.v=dc(w.v+(q.WBProps.date1904?1462:0)),w.t=typeof w.v=="number"?"n":"d");break;case"percentage":w.t="n",w.v=parseFloat(C.value);break;case"currency":w.t="n",w.v=parseFloat(C.value);break;case"date":w.t="d",w.v=Oa(C["date-value"],q.WBProps.date1904),n.cellDates||(w.t="n",w.v=Jn(w.v,q.WBProps.date1904)),w.z||(w.z="m/d/yy");break;case"time":w.t="n",w.v=Tre(C["time-value"])/86400,n.cellDates&&(w.v=dc(w.v),w.t=typeof w.v=="number"?"n":"d"),w.z||(w.z="HH:MM:SS");break;case"number":w.t="n",w.v=parseFloat(C.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",C["string-value"]!=null&&(O=Yt(C["string-value"]),k=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(ae=!1,A["calcext:value-type"]=="error"&&Ta[O]!=null&&(w.t="e",w.w=O,w.v=Ta[O]),w.t==="s"&&(w.v=O||"",k.length&&(w.R=k),ae=F==0),se.Target&&(w.l=se),ve.length>0&&(w.c=ve,ve=[]),O&&n.cellText!==!1&&(w.w=O),ae&&(w.t="z",delete w.v),(!ae||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=I))for(var He=0;He<U;++He){if(Y=parseInt(C["number-columns-repeated"]||"1",10),n.dense)for(_["!data"][I+He]||(_["!data"][I+He]=[]),_["!data"][I+He][P]=He==0?w:$n(w);--Y>0;)_["!data"][I+He][P+Y]=$n(w);else for(_[or({r:I+He,c:P})]=w;--Y>0;)_[or({r:I+He,c:P+Y})]=$n(w);N.e.c<=P&&(N.e.c=P)}Y=parseInt(C["number-columns-repeated"]||"1",10),P+=Y-1,Y=0,w={},O="",k=[]}se={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((s=i.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((s=i.pop())[0]!==y[3])throw"Bad state: "+s;H.t=O,k.length&&(H.R=k),H.a=G,ve.push(H),O=M,F=j,k=R}else if(y[0].charAt(y[0].length-2)!=="/"){i.push([y[3],!1]);var Be=lt(y[0],!0);Be.display&&yr(Be.display)||(ve.hidden=!0),M=O,j=F,R=k,O="",F=0,k=[]}G="",ee=0;break;case"creator":y[1]==="/"?G=a.slice(ee,y.index):ee=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((s=i.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!1]);O="",F=0,k=[];break;case"scientific-number":case"currency-symbol":case"fill-character":break;case"text-style":case"boolean-style":case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){var Ke=Fn.lastIndex;A9(a.slice(u,Fn.lastIndex),t,oe),Fn.lastIndex=Ke}else y[0].charAt(y[0].length-2)!=="/"&&(u=Fn.lastIndex-y[0].length);break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":{var Je=lt(y[0],!1);Je.family=="table-cell"&&oe[Je["data-style-name"]]&&(he[Je.name]=oe[Je["data-style-name"]])}break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":break;case"boolean":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":f+=a.slice(d,y.index);break}else d=y.index+y[0].length;break;case"named-range":l=lt(y[0],!1),me=T_(l["cell-range-address"]);var et={Name:l.name,Ref:me[0]+"!"+me[1]};pe&&(et.Sheet=b.length),q.Names.push(et);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":l=lt(y[0],!1),l["date-value"]==="1904-01-01"&&(q.WBProps.date1904=!0);break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(y[1]==="/"&&(!C||!C["string-value"])){var st=yue(a.slice(F,y.index));O=(O.length>0?O+`
`:"")+st[0]}else y[0].slice(-2)=="/>"?O+=`
`:(lt(y[0],!1),F=y.index+y[0].length);break;case"s":break;case"database-range":if(y[1]==="/")break;try{me=T_(lt(y[0])["target-range-address"]),x[me[0]]["!autofilter"]={ref:me[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"filter-set-item":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(se=lt(y[0],!1),!se.href)break;se.Target=Yt(se.href),delete se.href,se.Target.charAt(0)=="#"&&se.Target.indexOf(".")>-1?(me=T_(se.Target.slice(1)),se.Target="#"+me[0]+"!"+me[1]):se.Target.match(/^\.\.[\\\/]/)&&(se.Target=se.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(y)}}var rt={Sheets:x,SheetNames:b,Workbook:q};return n.bookSheets&&delete rt.Sheets,rt}function v6(e,t){t=t||{},ss(e,"META-INF/manifest.xml")&&Une(Rn(e,"META-INF/manifest.xml"),t);var r=ei(e,"styles.xml"),n=r&&A9(Pr(r)),a=ei(e,"content.xml");if(!a)throw new Error("Missing content.xml in ODS / UOF file");var i=C9(Pr(a),t,n);return ss(e,"meta.xml")&&(i.Props=zM(Rn(e,"meta.xml"))),i.bookType="ods",i}function y6(e,t){var r=C9(e,t);return r.bookType="fods",r}var ka=(function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":(typeof Buffer.from=="function"?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}})();function ep(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function hf(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Pr(nl(e))}function T9(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].length;var n=new Uint8Array(t),a=0;for(r=0;r<e.length;++r){var i=e[r],s=i.length;if(s<250)for(var l=0;l<s;++l)n[a++]=i[l];else n.set(i,a),a+=s}return n}function Ih(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function bue(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Uv(e,t){var r=t.l,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t.l=r,n}function sr(e){var t=0,r=e[t]&127;return e[t++]<128||(r|=(e[t]&127)<<7,e[t++]<128)||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128)||(r|=(e[t]&15)<<28),r}function zt(e){for(var t=[],r={l:0};r.l<e.length;){var n=r.l,a=Uv(e,r),i=a&7;a=a/8|0;var s,l=r.l;switch(i){case 0:{for(;e[l++]>=128;);s=e[ka](r.l,l),r.l=l}break;case 1:s=e[ka](l,l+8),r.l=l+8;break;case 2:{var u=Uv(e,r);s=e[ka](r.l,r.l+u),r.l+=u}break;case 5:s=e[ka](l,l+4),r.l=l+4;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var f={data:s,type:i};t[a]==null&&(t[a]=[]),t[a].push(f)}return t}function uy(e,t){return e?.map(function(r){return t(r.data)})||[]}function _ue(e){for(var t,r=[],n={l:0};n.l<e.length;){var a=Uv(e,n),i=zt(e[ka](n.l,n.l+a));n.l+=a;var s={id:sr(i[1][0].data),messages:[]};i[2].forEach(function(l){var u=zt(l.data),f=sr(u[3][0].data);s.messages.push({meta:u,data:e[ka](n.l,n.l+f)}),n.l+=f}),(t=i[3])!=null&&t[0]&&(s.merge=sr(i[3][0].data)>>>0>0),r.push(s)}return r}function wue(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r={l:0},n=Uv(t,r),a=[],i=r.l;i<t.length;){var s=t[i]&3;if(s==0){var l=t[i++]>>2;if(l<60)++l;else{var u=l-59;l=t[i],u>1&&(l|=t[i+1]<<8),u>2&&(l|=t[i+2]<<16),u>3&&(l|=t[i+3]<<24),l>>>=0,l++,i+=u}a.push(t[ka](i,i+l)),i+=l;continue}else{var f=0,d=0;if(s==1?(d=(t[i]>>2&7)+4,f=(t[i++]&224)<<3,f|=t[i++]):(d=(t[i++]>>2)+1,s==2?(f=t[i]|t[i+1]<<8,i+=2):(f=(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0,i+=4)),f==0)throw new Error("Invalid offset 0");for(var m=a.length-1,g=f;m>=0&&g>=a[m].length;)g-=a[m].length,--m;if(m<0)if(g==0)g=a[m=0].length;else throw new Error("Invalid offset beyond length");if(d<g)a.push(a[m][ka](a[m].length-g,a[m].length-g+d));else{for(g>0&&(a.push(a[m][ka](a[m].length-g)),d-=g),++m;d>=a[m].length;)a.push(a[m]),d-=a[m].length,++m;d&&a.push(a[m][ka](0,d))}a.length>25&&(a=[T9(a)])}}for(var x=0,b=0;b<a.length;++b)x+=a[b].length;if(x!=n)throw new Error("Unexpected length: ".concat(x," != ").concat(n));return a}function Eue(e){Array.isArray(e)&&(e=new Uint8Array(e));for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push.apply(t,wue(n,e[ka](r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return t.length==1?t[0]:T9(t)}var Sue=function(){return{sst:[],rsst:[],ofmt:[],nfmt:[],fmla:[],ferr:[],cmnt:[]}};function k9(e,t,r,n,a){var i,s,l,u,f=t&255,d=t>>8,m=d>=5?a:n;e:if(r&(d>4?8:4)&&e.t=="n"&&f==7){var g=(i=m[7])!=null&&i[0]?sr(m[7][0].data):-1;if(g==-1)break e;var x=(s=m[15])!=null&&s[0]?sr(m[15][0].data):-1,b=(l=m[16])!=null&&l[0]?sr(m[16][0].data):-1,_=(u=m[40])!=null&&u[0]?sr(m[40][0].data):-1,y=e.v,w=y;t:if(_){if(y==0){x=b=2;break t}y>=604800?x=1:y>=86400?x=2:y>=3600?x=4:y>=60?x=8:y>=1?x=16:x=32,Math.floor(y)!=y?b=32:y%60?b=16:y%3600?b=8:y%86400?b=4:y%604800&&(b=2),b<x&&(b=x)}if(x==-1||b==-1)break e;var C=[],A=[];x==1&&(w=y/604800,b==1?A.push('d"d"'):(w|=0,y-=604800*w),C.push(w+(g==2?" week"+(w==1?"":"s"):g==1?"w":""))),x<=2&&b>=2&&(w=y/86400,b>2&&(w|=0,y-=86400*w),A.push('d"d"'),C.push(w+(g==2?" day"+(w==1?"":"s"):g==1?"d":""))),x<=4&&b>=4&&(w=y/3600,b>4&&(w|=0,y-=3600*w),A.push((x>=4?"[h]":"h")+'"h"'),C.push(w+(g==2?" hour"+(w==1?"":"s"):g==1?"h":""))),x<=8&&b>=8&&(w=y/60,b>8&&(w|=0,y-=60*w),A.push((x>=8?"[m]":"m")+'"m"'),g==0?C.push((x==8&&b==8||w>=10?"":"0")+w):C.push(w+(g==2?" minute"+(w==1?"":"s"):g==1?"m":""))),x<=16&&b>=16&&(w=y,b>16&&(w|=0,y-=w),A.push((x>=16?"[s]":"s")+'"s"'),g==0?C.push((b==16&&x==16||w>=10?"":"0")+w):C.push(w+(g==2?" second"+(w==1?"":"s"):g==1?"s":""))),b>=32&&(w=Math.round(1e3*y),x<32&&A.push('.000"ms"'),g==0?C.push((w>=100?"":w>=10?"0":"00")+w):C.push(w+(g==2?" millisecond"+(w==1?"":"s"):g==1?"ms":""))),e.w=C.join(g==0?":":" "),e.z=A.join(g==0?'":"':" "),g==0&&(e.w=e.w.replace(/:(\d\d\d)$/,".$1"))}}function Aue(e,t,r,n){var a=ep(e),i=a.getUint32(4,!0),s=-1,l=-1,u=-1,f=NaN,d=0,m=new Date(Date.UTC(2001,0,1)),g=r>1?12:8;i&2&&(u=a.getUint32(g,!0),g+=4),g+=Ih(i&(r>1?3468:396))*4,i&512&&(s=a.getUint32(g,!0),g+=4),g+=Ih(i&(r>1?12288:4096))*4,i&16&&(l=a.getUint32(g,!0),g+=4),i&32&&(f=a.getFloat64(g,!0),g+=8),i&64&&(m.setTime(m.getTime()+(d=a.getFloat64(g,!0))*1e3),g+=8),r>1&&(i=a.getUint32(8,!0)>>>16,i&255&&(u==-1&&(u=a.getUint32(g,!0)),g+=4));var x,b=e[r>=4?1:2];switch(b){case 0:return;case 2:x={t:"n",v:f};break;case 3:x={t:"s",v:t.sst[l]};break;case 5:n?.cellDates?x={t:"d",v:m}:x={t:"n",v:d/86400+35430,z:kt[14]};break;case 6:x={t:"b",v:f>0};break;case 7:x={t:"n",v:f};break;case 8:x={t:"e",v:0};break;case 9:if(s>-1){var _=t.rsst[s];x={t:"s",v:_.v},_.l&&(x.l={Target:_.l})}else throw new Error("Unsupported cell type ".concat(e[ka](0,4)));break;default:throw new Error("Unsupported cell type ".concat(e[ka](0,4)))}return u>-1&&k9(x,b|r<<8,i,t.ofmt[u],t.nfmt[u]),b==7&&(x.v/=86400),x}function Cue(e,t,r){var n=ep(e);n.getUint32(4,!0);var a=n.getUint32(8,!0),i=12,s=-1,l=-1,u=-1,f=NaN,d=NaN,m=0,g=new Date(Date.UTC(2001,0,1));a&1&&(f=bue(e,i),i+=16),a&2&&(d=n.getFloat64(i,!0),i+=8),a&4&&(g.setTime(g.getTime()+(m=n.getFloat64(i,!0))*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4),i+=Ih(a&480)*4,a&512&&(n.getUint32(i,!0),i+=4),i+=Ih(a&1024)*4,a&2048&&(n.getUint32(i,!0),i+=4);var x,b=e[1];switch(b){case 0:x={t:"z"};break;case 2:x={t:"n",v:f};break;case 3:x={t:"s",v:t.sst[l]};break;case 5:r?.cellDates?x={t:"d",v:g}:x={t:"n",v:m/86400+35430,z:kt[14]};break;case 6:x={t:"b",v:d>0};break;case 7:x={t:"n",v:d};break;case 8:x={t:"e",v:0};break;case 9:if(s>-1){var _=t.rsst[s];x={t:"s",v:_.v},_.l&&(x.l={Target:_.l})}else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e[ka](0,4)));break;case 10:x={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e[ka](0,4)))}if(i+=Ih(a&4096)*4,a&516096&&(u==-1&&(u=n.getUint32(i,!0)),i+=4),a&524288){var y=n.getUint32(i,!0);i+=4,t.cmnt[y]&&(x.c=Oue(t.cmnt[y]))}return u>-1&&k9(x,b|1280,a>>13,t.ofmt[u],t.nfmt[u]),b==7&&(x.v/=86400),x}function Tue(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:case 4:return Aue(e,t,e[0],r);case 5:return Cue(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function fa(e){var t=zt(e);return sr(t[1][0].data)}function au(e,t){var r=zt(t.data),n=sr(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var l,u,f=zt(s.data);if(f[1]){var d=sr(f[1][0].data)>>>0;switch(n){case 1:i[d]=hf(f[3][0].data);break;case 8:{var m=e[fa(f[9][0].data)][0],g=zt(m.data),x=e[fa(g[1][0].data)][0],b=sr(x.meta[1][0].data);if(b!=2001)throw new Error("2000 unexpected reference to ".concat(b));var _=zt(x.data),y={v:_[3].map(function(A){return hf(A.data)}).join("")};i[d]=y;e:if((l=_?.[11])!=null&&l[0]){var w=(u=zt(_[11][0].data))==null?void 0:u[1];if(!w)break e;w.forEach(function(A){var O,F,M,j=zt(A.data);if((O=j[2])!=null&&O[0]){var k=e[fa((F=j[2])==null?void 0:F[0].data)][0],R=sr(k.meta[1][0].data);switch(R){case 2032:var I=zt(k.data);(M=I?.[2])!=null&&M[0]&&!y.l&&(y.l=hf(I[2][0].data));break;case 2039:break;default:console.log("unrecognized ObjectAttribute type ".concat(R))}}})}}break;case 2:i[d]=zt(f[6][0].data);break;case 3:i[d]=zt(f[5][0].data);break;case 10:{var C=e[fa(f[10][0].data)][0];i[d]=D9(e,C.data)}break;default:throw n}}}),i}function kue(e,t){var r,n,a,i,s,l,u,f,d,m,g,x,b,_,y=zt(e),w=sr(y[1][0].data)>>>0,C=sr(y[2][0].data)>>>0,A=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&sr(y[8][0].data)>0||!1,O,F;if((i=(a=y[7])==null?void 0:a[0])!=null&&i.data&&t!=0)O=(l=(s=y[7])==null?void 0:s[0])==null?void 0:l.data,F=(f=(u=y[6])==null?void 0:u[0])==null?void 0:f.data;else if((m=(d=y[4])==null?void 0:d[0])!=null&&m.data&&t!=1)O=(x=(g=y[4])==null?void 0:g[0])==null?void 0:x.data,F=(_=(b=y[3])==null?void 0:b[0])==null?void 0:_.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var M=A?4:1,j=ep(O),k=[],R=0;R<O.length/2;++R){var I=j.getUint16(R*2,!0);I<65535&&k.push([R,I])}if(k.length!=C)throw"Expected ".concat(C," cells, found ").concat(k.length);var P=[];for(R=0;R<k.length-1;++R)P[k[R][0]]=F[ka](k[R][1]*M,k[R+1][1]*M);return k.length>=1&&(P[k[k.length-1][0]]=F[ka](k[k.length-1][1]*M)),{R:w,cells:P}}function Due(e,t){var r,n=zt(t.data),a=-1;(r=n?.[7])!=null&&r[0]&&(sr(n[7][0].data)>>>0?a=1:a=0);var i=uy(n[5],function(s){return kue(s,a)});return{nrows:sr(n[4][0].data)>>>0,data:i.reduce(function(s,l){return s[l.R]||(s[l.R]=[]),l.cells.forEach(function(u,f){if(s[l.R][f])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(f));s[l.R][f]=u}),s},[])}}function D9(e,t){var r,n,a,i,s,l,u,f,d,m,g={t:"",a:""},x=zt(t);if((n=(r=x?.[1])==null?void 0:r[0])!=null&&n.data&&(g.t=hf((i=(a=x?.[1])==null?void 0:a[0])==null?void 0:i.data)||""),(l=(s=x?.[3])==null?void 0:s[0])!=null&&l.data){var b=e[fa((f=(u=x?.[3])==null?void 0:u[0])==null?void 0:f.data)][0],_=zt(b.data);(m=(d=_[1])==null?void 0:d[0])!=null&&m.data&&(g.a=hf(_[1][0].data))}return x?.[4]&&(g.replies=[],x[4].forEach(function(y){var w=e[fa(y.data)][0];g.replies.push(D9(e,w.data))})),g}function Oue(e){var t=[];return t.push({t:e.t||"",a:e.a,T:e.replies&&e.replies.length>0}),e.replies&&e.replies.forEach(function(r){t.push({t:r.t||"",a:r.a,T:!0})}),t}function jue(e,t,r,n){var a,i,s,l,u,f,d,m,g,x,b,_,y,w,C=zt(t.data),A={s:{r:0,c:0},e:{r:0,c:0}};if(A.e.r=(sr(C[6][0].data)>>>0)-1,A.e.r<0)throw new Error("Invalid row varint ".concat(C[6][0].data));if(A.e.c=(sr(C[7][0].data)>>>0)-1,A.e.c<0)throw new Error("Invalid col varint ".concat(C[7][0].data));r["!ref"]=Qt(A);var O=r["!data"]!=null,F=r,M=zt(C[4][0].data),j=Sue();(a=M[4])!=null&&a[0]&&(j.sst=au(e,e[fa(M[4][0].data)][0])),(i=M[6])!=null&&i[0]&&(j.fmla=au(e,e[fa(M[6][0].data)][0])),(s=M[11])!=null&&s[0]&&(j.ofmt=au(e,e[fa(M[11][0].data)][0])),(l=M[12])!=null&&l[0]&&(j.ferr=au(e,e[fa(M[12][0].data)][0])),(u=M[17])!=null&&u[0]&&(j.rsst=au(e,e[fa(M[17][0].data)][0])),(f=M[19])!=null&&f[0]&&(j.cmnt=au(e,e[fa(M[19][0].data)][0])),(d=M[22])!=null&&d[0]&&(j.nfmt=au(e,e[fa(M[22][0].data)][0]));var k=zt(M[3][0].data),R=0;if(!((m=M[9])!=null&&m[0]))throw"NUMBERS file missing row tree";var I=zt(M[9][0].data)[1].map(function(he){return zt(he.data)});if(I.forEach(function(he){R=sr(he[1][0].data);var ne=sr(he[2][0].data),de=k[1][ne];if(!de)throw"NUMBERS missing tile "+ne;var be=zt(de.data),we=e[fa(be[2][0].data)][0],ue=sr(we.meta[1][0].data);if(ue!=6002)throw new Error("6001 unexpected reference to ".concat(ue));var U=Due(e,we);U.data.forEach(function(Y,Z){Y.forEach(function(q,se){var me=Tue(q,j,n);me&&(O?(F["!data"][R+Z]||(F["!data"][R+Z]=[]),F["!data"][R+Z][se]=me):r[lr(se)+_r(R+Z)]=me)})}),R+=U.nrows}),(g=M[13])!=null&&g[0]){var P=e[fa(M[13][0].data)][0],N=sr(P.meta[1][0].data);if(N!=6144)throw new Error("Expected merge type 6144, found ".concat(N));r["!merges"]=(x=zt(P.data))==null?void 0:x[1].map(function(he){var ne=zt(he.data),de=ep(zt(ne[1][0].data)[1][0].data),be=ep(zt(ne[2][0].data)[1][0].data);return{s:{r:de.getUint16(0,!0),c:de.getUint16(2,!0)},e:{r:de.getUint16(0,!0)+be.getUint16(0,!0)-1,c:de.getUint16(2,!0)+be.getUint16(2,!0)-1}}})}if(!((b=r["!merges"])!=null&&b.length)&&((_=C[47])!=null&&_[0])){var B=zt(C[47][0].data);if((y=B[2])!=null&&y[0]){var oe=zt(B[2][0].data);(w=oe[3])!=null&&w[0]&&(r["!merges"]=uy(oe[3],function(he){var ne,de,be,we,ue,U=zt(he),Y=zt(U[2][0].data),Z=zt(Y[1][0].data);if((ne=Z[1])!=null&&ne[0]){var q=zt(Z[1][0].data),se=sr(q[1][0].data);if(se==67){var me=zt(q[40][0].data);if(!(!((de=me[3])!=null&&de[0])||!((be=me[4])!=null&&be[0]))){var ve=zt(me[3][0].data),H=zt(me[4][0].data),G=sr(ve[1][0].data),ee=(we=ve[2])!=null&&we[0]?sr(ve[2][0].data):G,ae=sr(H[1][0].data),pe=(ue=H[2])!=null&&ue[0]?sr(H[2][0].data):ae;return{s:{r:ae,c:G},e:{r:pe,c:ee}}}}}}).filter(function(he){return he!=null}))}}}function Nue(e,t,r){var n=zt(t.data),a={"!ref":"A1"};r?.dense&&(a["!data"]=[]);var i=e[fa(n[2][0].data)],s=sr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return jue(e,i[0],a,r),a}function Iue(e,t,r){var n,a=zt(t.data),i={name:(n=a[1])!=null&&n[0]?hf(a[1][0].data):"",sheets:[]},s=uy(a[2],fa);return s.forEach(function(l){e[l].forEach(function(u){var f=sr(u.meta[1][0].data);f==6e3&&i.sheets.push(Nue(e,u,r))})}),i}function Pue(e,t,r){var n,a=OC();a.Workbook={WBProps:{date1904:!0}};var i=zt(t.data);if((n=i[2])!=null&&n[0])throw new Error("Keynote presentations are not supported");var s=uy(i[1],fa);if(s.forEach(function(l){e[l].forEach(function(u){var f=sr(u.meta[1][0].data);if(f==2){var d=Iue(e,u,r);d.sheets.forEach(function(m,g){Np(a,m,g==0?d.name:d.name+"_"+g,!0)})}})}),a.SheetNames.length==0)throw new Error("Empty NUMBERS file");return a.bookType="numbers",a}function D_(e,t){var r,n,a,i,s,l,u,f={},d=[];if(e.FullPaths.forEach(function(g){if(g.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(g){if(g.name.match(/\.iwa$/)&&g.content[0]==0){var x;try{x=Eue(g.content)}catch(_){return console.log("?? "+g.content.length+" "+(_.message||_))}var b;try{b=_ue(x)}catch(_){return console.log("## "+(_.message||_))}b.forEach(function(_){f[_.id]=_.messages,d.push(_.id)})}}),!d.length)throw new Error("File has no messages");if((a=(n=(r=f?.[1])==null?void 0:r[0].meta)==null?void 0:n[1])!=null&&a[0].data&&sr(f[1][0].meta[1][0].data)==1e4)throw new Error("Pages documents are not supported");var m=((u=(l=(s=(i=f?.[1])==null?void 0:i[0])==null?void 0:s.meta)==null?void 0:l[1])==null?void 0:u[0].data)&&sr(f[1][0].meta[1][0].data)==1&&f[1][0];if(m||d.forEach(function(g){f[g].forEach(function(x){var b=sr(x.meta[1][0].data)>>>0;if(b==1)if(!m)m=x;else throw new Error("Document has multiple roots")})}),!m)throw new Error("Cannot find Document root");return Pue(f,m,t)}function Rue(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function kC(e){Rue([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Fue(e){return nf.WS.indexOf(e)>-1?"sheet":e==nf.CS?"chart":e==nf.DS?"dialog":e==nf.MS?"macro":e&&e.length?e:"sheet"}function Bue(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Fue(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Mue(e,t,r,n,a,i,s,l){if(!(!e||!e["!legdrawel"])){var u=rf(e["!legdrawel"].Target,n),f=ei(r,u,!0);f&&qse(Pr(f),e,l||[])}}function Lue(e,t,r,n,a,i,s,l,u,f,d,m){try{i[n]=Th(ei(e,r,!0),t);var g=Rn(e,t),x;switch(l){case"sheet":x=Vce(g,t,a,u,i[n],f,d,m);break;case"chart":if(x=$ce(g,t,a,u,i[n],f,d,m),!x||!x["!drawel"])break;var b=rf(x["!drawel"].Target,t),_=tS(b),y=Hse(ei(e,b,!0),Th(ei(e,_,!0),b)),w=rf(y,b),C=tS(w);x=Ace(ei(e,w,!0),w,u,Th(ei(e,C,!0),w),f,x);break;case"macro":x=Hce(g,t,a,u,i[n],f,d,m);break;case"dialog":x=qce(g,t,a,u,i[n],f,d,m);break;default:throw new Error("Unrecognized sheet type "+l)}s[n]=x;var A=[],O=[];i&&i[n]&&ds(i[n]).forEach(function(F){var M="";if(i[n][F].Type==nf.CMNT){if(M=rf(i[n][F].Target,t),A=Kce(Rn(e,M,!0),M,u),!A||!A.length)return;s6(x,A,!1)}i[n][F].Type==nf.TCMNT&&(M=rf(i[n][F].Target,t),O=O.concat(Gse(Rn(e,M,!0),u)))}),O&&O.length&&s6(x,O,!0,u.people||[]),Mue(x,l,e,t,a,u,f,A)}catch(F){if(u.WTF)throw F}}function es(e){return e.charAt(0)=="/"?e.slice(1):e}function zue(e,t){if(uM(),t=t||{},kC(t),ss(e,"META-INF/manifest.xml")||ss(e,"objectdata.xml"))return v6(e,t);if(ss(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof D_<"u"){if(e.FileIndex)return D_(e,t);var r=er.utils.cfb_new();return N8(e).forEach(function(he){$re(r,he,Vre(e,he))}),D_(r,t)}throw new Error("Unsupported NUMBERS file")}if(!ss(e,"[Content_Types].xml")){if(ss(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(ss(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");var n=er.find(e,"Index.zip");if(n)return t=$n(t),delete t.type,typeof n.content=="string"&&(t.type="binary"),typeof Bun<"u"&&Buffer.isBuffer(n.content)?Su(new Uint8Array(n.content),t):Su(n.content,t);throw new Error("Unsupported ZIP file")}var a=N8(e),i=Lne(ei(e,"[Content_Types].xml")),s=!1,l,u;if(i.workbooks.length===0&&(u="xl/workbook.xml",Rn(e,u,!0)&&i.workbooks.push(u)),i.workbooks.length===0){if(u="xl/workbook.bin",!Rn(e,u,!0))throw new Error("Could not find workbook");i.workbooks.push(u),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var f={},d={};if(!t.bookSheets&&!t.bookProps){if(Oh=[],i.sst)try{Oh=Gce(Rn(e,es(i.sst)),i.sst,t)}catch(he){if(t.WTF)throw he}t.cellStyles&&i.themes.length&&(f=s9(ei(e,i.themes[0].replace(/^\//,""),!0)||"",t)),i.style&&(d=Wce(Rn(e,es(i.style)),i.style,f,t))}i.links.map(function(he){try{var ne=Th(ei(e,tS(es(he))),he);return Yce(Rn(e,es(he)),ne,he,t)}catch{}});var m=Uce(Rn(e,es(i.workbooks[0])),i.workbooks[0],t),g={},x="";i.coreprops.length&&(x=Rn(e,es(i.coreprops[0]),!0),x&&(g=zM(x)),i.extprops.length!==0&&(x=Rn(e,es(i.extprops[0]),!0),x&&$ne(x,g,t)));var b={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(x=ei(e,es(i.custprops[0]),!0),x&&(b=qne(x,t)));var _={};if((t.bookSheets||t.bookProps)&&(m.Sheets?l=m.Sheets.map(function(ne){return ne.name}):g.Worksheets&&g.SheetNames.length>0&&(l=g.SheetNames),t.bookProps&&(_.Props=g,_.Custprops=b),t.bookSheets&&typeof l<"u"&&(_.SheetNames=l),t.bookSheets?_.SheetNames:t.bookProps))return _;l={};var y={};t.bookDeps&&i.calcchain&&(y=Xce(Rn(e,es(i.calcchain)),i.calcchain));var w=0,C={},A,O;{var F=m.Sheets;g.Worksheets=F.length,g.SheetNames=[];for(var M=0;M!=F.length;++M)g.SheetNames[M]=F[M].name}var j=s?"bin":"xml",k=i.workbooks[0].lastIndexOf("/"),R=(i.workbooks[0].slice(0,k+1)+"_rels/"+i.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");ss(e,R)||(R="xl/_rels/workbook."+j+".rels");var I=Th(ei(e,R,!0),R.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=Qce(Rn(e,es(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=Kse(Rn(e,es(i.people[0])),t)),I&&(I=Bue(I,m.Sheets));var P=Rn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=g.Worksheets;++w){var N="sheet";if(I&&I[w]?(A="xl/"+I[w][1].replace(/[\/]?xl\//,""),ss(e,A)||(A=I[w][1]),ss(e,A)||(A=R.replace(/_rels\/[\S\s]*$/,"")+I[w][1]),N=I[w][2]):(A="xl/worksheets/sheet"+(w+1-P)+"."+j,A=A.replace(/sheet0\./,"sheet.")),O=A.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(g.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var B=!1,oe=0;oe!=t.sheets.length;++oe)typeof t.sheets[oe]=="number"&&t.sheets[oe]==w&&(B=1),typeof t.sheets[oe]=="string"&&t.sheets[oe].toLowerCase()==g.SheetNames[w].toLowerCase()&&(B=1);if(!B)continue e}}Lue(e,A,O,g.SheetNames[w],w,C,l,N,t,m,f,d)}return _={Directory:i,Workbook:m,Props:g,Custprops:b,Deps:y,Sheets:l,SheetNames:g.SheetNames,Strings:Oh,Styles:d,Themes:f,SSF:$n(kt)},t&&t.bookFiles&&(e.files?(_.keys=a,_.files=e.files):(_.keys=[],_.files={},e.FullPaths.forEach(function(he,ne){he=he.replace(/^Root Entry[\/]/,""),_.keys.push(he),_.files[he]=e.FileIndex[ne]}))),t&&t.bookVBA&&(i.vba.length>0?_.vbaraw=Rn(e,es(i.vba[0]),!0):i.defaults&&i.defaults.bin===Zse&&(_.vbaraw=Rn(e,"xl/vbaProject.bin",!0))),_.bookType=s?"xlsb":"xlsx",_}function Uue(e,t){var r=t||{},n="Workbook",a=er.find(e,n);try{if(n="/!DataSpaces/Version",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Mie(a.content),n="/!DataSpaces/DataSpaceMap",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=zie(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Uie(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);$ie(a.content)}catch{}if(n="/EncryptionInfo",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Hie(a.content);if(n="/EncryptedPackage",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function DC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Li(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Vue(e,t){return er.find(e,"EncryptedPackage")?Uue(e,t):w9(e,t)}function $ue(e,t){var r,n=e,a=t||{};return a.type||(a.type=qt&&Buffer.isBuffer(e)?"buffer":"base64"),r=gM(n,a),zue(r,a)}function O9(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return nS(e.slice(r),t);default:break e}return Qh.to_workbook(e,t)}function Hue(e,t){var r="",n=DC(e,t);switch(t.type){case"base64":r=Li(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Pu(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Pr(r)),t.type="binary",O9(r,t)}function que(e,t){var r=e;return t.type=="base64"&&(r=Li(r)),typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer&&(r=new Uint8Array(e)),r=qt&&Buffer.isBuffer(e)?e.slice(2).toString("utf16le"):typeof Uint8Array<"u"&&r instanceof Uint8Array?typeof TextDecoder<"u"?new TextDecoder("utf-16le").decode(r.slice(2)):Kte(r.slice(2)):eM(r.slice(2)),t.type="binary",O9(r,t)}function Wue(e){return e.match(/[^\x00-\x7F]/)?hh(e):e}function O_(e,t,r,n){return n?(r.type="string",Qh.to_workbook(e,r)):Qh.to_workbook(t,r)}function Su(e,t){JB();var r=t||{};if(r.codepage&&console.error("Codepage tables are not loaded.  Non-ASCII characters may not give expected results"),typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Su(new Uint8Array(e),(r=$n(r),r.type="array",r));if(typeof Int8Array<"u"&&e instanceof Int8Array)return Su(new Uint8Array(e.buffer,e.byteOffset,e.length),r);typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),df={},r.dateNF&&(df.dateNF=r.dateNF),r.type||(r.type=qt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=qt?"buffer":"binary",n=Sre(e),typeof Uint8Array<"u"&&!qt&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Wue(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),l=new Uint8Array(s);if(l.foo="bar",!l.foo)return r=$n(r),r.type="array",Su(uC(n),r)}switch((a=DC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Vue(er.read(n,r),r);break;case 9:if(a[1]<=8)return w9(n,r);break;case 60:return nS(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Tie(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Aie.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?$ue(n,r):O_(e,n,r,i);case 239:return a[3]===60?nS(n,r):O_(e,n,r,i);case 255:if(a[1]===254)return que(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Dh.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Dh.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return i6.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return nse(n,r);break;case 10:case 13:case 32:return Hue(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break;case 8:if(a[1]===231)throw new Error("Unsupported Multiplan 1.x file!");break;case 12:if(a[1]===236)throw new Error("Unsupported Multiplan 2.x file!");if(a[1]===237)throw new Error("Unsupported Multiplan 3.x file!");break}return Eie.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?i6.to_workbook(n,r):O_(e,n,r,i)}function Gue(e,t,r,n,a,i,s){var l=_r(r),u=s.defval,f=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,m=e["!data"]!=null,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!m||e["!data"][r])for(var x=t.s.c;x<=t.e.c;++x){var b=m?(e["!data"][r]||[])[x]:e[n[x]+l];if(b==null||b.t===void 0){if(u===void 0)continue;i[x]!=null&&(g[i[x]]=u);continue}var _=b.v;switch(b.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"b":case"n":if(!b.z||!Ms(b.z)||(_=dc(_),typeof _=="number"))break;case"d":s&&(s.UTC||s.raw===!1)||(_=Ru(new Date(_)));break;default:throw new Error("unrecognized type "+b.t)}if(i[x]!=null){if(_==null)if(b.t=="e"&&_===null)g[i[x]]=null;else if(u!==void 0)g[i[x]]=u;else if(f&&_===null)g[i[x]]=null;else continue;else g[i[x]]=(b.t==="n"&&typeof s.rawNumbers=="boolean"?s.rawNumbers:f)?_:_c(b,_,s);_!=null&&(d=!1)}}return{row:g,isempty:d}}function iS(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},d=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof d){case"string":u=Tn(d);break;case"number":u=Tn(e["!ref"]),u.s.r=d;break;default:u=d}n>0&&(a=0);var m=_r(u.s.r),g=[],x=[],b=0,_=0,y=e["!data"]!=null,w=u.s.r,C=0,A={};y&&!e["!data"][w]&&(e["!data"][w]=[]);var O=f.skipHidden&&e["!cols"]||[],F=f.skipHidden&&e["!rows"]||[];for(C=u.s.c;C<=u.e.c;++C)if(!(O[C]||{}).hidden)switch(g[C]=lr(C),r=y?e["!data"][w][C]:e[g[C]+m],n){case 1:i[C]=C-u.s.c;break;case 2:i[C]=g[C];break;case 3:i[C]=f.header[C-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=s=_c(r,null,f),_=A[s]||0,!_)A[s]=1;else{do l=s+"_"+_++;while(A[l]);A[s]=_,A[l]=1}i[C]=l}for(w=u.s.r+a;w<=u.e.r;++w)if(!(F[w]||{}).hidden){var M=Gue(e,u,w,g,n,i,f);(M.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(x[b++]=M.row)}return x.length=b,x}var b6=/"/g;function Kue(e,t,r,n,a,i,s,l,u){for(var f=!0,d=[],m="",g=_r(r),x=e["!data"]!=null,b=x&&e["!data"][r]||[],_=t.s.c;_<=t.e.c;++_)if(n[_]){var y=x?b[_]:e[n[_]+g];if(y==null)m="";else if(y.v!=null){f=!1,m=""+(u.rawNumbers&&y.t=="n"?y.v:_c(y,null,u));for(var w=0,C=0;w!==m.length;++w)if((C=m.charCodeAt(w))===a||C===i||C===34||u.forceQuotes){m='"'+m.replace(b6,'""')+'"';break}m=="ID"&&l==0&&d.length==0&&(m='"ID"')}else y.f!=null&&!y.F?(f=!1,m="="+y.f,m.indexOf(",")>=0&&(m='"'+m.replace(b6,'""')+'"')):m="";d.push(m)}if(u.strip)for(;d[d.length-1]==="";)--d.length;return u.blankrows===!1&&f?null:d.join(s)}function j9(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";for(var a=Tn(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,u=l.charCodeAt(0),f="",d=[],m=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(d[x]=lr(x));for(var b=0,_=a.s.r;_<=a.e.r;++_)(g[_]||{}).hidden||(f=Kue(e,a,_,d,s,u,i,b,n),f!=null&&(f||n.blankrows!==!1)&&r.push((b++?l:"")+f));return r.join("")}function Xue(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=j9(e,t);return r}function Yue(e,t){var r="",n,a="";if(e==null||e["!ref"]==null)return[];var i=Tn(e["!ref"]),s="",l=[],u,f=[],d=e["!data"]!=null;for(u=i.s.c;u<=i.e.c;++u)l[u]=lr(u);for(var m=i.s.r;m<=i.e.r;++m)for(s=_r(m),u=i.s.c;u<=i.e.c;++u)if(r=l[u]+s,n=d?(e["!data"][m]||[])[u]:e[r],a="",n!==void 0){if(n.F!=null){if(r=n.F,!n.f)continue;a=n.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(n.f!=null)a=n.f;else{if(t&&t.values===!1)continue;if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)a=""+n.v;else if(n.t=="b")a=n.v?"TRUE":"FALSE";else if(n.w!==void 0)a="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?a="'"+n.v:a=""+n.v}}f[f.length]=r+"="+a}return f}function N9(e,t,r){var n=r||{},a=e?e["!data"]!=null:n.dense,i=+!n.skipHeader,s=e||{};!e&&a&&(s["!data"]=[]);var l=0,u=0;if(s&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var f=typeof n.origin=="string"?Ua(n.origin):n.origin;l=f.r,u=f.c}var d={s:{c:0,r:0},e:{c:u,r:l+t.length-1+i}};if(s["!ref"]){var m=Tn(s["!ref"]);d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),l==-1&&(l=m.e.r+1,d.e.r=l+t.length-1+i)}else l==-1&&(l=0,d.e.r=t.length-1+i);var g=n.header||[],x=0,b=[];t.forEach(function(y,w){a&&!s["!data"][l+w+i]&&(s["!data"][l+w+i]=[]),a&&(b=s["!data"][l+w+i]),ds(y).forEach(function(C){(x=g.indexOf(C))==-1&&(g[x=g.length]=C);var A=y[C],O="z",F="",M=a?"":lr(u+x)+_r(l+w+i),j=a?b[u+x]:s[M];A&&typeof A=="object"&&!(A instanceof Date)?a?b[u+x]=A:s[M]=A:(typeof A=="number"?O="n":typeof A=="boolean"?O="b":typeof A=="string"?O="s":A instanceof Date?(O="d",n.UTC||(A=ny(A)),n.cellDates||(O="n",A=Jn(A)),F=j!=null&&j.z&&Ms(j.z)?j.z:n.dateNF||kt[14]):A===null&&n.nullError&&(O="e",A=0),j?(j.t=O,j.v=A,delete j.w,delete j.R,F&&(j.z=F)):a?b[u+x]=j={t:O,v:A}:s[M]=j={t:O,v:A},F&&(j.z=F))})}),d.e.c=Math.max(d.e.c,u+g.length-1);var _=_r(l);if(a&&!s["!data"][l]&&(s["!data"][l]=[]),i)for(x=0;x<g.length;++x)a?s["!data"][l][x+u]={t:"s",v:g[x]}:s[lr(x+u)+_]={t:"s",v:g[x]};return s["!ref"]=Qt(d),s}function Que(e,t){return N9(null,e,t)}function tp(e,t,r){if(typeof t=="string"){if(e["!data"]!=null){var n=Ua(t);return e["!data"][n.r]||(e["!data"][n.r]=[]),e["!data"][n.r][n.c]||(e["!data"][n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?tp(e,or(t)):tp(e,lr(r||0)+_r(t))}function Zue(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function OC(e,t){var r={SheetNames:[],Sheets:{}};return e&&Np(r,e,t||"Sheet1"),r}function Np(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0&&r.length<32){var i=r.match(/\d+$/);a=i&&+i[0]||0;var s=i&&r.slice(0,i.index)||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Ice(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Jue(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Zue(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function e0e(e,t){return e.z=t,e}function I9(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function t0e(e,t,r){return I9(e,"#"+t,r)}function r0e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function n0e(e,t,r,n){for(var a=typeof t!="string"?t:Tn(t),i=typeof t=="string"?t:Qt(t),s=a.s.r;s<=a.e.r;++s)for(var l=a.s.c;l<=a.e.c;++l){var u=tp(e,s,l);u.t="n",u.F=i,delete u.v,s==a.s.r&&l==a.s.c&&(u.f=r,n&&(u.D=!0))}var f=e0(e["!ref"]);return f.s.r>a.s.r&&(f.s.r=a.s.r),f.s.c>a.s.c&&(f.s.c=a.s.c),f.e.r<a.e.r&&(f.e.r=a.e.r),f.e.c<a.e.c&&(f.e.c=a.e.c),e["!ref"]=Qt(f),e}var P9={encode_col:lr,encode_row:_r,encode_cell:or,encode_range:Qt,decode_col:yC,decode_row:vC,split_cell:gne,decode_cell:Ua,decode_range:e0,format_cell:_c,sheet_new:vne,sheet_add_aoa:RM,sheet_add_json:N9,sheet_add_dom:E9,aoa_to_sheet:qf,json_to_sheet:Que,table_to_sheet:S9,table_to_book:xue,sheet_to_csv:j9,sheet_to_txt:Xue,sheet_to_json:iS,sheet_to_html:gue,sheet_to_formulae:Yue,sheet_to_row_object_array:iS,sheet_get_cell:tp,book_new:OC,book_append_sheet:Np,book_set_sheet_visibility:Jue,cell_set_number_format:e0e,cell_set_hyperlink:I9,cell_set_internal_link:t0e,cell_add_comment:r0e,sheet_set_array_formula:n0e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const jC=e=>{const{onDataLoaded:t,buttonText:r="Importar Excel",templateName:n="datos"}=e,{alert:a}=qn(),i=T.useRef(null),[s,l]=T.useState(!1),u=()=>{i.current.click()},f=async m=>{const g=m.target.files[0];if(g){l(!0);try{const x=await d(g);t(x),m.target.value=""}catch(x){console.error(`Error importando ${n}:`,x),await a({title:`Error Importando ${n}`,message:`Error al leer el archivo excel: ${x.message}`})}finally{l(!1)}}},d=m=>new Promise((g,x)=>{const b=new FileReader;b.onload=_=>{try{const y=_.target.result,w=Su(y,{type:"binary"}),C=w.SheetNames[0],A=w.Sheets[C],O=e.sheetToJsonOptions||{},F=P9.sheet_to_json(A,O);g(F)}catch(y){x(y)}},b.onerror=_=>x(_),b.readAsBinaryString(m)});return h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:f,ref:i,style:{display:"none"}}),h.jsxs("button",{onClick:u,className:"glass-button accent flex items-center gap-2",disabled:s,children:[s?h.jsx(hG,{size:18,className:"animate-spin"}):h.jsx(zR,{size:18}),s?"Leyendo...":r]})]})},a0e={soups:["dental","crema dental","pasta dental","colgate","cepillo","aseo","limpieza","jabon","alfajores","miel","flores","calamares","viveres","polar","cerveza","licor","postres"],pasta:["dental","crema dental","pasta dental","cepillo"],desserts:["dental","crema dental","sopa","caldo","pollo","carne"],drinks:["crema","sopa","caldo","pollo","carne","galleta","desodorante","jabon","shampoo","perfume","limpieza","aseo","pasta","viveres"],cheeses:["bollo","bollito","casabe","arepa","empanada","cachapa","tequeo","pastelito"]},i0e=["cola","soda","te","cafe","ice","res","pan","ron","gin","pez","sal"],s0e=(e,t)=>{const r=Vv(e);return(a0e[t]||[]).some(a=>{const i=Vv(a);return r.includes(i)})},Vv=e=>{if(!e)return"";let t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return t=t.toLowerCase(),t=t.replace(/[^a-z0-9\s]/g," "),t.trim().replace(/\s+/g," ")},o0e=(e,t)=>{const r=Vv(e),n=r.split(" ");let a=0;return!t||t.length===0||!r?0:(t.forEach((i,s)=>{const l=Vv(i);if(!l)return;const u=r===l,f=n.includes(l),d=r.startsWith(l+" "),m=i0e.includes(l),g=!m&&l.length>=5&&r.includes(l);if(u||f||d||g){let x=5;if(m&&!u&&!f&&!d)return;u?x+=60:f?x+=30:d?x+=20:g&&(x+=5),r.indexOf(l)===0&&(x+=15);const b=Math.min(s*.3,3);x-=b,a+=x}}),a)},j_=(e,t)=>{if(!e||!t||t.length===0)return null;let r=null,n=0;if(t.forEach(i=>{if(s0e(e,i.id))return;const s=o0e(e,i.keywords||[]);s>n&&(n=s,r=i)}),n<5)return null;let a="low";return n>=30?a="high":n>=10&&(a="medium"),{...r,confidence:a,score:n}},l0e=({compact:e=!1})=>{const{data:t,updateData:r}=ea(),{confirm:n,alert:a}=qn(),i=[{id:"burgers",label:"Hamburguesas",keywords:["hamburguesa","burger","carne","doble","triple","bacon","queso","bbq","angus","wagyu","cheeseburger"]},{id:"cheeses",label:"Quesos",keywords:["queso","cheese","cheddar","mozzarella","parmesano","gouda","mano","telita","guayanes","fundido","gratinado"]},{id:"drinks",label:"Bebidas",keywords:["bebida","refresco","jugo","agua","energizante","cola","pepsi","fanta","sprite","malta","te","cafe","limonada","naranja","manzana","batido","smoothie","soda","polar","tercio","cerveza","licor"]},{id:"sides",label:"Contornos",keywords:["contorno","papas","fritas","yuca","aros","cebolla","pure","arroz","platano","tostones","tajadas","arepas"]},{id:"soups",label:"Sopas",keywords:["sopa","caldo","consom","crema","sancocho","mondongo","hervido","fosforera","pollo","res","gallina","pescado","mariscos","asopado"]},{id:"pasta",label:"Pasta",keywords:["pasta","espagueti","spaghetti","fettuccine","lasagna","ravioli","macarrones","penne","tallarines","carbonara","bolognesa","alfredo"]},{id:"comida",label:"Comida",keywords:["pollo","carne","pescado","cerdo","cochino","chuleta","asado","guisado","frito","parrilla","plancha","brasa","filete","lomo","costilla","pechuga","bollo","bollito","cachapa","calamares"]},{id:"desserts",label:"Postres",keywords:["postre","dulce","helado","torta","pastel","cake","flan","gelatina","brownie","pie","mousse","quesillo","tres leches","marquesa","tiramisu","alfajores","miel"]},{id:"salads",label:"Ensaladas",keywords:["ensalada","verde","cesar","mixta","lechuga","tomate","vegetales","verduras","fresca"]},{id:"snacks",label:"Snacks",keywords:["snack","aperitivo","tequeo","empanada","pastelito","arepa","deditos","nuggets","alitas","wings","nachos"]}],s=async()=>{if(!await n({title:"Restaurar Categoras",message:`Restaurar categoras por defecto?

Esto agregar las categoras que faltan sin eliminar las existentes.`}))return;const d=t.categories||[],m=new Set(d.map(b=>b.id)),g=i.filter(b=>!m.has(b.id));if(g.length===0){await a({title:"Aviso",message:" Ya tienes todas las categoras por defecto"});return}const x=[...d,...g];r("categories",x),await a({title:"Restauracin Completada",message:`Categoras agregadas: ${g.length}
Total de categoras: ${x.length}`})},l=t.categories?.length||0,u=i.filter(f=>!(t.categories||[]).find(d=>d.id===f.id)).length;return e?u===0?null:h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem",background:"rgba(255, 165, 0, 0.1)",border:"1px dashed rgba(255, 165, 0, 0.3)",borderRadius:"8px",marginBottom:"1rem"},children:[h.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--accent-orange)"},children:["Faltan ",h.jsx("strong",{children:u})," categoras sugeridas"]}),h.jsx("button",{className:"glass-button",onClick:s,style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",height:"auto"},children:"Restaurar"})]}):h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255, 165, 0, 0.05)",border:"1px solid rgba(255, 165, 0, 0.2)",marginBottom:"1rem"},children:[h.jsx("h3",{style:{color:"var(--accent-orange)",marginBottom:"0.75rem",fontSize:"0.95rem"},children:" Utilidad de Categoras"}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:[h.jsxs("p",{style:{margin:"0 0 0.5rem 0"},children:["Categoras actuales: ",h.jsx("strong",{children:l})]}),u>0&&h.jsxs("p",{style:{margin:0,color:"var(--accent-orange)"},children:["Categoras por defecto faltantes: ",h.jsx("strong",{children:u})]}),u===0&&h.jsx("p",{style:{margin:0,color:"var(--accent-green)"},children:" Todas las categoras por defecto estn presentes"})]}),u>0&&h.jsx("button",{className:"glass-button primary",onClick:s,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:"Restaurar Categoras Por Defecto"})]})]})},c0e=()=>{const{data:e,addItem:t,updateItem:r,deleteItem:n}=ea(),{confirm:a,alert:i}=qn(),[s,l]=T.useState(!1),[u,f]=T.useState(null),[d,m]=T.useState(""),[g,x]=T.useState({label:"",keywords:[],department:"Restaurante"}),b=k=>{f(k),x({label:k.label,keywords:k.keywords||[],department:k.department||"Restaurante"}),l(!0)},_=async k=>{const R=(e.products||[]).filter(I=>I.category===k);R.length>0&&!await a({title:"Eliminar Categora",message:` Esta categora tiene ${R.length} producto(s) asignado(s).

Al eliminarla, los productos quedarn sin categora.

Deseas continuar?`})||n("categories",k)},y=async()=>{if(!g.label.trim())return await i({title:"Campo requerido",message:"El nombre de la categora es obligatorio"});if(g.keywords.length===0)return await i({title:"Accin requerida",message:"Agrega al menos una palabra clave para las sugerencias inteligentes"});const k={label:g.label.trim(),keywords:g.keywords,department:g.department,id:u?.id||g.label.toLowerCase().replace(/\s+/g,"_")};if(u)r("categories",u.id,k);else{if((e.categories||[]).find(I=>I.id===k.id))return await i({title:"Nombre duplicado",message:"Ya existe una categora con ese nombre"});t("categories",k)}l(!1),w()},w=()=>{f(null),x({label:"",keywords:[],department:"Restaurante"}),m("")},C=()=>{const k=d.trim().toLowerCase();if(k){if(g.keywords.includes(k)){i({title:"Duplicado",message:"Esta palabra clave ya existe"});return}x({...g,keywords:[...g.keywords,k]}),m("")}},A=k=>{x({...g,keywords:g.keywords.filter(R=>R!==k)})},O=k=>{k.key==="Enter"&&(k.preventDefault(),C())},F=k=>(e.products||[]).filter(R=>R.category===k).length,M=[{header:"Nombre",accessor:"label",render:k=>h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(_E,{size:18,color:"var(--accent-cyan)"}),h.jsx("span",{style:{fontWeight:"bold"},children:k.label})]})},{header:"Departamento",accessor:"department",render:k=>h.jsx("span",{style:{fontSize:"0.75rem",padding:"0.2rem 0.5rem",borderRadius:"4px",background:k.department==="Quesera"?"rgba(241, 196, 15, 0.1)":"rgba(255, 165, 0, 0.1)",color:k.department==="Quesera"?"#f1c40f":"var(--accent-orange)",border:k.department==="Quesera"?"1px solid #f1c40f44":"1px solid #ffa50044",fontWeight:"bold"},children:k.department||"Restaurante"})},{header:"Palabras Clave",accessor:"keywords",render:k=>h.jsxs("div",{style:{display:"flex",gap:"0.25rem",flexWrap:"wrap"},children:[(k.keywords||[]).slice(0,5).map((R,I)=>h.jsx("span",{style:{background:"rgba(0, 200, 255, 0.15)",padding:"0.15rem 0.4rem",borderRadius:"8px",fontSize:"0.75rem",border:"1px solid rgba(0, 200, 255, 0.3)",color:"var(--accent-cyan)"},children:R},I)),k.keywords&&k.keywords.length>5&&h.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["+",k.keywords.length-5," ms"]})]})},{header:"Productos",accessor:"id",render:k=>{const R=F(k.id);return h.jsx("span",{style:{fontWeight:"bold",color:R>0?"var(--accent-green)":"var(--text-secondary)"},children:R})}}],j=k=>h.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},onClick:()=>b(k),title:"Editar",children:h.jsx(bp,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-red)"},onClick:()=>_(k.id),title:"Eliminar",children:h.jsx(Ha,{size:16})})]});return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[h.jsx("h1",{style:{fontSize:"1.5rem",margin:0},children:"Categoras"}),h.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"Gestin y Clasificacin"})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total"}),h.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:e.categories?.length||0})]}),h.jsx(_E,{size:18,color:"var(--accent-cyan)",style:{opacity:.5}})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Keywords"}),h.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"var(--accent-purple)"},children:(e.categories||[]).reduce((k,R)=>k+(R.keywords?.length||0),0)})]}),h.jsx(bD,{size:18,color:"var(--accent-purple)",style:{opacity:.5}})]}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem"},onClick:()=>{w(),l(!0)},children:[h.jsx(fs,{size:18}),"Nueva"]})]})]}),h.jsx("div",{style:{fontSize:"0.85rem"},children:h.jsx(l0e,{compact:!0})}),h.jsx("div",{style:{flex:1,overflow:"hidden"},children:h.jsx(Hf,{columns:M,data:e.categories||[],actions:j})}),h.jsx(br,{isOpen:s,onClose:()=>l(!1),title:u?"Editar Categora":"Nueva Categora",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nombre de la Categora"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej. Bebidas, Postres, etc.",value:g.label,onChange:k=>x({...g,label:k.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Departamento Responsable"}),h.jsxs("select",{className:"glass-input",value:g.department,onChange:k=>x({...g,department:k.target.value}),children:[h.jsx("option",{value:"Restaurante",children:"Restaurante (Comida/Bebida)"}),h.jsx("option",{value:"Quesera",children:"Quesera (Quesos/Lcteos)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Palabras Clave (para sugerencias inteligentes)"}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej. refresco, jugo, cola...",style:{flex:1},value:d,onChange:k=>m(k.target.value),onKeyPress:O}),h.jsxs("button",{className:"glass-button primary",onClick:C,style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[h.jsx(fs,{size:16}),"Agregar"]})]}),h.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",padding:"0.75rem",background:"rgba(255,255,255,0.03)",borderRadius:"8px",minHeight:"3rem",border:"1px dashed rgba(255,255,255,0.1)"},children:g.keywords.length===0?h.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Sin palabras clave. Agrega al menos una."}):g.keywords.map((k,R)=>h.jsxs("span",{style:{background:"rgba(0, 200, 255, 0.2)",padding:"0.35rem 0.6rem",borderRadius:"12px",fontSize:"0.85rem",border:"1px solid rgba(0, 200, 255, 0.4)",color:"var(--accent-cyan)",display:"flex",alignItems:"center",gap:"0.35rem",cursor:"pointer",transition:"all 0.2s"},onClick:()=>A(k),title:"Clic para eliminar",children:[h.jsx(bD,{size:12}),k,h.jsx(Fs,{size:14})]},R))}),h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:" Presiona Enter o haz clic en Agregar. Clic en una palabra clave para eliminarla."})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:y,children:u?"Actualizar Categora":"Guardar Categora"})]})})]})},u0e=()=>{const{data:e,addItem:t,updateItem:r,deleteItem:n,updateData:a,uploadToDrive:i}=ea(),{confirm:s,alert:l}=qn(),[u,f]=T.useState(!1),[d,m]=T.useState(null),[g,x]=T.useState(null),[b,_]=T.useState(!1),[y,w]=T.useState(""),[C,A]=T.useState(!1),[O,F]=T.useState("products"),[M,j]=T.useState(window.innerWidth<=768);T.useEffect(()=>{const q=()=>j(window.innerWidth<=768);return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const[k,R]=T.useState({name:"",price:"",costPrice:"",stock:"",category:"",supplierId:"",image:"",showInPOS:!0,isFavorite:!1}),[I,P]=T.useState(null),[N,B]=T.useState(!1),oe=q=>{m(q),R({name:q.name,price:q.price,costPrice:q.costPrice||"",stock:q.stock!==void 0?q.stock:"",category:q.category,supplierId:q.supplierId||"",image:q.image||"",showInPOS:q.showInPOS!==void 0?q.showInPOS:!0,isFavorite:q.isFavorite||!1}),P(null),f(!0)},he=async q=>{await s({title:"Eliminar Producto",message:"Ests seguro de eliminar este producto? Se borrar del POS inmediatamente."})&&n("products",q)},ne=async()=>{await s({title:" PELIGRO: Borrar Todo",message:`Ests seguro de que quieres BORRAR TODOS los productos?

Esta accin eliminar todo el inventario de productos permanentemente y no se puede deshacer.`})&&await s({title:"Confirmacin Final",message:"Realmente deseas vaciar la lista de productos?"})&&a("products",[])},de=async()=>{if(!k.name||!k.price)return await l({title:"Campos requeridos",message:"Nombre y Precio son obligatorios"});let q=k.image;if(g){_(!0);let me;try{me=await i(g,"ERP La Autentica","Fotos Productos")}catch(ve){console.error("Product upload error:",ve),await l({title:"Error de Red",message:"No se pudo subir la foto a Drive."})}finally{_(!1)}if(me&&me.webViewLink)q=me.webViewLink;else if(!await s({title:"Error de carga",message:"No se pudo subir la foto. Deseas guardar sin actualizar la foto?"}))return}const se={name:k.name,price:parseFloat(k.price),costPrice:k.costPrice?parseFloat(k.costPrice):0,stock:k.stock?parseInt(k.stock):0,category:k.category,supplierId:k.supplierId||null,showInPOS:k.showInPOS,isFavorite:k.isFavorite,image:q};d?r("products",d.id,se):t("products",se),f(!1),be()};T.useEffect(()=>{if(k.name&&(e.categories||[]).length>0){const q=j_(k.name,e.categories);P(q);const se=setTimeout(()=>{q&&q.confidence!=="low"&&(!k.category||k.category==="")&&R(me=>({...me,category:q.id}))},1e3);return()=>clearTimeout(se)}else P(null)},[k.name,e.categories,k.category]);const be=()=>{m(null),R({name:"",price:"",costPrice:"",stock:"",category:"",image:"",showInPOS:!0,isFavorite:!1}),x(null),P(null)},we=async()=>{const q=(e.products||[]).length;if(q===0)return await l({title:"Aviso",message:"No hay productos para categorizar."});const se=(e.products||[]).filter(pe=>!pe.category),ve=await s({title:"Limpieza de Categoras",message:`Qu deseas hacer?

1. Categorizar solo los ${se.length} productos SIN categora.
2. Re-evaluar los ${q} productos (Corrige errores previos).`,confirmLabel:"Re-evaluar TODO",cancelLabel:"Solo sin categora"});if((ve?e.products:se).length===0)return;let G=0,ee=0;const ae=e.products.map(pe=>{if(!(ve||!pe.category))return pe;const je=j_(pe.name,e.categories);if(je&&je.confidence!=="low"){if(pe.category!==je.id)return pe.category?ee++:G++,{...pe,category:je.id}}else if(ve&&pe.category)return ee++,{...pe,category:""};return pe});G>0||ee>0?(a("products",ae),setTimeout(()=>{l({title:"Limpieza Completada",message:` Proceso finalizado:

- Nuevas categoras: ${G}
- Errores corregidos/limpiados: ${ee}

Productos como Aceite y Galletas deberan haberse movido a sus nuevas secciones.

**IMPORTANTE:** Si todava ves productos mal ubicados en el POS, por favor recarga la pgina (F5).`})},500)):await l({title:"Aviso",message:"No se encontraron cambios necesarios con las reglas actuales."})},ue=async q=>{let se=0,me=0;const ve=[...e.products||[]];let H=!1;for(const G of q){let ee=G.A,ae=G.B,pe=G.K,X=G.N;if(!ae&&ee&&String(ee).length>3&&(ae=ee),!ae)continue;let je=String(ae).trim();if(je==="Nombre"||je==="NOMBRE"||["Periodo Mensual","Existencia Inicial","Ordenes de","Facturas Ventas","Notas de","Recep. de","Existencia Final","Total"].some(ce=>je.includes(ce))||/^\d+$/.test(je))continue;let Be=je.replace(/^[+\-*]\s*/,"").trim();if(!Be)continue;const Ke=ce=>{if(typeof ce=="number")return ce;if(typeof ce=="string"){let Se=ce.replace(/[^\d,.-]/g,"");return Se=Se.replace(",","."),parseFloat(Se)||0}return 0};let Je=Ke(X);Je===0&&G.O&&(Je=Ke(G.O));const et=Ke(pe);let st="";if(e.categories&&e.categories.length>0){const ce=j_(Be,e.categories);ce&&ce.confidence!=="low"&&(st=ce.id,me++)}const rt=ve.findIndex(ce=>ce.name.toLowerCase()===Be.toLowerCase());rt>=0?ve[rt]={...ve[rt],price:Je,costPrice:et,category:st||ve[rt].category,showInPOS:!0}:ve.push({id:XB(),name:Be,price:Je,costPrice:et,stock:0,category:st,image:"",showInPOS:!0}),se++,H=!0}if(H&&a("products",ve),B(!1),se===0){const G=q.find(ee=>ee.B&&String(ee.B).length>3)||q[0];await l({title:"Importacin Fallida",message:` No se importaron productos.

Depuracin (Fila Ejemplo): ${JSON.stringify(G)}

El sistema busc el nombre en la Columna B y el precio en la Columna N.`})}else await l({title:"Importacin Exitosa",message:` Importacin completada

Productos procesados: ${se} 
Categorizados automticamente: ${me}`})},U=(e.products||[]).filter(q=>q.name.toLowerCase().includes(y.toLowerCase())||q.category.toLowerCase().includes(y.toLowerCase())),Y=[{header:"",accessor:"isFavorite",width:"40px",render:q=>h.jsx("button",{onClick:se=>{se.stopPropagation(),r("products",q.id,{...q,isFavorite:!q.isFavorite})},style:{background:"transparent",border:"none",cursor:"pointer",color:q.isFavorite?"#fb923c":"rgba(255,255,255,0.2)",transition:"all 0.2s",padding:"4px"},className:"hover-scale",children:h.jsx(lx,{size:18,fill:q.isFavorite?"#fb923c":"none"})})},{header:"Imagen",accessor:"image",render:q=>h.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"8px",overflow:"hidden",background:"#333"},children:q.image?h.jsx("img",{src:q.image,alt:q.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):h.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},children:h.jsx(lv,{size:20})})})},{header:"Nombre",accessor:"name"},{header:"Categora",accessor:"category",render:q=>h.jsx("span",{style:{background:"rgba(255,255,255,0.1)",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.85rem"},children:(e.categories||[]).find(se=>se.id===q.category)?.label||q.category})},{header:"Proveedor",accessor:"supplierId",render:q=>{const se=(e.suppliers||[]).find(me=>me.id===q.supplierId);return h.jsx("span",{style:{color:se?"var(--text-primary)":"var(--text-secondary)",fontSize:"0.85rem",fontStyle:se?"normal":"italic"},children:se?se.name:"Sin asignar"})}},{header:"Precio Venta",accessor:"price",render:q=>h.jsxs("span",{style:{color:"var(--accent-green)",fontWeight:"bold",fontSize:"1.05rem"},children:["$",q.price.toFixed(2)]})},{header:"Precio Costo",accessor:"costPrice",render:q=>{const se=q.costPrice||0,me=q.price-se,ve=se>0?(me/se*100).toFixed(0):0;return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[h.jsxs("span",{style:{color:"var(--text-secondary)"},children:["$",se.toFixed(2)]}),se>0&&h.jsxs("span",{style:{fontSize:"0.7rem",color:me>0?"var(--accent-green)":"var(--accent-red)"},children:["+",ve,"%"]})]})}},{header:"Cantidad",accessor:"stock",render:q=>{const se=q.stock!==void 0?q.stock:0,me=se<10,ve=se===0;return h.jsxs("span",{style:{color:ve?"var(--accent-red)":me?"var(--accent-orange)":"var(--text-primary)",fontWeight:ve||me?"bold":"normal"},children:[se," ",ve?"":me?"":""]})}},{header:"Tipo",accessor:"showInPOS",render:q=>{const se=q.showInPOS!==void 0?q.showInPOS:!0;return h.jsx("span",{style:{background:se?"rgba(0, 255, 0, 0.1)":"rgba(255, 165, 0, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",border:`1px solid ${se?"rgba(0, 255, 0, 0.3)":"rgba(255, 165, 0, 0.3)"}`,color:se?"var(--accent-green)":"var(--accent-orange)"},children:se?" Venta POS":" Materia Prima"})}}],Z=q=>h.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},onClick:()=>oe(q),title:"Editar",children:h.jsx(bp,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},onClick:()=>he(q.id),title:"Eliminar",children:h.jsx(Ha,{size:16})})]});return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:M?"0.75rem":"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:M?"column":"row",gap:"0.75rem",alignItems:M?"stretch":"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[h.jsx("div",{style:{display:"flex",justifyContent:M?"center":"flex-start"},children:h.jsxs("div",{className:"glass-panel",style:{padding:"0.25rem",display:"flex",flexDirection:"row",gap:"0.25rem",borderRadius:"10px",background:"rgba(0,0,0,0.2)"},children:[h.jsxs("button",{className:`glass-button ${O==="products"?"primary":""}`,onClick:()=>F("products"),style:{padding:"0.4rem 0.75rem",fontSize:"0.85rem",borderRadius:"8px",height:"32px"},children:[h.jsx($R,{size:14,style:{marginRight:"0.4rem"}}),"Prod."]}),h.jsxs("button",{className:`glass-button ${O==="categories"?"primary":""}`,onClick:()=>F("categories"),style:{padding:"0.4rem 0.75rem",fontSize:"0.85rem",borderRadius:"8px",height:"32px"},children:[h.jsx(Eg,{size:14,style:{marginRight:"0.4rem"}}),"Cat."]})]})}),O==="products"&&h.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center"},children:C?h.jsxs("div",{className:"glass-panel",style:{padding:"0.25rem 0.75rem",display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem",borderRadius:"20px",background:"rgba(0,0,0,0.4)",border:"1px solid var(--accent-blue)",width:"100%",maxWidth:"400px"},children:[h.jsx(Ou,{size:16,className:"text-blue-400"}),h.jsx("input",{type:"text",autoFocus:!0,className:"bg-transparent border-none text-white placeholder-gray-400 w-full focus:outline-none text-sm",placeholder:"Buscar...",value:y,onChange:q=>w(q.target.value),onBlur:()=>!y&&A(!1)}),h.jsx("button",{onClick:()=>{w(""),A(!1)},className:"p-1 hover:text-white text-gray-400",children:h.jsx(Fs,{size:14})})]}):M?null:h.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center",fontSize:"0.9rem",color:"var(--text-secondary)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx("span",{children:"Total:"}),h.jsx("span",{style:{color:"white",fontWeight:"bold"},children:e.products?.length||0})]}),h.jsx("div",{style:{width:"1px",height:"16px",background:"rgba(255,255,255,0.1)"}}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx("span",{children:"Valor:"}),h.jsxs("span",{style:{color:"var(--accent-green)",fontWeight:"bold"},children:["$",(e.products||[]).reduce((q,se)=>q+se.price,0).toFixed(2)]})]})]})}),O==="products"&&h.jsxs("div",{style:{display:"flex",gap:"0.4rem",justifyContent:M?"space-between":"flex-end"},children:[M&&!C&&h.jsxs("div",{style:{display:"flex",gap:"0.4rem",alignItems:"center",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[h.jsx("span",{style:{color:"white"},children:e.products?.length||0})," Prod."]}),h.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[!C&&h.jsx("button",{className:"glass-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",height:"32px"},onClick:()=>A(!0),title:"Buscar",children:h.jsx(Ou,{size:16})}),h.jsxs("button",{className:"glass-button primary",style:{padding:"0.4rem 0.8rem",fontSize:"0.85rem",height:"32px"},onClick:()=>{be(),f(!0)},children:[h.jsx(fs,{size:16,style:{marginRight:M?0:"0.4rem"}}),!M&&"Nuevo Producto"]}),h.jsx("button",{className:"glass-button",style:{padding:"0.4rem 0.6rem",height:"32px",color:"var(--accent-purple)"},onClick:we,title:"Categorizacin Inteligente Masiva",children:h.jsx(Eg,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.4rem 0.6rem",height:"32px"},onClick:()=>B(!0),title:"Importar Excel",children:h.jsx(vA,{size:16})}),h.jsx("button",{className:"glass-button",onClick:ne,title:"Borrar Todo",style:{padding:"0.4rem 0.6rem",height:"32px",color:"var(--accent-red)"},children:h.jsx(Ha,{size:16})})]})]})]}),O==="categories"?h.jsx(c0e,{}):h.jsxs(h.Fragment,{children:[h.jsx(Hf,{columns:Y,data:U,actions:Z}),h.jsx(br,{isOpen:u,onClose:()=>f(!1),title:d?"Editar Producto":"Nuevo Producto",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nombre del Producto"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej. Hamburguesa Doble",value:k.name,onChange:q=>R({...k,name:q.target.value})})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",gridColumn:"1 / -1"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Precio de Costo *"}),h.jsx("input",{type:"number",step:"0.01",className:"glass-input",placeholder:"0.00",value:k.costPrice,onChange:q=>R({...k,costPrice:q.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Precio de Venta * (POS)"}),h.jsx("input",{type:"number",step:"0.01",className:"glass-input",placeholder:"0.00",value:k.price,onChange:q=>R({...k,price:q.target.value}),required:!0})]})]}),k.costPrice&&k.price&&parseFloat(k.costPrice)>0&&h.jsx("div",{className:"glass-panel",style:{gridColumn:"1 / -1",padding:"0.75rem",background:"rgba(0, 255, 0, 0.05)",border:"1px solid rgba(0, 255, 0, 0.2)"},children:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[h.jsx("span",{children:"Margen de Ganancia:"}),h.jsxs("strong",{style:{color:"var(--accent-green)"},children:["$",(parseFloat(k.price)-parseFloat(k.costPrice)).toFixed(2),"(",((parseFloat(k.price)-parseFloat(k.costPrice))/parseFloat(k.costPrice)*100).toFixed(0),"%)"]})]})}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Cantidad Disponible (Stock)"}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"0",value:k.stock,onChange:q=>R({...k,stock:q.target.value})}),h.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:"0.25rem",display:"block"},children:"Inventario actual del producto"})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Categora"}),I&&I.confidence!=="low"&&k.category!==I.id&&h.jsxs("div",{onClick:()=>R(q=>({...q,category:I.id})),style:{background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.3)",padding:"0.4rem 0.6rem",borderRadius:"8px",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",transition:"all 0.2s"},className:"hover-scale",children:[h.jsx(Eg,{size:14,color:"rgb(168, 85, 247)"}),h.jsxs("span",{style:{fontSize:"0.75rem",color:"rgb(168, 85, 247)"},children:[h.jsx("strong",{children:"Sugerencia:"})," ",I.label]}),h.jsxs("span",{style:{fontSize:"0.65rem",marginLeft:"auto",opacity:.7},children:["Confianza: ",I.confidence==="high"?" Alta":" Media"]})]}),h.jsxs("select",{className:"glass-input",value:k.category,onChange:q=>R({...k,category:q.target.value}),children:[h.jsx("option",{value:"",children:"-- Seleccionar --"}),(e.categories||[]).map(q=>h.jsx("option",{value:q.id,children:q.label},q.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Proveedor"}),h.jsxs("select",{className:"glass-input",value:k.supplierId,onChange:q=>R({...k,supplierId:q.target.value}),children:[h.jsx("option",{value:"",children:"-- Seleccionar Proveedor --"}),(e.suppliers||[]).sort((q,se)=>q.name.localeCompare(se.name)).map(q=>h.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Imagen"}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",overflow:"hidden",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center"},children:g||k.image?h.jsx("img",{src:g?URL.createObjectURL(g):k.image,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):h.jsx(lv,{size:24,color:"var(--text-secondary)"})}),h.jsxs("label",{className:"glass-button",style:{cursor:"pointer",flex:1,textAlign:"center"},children:[g?"Cambiar Foto":"Subir Foto",h.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:q=>x(q.target.files[0])})]})]}),h.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:"La foto se subir automticamente a Google Drive."})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255, 165, 0, 0.05)",border:"1px solid rgba(255, 165, 0, 0.2)"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.75rem",color:"var(--accent-orange)",fontWeight:"bold",fontSize:"0.9rem"},children:"Tipo de Producto"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",background:k.showInPOS?"rgba(0, 255, 0, 0.1)":"rgba(255,255,255,0.03)",borderRadius:"8px",border:`2px solid ${k.showInPOS?"var(--accent-green)":"rgba(255,255,255,0.1)"} `,transition:"all 0.2s"},children:[h.jsx("input",{type:"radio",name:"productType",checked:k.showInPOS,onChange:()=>R({...k,showInPOS:!0}),style:{width:"18px",height:"18px"}}),h.jsxs("div",{style:{flex:1},children:[h.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:" Producto de Venta"}),h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Se muestra en el POS y se puede vender directamente"})]})]}),h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",background:k.showInPOS?"rgba(255,255,255,0.03)":"rgba(255, 165, 0, 0.1)",borderRadius:"8px",border:`2px solid ${k.showInPOS?"rgba(255,255,255,0.1)":"var(--accent-orange)"} `,transition:"all 0.2s"},children:[h.jsx("input",{type:"radio",name:"productType",checked:!k.showInPOS,onChange:()=>R({...k,showInPOS:!1}),style:{width:"18px",height:"18px"}}),h.jsxs("div",{style:{flex:1},children:[h.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:" Materia Prima"}),h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Solo para inventario interno, no aparecer en el POS"})]})]}),h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",padding:"0.75rem",background:k.isFavorite?"rgba(251, 146, 60, 0.1)":"rgba(255,255,255,0.03)",borderRadius:"8px",border:`2px solid ${k.isFavorite?"#ea580c":"rgba(255,255,255,0.1)"} `,transition:"all 0.2s",marginTop:"0.5rem"},children:[h.jsx("input",{type:"checkbox",checked:k.isFavorite,onChange:q=>R({...k,isFavorite:q.target.checked}),style:{width:"18px",height:"18px"}}),h.jsxs("div",{style:{flex:1},children:[h.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:" Acceso Rpido (Favorito)"}),h.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Aparecer en la pantalla principal del POS para carga ultra-rpida"})]})]})]})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:de,disabled:b,children:b?"Subiendo...":d?"Actualizar Producto":"Guardar Producto"})]})}),h.jsx(br,{isOpen:N,onClose:()=>B(!1),title:"Importar Productos desde Excel",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0, 200, 255, 0.05)",border:"1px solid rgba(0, 200, 255, 0.2)"},children:[h.jsx("h3",{style:{color:"var(--accent-cyan)",marginBottom:"0.5rem",fontSize:"0.9rem"},children:" Formato del Excel"}),h.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"El archivo debe tener las siguientes columnas:"}),h.jsxs("ul",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",paddingLeft:"1.5rem",margin:0},children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Nombre"})," (obligatorio)"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Precio"})," (obligatorio, nmero)"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Categora"})," (opcional - se sugerir automticamente si est vaco)"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Imagen"})," (opcional, URL)"]})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[h.jsx(Eg,{size:16,color:"rgb(168, 85, 247)"}),h.jsx("h3",{style:{color:"rgb(168, 85, 247)",fontSize:"0.9rem",margin:0},children:"Categorizacin Inteligente"})]}),h.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",margin:0},children:'Si un producto no tiene categora, el sistema la sugerir automticamente segn su nombre. Ejemplo: "Coca-Cola"  Bebidas, "Hamburguesa Doble"  Hamburguesas'})]}),h.jsx(jC,{buttonText:"Seleccionar Archivo Excel",templateName:"productos",sheetToJsonOptions:{header:"A",defval:""},onDataLoaded:ue})]})})]})]})},f0e=()=>{const{data:e,addItem:t,deleteItem:r,distributeTips:n,updateItem:a,uploadToDrive:i}=ea();e.personnel;const{confirm:s,alert:l}=qn(),[u,f]=T.useState(window.innerWidth<=768);gr.useEffect(()=>{const ue=()=>f(window.innerWidth<=768);return window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]);const[d,m]=T.useState(!1),[g,x]=T.useState(!1),[b,_]=T.useState(!1),[y,w]=T.useState(null),[C,A]=T.useState({name:"",status:"Activo",lastPayment:"N/A",salary:0,phone:"",paymentFrequency:"Mensual"}),O=async ue=>{await s({title:"Eliminar Empleado",message:"Ests seguro de eliminar a este empleado? Esta accin no se puede deshacer."})&&r("personnel",ue)},F=ue=>{A({...ue,salary:ue.salary}),w(ue.id),m(!0)},M=async()=>{if(!C.name)return await l({title:"Error",message:"El nombre es obligatorio"});const ue={...C,salary:parseFloat(C.salary)||0};y?a("personnel",y,ue):t("personnel",ue),m(!1),w(null),A({name:"",status:"Activo",lastPayment:"N/A",salary:0,phone:"",paymentFrequency:"Mensual"})},j=[{header:"Empleado",accessor:"name"},{header:"Estado",accessor:"status",render:ue=>h.jsx("span",{style:{color:ue.status==="Activo"?"var(--accent-green)":"red"},children:ue.status})},{header:"Salario",accessor:"salary",render:ue=>`${ue.salary} Bs`},{header:"Frecuencia",accessor:"paymentFrequency"},{header:"ltimo Pago",accessor:"lastPayment"}],k=ue=>h.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},title:"Ver Expediente",children:h.jsx(UR,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},title:"Editar Empleado",onClick:()=>F(ue),children:h.jsx("div",{style:{width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})}),h.jsx("button",{className:"glass-button accent",style:{padding:"0.5rem"},title:"Pagar Nmina",onClick:()=>de(ue),children:h.jsx(gh,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-red)"},title:"Eliminar / Despido",onClick:()=>O(ue.id),children:h.jsx(Ha,{size:16})})]}),[R,I]=T.useState(!1),[P,N]=T.useState(null),[B,oe]=T.useState(null),[he,ne]=T.useState(!1),de=ue=>{N(ue),oe(null),I(!0)},be=async()=>{if(!P)return;const U=Date.now()+200,Y=B?URL.createObjectURL(B):null;t("expenses",{id:U,date:new Date().toISOString(),description:`Pago Nmina: ${P.name}`,category:"Nmina",amount:P.salary,method:"Caja Chica",proof:B?" Subiendo...":"N/A",localProof:Y,personnelId:P.id}),B&&(async()=>{let Z=null,q=null;try{const se=new FormData;se.append("proof",B);const me=localStorage.getItem("pos_server_url")||`${window.location.protocol}//${window.location.hostname}:3001`,H=await(await fetch(`${me}/api/upload-proof`,{method:"POST",body:se})).json();H.success&&(Z=H.url,a("expenses",U,{proof:Z}))}catch(se){console.error("Local personnel upload failed:",se)}try{const se=await i(B,"ERP La Autentica","Comprobantes Nmina");se&&se.webViewLink?(q=se.webViewLink,a("expenses",U,{proof:q})):Z||a("expenses",U,{proof:" Fall subida"})}catch(se){console.error("Cloud personnel upload failed:",se),Z||a("expenses",U,{proof:" Fall subida"})}})(),await l({title:"Pago Registrado",message:`Pago registrado para ${P.name}. Se est procesando el comprobante en segundo plano.`}),I(!1)},we=async ue=>{let U=0,Y=0;for(const Z of ue){const q=Z.A||Z[0];if(!q||q==="EMPLEADOS")continue;const se=String(q).trim();parseInt(Z.E||Z[4]),parseFloat(Z.D||Z[3]);const me=parseFloat(Z.F||Z[5])||0,ve=Z.L||Z[11]||"Pendiente";if(!se||se.length<3)continue;const H=e.personnel.find(G=>G.name.toLowerCase()===se.toLowerCase());H?(a("personnel",H.id,{...H,salary:me>0?me:H.salary,paymentFrequency:"Semanal",lastPayment:ve==="PAGADO"?new Date().toLocaleDateString():H.lastPayment}),U++):me>0&&(t("personnel",{name:se,status:"Activo",salary:me,paymentFrequency:"Semanal",lastPayment:ve==="PAGADO"?new Date().toLocaleDateString():"N/A",phone:""}),Y++)}_(!1),await l({title:"Importacin Completada",message:`Se actualizaron ${U} empleados y se crearon ${Y} nuevos.`})};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",padding:u?"1rem":"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[h.jsx("h1",{style:{fontSize:u?"1.25rem":"2rem",margin:0},children:"Personal"}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[h.jsxs("button",{className:"glass-button",style:{display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>_(!0),children:[h.jsx(vA,{size:16}),"Importar"]}),h.jsxs("button",{className:"glass-button accent",style:{display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>x(!0),children:[h.jsx(eG,{size:16}),"Propinas"]}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>m(!0),children:[h.jsx(yA,{size:16}),"Nuevo"]})]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.5rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Total Empleados"}),h.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:e.personnel.length})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem"},children:[h.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Nmina Estimada"}),h.jsxs("p",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:["$",e.personnel.reduce((ue,U)=>ue+U.salary,0).toFixed(2)]})]})]}),h.jsx(Hf,{columns:j,data:e.personnel,actions:k}),h.jsx(br,{isOpen:d,onClose:()=>{m(!1),w(null),A({name:"",status:"Activo",lastPayment:"N/A",salary:0,phone:"",paymentFrequency:"Mensual"})},title:y?"Editar Empleado":"Registrar Nuevo Empleado",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nombre Completo"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Nombre y Apellido",value:C.name,onChange:ue=>A({...C,name:ue.target.value})})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Frecuencia de Pago"}),h.jsxs("select",{className:"glass-input w-full",value:C.paymentFrequency||"Mensual",onChange:ue=>A({...C,paymentFrequency:ue.target.value}),children:[h.jsx("option",{value:"Semanal",children:"Semanal"}),h.jsx("option",{value:"Quincenal",children:"Quincenal"}),h.jsx("option",{value:"Mensual",children:"Mensual"})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Salario Base (Bs)"}),h.jsxs("div",{className:"input-group",children:[h.jsx(gh,{size:20,className:"input-icon"}),h.jsx("input",{type:"number",className:"glass-input",placeholder:"0.00",value:C.salary,onChange:ue=>A({...C,salary:parseFloat(ue.target.value)||0})})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Fecha de Ingreso"}),h.jsx("input",{type:"date",className:"glass-input"})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Estado Actual"}),h.jsxs("select",{className:"glass-input w-full",value:C.status,onChange:ue=>A({...C,status:ue.target.value}),children:[h.jsx("option",{value:"Activo",children:" Activo"}),h.jsx("option",{value:"Vacaciones",children:" Vacaciones"}),h.jsx("option",{value:"Reposo",children:"uD83CuDFE5 Reposo Mdico"}),h.jsx("option",{value:"Inactivo",children:" Inactivo"})]})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:M,children:y?"Guardar Cambios":"Guardar Empleado"})]})}),h.jsx(br,{isOpen:R,onClose:()=>I(!1),title:`Pagar Nmina: ${P?.name}`,children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255,255,255,0.05)"},children:[h.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Monto a Pagar"}),h.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:["$",P?.salary.toFixed(2)]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Comprobante de Pago (Opcional)"}),h.jsx("input",{type:"file",accept:"image/*,application/pdf",className:"glass-input",onChange:ue=>oe(ue.target.files[0])}),h.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:'Se subir automticamente a la carpeta "Comprobantes Nmina" en Drive.'})]}),h.jsxs("button",{className:"glass-button accent",style:{marginTop:"1rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},onClick:be,disabled:he,children:[he?"Subiendo...":"Registrar Pago",!he&&h.jsx(gh,{size:18})]})]})}),h.jsx(br,{isOpen:g,onClose:()=>x(!1),title:"Gestin y Reparto de Propinas",children:h.jsx(d0e,{data:e,distributeTips:n,onClose:()=>x(!1)})}),h.jsx(br,{isOpen:b,onClose:()=>_(!1),title:"Importar Nmina",children:h.jsx(jC,{onDataLoaded:we,onClose:()=>_(!1)})})]})},d0e=({data:e,distributeTips:t,onClose:r})=>{const{confirm:n,alert:a}=qn(),[i,s]=T.useState("current"),[l,u]=T.useState(null),f=(e.tipHistory||[]).reduce((d,m)=>{const g=new Date(m.timestamp).toLocaleDateString("es-ES",{weekday:"long",day:"numeric"});return d[g]=(d[g]||0)+m.amount,d},{});return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{style:{display:"flex",gap:"0.5rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem"},children:[h.jsx("button",{className:`glass-button ${i==="current"?"primary":""}`,onClick:()=>s("current"),style:{flex:1},children:"Pozo Actual"}),h.jsx("button",{className:`glass-button ${i==="history"?"primary":""}`,onClick:()=>s("history"),style:{flex:1},children:"Historial"})]}),i==="current"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",textAlign:"center",background:"rgba(255,255,255,0.05)"},children:[h.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Pozo Acumulado"}),h.jsxs("h2",{style:{fontSize:"3rem",color:"var(--accent-green)",margin:0},children:["$",(e.tips||0).toFixed(2)]}),h.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:[e.tipHistory?.length||0," transacciones registradas"]})]}),Object.keys(f).length>0&&h.jsxs("div",{className:"glass-panel",style:{padding:"1rem"},children:[h.jsx("h4",{style:{marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Desglose por Da"}),h.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:Object.entries(f).map(([d,m])=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"0.25rem"},children:[h.jsx("span",{style:{textTransform:"capitalize"},children:d}),h.jsxs("span",{style:{fontWeight:"bold"},children:["$",m.toFixed(2)]})]},d))})]}),h.jsxs("div",{children:[h.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Proyeccin de Reparto (Segn Sueldo)"}),h.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem"},children:(()=>{const d=e.personnel.reduce((g,x)=>g+(x.status==="Activo"?x.salary:0),0),m=e.tips||0;return d===0?h.jsx("p",{children:"No hay empleados activos con sueldo."}):e.personnel.filter(g=>g.status==="Activo").map(g=>{const x=g.salary/d,b=m*x;return h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("div",{children:[h.jsx("p",{style:{fontWeight:"bold"},children:g.name}),h.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Sueldo: $",g.salary," (",(x*100).toFixed(1),"%)"]})]}),h.jsxs("p",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--accent-green)"},children:["$",b.toFixed(2)]})]},g.id)})})()})]}),h.jsx("button",{className:"glass-button accent",style:{padding:"1rem",marginTop:"1rem"},onClick:async()=>{await n({title:"Distribuir Propinas",message:"Ests seguro de distribuir las propinas? Se guardar una copia en el Historial."})&&(t(),r(),await a({title:"xito",message:"Propinas distribuidas y archivadas en el Historial."}))},disabled:(e.tips||0)===0,children:"Distribuir y Archivar"})]}):h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxHeight:"60vh",overflowY:"auto"},children:(e.tipDistributions||[]).length===0?h.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"2rem"},children:"No hay distribuciones pasadas."}):(e.tipDistributions||[]).map(d=>h.jsxs("div",{className:"glass-panel",style:{padding:"1rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>u(l===d.id?null:d.id),children:[h.jsxs("div",{children:[h.jsxs("h4",{style:{margin:0},children:[new Date(d.date).toLocaleDateString()," - ",new Date(d.date).toLocaleTimeString()]}),h.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[d.transactionCount," transacciones"]})]}),h.jsx("div",{style:{textAlign:"right"},children:h.jsxs("p",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--accent-green)"},children:["$",d.total.toFixed(2)]})})]}),l===d.id&&h.jsxs("div",{style:{marginTop:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1rem"},children:[d.dailyBreakdown&&h.jsxs("div",{style:{marginBottom:"1rem"},children:[h.jsx("h5",{style:{color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Ingresos por Da"}),h.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:Object.entries(d.dailyBreakdown).map(([m,g])=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem"},children:[h.jsx("span",{style:{textTransform:"capitalize"},children:m}),h.jsxs("span",{children:["$",g.toFixed(2)]})]},m))})]}),h.jsx("h5",{style:{color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Reparto"}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:d.distribution.map(m=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[h.jsx("span",{children:m.name}),h.jsxs("span",{style:{fontWeight:"bold",color:"var(--accent-green)"},children:["$",m.amount.toFixed(2)]})]},m.id))})]})]},d.id))})]})},h0e=()=>{const{data:e,addItem:t,deleteItem:r,updateItem:n}=ea(),{confirm:a,alert:i}=qn(),[s,l]=T.useState(!1),[u,f]=T.useState(null),[d,m]=T.useState(window.innerWidth<=768);gr.useEffect(()=>{const O=()=>m(window.innerWidth<=768);return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const[g,x]=T.useState({name:"",role:"cashier",pin:"",permissions:[]}),b=async O=>{await a({title:"Eliminar Usuario",message:"Ests seguro de eliminar este usuario? Perder el acceso al sistema."})&&r("users",O)},_=()=>{f(null),x({name:"",role:"cashier",pin:"",permissions:[]})},y=O=>{x({name:O.name,role:O.role,pin:O.pin,permissions:O.permissions||[]}),f(O.id),l(!0)},w=async()=>{if(!g.name)return await i({title:"Error",message:"El nombre es obligatorio"});if(!g.pin)return await i({title:"Error",message:"El PIN es obligatorio"});u?n("users",u,g):t("users",g),l(!1),_()},C=[{header:"Usuario",accessor:"name"},{header:"Rol",accessor:"role",render:O=>h.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase",style:{color:O.role==="admin"?"var(--accent-red)":O.role==="kitchen"?"var(--accent-orange)":"var(--accent-blue)",border:`1px solid ${O.role==="admin"?"var(--accent-red)":O.role==="kitchen"?"var(--accent-orange)":"var(--accent-blue)"}`,background:"transparent"},children:O.role==="kitchen"?"Cocina":O.role==="bar"?"Barra":O.role==="waiter"?"Mesero":O.role==="admin"?"Admin":O.role==="manager"?"Gerente":"Cajero"})},{header:"PIN",accessor:"pin",render:()=>"****"}],A=O=>h.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[h.jsx("button",{className:"glass-button",style:{padding:"0.5rem"},title:"Editar Usuario",onClick:()=>y(O),children:h.jsx(bp,{size:16})}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",color:"var(--accent-red)"},title:"Eliminar Acceso",onClick:()=>b(O.id),children:h.jsx(Ha,{size:16})})]});return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%",width:"100%"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[h.jsxs("h1",{style:{fontSize:d?"1.25rem":"2rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[h.jsx(MG,{size:d?22:28}),d?"Usuarios":"Gestin de Usuarios"]}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.4rem",whiteSpace:"nowrap",padding:d?"0.4rem 0.8rem":"0.6rem 1.2rem",fontSize:d?"0.85rem":"1rem"},onClick:()=>{_(),l(!0)},children:[h.jsx(yA,{size:d?16:20}),"Nuevo"]})]}),h.jsx("div",{className:"glass-panel",style:{padding:d?"0.6rem":"1rem",background:"rgba(255,255,255,0.05)"},children:h.jsx("p",{style:{fontSize:d?"0.75rem":"0.875rem"},className:"text-gray-300",children:"Aqu se administran los credenciales de acceso al sistema."})}),h.jsx(Hf,{columns:C,data:e.users||[],actions:A}),h.jsx(br,{isOpen:s,onClose:()=>{l(!1),f(null),x({name:"",role:"cashier",pin:"",permissions:[]})},title:u?"Editar Usuario":"Registrar Nuevo Usuario",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Nombre de Usuario"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej: Juan Cajero",value:g.name,onChange:O=>x({...g,name:O.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Rol de Sistema"}),h.jsxs("select",{className:"glass-input w-full",value:g.role,onChange:O=>x({...g,role:O.target.value}),children:[h.jsx("option",{value:"admin",children:"Administrador (Acceso Total)"}),h.jsx("option",{value:"manager",children:"Gerente (Inventario + Ventas)"}),h.jsx("option",{value:"cashier",children:"Cajero (Ventas)"}),h.jsx("option",{value:"waiter",children:"Mesero (Tomar Pedidos)"}),h.jsx("option",{value:"kitchen",children:"Cocina (Pantalla de Cocina)"}),h.jsx("option",{value:"bar",children:"Barra (Pantalla de Barra)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"PIN de Acceso"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(lG,{size:20,className:"text-gray-400"}),h.jsx("input",{type:"password",className:"glass-input flex-1",placeholder:"****",value:g.pin,onChange:O=>x({...g,pin:O.target.value.replace(/\D/g,"")})})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)"},children:"Permisos Adicionales"}),h.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",padding:"0.5rem",background:"rgba(0,0,0,0.2)",borderRadius:"8px"},children:["Ver Reportes","Modificar Inventario","Gestionar Personal","Anular Ventas","Configuracin"].map(O=>h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",cursor:"pointer"},children:[h.jsx("input",{type:"checkbox",checked:g.permissions?.includes(O)||!1,onChange:F=>{const M=g.permissions||[];F.target.checked?x({...g,permissions:[...M,O]}):x({...g,permissions:M.filter(j=>j!==O)})},style:{accentColor:"var(--accent-blue)"}}),O]},O))})]}),h.jsx("button",{className:"glass-button primary",style:{marginTop:"1rem",width:"100%"},onClick:w,children:u?"Guardar Cambios":"Crear Usuario"})]})})]})},p0e=()=>{const{settings:e,updateSettings:t}=U1(),{exportData:r,importData:n,connectDrive:a,isDriveConnected:i,syncStatus:s,clearAllData:l,data:u,updateData:f,isLocalServerConnected:d,serverInfo:m,isServerLocked:g,setMasterKey:x,rescueFromExternalBackup:b}=ea(),{confirm:_,alert:y}=qn(),[w,C]=T.useState(e),[A,O]=T.useState("general"),[F,M]=T.useState(tc.isEnabled),[j,k]=T.useState(tc.volume),[R,I]=T.useState(window.innerWidth<=768);gr.useEffect(()=>{const B=()=>I(window.innerWidth<=768);return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const P=B=>{const{name:oe,value:he}=B.target;C(ne=>({...ne,[oe]:he}))},N=async()=>{t(w),await y({title:"xito",message:"Configuracin guardada exitosamente."})};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",height:"100%"},children:[h.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"1rem"},children:[h.jsxs("button",{className:`glass-button ${A==="general"?"primary":""}`,onClick:()=>O("general"),style:{flex:"1 1 100px",minWidth:"110px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 0.5rem"},children:[h.jsx(gA,{size:20}),"General"]}),h.jsxs("button",{className:`glass-button ${A==="sync"?"primary":""}`,onClick:()=>O("sync"),style:{flex:"1 1 100px",minWidth:"110px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 0.5rem"},children:[h.jsx(bA,{size:20}),"Sincronizacin"]}),h.jsxs("button",{className:`glass-button ${A==="users"?"primary":""}`,onClick:()=>O("users"),style:{flex:"1 1 100px",minWidth:"110px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 0.5rem"},children:[h.jsx(fv,{size:20}),"Usuarios"]}),h.jsxs("button",{className:`glass-button ${A==="payments"?"primary":""}`,onClick:()=>O("payments"),style:{flex:"1 1 100px",minWidth:"110px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 0.5rem"},children:[h.jsx(Ff,{size:20}),"Pagos"]})]}),A==="users"?h.jsx(h0e,{}):A==="sync"?h.jsx(g0e,{data:u,isDriveConnected:i,connectDrive:a,syncStatus:s,exportData:r,importData:n,confirm:_,alert:y,isLocalServerConnected:d,serverInfo:m,backupToCloud,restoreFromCloud}):A==="payments"?h.jsx(m0e,{data:u,updateData:f,confirm:_,alert:y}):h.jsxs(h.Fragment,{children:[h.jsx("h1",{style:{fontSize:"2rem"},children:"Configuracin"}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",width:"100%",maxWidth:"600px",alignSelf:"center"},children:[h.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.25rem"},children:"Personalizacin de la Marca"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Nombre de la Empresa"}),h.jsx("input",{type:"text",name:"appName",value:w.appName,onChange:P,className:"glass-input",style:{fontSize:"1rem"}})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Subttulo / Eslogan"}),h.jsx("input",{type:"text",name:"appSubtitle",value:w.appSubtitle,onChange:P,className:"glass-input",style:{fontSize:"1rem"}})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[h.jsxs("div",{style:{flex:"1 1 150px"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Color Logo 1"}),h.jsx("input",{type:"color",name:"logoColor1",value:w.logoColor1,onChange:P,style:{width:"100%",height:"40px",borderRadius:"8px",border:"none",background:"transparent",cursor:"pointer"}})]}),h.jsxs("div",{style:{flex:"1 1 150px"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Color Logo 2"}),h.jsx("input",{type:"color",name:"logoColor2",value:w.logoColor2,onChange:P,style:{width:"100%",height:"40px",borderRadius:"8px",border:"none",background:"transparent",cursor:"pointer"}})]})]}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Ancho del Men Lateral"}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[h.jsx("button",{className:`glass-button ${w.sidebarWidth==="180px"?"primary":""}`,style:{flex:"1 1 80px",fontSize:"0.9rem",padding:"0.5rem"},onClick:()=>C(B=>({...B,sidebarWidth:"180px"})),children:"Compacto"}),h.jsx("button",{className:`glass-button ${w.sidebarWidth==="200px"?"primary":""}`,style:{flex:"1 1 80px",fontSize:"0.9rem",padding:"0.5rem"},onClick:()=>C(B=>({...B,sidebarWidth:"200px"})),children:"Normal"}),h.jsx("button",{className:`glass-button ${w.sidebarWidth==="240px"?"primary":""}`,style:{flex:"1 1 80px",fontSize:"0.9rem",padding:"0.5rem"},onClick:()=>C(B=>({...B,sidebarWidth:"240px"})),children:"Ancho"})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"1rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[h.jsx(aK,{size:20,color:"var(--accent-blue)"}),h.jsx("h3",{style:{fontSize:"1.1rem",margin:0},children:"Notificaciones de Audio"})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[h.jsx("label",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Activar sonidos"}),h.jsx("button",{className:`glass-button ${F?"primary":""}`,onClick:()=>{const B=!F;M(B),tc.setEnabled(B)},style:{padding:"0.5rem 1rem",fontSize:"0.85rem"},children:F?" Activado":" Desactivado"})]}),F&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{marginBottom:"1rem"},children:[h.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:["Volumen: ",Math.round(j*100),"%"]}),h.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:j,onChange:B=>{const oe=parseFloat(B.target.value);k(oe),tc.setVolume(oe)},style:{width:"100%",height:"6px",borderRadius:"3px",background:`linear-gradient(to right, var(--accent-blue) 0%, var(--accent-blue) ${j*100}%, rgba(255,255,255,0.2) ${j*100}%, rgba(255,255,255,0.2) 100%)`,outline:"none",cursor:"pointer"}})]}),h.jsx("button",{className:"glass-button accent",onClick:()=>tc.testSound(),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:" Probar Sonido"}),h.jsx("p",{style:{fontSize:"0.75rem",marginTop:"0.75rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:"Los sonidos te alertarn cuando lleguen nuevos pedidos a cocina y cuando estn listos para servir."})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[h.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Sincronizacin en la Nube"}),i?h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0,255,0,0.1)",border:"1px solid var(--accent-green)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[h.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/12/Google_Drive_icon_%282020%29.svg",alt:"Drive",width:"20"}),h.jsx("span",{style:{fontWeight:"bold",color:"var(--accent-green)"},children:"Conectado a Google Drive"})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85rem"},children:[h.jsx("span",{children:"Estado:"}),s==="idle"&&h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Sincronizado"}),s==="syncing"&&h.jsx("span",{style:{color:"var(--accent-orange)"},children:"Guardando..."}),s==="success"&&h.jsx("span",{style:{color:"var(--accent-green)"},children:"Guardado!"}),s==="error"&&h.jsx("span",{style:{color:"var(--accent-red)"},children:"Error al guardar"})]}),h.jsx("p",{style:{fontSize:"0.75rem",marginTop:"0.5rem",color:"var(--text-secondary)"},children:"Tus datos se guardan automticamente en la carpeta de tu Drive cada vez que haces cambios."})]}):h.jsxs("button",{className:"glass-button",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",background:"white",color:"#333"},onClick:a,children:[h.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/12/Google_Drive_icon_%282020%29.svg",alt:"Drive",width:"20"}),"Conectar con Google Drive"]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[h.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Copia de Seguridad Manual"}),h.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[h.jsxs("button",{className:"glass-button",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:r,children:[h.jsx(qW,{size:18}),"Descargar Respaldo"]}),h.jsxs("label",{className:"glass-button accent",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",cursor:"pointer"},children:[h.jsx(vA,{size:18}),"Restaurar Copia",h.jsx("input",{type:"file",accept:".json",style:{display:"none"},onChange:async B=>{B.target.files[0]&&await _({title:"Restaurar Copia",message:"Ests seguro? Esto reemplazar TODOS los datos actuales."})&&n(B.target.files[0])}})]}),h.jsxs("button",{className:"glass-button",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",background:"rgba(255,255,255,0.05)"},onClick:b,children:[h.jsx(WR,{size:18,color:"var(--accent-orange)"})," Rescate desde Documentos"]}),h.jsxs("label",{className:"glass-button primary",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",cursor:"pointer"},children:[h.jsx(zR,{size:18}),"Importar Excel",h.jsx("input",{type:"file",accept:".xls,.xlsx",style:{display:"none"},onChange:async B=>{const oe=B.target.files[0];if(oe){try{const he=await oe.arrayBuffer(),ne=Su(he),de=ne.SheetNames[0],be=ne.Sheets[de],we=P9.sheet_to_json(be,{header:"A"}),ue=Date.now(),U=[{id:"comida",label:"Comida",keywords:["hamburguesa","burger","carne","doble","triple","bacon","queso","bbq","angus","wagyu","cheeseburger","pizza","perro","hot dog","salchicha","pollo","frito","asado","parrilla","bistec","solomo","punta","costilla","cerdo","chuleta","pescado","sandwich","pan","pepito","enrollado","shawarma","tostada","arepa","cachapa","taco","burrito","quesadilla","nachos","papas","fritas","yuca","aros","cebolla","pure","arroz","platano","tostones","tajadas","ensalada","cesar","aguacate","aceite","mantequilla"]},{id:"bebidas",label:"Bebidas",keywords:["bebida","refresco","jugo","agua","energizante","cola","pepsi","fanta","sprite","malta","te","t","cafe","caf","limonada","naranja","manzana","batido","smoothie","soda","coca","cerveza","licor","vino","ron","whisky","vodka"]},{id:"sopas",label:"Sopas",keywords:["sopa","caldo","consom","crema","sancocho","mondongo","hervido","fosforera","gallina","res","costilla","lagarto","pescado","mariscos","chupe","ajiaco","potaje","lentejas","caraotas","granos"]},{id:"dulces",label:"Dulces",keywords:["postre","dulce","helado","torta","pastel","cake","flan","gelatina","brownie","pie","mousse","quesillo","tres leches","marquesa","tiramisu","galleta","cookie","chocolate","vainilla","fresa","arequipe","nutella","donas","churros"]}],Y=se=>{const me=se.toLowerCase();for(const ve of U)if(ve.keywords.some(H=>{try{return new RegExp(`\\b${H}\\b`,"i").test(me)}catch{return me.includes(H)}}))return ve.id;return"General"},Z=new Map;we.forEach((se,me)=>{const ve=se.A,H=se.L,G=se.P;if(typeof ve!="string"||!ve)return;const ee=ve.trim();if(ee==="Nombre"||ee.includes("Periodo")||ee.includes("Mensual")||/^\d+$/.test(ee)||G==null)return;const ae=typeof G=="number"?G:parseFloat(String(G).replace(",",".")),pe=typeof H=="number"?H:parseFloat(String(H).replace(",","."));if(isNaN(ae))return;const X={id:`imported_${ue}_${me}`,name:ee,price:ae,cost:isNaN(pe)?0:pe,category:Y(ee),image:null,stock:0};Z.set(ee,X)});const q=Array.from(Z.values());q.length>0?await _({title:"Importar Productos",message:`Se encontraron ${q.length} productos vlidos.

Ejemplos:
- ${q[0].name} ($${q[0].price})

Desea REEMPLAZAR la lista actual con estos productos?`})&&(f("products",q),await y({title:"xito",message:`${q.length} productos importados exitosamente. La lista anterior ha sido reemplazada.`})):await y({title:"Aviso",message:"No se encontraron productos vlidos. Verifique que las columnas A (Nombre) y P (Precio) contengan datos."})}catch(he){console.error("Error importing excel:",he),await y({title:"Error",message:"Error al procesar el archivo Excel."})}B.target.value=""}}})]})]})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[h.jsxs("div",{style:{marginBottom:"1.5rem"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"PIN Maestro (Acceso Admin Universal)"}),h.jsx("input",{type:"text",name:"masterPin",value:w.masterPin||"0000",onChange:P,className:"glass-input",style:{maxWidth:"150px",letterSpacing:"2px",textAlign:"center",fontWeight:"bold"}}),h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:"Este PIN otorga acceso total si alguien olvida su clave."})]}),h.jsxs("button",{className:"glass-button accent",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"1rem"},onClick:()=>O("users"),children:[h.jsx(fv,{size:20}),"Gestionar Usuarios y Permisos"]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[h.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Configuracin de Ventas"}),h.jsxs("div",{children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"% Descuento por defecto en Divisas (Autorizado)"}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("input",{type:"number",className:"glass-input",style:{width:"100px"},placeholder:"0",defaultValue:u.defaultForeignCurrencyDiscountPercent||0,onChange:B=>{const oe=parseFloat(B.target.value);f("defaultForeignCurrencyDiscountPercent",isNaN(oe)?0:oe)}}),h.jsx("span",{style:{alignSelf:"center"},children:"%"})]}),h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:'Este porcentaje se aplicar automticamente al seleccionar "Promo Divisas" en el POS.'})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"0.5rem"},children:[h.jsxs("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(Du,{size:20,color:"var(--accent-blue)"})," Actualizaciones del Sistema"]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[h.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:"Mantn tu sistema actualizado con las ltimas mejoras en seguridad, UI y funciones de cocina en tiempo real."}),h.jsxs("button",{className:"glass-button primary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem"},onClick:async()=>{try{const B=document.activeElement;B.style.opacity="0.5",B.disabled=!0,B.innerHTML="Buscando actualizaciones...";const oe=/Android/i.test(navigator.userAgent),ne=window.Capacitor?.isNative||oe?"http://127.0.0.1:3001":"";window.socket&&(window.socket.off("ota_progress"),window.socket.on("ota_progress",we=>{const{percent:ue,downloaded:U,total:Y,status:Z}=we;B.innerHTML=`${Z==="downloading"?"Descargando":Z}: ${ue}% (${U}/${Y} MB)`,B.style.background=`linear-gradient(90deg, #4f46e5 ${ue}%, #374151 ${ue}%)`}),window.socket.off("ota_status"),window.socket.on("ota_status",we=>{const ue={checking:"Buscando...",found:"Versin encontrada",extracting:" Descomprimiendo...",installing:" Instalando...",error:"Error"};ue[we.status]&&(B.innerHTML=ue[we.status])})),console.log(" Checking for updates at:",`${ne}/api/check-update`);const be=await(await fetch(`${ne}/api/check-update`)).json();window.socket&&(window.socket.off("ota_progress"),window.socket.off("ota_status")),B.style.background="",be.updated?await y({title:"Actualizacin Aplicada!",message:`Se ha descargado e instalado la versin ${be.newVersion}.

El servidor se reiniciar automticamente en unos segundos para aplicar los cambios.`}):be.error?await y({title:"Aviso",message:"No se pudo conectar con el servidor de actualizaciones. Revisa tu conexin a internet."}):await y({title:"Sistema al da",message:"Ya tienes la versin ms reciente instalada."})}catch{await y({title:"Error",message:"Hubo un error al buscar actualizaciones."})}finally{window.location.reload()}},children:[h.jsx(Du,{size:18}),"Buscar Actualizaciones Ahora"]})]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem",marginTop:"2rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",opacity:.8},children:[h.jsx("h3",{style:{fontSize:"1rem",color:"var(--text-secondary)"},children:"Acerca de este Sistema"}),h.jsxs("p",{style:{fontSize:"0.9rem",textAlign:"center"},children:["Desarrollado con las ltimas tecnologas por ",h.jsx("br",{}),h.jsx("span",{style:{color:"var(--accent-blue)",fontWeight:"bold"},children:"Luvin Rafael Bustillos"})]}),h.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem",textAlign:"center"},children:[h.jsxs("div",{className:"text-sm font-medium text-gray-400",children:["Versin del Sistema ",m?.version||"2.3.2"]}),h.jsx("div",{className:"text-[10px] text-gray-600 font-mono mt-1",children:"ID de Aplicacin: com.laautentica.pos"})]})]}),h.jsxs("button",{className:"glass-button primary",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"1rem",padding:"1rem"},onClick:N,children:[h.jsx(uv,{size:20}),"Guardar Cambios"]})]})]})]})},m0e=({data:e,updateData:t,confirm:r,alert:n})=>{const[a,i]=T.useState({name:"",currency:"Bs",color:"#1d6335"}),s=e.paymentMethods||[],l=()=>{if(!a.name)return;const f={...a,id:`pm_${Date.now()}`};t("paymentMethods",[...s,f]),i({name:"",currency:"Bs",color:"#1d6335"})},u=async f=>{await r({title:"Eliminar Mtodo",message:"Ests seguro de que quieres eliminar este mtodo de pago?"})&&t("paymentMethods",s.filter(m=>m.id!==f))};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[h.jsx("h1",{style:{fontSize:"2rem"},children:"Mtodos de Pago"}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[h.jsxs("h2",{style:{marginBottom:"1.5rem",fontSize:"1.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(BR,{size:20,color:"var(--accent-green)"})," Nomenclaturas de Billetes"]}),h.jsxs("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap"},children:[h.jsxs("div",{style:{flex:"1 1 200px"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:"Billetes de Bolvares (Bs)"}),h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:(e.denominationsBS||[500,200,100,50,20,10]).map(f=>h.jsxs("div",{className:"glass-panel px-3 py-1 text-xs flex items-center gap-2 border-white/10",children:[f,h.jsx("button",{onClick:()=>{const d=e.denominationsBS||[500,200,100,50,20,10];t("denominationsBS",d.filter(m=>m!==f))},style:{color:"var(--accent-red)",border:"none",background:"none"},children:h.jsx(Fs,{size:12})})]},f))}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("input",{type:"number",id:"new_denom_bs",className:"glass-input text-sm p-2 w-24",placeholder:"Valor..."}),h.jsx("button",{className:"glass-button primary p-2",onClick:()=>{const f=parseFloat(document.getElementById("new_denom_bs").value);if(!f)return;const d=e.denominationsBS||[500,200,100,50,20,10];d.includes(f)||t("denominationsBS",[...d,f].sort((m,g)=>g-m)),document.getElementById("new_denom_bs").value=""},children:h.jsx(fs,{size:16})})]})]}),h.jsxs("div",{style:{flex:"1 1 200px"},children:[h.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:"Billetes de Dlares ($)"}),h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:(e.denominationsUSD||[100,50,20,10,5,2,1]).map(f=>h.jsxs("div",{className:"glass-panel px-3 py-1 text-xs flex items-center gap-2 border-white/10",children:[f,h.jsx("button",{onClick:()=>{const d=e.denominationsUSD||[100,50,20,10,5,2,1];t("denominationsUSD",d.filter(m=>m!==f))},style:{color:"var(--accent-red)",border:"none",background:"none"},children:h.jsx(Fs,{size:12})})]},f))}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("input",{type:"number",id:"new_denom_usd",className:"glass-input text-sm p-2 w-24",placeholder:"Valor..."}),h.jsx("button",{className:"glass-button primary p-2",onClick:()=>{const f=parseFloat(document.getElementById("new_denom_usd").value);if(!f)return;const d=e.denominationsUSD||[100,50,20,10,5,2,1];d.includes(f)||t("denominationsUSD",[...d,f].sort((m,g)=>g-m)),document.getElementById("new_denom_usd").value=""},children:h.jsx(fs,{size:16})})]})]})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[h.jsxs("h2",{style:{marginBottom:"1.5rem",fontSize:"1.25rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(fs,{size:20,color:"var(--accent-blue)"})," Agregar Nuevo Mtodo"]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"flex-end"},children:[h.jsxs("div",{style:{flex:"2 1 200px"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Nombre (ej. Punto Banesco)"}),h.jsx("input",{type:"text",className:"glass-input",value:a.name,onChange:f=>i({...a,name:f.target.value}),placeholder:"Nombre del mtodo..."})]}),h.jsxs("div",{style:{flex:"1 1 100px"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Moneda"}),h.jsxs("select",{className:"glass-input",value:a.currency,onChange:f=>i({...a,currency:f.target.value}),children:[h.jsx("option",{value:"Bs",children:"Bolvares (Bs)"}),h.jsx("option",{value:"USD",children:"Dlares ($)"})]})]}),h.jsxs("div",{style:{flex:"1 1 80px"},children:[h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Color"}),h.jsx("input",{type:"color",value:a.color,onChange:f=>i({...a,color:f.target.value}),style:{width:"100%",height:"42px",borderRadius:"8px",border:"none",background:"transparent",cursor:"pointer"}})]}),h.jsx("button",{className:"glass-button primary",onClick:l,style:{height:"42px",padding:"0 1.5rem"},children:h.jsx(fs,{size:20})})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.25rem"},children:[h.jsx("h2",{style:{marginBottom:"1rem",fontSize:"1.25rem"},children:"Mtodos Registrados"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[s.map(f=>h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:f.color,boxShadow:`0 0 10px ${f.color}66`}}),h.jsxs("div",{children:[h.jsx("div",{style:{fontWeight:"bold"},children:f.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest",children:"Moneda:"}),h.jsxs("select",{className:"bg-transparent text-[10px] font-black text-blue-400 border-none p-0 cursor-pointer focus:ring-0",value:f.currency,onChange:d=>{const m=s.map(g=>g.id===f.id?{...g,currency:d.target.value}:g);t("paymentMethods",m)},children:[h.jsx("option",{value:"Bs",className:"bg-[#1a1a1a]",children:"Bolvares (Bs)"}),h.jsx("option",{value:"USD",className:"bg-[#1a1a1a]",children:"Dlares ($)"})]})]})]})]}),h.jsx("button",{className:"glass-button",style:{padding:"0.5rem",border:"none",color:"var(--accent-red)"},onClick:()=>u(f.id),children:h.jsx(Ha,{size:18})})]},f.id)),s.length===0&&h.jsx("div",{style:{padding:"2rem",textAlign:"center",opacity:.5},children:"No hay mtodos de pago configurados."})]})]}),h.jsxs("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",padding:"0 1rem"},children:[h.jsx(Fh,{size:14,style:{verticalAlign:"middle",marginRight:"4px"}}),"Estos mtodos aparecern como opciones disponibles en la pantalla de cobro del POS."]})]})},g0e=({data:e,isDriveConnected:t,connectDrive:r,syncStatus:n,exportData:a,importData:i,confirm:s,alert:l,isLocalServerConnected:u,serverInfo:f,backupToCloud:d,restoreFromCloud:m})=>{const[g,x]=T.useState(localStorage.getItem("pos_server_url")||""),b=()=>{g?localStorage.setItem("pos_server_url",g):localStorage.removeItem("pos_server_url"),window.location.reload()},_=f?.ip||window.location.hostname;return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[h.jsx("h1",{style:{fontSize:"2rem"},children:"Sincronizacin"}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[h.jsx(bA,{size:24,color:"var(--accent-blue)"}),h.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:"Sincronizacin Local (WiFi)"})]}),h.jsxs("div",{style:{padding:"1rem",borderRadius:"12px",background:u?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",border:`1px solid ${u?"var(--accent-green)":"var(--accent-red)"}`,marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:u?"var(--accent-green)":"var(--accent-red)",boxShadow:`0 0 10px ${u?"var(--accent-green)":"var(--accent-red)"}`}}),h.jsxs("div",{children:[h.jsxs("p",{style:{fontWeight:"bold",margin:0},children:["Estado: ",u?"CONECTADO AL SERVIDOR":"SERVIDOR DESCONECTADO"]}),h.jsx("p",{style:{fontSize:"0.85rem",margin:"0.25rem 0 0",opacity:.8},children:u?`Conectado a ${f?.ip}:${f?.port}`:"El servidor principal debe estar encendido para sincronizar otros dispositivos."})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255,255,255,0.02)",marginBottom:"1.5rem"},children:[h.jsxs("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(yE,{size:18})," Direccin de Red"]}),h.jsx("p",{style:{fontSize:"0.9rem",marginBottom:"1rem",color:"var(--text-secondary)"},children:"Para que otros dispositivos (celulares, tablets) se conecten, diles que entren a esta direccin en su navegador:"}),h.jsxs("div",{style:{background:"#000",padding:"1rem",borderRadius:"8px",fontSize:"1rem",textAlign:"center",fontWeight:"bold",color:"var(--accent-blue)",fontFamily:"monospace",border:"1px solid rgba(0, 242, 255, 0.3)",wordBreak:"break-all",overflowWrap:"anywhere"},children:["http://",_,":3001"]})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1.5rem"},children:[h.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"Configuracin Avanzada"}),h.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"URL Manual del Servidor (Opcional)"}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("input",{type:"text",className:"glass-input",placeholder:`http://${_}:3001`,value:g,onChange:y=>x(y.target.value)}),h.jsx("button",{className:"glass-button primary",onClick:b,children:h.jsx(Du,{size:18})})]})]})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",border:"1px solid rgba(255,165,0,0.2)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[h.jsx(yE,{size:24,color:"#ff9d00"}),h.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:"Sincronizacin Cloud (Firebase)"})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(255,165,0,0.05)",marginBottom:"1.5rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[h.jsxs("div",{children:[h.jsx("p",{style:{fontWeight:"bold",margin:0},children:"Autoguardado en Tiempo Real"}),h.jsx("p",{style:{fontSize:"0.75rem",opacity:.7,margin:"0.25rem 0 0"},children:"Sincroniza tus datos automticamente con la nube."})]}),h.jsx("button",{className:`glass-button ${localStorage.getItem("cloud_sync_enabled")==="true"?"primary":""}`,onClick:()=>{const y=localStorage.getItem("cloud_sync_enabled")==="true";localStorage.setItem("cloud_sync_enabled",(!y).toString()),window.location.reload()},style:{padding:"0.5rem 1rem"},children:localStorage.getItem("cloud_sync_enabled")==="true"?" Activado":" Desactivado"})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85rem",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"0.75rem"},children:[h.jsx("span",{children:"Estado de Nube:"}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n==="syncing"&&h.jsxs("span",{style:{color:"var(--accent-orange)"},children:[h.jsx(Du,{size:14,className:"animate-spin"})," Sincronizando..."]}),n==="success"&&h.jsx("span",{style:{color:"var(--accent-green)"},children:" Datos Seguros"}),n==="error"&&h.jsx("span",{style:{color:"var(--accent-red)"},children:" Error de Conexin"}),n==="idle"&&h.jsx("span",{style:{color:"var(--text-secondary)"},children:"En espera"})]})]})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[h.jsxs("button",{className:"glass-button accent",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:()=>d(),children:[h.jsx(uv,{size:18}),"RESPALDO NUBE"]}),h.jsxs("button",{className:"glass-button",style:{flex:"1 1 140px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",background:"rgba(255,255,255,0.05)"},onClick:()=>m(),children:[h.jsx(WR,{size:18}),"RESTAURAR NUBE"]})]})]})]})},x0e=()=>{const{login:e}=$f(),{alert:t}=qn(),r=Gu(),[n,a]=T.useState(""),[i,s]=T.useState(""),[l,u]=T.useState(""),[f,d]=T.useState(!1),[m,g]=T.useState(localStorage.getItem("server_ip")||""),x=async()=>{localStorage.setItem("server_ip",m),d(!1),await t({title:"Configuracin",message:"Configuracin guardada"})},b=async _=>{_.preventDefault(),u("");const y=await e(n,i);y.success?r("/"):u(y.message)};return h.jsx("div",{className:"login-container",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"1rem",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"white"},children:h.jsxs("div",{className:"glass-panel",style:{padding:"2rem",width:"100%",maxWidth:"400px",textAlign:"center",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[h.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"-1rem"},children:h.jsx("button",{onClick:()=>d(!f),style:{background:"none",border:"none",color:"#666",cursor:"pointer"},children:h.jsx(gA,{size:16})})}),f&&h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",background:"rgba(0,0,0,0.5)",marginBottom:"1rem"},children:[h.jsx("p",{style:{fontSize:"0.9rem",margin:"0 0 0.5rem 0"},children:"IP Servidor Central"}),h.jsx("input",{type:"text",className:"glass-input",placeholder:"Ej. 192.168.1.15",value:m,onChange:_=>g(_.target.value),style:{width:"100%",padding:"0.5rem",marginBottom:"0.5rem"}}),h.jsx("button",{className:"glass-button accent",onClick:x,style:{width:"100%"},children:"Guardar Conexin"})]}),h.jsxs("div",{children:[h.jsx("h2",{style:{margin:0,fontSize:"2rem",fontWeight:"bold"},children:"La Autntica"}),h.jsx("p",{style:{margin:"0.5rem 0 0",color:"#aaa"},children:"Sistema POS"})]}),h.jsxs("form",{onSubmit:b,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsx("input",{type:"text",className:"glass-input",placeholder:"Usuario",value:n,onChange:_=>a(_.target.value),style:{padding:"1rem",fontSize:"1rem"},autoFocus:!0}),h.jsx("input",{type:"password",className:"glass-input",placeholder:"Contrasea",value:i,onChange:_=>s(_.target.value),style:{padding:"1rem",fontSize:"1rem"}}),l&&h.jsx("p",{style:{color:"#ff6b6b",fontSize:"0.9rem",margin:0},children:l}),h.jsx("button",{type:"submit",className:"glass-button primary",style:{padding:"1rem",fontSize:"1.1rem",marginTop:"0.5rem"},children:"Iniciar Sesin"})]})]})})},v0e=()=>{const{data:e,updateItem:t,addItem:r,deleteItem:n,cancelHeldOrder:a,activeCarts:i={}}=ea(),{confirm:s}=qn(),l=Gu(),u=e.tables||[],[f,d]=T.useState("Todas"),[m,g]=T.useState("tables"),[x,b]=T.useState(null),[_,y]=T.useState(!1),[w,C]=T.useState(!1),[A,O]=T.useState(null),[F,M]=gr.useState(window.innerWidth<=768);gr.useEffect(()=>{const U=()=>M(window.innerWidth<=768);return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]);const[j,k]=T.useState(""),[R,I]=T.useState("Restaurante"),P=["Restaurante","Quesera","Patio","Barra Restaurante","Barra Quesera"],N=f==="Todas"?u:u.filter(U=>(U.area||"Restaurante")===f),B=U=>{l(`/?tableId=${U.id}`)},oe=(U,Y)=>{U.stopPropagation(),b(Y),k(Y.name),I(Y.area||"Restaurante")},he=async(U,Y)=>{if(U.stopPropagation(),Y.status!=="occupied")return;await s({title:"Cancelar Pedido",message:`Ests seguro de CANCELAR el pedido de la ${Y.name}? Esta accin no se puede deshacer y liberar la mesa.`})&&(Y.currentOrderId?a(Y.currentOrderId):t("tables",Y.id,{status:"available",currentOrderId:null}))},ne=()=>{x&&j.trim()&&(t("tables",x.id,{name:j.trim(),area:R}),b(null))},de=async()=>{x&&await s({title:"Eliminar Mesa",message:`Ests seguro de eliminar "${x.name}"?`})&&(n("tables",x.id),b(null))},be=()=>{if(j.trim()){const U={id:Date.now(),name:j.trim(),area:R,status:"available",currentOrder:[]};r("tables",U),y(!1),k(""),I("Restaurante")}},we=()=>{k(`Mesa ${u.length+1}`),I(f==="Todas"?"Restaurante":f),y(!0)},ue=async(U,Y)=>{await s({title:"Copiar Carrito",message:`Deseas copiar los items del carrito de "${Y.username}" a tu sesin actual?`})&&(localStorage.setItem("pos_cart",JSON.stringify(Y.cart)),l("/"))};return h.jsxs("div",{style:{padding:F?"1rem":"1.5rem",height:"100%",overflowY:"auto",display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:F?"column":"row",alignItems:F?"stretch":"center",justifyContent:"space-between",gap:"1rem",marginBottom:"0.5rem"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",justifyContent:"space-between"},children:[h.jsxs("h1",{style:{margin:0,fontSize:F?"1.25rem":"1.75rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(cv,{className:"text-orange-400",size:F?24:32}),F?"Mesas y Pedidos":"Gestin de Pedidos"]}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[h.jsx("button",{onClick:()=>C(!0),className:"glass-button",style:{padding:"0.5rem",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Historial de Pedidos",children:h.jsx(iG,{size:18})}),h.jsxs("button",{onClick:we,className:"glass-button primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:F?"0.2rem 0.6rem":"0.5rem 1rem",fontSize:F?"0.8rem":"0.9rem",height:"36px"},children:[h.jsx(fs,{size:16}),h.jsx("span",{children:"Nueva Mesa"})]})]})]}),!F&&h.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",padding:"0.5rem",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.7rem"},children:[h.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#22c55e",boxShadow:"0 0 5px #22c55e"}}),h.jsx("span",{style:{opacity:.8},children:"Libre"})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.7rem"},children:[h.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#ef4444",boxShadow:"0 0 5px #ef4444"}}),h.jsx("span",{style:{opacity:.8},children:"Ocupada"})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.7rem"},children:[h.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#f59e0b",boxShadow:"0 0 5px #f59e0b"}}),h.jsx("span",{style:{opacity:.8},children:"Reservada"})]})]})]}),h.jsxs("div",{className:`no-scrollbar ${F?"grid grid-cols-2":"flex"}`,style:{gap:"0.5rem",overflowX:"auto",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",marginBottom:"1.25rem",flexShrink:0},children:[h.jsx("button",{onClick:()=>g("tables"),className:`glass-button ${m==="tables"?"primary":""}`,style:{padding:"0.4rem 0.6rem",fontSize:"0.75rem",whiteSpace:"nowrap",borderRadius:"10px"},children:"Mesas"}),h.jsxs("button",{onClick:()=>g("orders"),className:`glass-button ${m==="orders"?"primary":""}`,style:{padding:"0.4rem 0.6rem",fontSize:"0.75rem",whiteSpace:"nowrap",borderRadius:"10px"},children:["Pedidos (",(e.heldOrders||[]).filter(U=>!U.isProduction||U.status==="ready").length,")"]}),h.jsxs("button",{onClick:()=>g("active_carts"),className:`glass-button ${m==="active_carts"?"primary":""}`,style:{padding:"0.4rem 0.6rem",fontSize:"0.75rem",whiteSpace:"nowrap",borderRadius:"10px",gridColumn:F?"span 2":"auto",border:m==="active_carts"?"1px solid var(--accent-orange)":"1px solid rgba(255,165,0,0.3)",color:m==="active_carts"?"white":"var(--accent-orange)"},children:["Carritos Activos (",Object.keys(i).length,")"]}),m==="tables"&&h.jsxs("div",{className:`no-scrollbar ${F?"col-span-2 flex":"flex"}`,style:{gap:"0.5rem",overflowX:"auto"},children:[!F&&h.jsx("div",{style:{width:"1px",background:"rgba(255,255,255,0.1)",margin:"0 0.5rem"}}),["Todas",...P].map(U=>h.jsx("button",{onClick:()=>d(U),className:`glass-button ${f===U?"active":""}`,style:{padding:"0.4rem 0.8rem",fontSize:"0.75rem",whiteSpace:"nowrap",borderRadius:"10px",border:f===U?"1px solid var(--accent-blue)":"1px solid transparent",background:f===U?"rgba(0, 212, 255, 0.1)":"rgba(255,255,255,0.05)"},children:U},U))]})]}),m==="tables"&&h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 pb-20",children:N.map(U=>h.jsxs("div",{onClick:()=>B(U),className:`
                            relative group p-4 rounded-xl border backdrop-blur-md transition-all duration-300
                            hover:scale-[1.02] hover:shadow-lg cursor-pointer flex flex-col justify-between h-[180px]
                            ${U.status==="occupied"?"border-red-500/30 bg-red-500/10":U.status==="reserved"?"border-amber-500/30 bg-amber-500/10":"border-green-500/30 bg-green-500/10"}`,children:[h.jsx("div",{className:`
                            absolute top-3 right-3 w-3 h-3 rounded-full shadow-[0_0_8px]
                            ${U.status==="occupied"?"bg-red-500 shadow-red-500/50":U.status==="reserved"?"bg-amber-500 shadow-amber-500/50":"bg-green-500 shadow-green-500/50"}`}),U.status==="occupied"&&h.jsx("button",{onClick:Y=>he(Y,U),className:"absolute top-3 left-3 p-1.5 rounded-full hover:bg-red-500/20 text-red-400 hover:text-red-300 transition-colors z-20",title:"Cancelar Pedido y Liberar Mesa",children:h.jsx(Ha,{size:16})}),h.jsxs("div",{style:{textAlign:"center",marginTop:"1rem"},children:[h.jsx("h3",{style:{margin:"0 0 0.25rem 0",fontSize:F?"1.25rem":"1.5rem",fontWeight:"bold",color:"white"},children:U.name}),h.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.2rem 0.6rem",borderRadius:"12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",fontSize:"0.7rem",color:"rgba(255,255,255,0.8)"},children:[h.jsx(bE,{size:12}),U.area||"Restaurante"]})]}),U.status==="occupied"&&h.jsxs("div",{className:"mt-auto pt-3 border-t border-white/10 flex justify-between items-center text-sm",children:[h.jsxs("div",{className:"flex items-center gap-1.5 text-white/70",children:[h.jsx(xu,{size:14}),h.jsx("span",{children:U.occupiedAt?new Date(U.occupiedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"})]}),h.jsxs("div",{className:"font-medium text-white",children:["$",U.total?.toLocaleString()||"0"]})]}),U.status!=="occupied"&&h.jsx("div",{className:"mt-auto pt-3 border-t border-white/10 text-center",children:h.jsx("span",{className:`text-sm font-medium ${U.status==="reserved"?"text-amber-400":"text-green-400"}`,children:U.status==="reserved"?"Reservada":"Disponible"})}),h.jsx("button",{onClick:Y=>oe(Y,U),className:`absolute bottom-3 right-3 p-2 rounded-full bg-[var(--vscode-button-secondaryBackground)] 
                                     text-[var(--vscode-button-secondaryForeground)] opacity-0 group-hover:opacity-100 
                                     transition-opacity shadow-lg hover:bg-[var(--vscode-button-secondaryHoverBackground)] z-10`,title:"Editar Mesa",children:h.jsx(HR,{size:14})})]},U.id))}),m==="active_carts"&&h.jsx("div",{className:"flex flex-col gap-4 pb-20",children:Object.keys(i).length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-[var(--vscode-text-secondary)] opacity-50",children:[h.jsx(vu,{size:48,className:"mb-4"}),h.jsx("p",{children:"No hay otros usuarios editando pedidos en este momento."})]}):Object.values(i).map(U=>h.jsxs("div",{className:"p-4 rounded-xl border border-orange-500/30 bg-orange-500/5 backdrop-blur-md",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[h.jsx(fv,{size:18,className:"text-orange-400"}),U.username]}),h.jsx("span",{className:"text-xs bg-orange-500/20 text-orange-300 px-2 py-0.5 rounded-full border border-orange-500/30 animate-pulse",children:"Editando ahora..."})]}),h.jsxs("div",{className:"text-sm text-[var(--vscode-text-secondary)] mt-1 flex items-center gap-1",children:[h.jsx(xu,{size:12}),"Actualizado: ",new Date(U.timestamp).toLocaleTimeString()]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-xl font-bold text-white",children:["$",U.cart.reduce((Y,Z)=>Y+Z.price*(Z.quantity||1),0).toFixed(2)]}),h.jsxs("div",{className:"text-xs text-[var(--vscode-text-secondary)]",children:[U.cart.length," items"]})]})]}),h.jsxs("div",{className:"text-sm text-[var(--vscode-text-secondary)] bg-black/20 p-2 rounded mb-3",children:[U.cart.slice(0,3).map((Y,Z)=>h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{children:[Y.quantity,"x ",Y.name]}),h.jsxs("span",{children:["$",(Y.price*Y.quantity).toFixed(2)]})]},Z)),U.cart.length>3&&h.jsxs("div",{className:"text-xs italic mt-1",children:["...y ",U.cart.length-3," ms"]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsxs("button",{onClick:()=>ue(U.userId,U),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-orange-500/30",children:[h.jsx(vu,{size:16}),"Copiar Carrito"]})})]},U.userId))}),m==="orders"&&h.jsx("div",{className:"flex flex-col gap-4 pb-20",children:(e.heldOrders||[]).sort((U,Y)=>new Date(Y.timestamp)-new Date(U.timestamp)).map(U=>{const Y=U.tableId?u.find(q=>q.id===U.tableId):null,Z=U.status==="ready";return h.jsxs("div",{onClick:()=>{l(Y?`/?tableId=${Y.id}`:`/?orderId=${U.id}`)},className:`p-4 rounded-xl border backdrop-blur-md cursor-pointer hover:scale-[1.01] transition-all ${Z?"border-green-500/30 bg-green-500/10 hover:border-green-500/50":"border-blue-500/30 bg-blue-500/10 hover:border-blue-500/50"}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:U.tableName||Y?.name||"Pedido Rpido"}),U.takeaway&&h.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-bold bg-indigo-500/30 text-indigo-300 px-2 py-0.5 rounded-full border border-indigo-500/30",children:[h.jsx(vu,{size:10}),"Llevar"]}),U.priority==="high"&&h.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-bold bg-red-500/30 text-red-300 px-2 py-0.5 rounded-full border border-red-500/30",children:[h.jsx(yD,{size:10}),"Urgente"]}),U.priority==="priority"&&h.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-bold bg-amber-500/30 text-amber-300 px-2 py-0.5 rounded-full border border-amber-500/30",children:[h.jsx(yD,{size:10}),"Prioridad"]})]}),h.jsxs("div",{className:"flex gap-2 items-center text-sm text-[var(--vscode-text-secondary)] mt-1",children:[h.jsx(xu,{size:14}),h.jsx("span",{children:new Date(U.timestamp).toLocaleString()}),Z&&h.jsx("span",{className:"px-2 py-0.5 rounded-full bg-green-500/20 text-green-400 text-xs font-bold",children:"LISTO"})]}),U.createdBy&&h.jsxs("div",{className:"text-xs text-[var(--vscode-text-secondary)] mt-1",children:[h.jsx("span",{className:"font-semibold",children:"Creado por:"})," ",U.createdBy,U.modifiedBy&&U.modifiedBy!==U.createdBy&&h.jsxs("span",{className:"ml-2",children:[h.jsx("span",{className:"font-semibold",children:" Modificado por:"})," ",U.modifiedBy]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-xl font-bold text-white",children:["$",U.total?.toFixed(2)||"0.00"]}),h.jsxs("div",{className:"text-xs text-[var(--vscode-text-secondary)]",children:[U.items?.length||0," items"]})]})]}),h.jsxs("div",{className:"text-sm text-[var(--vscode-text-secondary)] bg-black/20 p-2 rounded mb-3",children:[U.items?.slice(0,3).map((q,se)=>h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{children:[q.quantity,"x ",q.name]}),h.jsxs("span",{children:["$",(q.price*q.quantity).toFixed(2)]})]},se)),U.items?.length>3&&h.jsxs("div",{className:"text-xs italic mt-1",children:["...y ",U.items.length-3," ms"]})]}),h.jsxs("div",{className:"flex gap-2 justify-end",children:[!U.tableId&&h.jsxs("button",{onClick:q=>{q.stopPropagation(),O(U)},className:"px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center gap-1 transition-all",children:[h.jsx(bE,{size:12}),"Asignar Mesa"]}),h.jsx("button",{onClick:async q=>{q.stopPropagation(),await s({title:"Cancelar Pedido",message:"Cancelar este pedido?"})&&a(U.id)},className:"px-3 py-1.5 text-xs text-red-400 hover:bg-red-500/10 rounded border border-transparent hover:border-red-500/30 transition-all",children:"Cancelar"})]})]},U.id)})}),h.jsx(br,{isOpen:_||!!x,onClose:()=>{y(!1),b(null)},title:x?"Editar Mesa":"Nueva Mesa",children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[var(--vscode-text-secondary)] mb-1",children:"Nombre"}),h.jsx("input",{type:"text",value:j,onChange:U=>k(U.target.value),className:"vscode-input w-full",placeholder:"Ej: Mesa 1, Barra 3...",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[var(--vscode-text-secondary)] mb-1",children:"rea"}),h.jsx("select",{value:R,onChange:U=>I(U.target.value),className:"vscode-select w-full",children:P.map(U=>h.jsx("option",{value:U,children:U},U))})]}),h.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t border-[var(--vscode-border)]",children:[x&&h.jsxs("button",{onClick:de,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors mr-auto flex items-center gap-2",children:[h.jsx(Ha,{size:16}),"Eliminar"]}),h.jsx("button",{onClick:()=>{y(!1),b(null)},className:"secondary-button",children:"Cancelar"}),h.jsx("button",{onClick:x?ne:be,className:"primary-button",disabled:!j.trim(),children:x?"Guardar Cambios":"Crear Mesa"})]})]})}),h.jsx(y0e,{isOpen:w,onClose:()=>C(!1)}),h.jsx(b0e,{isOpen:!!A,onClose:()=>O(null),order:A})]})},y0e=({isOpen:e,onClose:t})=>{const{data:r,restoreCancelledOrder:n,permanentlyDeleteOrder:a,updateItem:i}=ea(),{confirm:s,alert:l}=qn(),u=(r.cancelledOrders||[]).filter(m=>m.tableId).sort((m,g)=>new Date(g.cancelledAt)-new Date(m.cancelledAt)),f=async m=>{const g=r.tables.find(b=>b.id===m.tableId);if(!g){await l({title:"Error",message:"La mesa original ya no existe."});return}if(g.status!=="available"){await l({title:"Aviso",message:`No se puede restaurar: La mesa "${g.name}" est ocupada actualmente.`});return}await s({title:"Restaurar Pedido",message:`Restaurar pedido de ${g.name}?`})&&(n(m.id),i("tables",g.id,{status:"occupied",currentOrderId:m.id,occupiedAt:new Date().toISOString()}),t())},d=async m=>{await s({title:"Eliminar Permanente",message:"Eliminar permanentemente este registro?"})&&a(m)};return e?h.jsx(br,{isOpen:e,onClose:t,title:"Papelera de Mesas",children:h.jsx("div",{className:"flex flex-col gap-4 max-h-[60vh] overflow-y-auto pr-2",children:u.length===0?h.jsxs("div",{className:"text-center py-8 text-[var(--vscode-text-secondary)]",children:[h.jsx(Ha,{size:48,className:"mx-auto mb-4 opacity-20"}),h.jsx("p",{children:"No hay pedidos de mesas cancelados recientemente."})]}):u.map(m=>{const g=r.tables.find(b=>b.id===m.tableId),x=g?g.name:"Mesa Eliminada";return h.jsxs("div",{className:"p-4 rounded-lg bg-[var(--vscode-editor-background)] border border-[var(--vscode-border)] flex flex-col gap-3",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-lg text-white",children:x}),h.jsxs("span",{className:"text-xs text-[var(--vscode-text-secondary)] flex items-center gap-1",children:[h.jsx(xu,{size:12}),"Cancelado: ",new Date(m.cancelledAt).toLocaleString()]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"font-bold text-red-400",children:["$",m.items?.reduce((b,_)=>b+_.price*_.quantity,0)?.toLocaleString()]}),h.jsxs("span",{className:"text-xs text-[var(--vscode-text-secondary)]",children:[m.items?.length," items"]})]})]}),h.jsxs("div",{className:"text-sm text-[var(--vscode-text-secondary)] bg-black/20 p-2 rounded",children:[m.items?.slice(0,3).map((b,_)=>h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{children:[b.quantity,"x ",b.name]}),h.jsxs("span",{children:["$",b.price]})]},_)),m.items?.length>3&&h.jsxs("div",{className:"text-xs italic mt-1",children:["...y ",m.items.length-3," ms"]})]}),h.jsxs("div",{className:"flex gap-2 justify-end mt-1",children:[h.jsx("button",{onClick:()=>d(m.id),className:"px-3 py-1.5 text-xs text-red-400 hover:bg-red-500/10 rounded border border-transparent hover:border-red-500/30 transition-all",children:"Eliminar"}),h.jsxs("button",{onClick:()=>f(m),className:"px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center gap-1 transition-all",children:[h.jsx(bE,{size:12}),"Restaurar a Mesa"]})]})]},m.id)})})}):null},b0e=({isOpen:e,onClose:t,order:r})=>{const{data:n,updateItem:a}=ea(),{confirm:i}=qn(),s=(n.tables||[]).filter(u=>u.status==="available"),l=async u=>{await i({title:"Asignar Mesa",message:`Asignar este pedido a la ${u.name}?`})&&(a("heldOrders",r.id,{tableId:u.id,tableName:u.name}),a("tables",u.id,{status:"occupied",currentOrderId:r.id,occupiedAt:new Date().toISOString(),total:r.total}),t())};return e?h.jsx(br,{isOpen:e,onClose:t,title:"Seleccionar Mesa para Asignar",children:h.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto p-1",children:s.length===0?h.jsx("div",{className:"col-span-2 text-center py-8 text-[var(--vscode-text-secondary)]",children:h.jsx("p",{children:"No hay mesas disponibles actualmente."})}):s.map(u=>h.jsxs("button",{onClick:()=>l(u),className:"p-4 rounded-lg border border-green-500/30 bg-green-500/5 hover:bg-green-500/20 transition-all text-left",children:[h.jsx("div",{className:"font-bold text-white",children:u.name}),h.jsx("div",{className:"text-xs text-[var(--vscode-text-secondary)]",children:u.area})]},u.id))})}):null},_0e=()=>{const{data:e,updateItem:t,deleteItem:r,addItem:n}=ea(),{confirm:a}=qn(),[i,s]=T.useState("all"),[l,u]=T.useState("active"),[f,d]=T.useState(null),[m,g]=T.useState(!1),x=T.useRef(0),b=T.useMemo(()=>e.kitchenOrders||[],[e.kitchenOrders]),_=T.useMemo(()=>e.cancelledKitchenOrders||[],[e.cancelledKitchenOrders]);T.useEffect(()=>{b.length>x.current&&x.current>0&&tc.playNewOrderSound(),x.current=b.length},[b.length]);const{currentUser:y}=$f(),w=(I,P)=>{const N=new Date().toISOString(),B=y?.username||"Desconocido";if(P==="completed"){const oe=b.find(he=>he.id===I);oe&&oe.sourceOrderId&&t("heldOrders",oe.sourceOrderId,{status:"ready",completedAt:N,modifiedBy:B}),r("kitchenOrders",I),tc.playSuccessSound()}else t("kitchenOrders",I,{status:P,modifiedBy:B,lastModified:N})},C=I=>{if(!I)return"Recin llegada";const P=new Date,N=new Date(I);if(isNaN(N.getTime()))return"Recin llegada";const B=P-N,oe=Math.floor(B/6e4);if(oe<1)return"Recin llegada";if(oe===1)return"1 min";if(oe<60)return`${oe} min`;const he=Math.floor(oe/60),ne=oe%60;return`${he}h ${ne}m`},A=I=>{switch(I){case"pending":return"var(--accent-orange)";case"in-progress":return"var(--accent-blue)";case"completed":return"var(--accent-green)";default:return"var(--text-secondary)"}},O=I=>{switch(I){case"pending":return"Pendiente";case"in-progress":return"En Preparacin";case"completed":return"Listo";default:return"Desconocido"}},F=I=>{switch(I){case"high":return{label:"ALTA PRIORIDAD",color:"#ef4444"};case"priority":return{label:"PRIORIDAD",color:"#f59e0b"};default:return{label:"NORMAL",color:"#94a3b8"}}},M=async I=>{const P=b.find(N=>N.id===I);if(P&&await a({title:"Cancelar Orden",message:"Cancelar esta orden de cocina?"})){const B={...P,cancelledAt:new Date().toISOString()};n("cancelledKitchenOrders",B),r("kitchenOrders",I)}},j=async I=>{const P=_.find(N=>N.id===I);if(P&&await a({title:"Restaurar Orden",message:"Restaurar esta orden a cocina?"})){const{cancelledAt:B,...oe}=P;n("kitchenOrders",oe),r("cancelledKitchenOrders",I)}},k=T.useMemo(()=>{const I=l==="active"?b:_;let P=i==="all"?I:I.filter(B=>B.status===i);const N={high:3,priority:2,normal:1};return[...P].sort((B,oe)=>{const he=N[B.priority]||1,ne=N[oe.priority]||1;return he!==ne?ne-he:new Date(B.timestamp)-new Date(oe.timestamp)})},[b,_,i,l]),R=I=>{const P=y?.username||"Desconocido";t("kitchenOrders",I,{tableName:"Llevar",modifiedBy:P,lastModified:new Date().toISOString()}),f&&f.id===I&&g(!1)};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",height:"100%",padding:"1rem"},children:[h.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[h.jsx(mA,{size:28,color:"var(--accent-orange)"}),h.jsx("h1",{style:{fontSize:"1.5rem",margin:0},children:"Cocina"}),b.length>0&&h.jsx("span",{style:{background:"var(--accent-red)",color:"white",padding:"0.25rem 0.5rem",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"bold"},children:b.length})]}),h.jsxs("div",{className:"no-scrollbar",style:{display:"flex",gap:"0.75rem",overflowX:"auto",width:"100%",paddingBottom:"0.5rem",whiteSpace:"nowrap",alignItems:"center"},children:[h.jsxs("button",{className:`glass-button ${l==="active"?"primary":""}`,onClick:()=>u("active"),style:{fontSize:"0.85rem",padding:"0.4rem 1rem",flexShrink:0},children:["Activas (",b.length,")"]}),h.jsxs("button",{className:`glass-button ${l==="cancelled"?"primary":""}`,onClick:()=>u("cancelled"),style:{fontSize:"0.85rem",padding:"0.4rem 1rem",flexShrink:0},children:["Canceladas (",_.length,")"]}),h.jsx("div",{style:{width:"1px",background:"rgba(255,255,255,0.2)",height:"20px",margin:"0 0.5rem"}}),h.jsx("button",{className:`glass-button ${i==="all"?"primary":""}`,onClick:()=>s("all"),style:{fontSize:"0.85rem",padding:"0.4rem 1rem",flexShrink:0},children:"Todas"}),h.jsxs("button",{className:`glass-button ${i==="pending"?"accent":""}`,onClick:()=>s("pending"),style:{fontSize:"0.85rem",padding:"0.4rem 1rem",borderColor:"var(--accent-orange)",flexShrink:0},children:["Pendientes (",l==="active"?b.filter(I=>I.status==="pending").length:0,")"]}),h.jsxs("button",{className:`glass-button ${i==="in-progress"?"accent":""}`,onClick:()=>s("in-progress"),style:{fontSize:"0.85rem",padding:"0.4rem 1rem",borderColor:"var(--accent-blue)",flexShrink:0},children:["En Prep. (",l==="active"?b.filter(I=>I.status==="in-progress").length:0,")"]})]})]}),k.length===0?h.jsxs("div",{className:"glass-panel",style:{padding:"3rem",textAlign:"center"},children:[h.jsx(yp,{size:64,color:"var(--accent-green)",style:{margin:"0 auto 1rem"}}),h.jsxs("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:["No hay rdenes ",i!=="all"?O(i).toLowerCase():""]}),h.jsx("p",{style:{color:"var(--text-secondary)"},children:"Las nuevas rdenes aparecern aqu automticamente"})]}):h.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"repeat(auto-fit, minmax(320px, 1fr))",gap:"1rem",overflowY:"auto",overflowX:"hidden",paddingRight:"0.5rem",width:"100%",paddingBottom:"6rem"},children:k.map(I=>{const P=F(I.priority);return h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",border:`2px solid ${I.priority==="high"?"#ef4444":A(I.status)}`,background:I.priority==="high"?"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(0,0,0,0.6))":"linear-gradient(135deg, rgba(0,0,0,0.4), rgba(0,0,0,0.2))",position:"relative",animation:I.priority==="high"?"pulse 2s infinite":"none",boxShadow:I.priority==="high"?"0 0 15px rgba(239, 68, 68, 0.15)":"none",overflow:"hidden",wordWrap:"break-word",maxWidth:"100%",boxSizing:"border-box",cursor:"pointer",transition:"transform 0.2s"},onClick:()=>{d(I),g(!0)},onMouseEnter:N=>N.currentTarget.style.transform="scale(1.02)",onMouseLeave:N=>N.currentTarget.style.transform="scale(1)",children:[I.priority!=="normal"&&h.jsx("div",{style:{position:"absolute",top:"-10px",left:"50%",transform:"translateX(-50%)",background:P.color,color:"#000",padding:"0.2rem 1rem",borderRadius:"10px",fontSize:"0.7rem",fontWeight:"900",zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:P.label}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.75rem",gap:"0.5rem"},children:[h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsx("h3",{style:{fontSize:"1.1rem",margin:0,fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:I.tableName}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.25rem"},children:[h.jsx(xu,{size:12,color:"var(--text-secondary)"}),h.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:C(I.timestamp)})]})]}),h.jsx("div",{style:{display:"inline-block",padding:"0.3rem 0.6rem",borderRadius:"20px",fontSize:"0.65rem",fontWeight:"bold",textTransform:"uppercase",background:A(I.status),color:"white",whiteSpace:"nowrap"},children:O(I.status)})]}),h.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"0.5rem",fontStyle:"italic"},children:["Por: ",I.createdBy||"Desconocido"]}),h.jsx("div",{style:{marginBottom:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1rem"},children:I.items.map((N,B)=>{const oe=F(N.priority);return h.jsx("div",{style:{display:"flex",flexDirection:"column",padding:"0.5rem 0",borderBottom:B<I.items.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("div",{children:[h.jsxs("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:[N.quantity,"x"]}),h.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"1rem"},children:N.name}),N.priority&&N.priority!=="normal"&&h.jsx("span",{style:{marginLeft:"0.5rem",background:oe.color,color:"#000",padding:"0.1rem 0.4rem",borderRadius:"4px",fontSize:"0.65rem",fontWeight:"bold"},children:oe.label.split(" ")[0]})]}),N.note&&h.jsx("span",{style:{fontSize:"0.8rem",color:"var(--accent-orange)",fontStyle:"italic"},children:N.note})]})},B)})}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexDirection:"column",width:"100%"},children:[I.status==="pending"&&h.jsx("button",{className:"glass-button",onClick:N=>{N.stopPropagation(),w(I.id,"in-progress")},style:{width:"100%",padding:"0.75rem",fontSize:"0.9rem",fontWeight:"bold",background:"var(--accent-orange)",borderColor:"var(--accent-orange)",color:"white"},children:" Iniciar"}),I.status==="in-progress"&&h.jsx("button",{className:"glass-button",onClick:N=>{N.stopPropagation(),w(I.id,"completed")},style:{width:"100%",padding:"0.75rem",fontSize:"0.9rem",fontWeight:"bold",background:"var(--accent-green)",borderColor:"var(--accent-green)",color:"white"},children:" Listo"}),l==="active"?h.jsx("button",{className:"glass-button",onClick:N=>{N.stopPropagation(),M(I.id)},style:{width:"100%",padding:"0.75rem",fontSize:"0.9rem",background:"transparent",borderColor:"var(--accent-red)",color:"var(--accent-red)"},children:" Cancelar"}):h.jsx("button",{className:"glass-button",onClick:N=>{N.stopPropagation(),j(I.id)},style:{width:"100%",padding:"0.75rem",fontSize:"0.9rem",background:"var(--accent-blue)",borderColor:"var(--accent-blue)",color:"white"},children:" Restaurar"})]})]},I.id)})}),m&&f&&h.jsx(br,{isOpen:!0,onClose:()=>g(!1),title:`Orden: ${f.tableName}`,children:h.jsxs("div",{style:{padding:"1rem"},children:[h.jsxs("div",{style:{marginBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"1rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Estado:"}),h.jsx("span",{style:{color:A(f.status),fontWeight:"bold",fontSize:"1.1rem"},children:O(f.status)})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Tiempo:"}),h.jsx("span",{children:C(f.timestamp)})]}),f.priority!=="normal"&&h.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[h.jsx("span",{style:{color:"var(--text-secondary)"},children:"Prioridad:"}),h.jsx("span",{style:{color:F(f.priority).color,fontWeight:"bold"},children:F(f.priority).label})]}),h.jsxs("div",{style:{marginTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"0.5rem"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[h.jsx("span",{children:"Creado por:"}),h.jsx("span",{style:{color:"white"},children:f.createdBy||"Desconocido"})]}),f.modifiedBy&&h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[h.jsx("span",{children:"Modificado por:"}),h.jsx("span",{style:{color:"var(--accent-blue)"},children:f.modifiedBy})]})]})]}),h.jsx("h3",{style:{marginBottom:"0.75rem",fontSize:"1.1rem"},children:"Items:"}),h.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:f.items.map((I,P)=>{const N=F(I.priority);return h.jsxs("div",{style:{padding:"0.75rem",marginBottom:"0.5rem",background:"rgba(255,255,255,0.05)",borderRadius:"8px",borderLeft:`4px solid ${N.color}`,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.25rem"},children:[h.jsxs("span",{style:{fontWeight:"bold",fontSize:"1rem"},children:[I.quantity,"x ",I.name]}),I.priority!=="normal"&&h.jsx("span",{style:{padding:"0.2rem 0.5rem",background:N.color,color:"#000",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold"},children:N.label})]}),I.note&&h.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--accent-orange)",fontStyle:"italic",marginTop:"0.25rem"},children:["Nota: ",I.note]})]},P)})}),h.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[f.tableName!=="Llevar"&&l==="active"&&h.jsx("button",{className:"glass-button",onClick:async I=>{I.stopPropagation(),await a({title:"Marcar para Llevar",message:'Marcar orden "Para Llevar"?'})&&R(f.id)},style:{width:"100%",padding:"0.75rem",fontSize:"0.9rem",background:"transparent",borderColor:"var(--accent-blue)",color:"var(--accent-blue)",fontWeight:"bold",marginBottom:"0.5rem"},children:" Marcar para Llevar"}),f.status==="pending"&&h.jsx("button",{className:"glass-button",onClick:I=>{I.stopPropagation(),w(f.id,"in-progress"),g(!1)},style:{width:"100%",padding:"0.75rem",background:"var(--accent-orange)",borderColor:"var(--accent-orange)",color:"white",fontWeight:"bold"},children:" Iniciar Preparacin"}),f.status==="in-progress"&&h.jsx("button",{className:"glass-button",onClick:I=>{I.stopPropagation(),w(f.id,"completed"),g(!1)},style:{width:"100%",padding:"0.75rem",background:"var(--accent-green)",borderColor:"var(--accent-green)",color:"white",fontWeight:"bold"},children:" Marcar como Listo"}),l==="active"?h.jsx("button",{className:"glass-button",onClick:I=>{I.stopPropagation(),M(f.id),g(!1)},style:{width:"100%",padding:"0.75rem",background:"transparent",borderColor:"var(--accent-red)",color:"var(--accent-red)"},children:" Cancelar Orden"}):h.jsx("button",{className:"glass-button",onClick:I=>{I.stopPropagation(),j(f.id),g(!1)},style:{width:"100%",padding:"0.75rem",background:"var(--accent-blue)",borderColor:"var(--accent-blue)",color:"white"},children:" Restaurar Orden"})]})]})}),h.jsx("style",{children:`
                @keyframes pulse {
                    0%, 100% {
                        box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.0);
                    }
                    50% {
                        box-shadow: 0 0 10px 0 rgba(239, 68, 68, 0.1);
                    }
                }
            `})]})},w0e=()=>{const{data:e,addItem:t,updateItem:r,deleteItem:n}=ea(),a=e.customers||[],{confirm:i,alert:s}=qn(),l=Gu(),[u,f]=T.useState(window.innerWidth<=768);gr.useEffect(()=>{const k=()=>f(window.innerWidth<=768);return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const[d,m]=T.useState(!1),[g,x]=T.useState(null),[b,_]=T.useState({idNumber:"",name:"",phone:"",email:"",address:"",creditLimit:0}),[y,w]=T.useState(!1),C=k=>{k.preventDefault(),g?r("customers",g.id,b):t("customers",b),m(!1),x(null),_({idNumber:"",name:"",phone:"",email:"",address:"",creditLimit:0})},A=async()=>{if(b.idNumber){w(!0);try{const k=a.find(P=>P.idNumber===b.idNumber);if(k){_({...b,name:k.name,phone:k.phone||b.phone,address:k.address||b.address,email:k.email||b.email}),w(!1);return}const I=await(await fetch(`${window.location.protocol}//${window.location.hostname}:3001/api/lookup/cedula/${b.idNumber}`)).json();I.success?_({...b,name:I.name}):await s({title:"No Encontrado",message:I.error||"No se pudo obtener informacin para este ID."})}catch(k){console.error("Error lookup:",k),await s({title:"Error de Consulta",message:"No hay conexin con el servicio de bsqueda."})}finally{w(!1)}}},O=k=>{x(k),_({idNumber:k.idNumber||"",name:k.name,phone:k.phone||"",email:k.email||"",address:k.address||"",creditLimit:k.creditLimit||0}),m(!0)},F=async k=>{await i({title:"Eliminar Cliente",message:"Ests seguro de eliminar este cliente?"})&&n("customers",k)},M=()=>{x(null),_({idNumber:"",name:"",phone:"",email:"",address:"",creditLimit:0}),m(!0)},j=async k=>{if(!k||k.length===0){await s({title:"Importacin",message:"El archivo no contiene datos."});return}let R=0,I=0;const P=N=>N?N.toString().toLowerCase().trim():"";for(const N of k){const B=Object.keys(N),oe=de=>B.find(be=>P(be)===P(de)),he=N[oe("nombre")]||N[oe("name")]||N[oe("cliente")];if(!he){console.warn("Fila ignorada por falta de nombre:",N),I++;continue}const ne={idNumber:(N[oe("cedula")]||N[oe("rif")]||N[oe("id")])?.toString()||"",name:he,phone:(N[oe("telefono")]||N[oe("phone")]||N[oe("celular")])?.toString()||"",email:(N[oe("email")]||N[oe("correo")])?.toString()||"",address:(N[oe("direccion")]||N[oe("address")])?.toString()||"",creditLimit:parseFloat(N[oe("credito")]||N[oe("credit")]||N[oe("limite")])||0};await t("customers",ne),R++}await s({title:"Importacin Completada",message:` Importados: ${R}
 Omitidos (sin nombre): ${I}`})};return h.jsxs("div",{className:"p-4 md:p-6 h-full overflow-y-auto",children:[h.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[h.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-white flex items-center gap-2",children:[h.jsx(ox,{size:u?24:32}),"Clientes"]}),h.jsxs("div",{className:"flex gap-2 flex-wrap",children:[h.jsxs("button",{onClick:M,className:"glass-button primary flex items-center gap-2 text-xs md:text-sm",children:[h.jsx(fs,{size:16}),"Nuevo"]}),h.jsx(jC,{onDataLoaded:j,buttonText:"Importar Excel"})]})]}),a.length===0?h.jsxs("div",{className:"glass-panel p-12 text-center",children:[h.jsx(ox,{size:64,color:"var(--text-secondary)",className:"mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-bold mb-2",children:"No hay clientes registrados"}),h.jsx("p",{className:"text-gray-400 mb-4",children:"Crea tu primer cliente para empezar"}),h.jsx("button",{onClick:M,className:"glass-button primary",children:"Crear Cliente"})]}):h.jsx("div",{className:"glass-panel overflow-hidden",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-700",children:[h.jsx("th",{className:"text-left p-4 text-gray-300 font-semibold",children:"Cdula/RIF"}),h.jsx("th",{className:"text-left p-4 text-gray-300 font-semibold",children:"Cliente"}),h.jsx("th",{className:"text-left p-4 text-gray-300 font-semibold",children:"Telfono"}),h.jsx("th",{className:"text-left p-4 text-gray-300 font-semibold",children:"Correo Electrnico"}),h.jsx("th",{className:"text-left p-4 text-gray-300 font-semibold",children:"Direccin"}),h.jsx("th",{className:"text-right p-4 text-gray-300 font-semibold",children:"Crdito"}),h.jsx("th",{className:"text-center p-4 text-gray-300 font-semibold",children:"Acciones"})]})}),h.jsx("tbody",{children:a.map(k=>h.jsxs("tr",{className:"border-b border-gray-800 hover:bg-white/5",children:[h.jsx("td",{className:"p-4",children:h.jsx("span",{className:"text-gray-400 font-mono text-sm",children:k.idNumber||"---"})}),h.jsx("td",{className:"p-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ox,{size:20,color:"var(--accent-blue)"}),h.jsx("span",{className:"font-semibold",children:k.name})]})}),h.jsx("td",{className:"p-4",children:k.phone&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[h.jsx(qR,{size:14}),k.phone]})}),h.jsx("td",{className:"p-4",children:k.email&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[h.jsx(VR,{size:14}),k.email]})}),h.jsx("td",{className:"p-4",children:k.address&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[h.jsx(vG,{size:14}),k.address]})}),h.jsx("td",{className:"p-4 text-right",children:k.creditLimit>0&&h.jsxs("div",{className:"flex items-center justify-end gap-2 text-green-400",children:[h.jsx(Ff,{size:14}),"$",k.creditLimit.toFixed(2)]})}),h.jsx("td",{className:"p-4",children:h.jsxs("div",{className:"flex gap-2 justify-center",children:[h.jsx("button",{onClick:()=>l(`/reports?customerId=${k.id}`),className:"glass-button p-2",title:"Ver Historial",style:{color:"var(--accent-green)"},children:h.jsx(kW,{size:16})}),h.jsx("button",{onClick:()=>O(k),className:"glass-button p-2",title:"Editar",children:h.jsx(bp,{size:16})}),h.jsx("button",{onClick:()=>F(k.id),className:"glass-button p-2",style:{color:"var(--accent-red)"},title:"Eliminar",children:h.jsx(Ha,{size:16})})]})})]},k.id))})]})}),h.jsxs(br,{isOpen:d,onClose:()=>m(!1),children:[h.jsx("h2",{className:"text-2xl font-bold mb-6",children:g?"Editar Cliente":"Nuevo Cliente"}),h.jsxs("form",{onSubmit:C,children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Cdula / RIF"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",className:"glass-input flex-1",value:b.idNumber,onChange:k=>_({...b,idNumber:k.target.value}),placeholder:"V-12345678"}),h.jsx("button",{type:"button",onClick:A,disabled:!b.idNumber||y,className:"glass-button primary p-2",title:"Buscar datos",children:y?h.jsx(fG,{size:18,className:"animate-spin"}):h.jsx(Ou,{size:18})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre *"}),h.jsx("input",{type:"text",required:!0,className:"glass-input w-full",value:b.name,onChange:k=>_({...b,name:k.target.value}),placeholder:"Juan Prez"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Telfono"}),h.jsx("input",{type:"tel",className:"glass-input w-full",value:b.phone,onChange:k=>_({...b,phone:k.target.value}),placeholder:"+58 412-1234567"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Correo Electrnico"}),h.jsx("input",{type:"email",className:"glass-input w-full",value:b.email,onChange:k=>_({...b,email:k.target.value}),placeholder:"cliente@ejemplo.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Direccin"}),h.jsx("textarea",{className:"glass-input w-full",rows:2,value:b.address,onChange:k=>_({...b,address:k.target.value}),placeholder:"Calle Principal..."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Lmite de Crdito ($)"}),h.jsx("input",{type:"number",step:"0.01",min:"0",className:"glass-input w-full",value:b.creditLimit,onChange:k=>_({...b,creditLimit:parseFloat(k.target.value)||0})})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:()=>m(!1),className:"glass-button flex-1",children:"Cancelar"}),h.jsx("button",{type:"submit",className:"glass-button primary flex-1",children:g?"Guardar Cambios":"Crear Cliente"})]})]})]})]})};function R9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=R9(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=R9(e))&&(n&&(n+=" "),n+=t);return n}var E0e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function NC(e){if(typeof e!="string")return!1;var t=E0e;return t.includes(e)}var S0e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],A0e=new Set(S0e);function F9(e){return typeof e!="string"?!1:A0e.has(e)}function B9(e){return typeof e=="string"&&e.startsWith("data-")}function yi(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(F9(r)||B9(r))&&(t[r]=e[r]);return t}function Bu(e){if(e==null)return null;if(T.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return yi(t)}return typeof e=="object"&&!Array.isArray(e)?yi(e):null}function ri(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(F9(r)||B9(r)||NC(r))&&(t[r]=e[r]);return t}function C0e(e){return e==null?null:T.isValidElement(e)?ri(e.props):typeof e=="object"&&!Array.isArray(e)?ri(e):null}var T0e=["children","width","height","viewBox","className","style","title","desc"];function sS(){return sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sS.apply(null,arguments)}function k0e(e,t){if(e==null)return{};var r,n,a=D0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IC=T.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:l,title:u,desc:f}=e,d=k0e(e,T0e),m=i||{width:n,height:a,x:0,y:0},g=dr("recharts-surface",s);return T.createElement("svg",sS({},ri(d),{className:g,width:n,height:a,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),T.createElement("title",null,u),T.createElement("desc",null,f),r)}),O0e=["children","className"];function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oS.apply(null,arguments)}function j0e(e,t){if(e==null)return{};var r,n,a=N0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kn=T.forwardRef((e,t)=>{var{children:r,className:n}=e,a=j0e(e,O0e),i=dr("recharts-layer",n);return T.createElement("g",oS({className:i},ri(a),{ref:t}),r)}),M9=T.createContext(null),I0e=()=>T.useContext(M9);function zr(e){return function(){return e}}const L9=Math.cos,$v=Math.sin,$s=Math.sqrt,Hv=Math.PI,fy=2*Hv,lS=Math.PI,cS=2*lS,ou=1e-6,P0e=cS-ou;function z9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function R0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return z9;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class F0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?z9:R0e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,u=n-t,f=a-r,d=s-t,m=l-r,g=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>ou)if(!(Math.abs(m*u-f*d)>ou)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-s,b=a-l,_=u*u+f*f,y=x*x+b*b,w=Math.sqrt(_),C=Math.sqrt(g),A=i*Math.tan((lS-Math.acos((_+g-y)/(2*w*C)))/2),O=A/C,F=A/w;Math.abs(O-1)>ou&&this._append`L${t+O*d},${r+O*m}`,this._append`A${i},${i},0,0,${+(m*x>d*b)},${this._x1=t+F*u},${this._y1=r+F*f}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),f=t+l,d=r+u,m=1^s,g=s?a-i:i-a;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>ou||Math.abs(this._y1-d)>ou)&&this._append`L${f},${d}`,n&&(g<0&&(g=g%cS+cS),g>P0e?this._append`A${n},${n},0,1,${m},${t-l},${r-u}A${n},${n},0,1,${m},${this._x1=f},${this._y1=d}`:g>ou&&this._append`A${n},${n},0,${+(g>=lS)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function PC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new F0e(t)}function RC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function U9(e){this._context=e}U9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dy(e){return new U9(e)}function V9(e){return e[0]}function $9(e){return e[1]}function H9(e,t){var r=zr(!0),n=null,a=dy,i=null,s=PC(l);e=typeof e=="function"?e:e===void 0?V9:zr(e),t=typeof t=="function"?t:t===void 0?$9:zr(t);function l(u){var f,d=(u=RC(u)).length,m,g=!1,x;for(n==null&&(i=a(x=s())),f=0;f<=d;++f)!(f<d&&r(m=u[f],f,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,f,u),+t(m,f,u));if(x)return i=null,x+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:zr(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:zr(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:zr(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),l):n},l}function Vg(e,t,r){var n=null,a=zr(!0),i=null,s=dy,l=null,u=PC(f);e=typeof e=="function"?e:e===void 0?V9:zr(+e),t=typeof t=="function"?t:zr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?$9:zr(+r);function f(m){var g,x,b,_=(m=RC(m)).length,y,w=!1,C,A=new Array(_),O=new Array(_);for(i==null&&(l=s(C=u())),g=0;g<=_;++g){if(!(g<_&&a(y=m[g],g,m))===w)if(w=!w)x=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=g-1;b>=x;--b)l.point(A[b],O[b]);l.lineEnd(),l.areaEnd()}w&&(A[g]=+e(y,g,m),O[g]=+t(y,g,m),l.point(n?+n(y,g,m):A[g],r?+r(y,g,m):O[g]))}if(C)return l=null,C+""||null}function d(){return H9().defined(a).curve(s).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:zr(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:zr(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:zr(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:zr(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:zr(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:zr(+m),f):r},f.lineX0=f.lineY0=function(){return d().x(e).y(t)},f.lineY1=function(){return d().x(e).y(r)},f.lineX1=function(){return d().x(n).y(t)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:zr(!!m),f):a},f.curve=function(m){return arguments.length?(s=m,i!=null&&(l=s(i)),f):s},f.context=function(m){return arguments.length?(m==null?i=l=null:l=s(i=m),f):i},f}class q9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function B0e(e){return new q9(e,!0)}function M0e(e){return new q9(e,!1)}const FC={draw(e,t){const r=$s(t/Hv);e.moveTo(r,0),e.arc(0,0,r,0,fy)}},L0e={draw(e,t){const r=$s(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},W9=$s(1/3),z0e=W9*2,U0e={draw(e,t){const r=$s(t/z0e),n=r*W9;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},V0e={draw(e,t){const r=$s(t),n=-r/2;e.rect(n,n,r,r)}},$0e=.8908130915292852,G9=$v(Hv/10)/$v(7*Hv/10),H0e=$v(fy/10)*G9,q0e=-L9(fy/10)*G9,W0e={draw(e,t){const r=$s(t*$0e),n=H0e*r,a=q0e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=fy*i/5,l=L9(s),u=$v(s);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},N_=$s(3),G0e={draw(e,t){const r=-$s(t/(N_*3));e.moveTo(0,r*2),e.lineTo(-N_*r,-r),e.lineTo(N_*r,-r),e.closePath()}},ts=-.5,rs=$s(3)/2,uS=1/$s(12),K0e=(uS/2+1)*3,X0e={draw(e,t){const r=$s(t/K0e),n=r/2,a=r*uS,i=n,s=r*uS+r,l=-i,u=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,u),e.lineTo(ts*n-rs*a,rs*n+ts*a),e.lineTo(ts*i-rs*s,rs*i+ts*s),e.lineTo(ts*l-rs*u,rs*l+ts*u),e.lineTo(ts*n+rs*a,ts*a-rs*n),e.lineTo(ts*i+rs*s,ts*s-rs*i),e.lineTo(ts*l+rs*u,ts*u-rs*l),e.closePath()}};function Y0e(e,t){let r=null,n=PC(a);e=typeof e=="function"?e:zr(e||FC),t=typeof t=="function"?t:zr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:zr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:zr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function qv(){}function Wv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function K9(e){this._context=e}K9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Q0e(e){return new K9(e)}function X9(e){this._context=e}X9.prototype={areaStart:qv,areaEnd:qv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z0e(e){return new X9(e)}function Y9(e){this._context=e}Y9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J0e(e){return new Y9(e)}function Q9(e){this._context=e}Q9.prototype={areaStart:qv,areaEnd:qv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function efe(e){return new Q9(e)}function _6(e){return e<0?-1:1}function w6(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(_6(i)+_6(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function E6(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function I_(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Gv(e){this._context=e}Gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:I_(this,this._t0,E6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,I_(this,E6(this,r=w6(this,e,t)),r);break;default:I_(this,this._t0,r=w6(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Z9(e){this._context=new J9(e)}(Z9.prototype=Object.create(Gv.prototype)).point=function(e,t){Gv.prototype.point.call(this,t,e)};function J9(e){this._context=e}J9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function tfe(e){return new Gv(e)}function rfe(e){return new Z9(e)}function e7(e){this._context=e}e7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=S6(e),a=S6(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function S6(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function nfe(e){return new e7(e)}function hy(e,t){this._context=e,this._t=t}hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function afe(e){return new hy(e,.5)}function ife(e){return new hy(e,0)}function sfe(e){return new hy(e,1)}function Mu(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function fS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ofe(e,t){return e[t]}function lfe(e){const t=[];return t.key=e,t}function cfe(){var e=zr([]),t=fS,r=Mu,n=ofe;function a(i){var s=Array.from(e.apply(this,arguments),lfe),l,u=s.length,f=-1,d;for(const m of i)for(l=0,++f;l<u;++l)(s[l][f]=[0,+n(m,s[l].key,f,i)]).data=m;for(l=0,d=RC(t(s));l<u;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:zr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:zr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?fS:typeof i=="function"?i:zr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Mu,a):r},a}function ufe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Mu(e,t)}}function ffe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Mu(e,t)}}function dfe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,u=0,f=0;l<s;++l){for(var d=e[t[l]],m=d[n][1]||0,g=d[n-1][1]||0,x=(m-g)/2,b=0;b<l;++b){var _=e[t[b]],y=_[n][1]||0,w=_[n-1][1]||0;x+=y-w}u+=m,f+=x*m}a[n-1][1]+=a[n-1][0]=r,u&&(r-=f/u)}a[n-1][1]+=a[n-1][0]=r,Mu(e,t)}}var P_={},R_={},A6;function hfe(){return A6||(A6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(R_)),R_}var F_={},C6;function t7(){return C6||(C6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(F_)),F_}var B_={},T6;function BC(){return T6||(T6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(B_)),B_}var M_={},L_={},k6;function pfe(){return k6||(k6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(L_)),L_}var D6;function MC(){return D6||(D6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pfe(),r=BC();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let l=0,u="",f="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<s;){const m=a[l];f?m==="\\"&&l+1<s?(l++,u+=a[l]):m===f?f="":u+=m:d?m==='"'||m==="'"?f=m:m==="]"?(d=!1,i.push(u),u=""):u+=m:m==="["?(d=!0,u&&(i.push(u),u="")):m==="."?u&&(i.push(u),u=""):u+=m,l++}return u&&i.push(u),i}e.toPath=n})(M_)),M_}var O6;function LC(){return O6||(O6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hfe(),r=t7(),n=BC(),a=MC();function i(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?r.isDeepKey(u)?i(l,a.toPath(u),f):f:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=l[u];return d===void 0?f:d}default:{if(Array.isArray(u))return s(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?f:d}}}function s(l,u,f){if(u.length===0)return f;let d=l;for(let m=0;m<u.length;m++){if(d==null||t.isUnsafeProperty(u[m]))return f;d=d[u[m]]}return d===void 0?f:d}e.get=i})(P_)),P_}var z_,j6;function mfe(){return j6||(j6=1,z_=LC().get),z_}var gfe=mfe();const Lu=vo(gfe);var xfe=4;function sc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xfe,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function xn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,s)=>{var l=r[s-1];return typeof l=="string"?a+l+i:l!==void 0?a+sc(l)+i:a+i},"")}var ma=e=>e===0?0:e>0?1:-1,ps=e=>typeof e=="number"&&e!=+e,al=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,at=e=>(typeof e=="number"||e instanceof Number)&&!ps(e),mo=e=>at(e)||typeof e=="string",vfe=0,rp=e=>{var t=++vfe;return"".concat(e||"").concat(t)},$a=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!at(t)&&typeof t!="string")return n;var i;if(al(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ps(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},r7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Wr(e,t,r){return at(e)&&at(t)?sc(e+r*(t-e)):t}function n7(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Lu(n,t))===r)}var ln=e=>e===null||typeof e>"u",Ip=e=>ln(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function yfe(e){return e!=null}function Pp(){}var bfe=["type","size","sizeType"];function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dS.apply(null,arguments)}function N6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(r),!0).forEach(function(n){_fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _fe(e,t,r){return(t=wfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wfe(e){var t=Efe(e,"string");return typeof t=="symbol"?t:t+""}function Efe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sfe(e,t){if(e==null)return{};var r,n,a=Afe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Afe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var a7={symbolCircle:FC,symbolCross:L0e,symbolDiamond:U0e,symbolSquare:V0e,symbolStar:W0e,symbolTriangle:G0e,symbolWye:X0e},Cfe=Math.PI/180,Tfe=e=>{var t="symbol".concat(Ip(e));return a7[t]||FC},kfe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Cfe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Dfe=(e,t)=>{a7["symbol".concat(Ip(e))]=t},zC=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Sfe(e,bfe),i=I6(I6({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var g=Tfe(s),x=Y0e().type(g).size(kfe(r,n,s)),b=x();if(b!==null)return b},{className:u,cx:f,cy:d}=i,m=ri(i);return at(f)&&at(d)&&at(r)?T.createElement("path",dS({},m,{className:dr("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(d,")"),d:l()})):null};zC.registerSymbol=Dfe;var i7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,UC=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{NC(a)&&(n[a]=(i=>r[a](r,i)))}),n},Ofe=(e,t,r)=>n=>(e(t,r,n),null),Rp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];NC(a)&&typeof i=="function"&&(n||(n={}),n[a]=Ofe(i,t,r))}),n};function P6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(r),!0).forEach(function(n){Nfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nfe(e,t,r){return(t=Ife(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ife(e){var t=Pfe(e,"string");return typeof t=="symbol"?t:t+""}function Pfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wn(e,t){var r=jfe({},e),n=t,a=Object.keys(t),i=a.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return i}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}function R6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(r),!0).forEach(function(n){Ffe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ffe(e,t,r){return(t=Bfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bfe(e){var t=Mfe(e,"string");return typeof t=="symbol"?t:t+""}function Mfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var is=32,Lfe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function zfe(e){var{data:t,iconType:r,inactiveColor:n}=e,a=is/2,i=is/6,s=is/3,l=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var f;return T.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:a,x2:is,y2:a,className:"recharts-legend-icon"})}if(u==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(is,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return T.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(is/8,"h").concat(is,"v").concat(is*3/4,"h").concat(-is,"z"),className:"recharts-legend-icon"});if(T.isValidElement(t.legendIcon)){var d=Rfe({},t);return delete d.legendIcon,T.cloneElement(t.legendIcon,d)}return T.createElement(zC,{fill:l,cx:a,cy:a,size:is,sizeType:"diameter",type:u})}function Ufe(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=e,l={x:0,y:0,width:is,height:is},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,m)=>{var g=d.formatter||a,x=dr({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:d.inactive});if(d.type==="none")return null;var b=d.inactive?i:d.color,_=g?g(d.value,d,m):d.value;return T.createElement("li",Kv({className:x,style:u,key:"legend-item-".concat(m)},Rp(e,d,m)),T.createElement(IC,{width:r,height:r,viewBox:l,style:f,"aria-label":"".concat(_," legend icon")},T.createElement(zfe,{data:d,iconType:s,inactiveColor:i})),T.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},_))})}var Vfe=e=>{var t=Wn(e,Lfe),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:i},T.createElement(Ufe,Kv({},t,{payload:r})))},U_={},V_={},F6;function $fe(){return F6||(F6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],l=n(s);a.has(l)||a.set(l,s)}return Array.from(a.values())}e.uniqBy=t})(V_)),V_}var $_={},B6;function s7(){return B6||(B6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})($_)),$_}var H_={},q_={},W_={},M6;function Hfe(){return M6||(M6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(W_)),W_}var L6;function VC(){return L6||(L6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hfe();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(q_)),q_}var G_={},z6;function qfe(){return z6||(z6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(G_)),G_}var U6;function Wfe(){return U6||(U6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VC(),r=qfe();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(H_)),H_}var K_={},X_={},V6;function Gfe(){return V6||(V6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LC();function r(n){return function(a){return t.get(a,n)}}e.property=r})(X_)),X_}var Y_={},Q_={},Z_={},J_={},$6;function o7(){return $6||($6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(J_)),J_}var ew={},H6;function l7(){return H6||(H6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ew)),ew}var tw={},q6;function c7(){return q6||(q6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(tw)),tw}var W6;function Kfe(){return W6||(W6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o7(),r=l7(),n=c7();function a(d,m,g){return typeof g!="function"?a(d,m,()=>{}):i(d,m,function x(b,_,y,w,C,A){const O=g(b,_,y,w,C,A);return O!==void 0?!!O:i(b,_,x,A)},new Map)}function i(d,m,g,x){if(m===d)return!0;switch(typeof m){case"object":return s(d,m,g,x);case"function":return Object.keys(m).length>0?i(d,{...m},g,x):n.eq(d,m);default:return t.isObject(d)?typeof m=="string"?m==="":!0:n.eq(d,m)}}function s(d,m,g,x){if(m==null)return!0;if(Array.isArray(m))return u(d,m,g,x);if(m instanceof Map)return l(d,m,g,x);if(m instanceof Set)return f(d,m,g,x);const b=Object.keys(m);if(d==null||r.isPrimitive(d))return b.length===0;if(b.length===0)return!0;if(x?.has(m))return x.get(m)===d;x?.set(m,d);try{for(let _=0;_<b.length;_++){const y=b[_];if(!r.isPrimitive(d)&&!(y in d)||m[y]===void 0&&d[y]!==void 0||m[y]===null&&d[y]!==null||!g(d[y],m[y],y,d,m,x))return!1}return!0}finally{x?.delete(m)}}function l(d,m,g,x){if(m.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,_]of m.entries()){const y=d.get(b);if(g(y,_,b,d,m,x)===!1)return!1}return!0}function u(d,m,g,x){if(m.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let _=0;_<m.length;_++){const y=m[_];let w=!1;for(let C=0;C<d.length;C++){if(b.has(C))continue;const A=d[C];let O=!1;if(g(A,y,_,d,m,x)&&(O=!0),O){b.add(C),w=!0;break}}if(!w)return!1}return!0}function f(d,m,g,x){return m.size===0?!0:d instanceof Set?u([...d],[...m],g,x):!1}e.isMatchWith=a,e.isSetMatch=f})(Z_)),Z_}var G6;function u7(){return G6||(G6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kfe();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Q_)),Q_}var rw={},nw={},aw={},K6;function Xfe(){return K6||(K6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(aw)),aw}var iw={},X6;function f7(){return X6||(X6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(iw)),iw}var sw={},Y6;function d7(){return Y6||(Y6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",d="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",b="[object Error]",_="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",O="[object BigUint64Array]",F="[object Int8Array]",M="[object Int16Array]",j="[object Int32Array]",k="[object BigInt64Array]",R="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=d,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=O,e.booleanTag=a,e.dataViewTag=_,e.dateTag=l,e.errorTag=b,e.float32ArrayTag=R,e.float64ArrayTag=I,e.functionTag=m,e.int16ArrayTag=M,e.int32ArrayTag=j,e.int8ArrayTag=F,e.mapTag=u,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=C,e.uint32ArrayTag=A,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=w})(sw)),sw}var ow={},Q6;function Yfe(){return Q6||(Q6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(ow)),ow}var Z6;function h7(){return Z6||(Z6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xfe(),r=f7(),n=d7(),a=l7(),i=Yfe();function s(d,m){return l(d,void 0,d,new Map,m)}function l(d,m,g,x=new Map,b=void 0){const _=b?.(d,m,g,x);if(_!==void 0)return _;if(a.isPrimitive(d))return d;if(x.has(d))return x.get(d);if(Array.isArray(d)){const y=new Array(d.length);x.set(d,y);for(let w=0;w<d.length;w++)y[w]=l(d[w],w,g,x,b);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;x.set(d,y);for(const[w,C]of d)y.set(w,l(C,w,g,x,b));return y}if(d instanceof Set){const y=new Set;x.set(d,y);for(const w of d)y.add(l(w,void 0,g,x,b));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);x.set(d,y);for(let w=0;w<d.length;w++)y[w]=l(d[w],w,g,x,b);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return x.set(d,y),u(y,d,g,x,b),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return x.set(d,y),u(y,d,g,x,b),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return x.set(d,y),u(y,d,g,x,b),y}if(d instanceof Error){const y=new d.constructor;return x.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,u(y,d,g,x,b),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return x.set(d,y),u(y,d,g,x,b),y}if(d instanceof Number){const y=new Number(d.valueOf());return x.set(d,y),u(y,d,g,x,b),y}if(d instanceof String){const y=new String(d.valueOf());return x.set(d,y),u(y,d,g,x,b),y}if(typeof d=="object"&&f(d)){const y=Object.create(Object.getPrototypeOf(d));return x.set(d,y),u(y,d,g,x,b),y}return d}function u(d,m,g=d,x,b){const _=[...Object.keys(m),...t.getSymbols(m)];for(let y=0;y<_.length;y++){const w=_[y],C=Object.getOwnPropertyDescriptor(d,w);(C==null||C.writable)&&(d[w]=l(m[w],w,g,x,b))}}function f(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=u})(nw)),nw}var J6;function Qfe(){return J6||(J6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h7();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(rw)),rw}var ej;function Zfe(){return ej||(ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u7(),r=Qfe();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Y_)),Y_}var lw={},cw={},uw={},tj;function Jfe(){return tj||(tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h7(),r=d7();function n(a,i){return t.cloneDeepWith(a,(s,l,u,f)=>{const d=i?.(s,l,u,f);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(uw)),uw}var rj;function ede(){return rj||(rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jfe();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(cw)),cw}var fw={},dw={},nj;function p7(){return nj||(nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(dw)),dw}var hw={},aj;function tde(){return aj||(aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f7();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(hw)),hw}var ij;function rde(){return ij||(ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t7(),r=p7(),n=tde(),a=MC();function i(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&s?.[l]==null?u=a.toPath(l):u=[l],u.length===0)return!1;let f=s;for(let d=0;d<u.length;d++){const m=u[d];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=i})(fw)),fw}var sj;function nde(){return sj||(sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u7(),r=BC(),n=ede(),a=LC(),i=rde();function s(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(f){const d=a.get(f,l);return d===void 0?i.has(f,l):u===void 0?d===void 0:t.isMatch(d,u)}}e.matchesProperty=s})(lw)),lw}var oj;function ade(){return oj||(oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s7(),r=Gfe(),n=Zfe(),a=nde();function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(K_)),K_}var lj;function ide(){return lj||(lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$fe(),r=s7(),n=Wfe(),a=ade();function i(s,l=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(l)):[]}e.uniqBy=i})(U_)),U_}var pw,cj;function sde(){return cj||(cj=1,pw=ide().uniqBy),pw}var ode=sde();const uj=vo(ode);function m7(e,t,r){return t===!0?uj(e,r):typeof t=="function"?uj(e,t):e}var mw={exports:{}},gw={},xw={exports:{}},vw={};var fj;function lde(){if(fj)return vw;fj=1;var e=Nf();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function l(m,g){var x=g(),b=n({inst:{value:x,getSnapshot:g}}),_=b[0].inst,y=b[1];return i(function(){_.value=x,_.getSnapshot=g,u(_)&&y({inst:_})},[m,x,g]),a(function(){return u(_)&&y({inst:_}),m(function(){u(_)&&y({inst:_})})},[m]),s(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!r(m,x)}catch{return!0}}function f(m,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return vw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,vw}var dj;function cde(){return dj||(dj=1,xw.exports=lde()),xw.exports}var hj;function ude(){if(hj)return gw;hj=1;var e=Nf(),t=cde();function r(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return gw.useSyncExternalStoreWithSelector=function(f,d,m,g,x){var b=i(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=l(function(){function w(M){if(!C){if(C=!0,A=M,M=g(M),x!==void 0&&_.hasValue){var j=_.value;if(x(j,M))return O=j}return O=M}if(j=O,n(A,M))return j;var k=g(M);return x!==void 0&&x(j,k)?(A=M,j):(A=M,O=k)}var C=!1,A,O,F=m===void 0?null:m;return[function(){return w(d())},F===null?void 0:function(){return w(F())}]},[d,m,g,x]);var y=a(f,b[0],b[1]);return s(function(){_.hasValue=!0,_.value=y},[y]),u(y),y},gw}var pj;function fde(){return pj||(pj=1,mw.exports=ude()),mw.exports}var dde=fde(),$C=T.createContext(null),hde=e=>e,Ur=()=>{var e=T.useContext($C);return e?e.store.dispatch:hde},rv=()=>{},pde=()=>rv,mde=(e,t)=>e===t;function dt(e){var t=T.useContext($C);return dde.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:pde,t?t.store.getState:rv,t?t.store.getState:rv,t?e:rv,mde)}function gde(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function xde(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function vde(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var mj=e=>Array.isArray(e)?e:[e];function yde(e){const t=Array.isArray(e[0])?e[0]:e;return vde(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function bde(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var _de=class{constructor(e){this.value=e}deref(){return this.value}},wde=typeof WeakRef<"u"?WeakRef:_de,Ede=0,gj=1;function $g(){return{s:Ede,v:void 0,o:null,p:null}}function g7(e,t={}){let r=$g();const{resultEqualityCheck:n}=t;let a,i=0;function s(){let l=r;const{length:u}=arguments;for(let m=0,g=u;m<g;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const _=b.get(x);_===void 0?(l=$g(),b.set(x,l)):l=_}else{let b=l.p;b===null&&(l.p=b=new Map);const _=b.get(x);_===void 0?(l=$g(),b.set(x,l)):l=_}}const f=l;let d;if(l.s===gj)d=l.v;else if(d=e.apply(null,arguments),i++,n){const m=a?.deref?.()??a;m!=null&&n(m,d)&&(d=m,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new wde(d):d}return f.s=gj,f.v=d,d}return s.clearCache=()=>{r=$g(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function Sde(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,l,u={},f=a.pop();typeof f=="object"&&(u=f,f=a.pop()),gde(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...r,...u},{memoize:m,memoizeOptions:g=[],argsMemoize:x=g7,argsMemoizeOptions:b=[]}=d,_=mj(g),y=mj(b),w=yde(a),C=m(function(){return i++,f.apply(null,arguments)},..._),A=x(function(){s++;const F=bde(w,arguments);return l=C.apply(null,F),l},...y);return Object.assign(A,{resultFunc:f,memoizedResultFunc:C,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var Oe=Sde(g7),Ade=Object.assign((e,t=Oe)=>{xde(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,l,u)=>(s[r[u]]=l,s),{}))},{withTypes:()=>Ade}),yw={},bw={},_w={},xj;function Cde(){return xj||(xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),l=t(a);if(s===l&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-s:s-l}return 0};e.compareValues=r})(_w)),_w}var ww={},Ew={},vj;function x7(){return vj||(vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ew)),Ew}var yj;function Tde(){return yj||(yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x7(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(ww)),ww}var bj;function kde(){return bj||(bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cde(),r=Tde(),n=MC();function a(i,s,l,u){if(i==null)return[];l=u?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const f=(x,b)=>{let _=x;for(let y=0;y<b.length&&_!=null;++y)_=_[b[y]];return _},d=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:f(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?f(b,x):typeof b=="object"?b[x]:b,m=s.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:m.map(b=>d(b,x))})).slice().sort((x,b)=>{for(let _=0;_<m.length;_++){const y=t.compareValues(x.criteria[_],b.criteria[_],l[_]);if(y!==0)return y}return 0}).map(x=>x.original)}e.orderBy=a})(bw)),bw}var Sw={},_j;function Dde(){return _j||(_j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(l,u)=>{for(let f=0;f<l.length;f++){const d=l[f];Array.isArray(d)&&u<i?s(d,u+1):a.push(d)}};return s(r,0),a}e.flatten=t})(Sw)),Sw}var Aw={},wj;function v7(){return wj||(wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p7(),r=VC(),n=o7(),a=c7();function i(s,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],s):!1}e.isIterateeCall=i})(Aw)),Aw}var Ej;function Ode(){return Ej||(Ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kde(),r=Dde(),n=v7();function a(i,...s){const l=s.length;return l>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(yw)),yw}var Cw,Sj;function jde(){return Sj||(Sj=1,Cw=Ode().sortBy),Cw}var Nde=jde();const py=vo(Nde);var y7=e=>e.legend.settings,Ide=e=>e.legend.size,Pde=e=>e.legend.payload,Rde=Oe([Pde,y7],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?py(n,r):n});function Fde(){return dt(Rde)}var Hg=1;function b7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=T.useState({height:0,left:0,top:0,width:0}),n=T.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Hg||Math.abs(s.left-t.left)>Hg||Math.abs(s.top-t.top)>Hg||Math.abs(s.width-t.width)>Hg)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ea(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Bde=typeof Symbol=="function"&&Symbol.observable||"@@observable",Aj=Bde,Tw=()=>Math.random().toString(36).substring(7).split("").join("."),Mde={INIT:`@@redux/INIT${Tw()}`,REPLACE:`@@redux/REPLACE${Tw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tw()}`},Xv=Mde;function HC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _7(e,t,r){if(typeof e!="function")throw new Error(Ea(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ea(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ea(1));return r(_7)(e,t)}let n=e,a=t,i=new Map,s=i,l=0,u=!1;function f(){s===i&&(s=new Map,i.forEach((y,w)=>{s.set(w,y)}))}function d(){if(u)throw new Error(Ea(3));return a}function m(y){if(typeof y!="function")throw new Error(Ea(4));if(u)throw new Error(Ea(5));let w=!0;f();const C=l++;return s.set(C,y),function(){if(w){if(u)throw new Error(Ea(6));w=!1,f(),s.delete(C),i=null}}}function g(y){if(!HC(y))throw new Error(Ea(7));if(typeof y.type>"u")throw new Error(Ea(8));if(typeof y.type!="string")throw new Error(Ea(17));if(u)throw new Error(Ea(9));try{u=!0,a=n(a,y)}finally{u=!1}return(i=s).forEach(C=>{C()}),y}function x(y){if(typeof y!="function")throw new Error(Ea(10));n=y,g({type:Xv.REPLACE})}function b(){const y=m;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Ea(11));function C(){const O=w;O.next&&O.next(d())}return C(),{unsubscribe:y(C)}},[Aj](){return this}}}return g({type:Xv.INIT}),{dispatch:g,subscribe:m,getState:d,replaceReducer:x,[Aj]:b}}function Lde(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Xv.INIT})>"u")throw new Error(Ea(12));if(typeof r(void 0,{type:Xv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ea(13))})}function w7(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{Lde(r)}catch(i){a=i}return function(s={},l){if(a)throw a;let u=!1;const f={};for(let d=0;d<n.length;d++){const m=n[d],g=r[m],x=s[m],b=g(x,l);if(typeof b>"u")throw l&&l.type,new Error(Ea(14));f[m]=b,u=u||b!==x}return u=u||n.length!==Object.keys(s).length,u?f:s}}function Yv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function zde(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Ea(15))};const s={getState:a.getState,dispatch:(u,...f)=>i(u,...f)},l=e.map(u=>u(s));return i=Yv(...l)(a.dispatch),{...a,dispatch:i}}}function E7(e){return HC(e)&&"type"in e&&typeof e.type=="string"}var S7=Symbol.for("immer-nothing"),Cj=Symbol.for("immer-draftable"),ni=Symbol.for("immer-state");function Os(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ri=Object,Af=Ri.getPrototypeOf,Qv="constructor",my="prototype",hS="configurable",Zv="enumerable",nv="writable",np="value",il=e=>!!e&&!!e[ni];function Ls(e){return e?A7(e)||gy(e)||!!e[Cj]||!!e[Qv]?.[Cj]||xy(e)||vy(e):!1}var Ude=Ri[my][Qv].toString(),Tj=new WeakMap;function A7(e){if(!e||!qC(e))return!1;const t=Af(e);if(t===null||t===Ri[my])return!0;const r=Ri.hasOwnProperty.call(t,Qv)&&t[Qv];if(r===Object)return!0;if(!ef(r))return!1;let n=Tj.get(r);return n===void 0&&(n=Function.toString.call(r),Tj.set(r,n)),n===Ude}function Fp(e,t,r=!0){Bp(e)===0?(r?Reflect.ownKeys(e):Ri.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Bp(e){const t=e[ni];return t?t.type_:gy(e)?1:xy(e)?2:vy(e)?3:0}var kj=(e,t,r=Bp(e))=>r===2?e.has(t):Ri[my].hasOwnProperty.call(e,t),pS=(e,t,r=Bp(e))=>r===2?e.get(t):e[t],Jv=(e,t,r,n=Bp(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Vde(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var gy=Array.isArray,xy=e=>e instanceof Map,vy=e=>e instanceof Set,qC=e=>typeof e=="object",ef=e=>typeof e=="function",kw=e=>typeof e=="boolean";function $de(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var zo=e=>e.copy_||e.base_,WC=e=>e.modified_?e.copy_:e.base_;function mS(e,t){if(xy(e))return new Map(e);if(vy(e))return new Set(e);if(gy(e))return Array[my].slice.call(e);const r=A7(e);if(t===!0||t==="class_only"&&!r){const n=Ri.getOwnPropertyDescriptors(e);delete n[ni];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],l=n[s];l[nv]===!1&&(l[nv]=!0,l[hS]=!0),(l.get||l.set)&&(n[s]={[hS]:!0,[nv]:!0,[Zv]:l[Zv],[np]:e[s]})}return Ri.create(Af(e),n)}else{const n=Af(e);if(n!==null&&r)return{...e};const a=Ri.create(n);return Ri.assign(a,e)}}function GC(e,t=!1){return yy(e)||il(e)||!Ls(e)||(Bp(e)>1&&Ri.defineProperties(e,{set:qg,add:qg,clear:qg,delete:qg}),Ri.freeze(e),t&&Fp(e,(r,n)=>{GC(n,!0)},!1)),e}function Hde(){Os(2)}var qg={[np]:Hde};function yy(e){return e===null||!qC(e)?!0:Ri.isFrozen(e)}var e1="MapSet",gS="Patches",Dj="ArrayMethods",C7={};function zu(e){const t=C7[e];return t||Os(0,e),t}var Oj=e=>!!C7[e],ap,T7=()=>ap,qde=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Oj(e1)?zu(e1):void 0,arrayMethodsPlugin_:Oj(Dj)?zu(Dj):void 0});function jj(e,t){t&&(e.patchPlugin_=zu(gS),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xS(e){vS(e),e.drafts_.forEach(Wde),e.drafts_=null}function vS(e){e===ap&&(ap=e.parent_)}var Nj=e=>ap=qde(ap,e);function Wde(e){const t=e[ni];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ij(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ni].modified_&&(xS(t),Os(4)),Ls(e)&&(e=Pj(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[ni].base_,e,t)}else e=Pj(t,r);return Gde(t,e,!0),xS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==S7?e:void 0}function Pj(e,t){if(yy(t))return t;const r=t[ni];if(!r)return KC(t,e.handledSet_,e);if(!by(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);O7(r,e)}return r.copy_}function Gde(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&GC(t,r)}function k7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var by=(e,t)=>e.scope_===t,Kde=[];function D7(e,t,r,n){const a=zo(e),i=e.type_;if(n!==void 0&&pS(a,n,i)===t){Jv(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Fp(a,(u,f)=>{if(il(f)){const d=l.get(f)||[];d.push(u),l.set(f,d)}})}const s=e.draftLocations_.get(t)??Kde;for(const l of s)Jv(a,l,r,i)}function Xde(e,t,r){e.callbacks_.push(function(a){const i=t;if(!i||!by(i,a))return;a.mapSetPlugin_?.fixSetContents(i);const s=WC(i);D7(e,i.draft_??i,s,r),O7(i,a)})}function O7(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}k7(e)}}function Yde(e,t,r){const{scope_:n}=e;if(il(r)){const a=r[ni];by(a,n)&&a.callbacks_.push(function(){av(e);const s=WC(a);D7(e,r,s,t)})}else Ls(r)&&e.callbacks_.push(function(){const i=zo(e);pS(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&KC(pS(e.copy_,t,e.type_),n.handledSet_,n)})}function KC(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||il(e)||t.has(e)||!Ls(e)||yy(e)||(t.add(e),Fp(e,(n,a)=>{if(il(a)){const i=a[ni];if(by(i,r)){const s=WC(i);Jv(e,n,s,e.type_),k7(i)}}else Ls(a)&&KC(a,t,r)})),e}function Qde(e,t){const r=gy(e),n={type_:r?1:0,scope_:t?t.scope_:T7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=XC;r&&(a=[n],i=ip);const{revoke:s,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=s,[l,n]}var XC={get(e,t){if(t===ni)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=zo(e);if(!kj(a,t,e.type_))return Zde(e,a,t);const i=a[t];if(e.finalized_||!Ls(i)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&$de(t))return i;if(i===Dw(e.base_,t)){av(e);const s=e.type_===1?+t:t,l=bS(e.scope_,i,e,s);return e.copy_[s]=l}return i},has(e,t){return t in zo(e)},ownKeys(e){return Reflect.ownKeys(zo(e))},set(e,t,r){const n=j7(zo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Dw(zo(e),t),i=a?.[ni];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Vde(r,a)&&(r!==void 0||kj(e.base_,t,e.type_)))return!0;av(e),yS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Yde(e,t,r)),!0},deleteProperty(e,t){return av(e),Dw(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),yS(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=zo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[nv]:!0,[hS]:e.type_!==1||t!=="length",[Zv]:n[Zv],[np]:r[t]}},defineProperty(){Os(11)},getPrototypeOf(e){return Af(e.base_)},setPrototypeOf(){Os(12)}},ip={};Fp(XC,(e,t)=>{ip[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});ip.deleteProperty=function(e,t){return ip.set.call(this,e,t,void 0)};ip.set=function(e,t,r){return XC.set.call(this,e[0],t,r,e[0])};function Dw(e,t){const r=e[ni];return(r?zo(r):e)[t]}function Zde(e,t,r){const n=j7(t,r);return n?np in n?n[np]:n.get?.call(e.draft_):void 0}function j7(e,t){if(!(t in e))return;let r=Af(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Af(r)}}function yS(e){e.modified_||(e.modified_=!0,e.parent_&&yS(e.parent_))}function av(e){e.copy_||(e.assigned_=new Map,e.copy_=mS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Jde=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(ef(r)&&!ef(n)){const s=n;n=r;const l=this;return function(f=s,...d){return l.produce(f,m=>n.call(this,m,...d))}}ef(n)||Os(6),a!==void 0&&!ef(a)&&Os(7);let i;if(Ls(r)){const s=Nj(this),l=bS(s,r,void 0);let u=!0;try{i=n(l),u=!1}finally{u?xS(s):vS(s)}return jj(s,a),Ij(i,s)}else if(!r||!qC(r)){if(i=n(r),i===void 0&&(i=r),i===S7&&(i=void 0),this.autoFreeze_&&GC(i,!0),a){const s=[],l=[];zu(gS).generateReplacementPatches_(r,i,{patches_:s,inversePatches_:l}),a(s,l)}return i}else Os(1,r)},this.produceWithPatches=(r,n)=>{if(ef(r))return(l,...u)=>this.produceWithPatches(l,f=>r(f,...u));let a,i;return[this.produce(r,n,(l,u)=>{a=l,i=u}),a,i]},kw(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),kw(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),kw(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ls(t)||Os(8),il(t)&&(t=Bs(t));const r=Nj(this),n=bS(r,t,void 0);return n[ni].isManual_=!0,vS(r),n}finishDraft(t,r){const n=t&&t[ni];(!n||!n.isManual_)&&Os(9);const{scope_:a}=n;return jj(a,r),Ij(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=zu(gS).applyPatches_;return il(t)?a(t,r):this.produce(t,i=>a(i,r))}};function bS(e,t,r,n){const[a,i]=xy(t)?zu(e1).proxyMap_(t,r):vy(t)?zu(e1).proxySet_(t,r):Qde(t,r);return(r?.scope_??T7()).drafts_.push(a),i.callbacks_=r?.callbacks_??[],i.key_=n,r&&n!==void 0?Xde(r,i,n):i.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:f}=u;i.modified_&&f&&f.generatePatches_(i,[],u)}),a}function Bs(e){return il(e)||Os(10,e),N7(e)}function N7(e){if(!Ls(e)||yy(e))return e;const t=e[ni];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=mS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=mS(e,!0);return Fp(r,(a,i)=>{Jv(r,a,N7(i))},n),t&&(t.finalized_=!1),r}var ehe=new Jde,I7=ehe.produce;function P7(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var the=P7(),rhe=P7,nhe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yv:Yv.apply(null,arguments)};function ms(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Bi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>E7(n)&&n.type===e,r}var R7=class ph extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ph.prototype)}static get[Symbol.species](){return ph}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ph(...t[0].concat(this)):new ph(...t.concat(this))}};function Rj(e){return Ls(e)?I7(e,()=>{}):e}function Wg(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ahe(e){return typeof e=="boolean"}var ihe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new R7;return r&&(ahe(r)?s.push(the):s.push(rhe(r.extraArgument))),s},F7="RTK_autoBatch",Zr=()=>e=>({payload:e,meta:{[F7]:!0}}),Fj=e=>t=>{setTimeout(t,e)},B7=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Fj(10):e.type==="callback"?e.queueNotification:Fj(e.timeout),f=()=>{s=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const m=()=>a&&d(),g=n.subscribe(m);return l.add(d),()=>{g(),l.delete(d)}},dispatch(d){try{return a=!d?.meta?.[F7],i=!a,i&&(s||(s=!0,u(f))),n.dispatch(d)}finally{a=!0}}})},she=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new R7(e);return n&&a.push(B7(typeof n=="object"?n:void 0)),a};function ohe(e){const t=ihe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(HC(r))l=w7(r);else throw new Error(Bi(1));let u;typeof n=="function"?u=n(t):u=t();let f=Yv;a&&(f=nhe({trace:!1,...typeof a=="object"&&a}));const d=zde(...u),m=she(d);let g=typeof s=="function"?s(m):m();const x=f(...g);return _7(l,i,x)}function M7(e){const t={},r=[];let n;const a={addCase(i,s){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Bi(28));if(l in t)throw new Error(Bi(29));return t[l]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function lhe(e){return typeof e=="function"}function che(e,t){let[r,n,a]=M7(t),i;if(lhe(e))i=()=>Rj(e());else{const l=Rj(e);i=()=>l}function s(l=i(),u){let f=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[a]),f.reduce((d,m)=>{if(m)if(il(d)){const x=m(d,u);return x===void 0?d:x}else{if(Ls(d))return I7(d,g=>m(g,u));{const g=m(d,u);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},l)}return s.getInitialState=i,s}var uhe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fhe=(e=21)=>{let t="",r=e;for(;r--;)t+=uhe[Math.random()*64|0];return t},dhe=Symbol.for("rtk-slice-createasyncthunk");function hhe(e,t){return`${e}/${t}`}function phe({creators:e}={}){const t=e?.asyncThunk?.[dhe];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(Bi(11));const s=(typeof n.reducers=="function"?n.reducers(ghe()):n.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(A,O){const F=typeof A=="string"?A:A.type;if(!F)throw new Error(Bi(12));if(F in u.sliceCaseReducersByType)throw new Error(Bi(13));return u.sliceCaseReducersByType[F]=O,f},addMatcher(A,O){return u.sliceMatchers.push({matcher:A,reducer:O}),f},exposeAction(A,O){return u.actionCreators[A]=O,f},exposeCaseReducer(A,O){return u.sliceCaseReducersByName[A]=O,f}};l.forEach(A=>{const O=s[A],F={reducerName:A,type:hhe(a,A),createNotation:typeof n.reducers=="function"};vhe(O)?bhe(F,O,f,t):xhe(F,O,f)});function d(){const[A={},O=[],F=void 0]=typeof n.extraReducers=="function"?M7(n.extraReducers):[n.extraReducers],M={...A,...u.sliceCaseReducersByType};return che(n.initialState,j=>{for(let k in M)j.addCase(k,M[k]);for(let k of u.sliceMatchers)j.addMatcher(k.matcher,k.reducer);for(let k of O)j.addMatcher(k.matcher,k.reducer);F&&j.addDefaultCase(F)})}const m=A=>A,g=new Map,x=new WeakMap;let b;function _(A,O){return b||(b=d()),b(A,O)}function y(){return b||(b=d()),b.getInitialState()}function w(A,O=!1){function F(j){let k=j[A];return typeof k>"u"&&O&&(k=Wg(x,F,y)),k}function M(j=m){const k=Wg(g,O,()=>new WeakMap);return Wg(k,j,()=>{const R={};for(const[I,P]of Object.entries(n.selectors??{}))R[I]=mhe(P,j,()=>Wg(x,j,y),O);return R})}return{reducerPath:A,getSelectors:M,get selectors(){return M(F)},selectSlice:F}}const C={name:a,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...w(i),injectInto(A,{reducerPath:O,...F}={}){const M=O??i;return A.inject({reducerPath:M,reducer:_},F),{...C,...w(M,!0)}}};return C}}function mhe(e,t,r,n){function a(i,...s){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...s)}return a.unwrapped=e,a}var bi=phe();function ghe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function xhe({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!yhe(n))throw new Error(Bi(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?ms(e,s):ms(e))}function vhe(e){return e._reducerDefinitionType==="asyncThunk"}function yhe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bhe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Bi(18));const{payloadCreator:i,fulfilled:s,pending:l,rejected:u,settled:f,options:d}=r,m=a(e,i,d);n.exposeAction(t,m),s&&n.addCase(m.fulfilled,s),l&&n.addCase(m.pending,l),u&&n.addCase(m.rejected,u),f&&n.addMatcher(m.settled,f),n.exposeCaseReducer(t,{fulfilled:s||Gg,pending:l||Gg,rejected:u||Gg,settled:f||Gg})}function Gg(){}var _he="task",L7="listener",z7="completed",YC="cancelled",whe=`task-${YC}`,Ehe=`task-${z7}`,_S=`${L7}-${YC}`,She=`${L7}-${z7}`,_y=class{constructor(e){this.code=e,this.message=`${_he} ${YC} (reason: ${e})`}name="TaskAbortError";message},QC=(e,t)=>{if(typeof e!="function")throw new TypeError(Bi(32))},t1=()=>{},U7=(e,t=t1)=>(e.catch(t),e),V7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Au=e=>{if(e.aborted)throw new _y(e.reason)};function $7(e,t){let r=t1;return new Promise((n,a)=>{const i=()=>a(new _y(e.reason));if(e.aborted){i();return}r=V7(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=t1})}var Ahe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof _y?"cancelled":"rejected",error:r}}finally{t?.()}},r1=e=>t=>U7($7(e,t).then(r=>(Au(e),r))),H7=e=>{const t=r1(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:pf}=Object,Bj={},wy="listenerMiddleware",Che=(e,t)=>{const r=n=>V7(e,()=>n.abort(e.reason));return(n,a)=>{QC(n);const i=new AbortController;r(i);const s=Ahe(async()=>{Au(e),Au(i.signal);const l=await n({pause:r1(i.signal),delay:H7(i.signal),signal:i.signal});return Au(i.signal),l},()=>i.abort(Ehe));return a?.autoJoin&&t.push(s.catch(t1)),{result:r1(e)(s),cancel(){i.abort(whe)}}}},The=(e,t)=>{const r=async(n,a)=>{Au(t);let i=()=>{};const l=[new Promise((u,f)=>{let d=e({predicate:n,effect:(m,g)=>{g.unsubscribe(),u([m,g.getState(),g.getOriginalState()])}});i=()=>{d(),f()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await $7(t,Promise.race(l));return Au(t),u}finally{i()}};return(n,a)=>U7(r(n,a))},q7=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=ms(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Bi(21));return QC(i),{predicate:a,type:t,effect:i}},W7=pf(e=>{const{type:t,predicate:r,effect:n}=q7(e);return{id:fhe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Bi(22))}}},{withTypes:()=>W7}),Mj=(e,t)=>{const{type:r,effect:n,predicate:a}=q7(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},wS=e=>{e.pending.forEach(t=>{t.abort(_S)})},khe=(e,t)=>()=>{for(const r of t.keys())wS(r);e.clear()},Lj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},G7=pf(ms(`${wy}/add`),{withTypes:()=>G7}),Dhe=ms(`${wy}/removeAll`),K7=pf(ms(`${wy}/remove`),{withTypes:()=>K7}),Ohe=(...e)=>{console.error(`${wy}/error`,...e)},Mp=(e={})=>{const t=new Map,r=new Map,n=x=>{const b=r.get(x)??0;r.set(x,b+1)},a=x=>{const b=r.get(x)??1;b===1?r.delete(x):r.set(x,b-1)},{extra:i,onError:s=Ohe}=e;QC(s);const l=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),b=>{x.unsubscribe(),b?.cancelActive&&wS(x)}),u=x=>{const b=Mj(t,x)??W7(x);return l(b)};pf(u,{withTypes:()=>u});const f=x=>{const b=Mj(t,x);return b&&(b.unsubscribe(),x.cancelActive&&wS(b)),!!b};pf(f,{withTypes:()=>f});const d=async(x,b,_,y)=>{const w=new AbortController,C=The(u,w.signal),A=[];try{x.pending.add(w),n(x),await Promise.resolve(x.effect(b,pf({},_,{getOriginalState:y,condition:(O,F)=>C(O,F).then(Boolean),take:C,delay:H7(w.signal),pause:r1(w.signal),extra:i,signal:w.signal,fork:Che(w.signal,A),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((O,F,M)=>{O!==w&&(O.abort(_S),M.delete(O))})},cancel:()=>{w.abort(_S),x.pending.delete(w)},throwIfCancelled:()=>{Au(w.signal)}})))}catch(O){O instanceof _y||Lj(s,O,{raisedBy:"effect"})}finally{await Promise.all(A),w.abort(She),a(x),x.pending.delete(w)}},m=khe(t,r);return{middleware:x=>b=>_=>{if(!E7(_))return b(_);if(G7.match(_))return u(_.payload);if(Dhe.match(_)){m();return}if(K7.match(_))return f(_.payload);let y=x.getState();const w=()=>{if(y===Bj)throw new Error(Bi(23));return y};let C;try{if(C=b(_),t.size>0){const A=x.getState(),O=Array.from(t.values());for(const F of O){let M=!1;try{M=F.predicate(_,A,y)}catch(j){M=!1,Lj(s,j,{raisedBy:"predicate"})}M&&d(F,_,x,w)}}}finally{y=Bj}return C},startListening:u,stopListening:f,clearListeners:m}};function Bi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jhe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},X7=bi({name:"chartLayout",initialState:jhe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Nhe,setLayout:Ihe,setChartSize:Phe,setScale:Rhe}=X7.actions,Fhe=X7.reducer;function Y7(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Lr(e){return Number.isFinite(e)}function go(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){Bhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bhe(e,t,r){return(t=Mhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mhe(e){var t=Lhe(e,"string");return typeof t=="symbol"?t:t+""}function Lhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rr(e,t,r){return ln(e)||ln(t)?r:mo(t)?Lu(e,t,r):typeof t=="function"?t(e):r}var zhe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&i!=="center"&&at(e[i]))return af(af({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&s!=="middle"&&at(e[s]))return af(af({},e),{},{[s]:e[s]+(a||0)})}return e},dl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Q7=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,s=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||s.push(t),i||s.push(r),s},Z7=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:d,ticks:m,niceTicks:g,axisType:x}=e;if(!s)return null;var b=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,_=a==="category"&&s.bandwidth?s.bandwidth()/b:0;if(_=x==="angleAxis"&&i&&i.length>=2?ma(i[0]-i[1])*2*_:_,m||g){var y=(m||g||[]).map((w,C)=>{var A=n?n.indexOf(w):w;return{coordinate:s(A)+_,value:w,offset:_,index:C}});return y.filter(w=>!ps(w.coordinate))}return u&&f?f.map((w,C)=>({coordinate:s(w)+_,value:w,index:C,offset:_})):s.ticks&&d!=null?s.ticks(d).map((w,C)=>({coordinate:s(w)+_,value:w,offset:_,index:C})):s.domain().map((w,C)=>({coordinate:s(w)+_,value:n?n[w]:w,index:C,offset:_}))},Uj=1e-4,Uhe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Uj,i=Math.max(n[0],n[1])+Uj,s=e(t[0]),l=e(t[r-1]);(s<a||s>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},Vhe=(e,t)=>{if(!t||t.length!==2||!at(t[0])||!at(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!at(e[0])||e[0]<r)&&(a[0]=r),(!at(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},$he=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,s=0,l=0;l<r;++l){var u=e[l],f=u?.[a];if(f!=null){var d=f[1],m=f[0],g=ps(d)?m:d;g>=0?(f[0]=i,f[1]=i+g,i=d):(f[0]=s,f[1]=s+g,s=d)}}}},Hhe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,s=0;s<r;++s){var l=e[s],u=l?.[a];if(u!=null){var f=ps(u[1])?u[0]:u[1];f>=0?(u[0]=i,u[1]=i+f,i=u[1]):(u[0]=0,u[1]=0)}}}},qhe={sign:$he,expand:ufe,none:Mu,silhouette:ffe,wiggle:dfe,positive:Hhe},Whe=(e,t,r)=>{var n,a=(n=qhe[r])!==null&&n!==void 0?n:Mu,i=cfe().keys(t).value((l,u)=>Number(Rr(l,u,0))).order(fS).offset(a),s=i(e);return s.forEach((l,u)=>{l.forEach((f,d)=>{var m=Rr(e[d],t[u],0);Array.isArray(m)&&m.length===2&&at(m[0])&&at(m[1])&&(f[0]=m[0],f[1]=m[1])})}),s};function J7(e){return e==null?void 0:String(e)}function Vj(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ln(a[t.dataKey])){var l=n7(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=Rr(a,ln(s)?t.dataKey:s);return ln(u)?null:t.scale(u)}var $j=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var l=Rr(i,t.dataKey,t.scale.domain()[s]);return ln(l)?null:t.scale(l)-a/2+n},Ghe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Khe=e=>{var t=e.flat(2).filter(at);return[Math.min(...t),Math.max(...t)]},Xhe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Yhe=(e,t,r)=>{if(e!=null)return Xhe(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:s}=i,l=s.reduce((u,f)=>{var d=Y7(f,t,r),m=Khe(d);return!Lr(m[0])||!Lr(m[1])?u:[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Hj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=py(t,d=>d.coordinate),i=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];i=Math.min((u?.coordinate||0)-(f?.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Wj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return af(af({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Wf(e,t){if(e)return String(e);if(typeof t=="string")return t}var Qhe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Zhe=(e,t)=>t==="centric"?e.angle:e.radius,hl=e=>e.layout.width,pl=e=>e.layout.height,Jhe=e=>e.layout.scale,eL=e=>e.layout.margin,Ey=Oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Sy=Oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),tL="data-recharts-item-index",rL="data-recharts-item-id",Lp=60;function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){epe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function epe(e,t,r){return(t=tpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tpe(e){var t=rpe(e,"string");return typeof t=="symbol"?t:t+""}function rpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var npe=e=>e.brush.height;function ape(e){var t=Sy(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Lp;return r+a}return r},0)}function ipe(e){var t=Sy(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Lp;return r+a}return r},0)}function spe(e){var t=Ey(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function ope(e){var t=Ey(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ta=Oe([hl,pl,eL,npe,ape,ipe,spe,ope,y7,Ide],(e,t,r,n,a,i,s,l,u,f)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+s,bottom:(r.bottom||0)+l},g=Kg(Kg({},m),d),x=g.bottom;g.bottom+=n,g=zhe(g,u,f);var b=e-g.left-g.right,_=t-g.top-g.bottom;return Kg(Kg({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(_,0)})}),lpe=Oe(ta,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ZC=Oe(hl,pl,(e,t)=>({x:0,y:0,width:e,height:t})),cpe=T.createContext(null),Wa=()=>T.useContext(cpe)!=null,Ay=e=>e.brush,Cy=Oe([Ay,ta,eL],(e,t,r)=>({height:e.height,x:at(e.x)?e.x:t.left,y:at(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:at(e.width)?e.width:t.width})),Ow={},jw={},Nw={},Kj;function upe(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,l=null;const u=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},m=()=>{f&&d(),_()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},b=()=>{g!==null&&(clearTimeout(g),g=null)},_=()=>{b(),s=void 0,l=null},y=()=>{d()},w=function(...C){if(a?.aborted)return;s=this,l=C;const A=g==null;x(),u&&A&&d()};return w.schedule=x,w.cancel=_,w.flush=y,a?.addEventListener("abort",_,{once:!0}),w}e.debounce=t})(Nw)),Nw}var Xj;function fpe(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=upe();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:l=!0,maxWait:u}=i,f=Array(2);s&&(f[0]="leading"),l&&(f[1]="trailing");let d,m=null;const g=t.debounce(function(..._){d=n.apply(this,_),m=null},a,{edges:f}),x=function(..._){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(d=n.apply(this,_),m=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,_),d)},b=()=>(g.flush(),d);return x.cancel=g.cancel,x.flush=b,x}e.debounce=r})(jw)),jw}var Yj;function dpe(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fpe();function r(n,a=0,i={}){const{leading:s=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:l})}e.throttle=r})(Ow)),Ow}var Iw,Qj;function hpe(){return Qj||(Qj=1,Iw=dpe().throttle),Iw}var ppe=hpe();const mpe=vo(ppe);var n1=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>a[s++]))}},nL=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,l=al(n)?e:Number(n),u=al(a)?t:Number(a);return i&&i>0&&(l?u=l/i:u&&(l=u*i),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},gpe={width:0,height:0,overflow:"visible"},xpe={width:0,overflowX:"visible"},vpe={height:0,overflowY:"visible"},ype={},bpe=e=>{var{width:t,height:r}=e,n=al(t),a=al(r);return n&&a?gpe:n?xpe:a?vpe:ype};function _pe(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ES.apply(null,arguments)}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){wpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wpe(e,t,r){return(t=Epe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Epe(e){var t=Spe(e,"string");return typeof t=="symbol"?t:t+""}function Spe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aL=T.createContext({width:-1,height:-1});function Ape(e){return go(e.width)&&go(e.height)}function iL(e){var{children:t,width:r,height:n}=e,a=T.useMemo(()=>({width:r,height:n}),[r,n]);return Ape(a)?T.createElement(aL.Provider,{value:a},t):null}var JC=()=>T.useContext(aL),Cpe=T.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:l,maxHeight:u,children:f,debounce:d=0,id:m,className:g,onResize:x,style:b={}}=e,_=T.useRef(null),y=T.useRef();y.current=x,T.useImperativeHandle(t,()=>_.current);var[w,C]=T.useState({containerWidth:n.width,containerHeight:n.height}),A=T.useCallback((k,R)=>{C(I=>{var P=Math.round(k),N=Math.round(R);return I.containerWidth===P&&I.containerHeight===N?I:{containerWidth:P,containerHeight:N}})},[]);T.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return Pp;var k=N=>{var B,{width:oe,height:he}=N[0].contentRect;A(oe,he),(B=y.current)===null||B===void 0||B.call(y,oe,he)};d>0&&(k=mpe(k,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(k),{width:I,height:P}=_.current.getBoundingClientRect();return A(I,P),R.observe(_.current),()=>{R.disconnect()}},[A,d]);var{containerWidth:O,containerHeight:F}=w;n1(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:M,calculatedHeight:j}=nL(O,F,{width:a,height:i,aspect:r,maxHeight:u});return n1(M!=null&&M>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,j,a,i,s,l,r),T.createElement("div",{id:m?"".concat(m):void 0,className:dr("recharts-responsive-container",g),style:Jj(Jj({},b),{},{width:a,height:i,minWidth:s,minHeight:l,maxHeight:u}),ref:_},T.createElement("div",{style:bpe({width:a,height:i})},T.createElement(iL,{width:M,height:j},f)))}),a1=T.forwardRef((e,t)=>{var r=JC();if(go(r.width)&&go(r.height))return e.children;var{width:n,height:a}=_pe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=nL(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return at(i)&&at(s)?T.createElement(iL,{width:i,height:s},e.children):T.createElement(Cpe,ES({},e,{width:n,height:a,ref:t}))});function sL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ty=()=>{var e,t=Wa(),r=dt(lpe),n=dt(Cy),a=(e=dt(Ay))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Tpe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},oL=()=>{var e;return(e=dt(ta))!==null&&e!==void 0?e:Tpe},e4=()=>dt(hl),t4=()=>dt(pl),kpe=()=>dt(e=>e.layout.margin),rr=e=>e.layout.layoutType,a0=()=>dt(rr),Dpe=()=>{var e=a0();if(e==="horizontal"||e==="vertical")return e},Ope=()=>{var e=a0();return e!==void 0},ky=e=>{var t=Ur(),r=Wa(),{width:n,height:a}=e,i=JC(),s=n,l=a;return i&&(s=i.width>0?i.width:n,l=i.height>0?i.height:a),T.useEffect(()=>{!r&&go(s)&&go(l)&&t(Phe({width:s,height:l}))},[t,r,s,l]),null},lL=Symbol.for("immer-nothing"),eN=Symbol.for("immer-draftable"),Ui=Symbol.for("immer-state");function js(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sp=Object.getPrototypeOf;function Tf(e){return!!e&&!!e[Ui]}function Uu(e){return e?cL(e)||Array.isArray(e)||!!e[eN]||!!e.constructor?.[eN]||zp(e)||Oy(e):!1}var jpe=Object.prototype.constructor.toString(),tN=new WeakMap;function cL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=tN.get(r);return n===void 0&&(n=Function.toString.call(r),tN.set(r,n)),n===jpe}function i1(e,t,r=!0){Dy(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Dy(e){const t=e[Ui];return t?t.type_:Array.isArray(e)?1:zp(e)?2:Oy(e)?3:0}function SS(e,t){return Dy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uL(e,t,r){const n=Dy(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Npe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zp(e){return e instanceof Map}function Oy(e){return e instanceof Set}function lu(e){return e.copy_||e.base_}function AS(e,t){if(zp(e))return new Map(e);if(Oy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=cL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ui];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(sp(e),n)}else{const n=sp(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function r4(e,t=!1){return jy(e)||Tf(e)||!Uu(e)||(Dy(e)>1&&Object.defineProperties(e,{set:Xg,add:Xg,clear:Xg,delete:Xg}),Object.freeze(e),t&&Object.values(e).forEach(r=>r4(r,!0))),e}function Ipe(){js(2)}var Xg={value:Ipe};function jy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Ppe={};function Vu(e){const t=Ppe[e];return t||js(0,e),t}var op;function fL(){return op}function Rpe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rN(e,t){t&&(Vu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function CS(e){TS(e),e.drafts_.forEach(Fpe),e.drafts_=null}function TS(e){e===op&&(op=e.parent_)}function nN(e){return op=Rpe(op,e)}function Fpe(e){const t=e[Ui];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ui].modified_&&(CS(t),js(4)),Uu(e)&&(e=s1(t,e),t.parent_||o1(t,e)),t.patches_&&Vu("Patches").generateReplacementPatches_(r[Ui].base_,e,t.patches_,t.inversePatches_)):e=s1(t,r,[]),CS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lL?e:void 0}function s1(e,t,r){if(jy(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ui];if(!a)return i1(t,(i,s)=>iN(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return o1(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,l=!1;a.type_===3&&(s=new Set(i),i.clear(),l=!0),i1(s,(u,f)=>iN(e,a,i,u,f,r,l),n),o1(e,i,!1),r&&e.patches_&&Vu("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function iN(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const l=jy(a);if(!(l&&!s)){if(Tf(a)){const u=i&&t&&t.type_!==3&&!SS(t.assigned_,n)?i.concat(n):void 0,f=s1(e,a,u);if(uL(r,n,f),Tf(f))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(Uu(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;s1(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(zp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&o1(e,a)}}}function o1(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&r4(t,r)}function Bpe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:fL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=n4;r&&(a=[n],i=lp);const{revoke:s,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=s,l}var n4={get(e,t){if(t===Ui)return e;const r=lu(e);if(!SS(r,t))return Mpe(e,r,t);const n=r[t];return e.finalized_||!Uu(n)?n:n===Pw(e.base_,t)?(Rw(e),e.copy_[t]=DS(n,e)):n},has(e,t){return t in lu(e)},ownKeys(e){return Reflect.ownKeys(lu(e))},set(e,t,r){const n=dL(lu(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Pw(lu(e),t),i=a?.[Ui];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Npe(r,a)&&(r!==void 0||SS(e.base_,t)))return!0;Rw(e),kS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Pw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Rw(e),kS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=lu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){js(11)},getPrototypeOf(e){return sp(e.base_)},setPrototypeOf(){js(12)}},lp={};i1(n4,(e,t)=>{lp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lp.deleteProperty=function(e,t){return lp.set.call(this,e,t,void 0)};lp.set=function(e,t,r){return n4.set.call(this,e[0],t,r,e[0])};function Pw(e,t){const r=e[Ui];return(r?lu(r):e)[t]}function Mpe(e,t,r){const n=dL(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function dL(e,t){if(!(t in e))return;let r=sp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=sp(r)}}function kS(e){e.modified_||(e.modified_=!0,e.parent_&&kS(e.parent_))}function Rw(e){e.copy_||(e.copy_=AS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Lpe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(u=i,...f){return s.produce(u,d=>r.call(this,d,...f))}}typeof r!="function"&&js(6),n!==void 0&&typeof n!="function"&&js(7);let a;if(Uu(t)){const i=nN(this),s=DS(t,void 0);let l=!0;try{a=r(s),l=!1}finally{l?CS(i):TS(i)}return rN(i,n),aN(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===lL&&(a=void 0),this.autoFreeze_&&r4(a,!0),n){const i=[],s=[];Vu("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else js(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,u=>t(u,...l));let n,a;return[this.produce(t,r,(s,l)=>{n=s,a=l}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Uu(e)||js(8),Tf(e)&&(e=zpe(e));const t=nN(this),r=DS(e,void 0);return r[Ui].isManual_=!0,TS(t),r}finishDraft(e,t){const r=e&&e[Ui];(!r||!r.isManual_)&&js(9);const{scope_:n}=r;return rN(n,t),aN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Vu("Patches").applyPatches_;return Tf(e)?n(e,t):this.produce(e,a=>n(a,t))}};function DS(e,t){const r=zp(e)?Vu("MapSet").proxyMap_(e,t):Oy(e)?Vu("MapSet").proxySet_(e,t):Bpe(e,t);return(t?t.scope_:fL()).drafts_.push(r),r}function zpe(e){return Tf(e)||js(10,e),hL(e)}function hL(e){if(!Uu(e)||jy(e))return e;const t=e[Ui];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=AS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=AS(e,!0);return i1(r,(a,i)=>{uL(r,a,hL(i))},n),t&&(t.finalized_=!1),r}var Upe=new Lpe;Upe.produce;var Vpe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},pL=bi({name:"legend",initialState:Vpe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Bs(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Zr()},removeLegendPayload:{reducer(e,t){var r=Bs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Zr()}}}),{setLegendSize:sN,setLegendSettings:$pe,addLegendPayload:mL,replaceLegendPayload:gL,removeLegendPayload:xL}=pL.actions,Hpe=pL.reducer,qpe=["contextPayload"];function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OS.apply(null,arguments)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){Wpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wpe(e,t,r){return(t=Gpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gpe(e){var t=Kpe(e,"string");return typeof t=="symbol"?t:t+""}function Kpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xpe(e,t){if(e==null)return{};var r,n,a=Ype(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ype(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qpe(e){return e.value}function Zpe(e){var{contextPayload:t}=e,r=Xpe(e,qpe),n=m7(t,e.payloadUniqBy,Qpe),a=kf(kf({},r),{},{payload:n});return T.isValidElement(e.content)?T.cloneElement(e.content,a):typeof e.content=="function"?T.createElement(e.content,a):T.createElement(Vfe,a)}function Jpe(e,t,r,n,a,i){var{layout:s,align:l,verticalAlign:u}=t,f,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&s==="vertical"?f={left:((n||0)-i.width)/2}:f=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?d={top:((a||0)-i.height)/2}:d=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),kf(kf({},f),d)}function eme(e){var t=Ur();return T.useEffect(()=>{t($pe(e))},[t,e]),null}function tme(e){var t=Ur();return T.useEffect(()=>(t(sN(e)),()=>{t(sN({width:0,height:0}))}),[t,e]),null}function rme(e,t,r,n){return e==="vertical"&&at(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var nme={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function vL(e){var t=Wn(e,nme),r=Fde(),n=I0e(),a=kpe(),{width:i,height:s,wrapperStyle:l,portal:u}=t,[f,d]=b7([r]),m=e4(),g=t4();if(m==null||g==null)return null;var x=m-(a?.left||0)-(a?.right||0),b=rme(t.layout,s,i,x),_=u?l:kf(kf({position:"absolute",width:b?.width||i||"auto",height:b?.height||s||"auto"},Jpe(l,t,a,m,g,f)),l),y=u??n;if(y==null||r==null)return null;var w=T.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:d},T.createElement(eme,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&T.createElement(tme,{width:f.width,height:f.height}),T.createElement(Zpe,OS({},t,b,{margin:a,chartWidth:m,chartHeight:g,contextPayload:r})));return z1.createPortal(w,y)}vL.displayName="Legend";function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jS.apply(null,arguments)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){ame(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ame(e,t,r){return(t=ime(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ime(e){var t=sme(e,"string");return typeof t=="symbol"?t:t+""}function sme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ome(e){return Array.isArray(e)&&mo(e[0])&&mo(e[1])?e.join(" ~ "):e}var lme=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:f,label:d,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var F={padding:0,margin:0},M=(l?py(i,l):i).map((j,k)=>{if(j.type==="none")return null;var R=j.formatter||s||ome,{value:I,name:P}=j,N=I,B=P;if(R){var oe=R(I,P,j,k,i);if(Array.isArray(oe))[N,B]=oe;else if(oe!=null)N=oe;else return null}var he=Fw({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:he},mo(B)?T.createElement("span",{className:"recharts-tooltip-item-name"},B):null,mo(B)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},N),T.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:F},M)}return null},b=Fw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),_=Fw({margin:0},a),y=!ln(d),w=y?d:"",C=dr("recharts-default-tooltip",u),A=dr("recharts-tooltip-label",f);y&&m&&i!==void 0&&i!==null&&(w=m(d,i));var O=g?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",jS({className:C,style:b},O),T.createElement("p",{className:A,style:_},T.isValidElement(w)?w:"".concat(w)),x())},Qd="recharts-tooltip-wrapper",cme={visibility:"hidden"};function ume(e){var{coordinate:t,translateX:r,translateY:n}=e;return dr(Qd,{["".concat(Qd,"-right")]:at(r)&&t&&at(t.x)&&r>=t.x,["".concat(Qd,"-left")]:at(r)&&t&&at(t.x)&&r<t.x,["".concat(Qd,"-bottom")]:at(n)&&t&&at(t.y)&&n>=t.y,["".concat(Qd,"-top")]:at(n)&&t&&at(t.y)&&n<t.y})}function cN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(i&&at(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),m=r[n]+a;if(t[n])return s[n]?d:m;var g=u[n];if(g==null)return 0;if(s[n]){var x=d,b=g;return x<b?Math.max(m,g):Math.max(d,g)}if(f==null)return 0;var _=m+l,y=g+f;return _>y?Math.max(d,g):Math.max(m,g)}function fme(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function dme(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:l,viewBox:u}=e,f,d,m;return s.height>0&&s.width>0&&r?(d=cN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),m=cN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),f=fme({translateX:d,translateY:m,useTranslate3d:l})):f=cme,{cssProperties:f,cssClasses:ume({translateX:d,translateY:m,coordinate:r})}}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){NS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NS(e,t,r){return(t=hme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hme(e){var t=pme(e,"string");return typeof t=="symbol"?t:t+""}function pme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mme extends T.PureComponent{constructor(){super(...arguments),NS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),NS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:l,isAnimationActive:u,offset:f,position:d,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:b,lastBoundingBox:_,innerRef:y,hasPortalFromProps:w}=this.props,{cssClasses:C,cssProperties:A}=dme({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:f,position:d,reverseDirection:m,tooltipBox:{height:_.height,width:_.width},useTranslate3d:g,viewBox:x}),O=w?{}:Yg(Yg({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),F=Yg(Yg({},O),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},b);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:F,ref:y},i)}}var yL=()=>{var e;return(e=dt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IS.apply(null,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){gme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gme(e,t,r){return(t=xme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xme(e){var t=vme(e,"string");return typeof t=="symbol"?t:t+""}function vme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hN={curveBasisClosed:Z0e,curveBasisOpen:J0e,curveBasis:Q0e,curveBumpX:B0e,curveBumpY:M0e,curveLinearClosed:efe,curveLinear:dy,curveMonotoneX:tfe,curveMonotoneY:rfe,curveNatural:nfe,curveStep:afe,curveStepAfter:sfe,curveStepBefore:ife},l1=e=>Lr(e.x)&&Lr(e.y),pN=e=>e.base!=null&&l1(e.base)&&l1(e),Zd=e=>e.x,Jd=e=>e.y,yme=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ip(e));return(r==="curveMonotone"||r==="curveBump")&&t?hN["".concat(r).concat(t==="vertical"?"Y":"X")]:hN[r]||dy},bme=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=yme(t,a),l=i?r.filter(l1):r,u;if(Array.isArray(n)){var f=r.map((x,b)=>dN(dN({},x),{},{base:n[b]}));a==="vertical"?u=Vg().y(Jd).x1(Zd).x0(x=>x.base.x):u=Vg().x(Zd).y1(Jd).y0(x=>x.base.y);var d=u.defined(pN).curve(s),m=i?f.filter(pN):f;return d(m)}a==="vertical"&&at(n)?u=Vg().y(Jd).x1(Zd).x0(n):at(n)?u=Vg().x(Zd).y1(Jd).y0(n):u=H9().x(Zd).y(Jd);var g=u.defined(l1).curve(s);return g(l)},mf=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=a0();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?bme(s):n;return T.createElement("path",IS({},yi(e),UC(e),{className:dr("recharts-curve",t),d:l===null?void 0:l,ref:a}))},_me=["x","y","top","left","width","height","className"];function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PS.apply(null,arguments)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){Eme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eme(e,t,r){return(t=Sme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sme(e){var t=Ame(e,"string");return typeof t=="symbol"?t:t+""}function Ame(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cme(e,t){if(e==null)return{};var r,n,a=Tme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kme=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Dme=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:l}=e,u=Cme(e,_me),f=wme({x:t,y:r,top:n,left:a,width:i,height:s},u);return!at(t)||!at(r)||!at(i)||!at(s)||!at(n)||!at(a)?null:T.createElement("path",PS({},ri(f),{className:dr("recharts-cross",l),d:kme(t,r,i,s,n,a)}))};function Ome(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){jme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jme(e,t,r){return(t=Nme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nme(e){var t=Ime(e,"string");return typeof t=="symbol"?t:t+""}function Ime(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pme=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),bL=(e,t,r)=>e.map(n=>"".concat(Pme(n)," ").concat(t,"ms ").concat(r)).join(","),Rme=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),cp=(e,t)=>Object.keys(t).reduce((r,n)=>xN(xN({},r),{},{[n]:e(n,t[n])}),{});function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){Fme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fme(e,t,r){return(t=Bme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bme(e){var t=Mme(e,"string");return typeof t=="symbol"?t:t+""}function Mme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c1=(e,t,r)=>e+(t-e)*r,RS=e=>{var{from:t,to:r}=e;return t!==r},_L=(e,t,r)=>{var n=cp((a,i)=>{if(RS(i)){var[s,l]=e(i.from,i.to,i.velocity);return Xn(Xn({},i),{},{from:s,velocity:l})}return i},t);return r<1?cp((a,i)=>RS(i)&&n[a]!=null?Xn(Xn({},i),{},{velocity:c1(i.velocity,n[a].velocity,r),from:c1(i.from,n[a].from,r)}):i,t):_L(e,n,r-1)};function Lme(e,t,r,n,a,i){var s,l=n.reduce((g,x)=>Xn(Xn({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>cp((g,x)=>x.from,l),f=()=>!Object.values(l).filter(RS).length,d=null,m=g=>{s||(s=g);var x=g-s,b=x/r.dt;l=_L(r,l,b),a(Xn(Xn(Xn({},e),t),u())),s=g,f()||(d=i.setTimeout(m))};return()=>(d=i.setTimeout(m),()=>{var g;(g=d)===null||g===void 0||g()})}function zme(e,t,r,n,a,i,s){var l=null,u=a.reduce((m,g)=>{var x=e[g],b=t[g];return x==null||b==null?m:Xn(Xn({},m),{},{[g]:[x,b]})},{}),f,d=m=>{f||(f=m);var g=(m-f)/n,x=cp((_,y)=>c1(...y,r(g)),u);if(i(Xn(Xn(Xn({},e),t),x)),g<1)l=s.setTimeout(d);else{var b=cp((_,y)=>c1(...y,r(1)),u);i(Xn(Xn(Xn({},e),t),b))}};return()=>(l=s.setTimeout(d),()=>{var m;(m=l)===null||m===void 0||m()})}const Ume=(e,t,r,n,a,i)=>{var s=Rme(e,t);return r==null?()=>(a(Xn(Xn({},e),t)),()=>{}):r.isStepper===!0?Lme(e,t,r,s,a,i):zme(e,t,r,n,s,a,i)};var u1=1e-4,wL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],EL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),yN=(e,t)=>r=>{var n=wL(e,t);return EL(n,r)},Vme=(e,t)=>r=>{var n=wL(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return EL(a,r)},$me=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},Hme=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=$me(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},qme=(e,t,r,n)=>{var a=yN(e,r),i=yN(t,n),s=Vme(e,r),l=f=>f>1?1:f<0?0:f,u=f=>{for(var d=f>1?1:f,m=d,g=0;g<8;++g){var x=a(m)-d,b=s(m);if(Math.abs(x-d)<u1||b<u1)return i(m);m=l(m-x/b)}return i(m)};return u.isStepper=!1,u},bN=function(){return qme(...Hme(...arguments))},Wme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,l,u)=>{var f=-(s-l)*r,d=u*n,m=u+(f-d)*a/1e3,g=u*a/1e3+s;return Math.abs(g-l)<u1&&Math.abs(m)<u1?[l,0]:[g,m]};return i.isStepper=!0,i.dt=a,i},Gme=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bN(e);case"spring":return Wme();default:if(e.split("(")[0]==="cubic-bezier")return bN(e)}return typeof e=="function"?e:null};function Kme(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...f]=l;if(typeof u=="number"){a=e.setTimeout(i.bind(null,f),u);return}i(u),a=e.setTimeout(i.bind(null,f));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class Xme{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function Yme(){return Kme(new Xme)}var Qme=T.createContext(Yme);function Zme(e,t){var r=T.useContext(Qme);return T.useMemo(()=>t??r(e),[e,t,r])}var Jme=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Up={isSsr:Jme()},ege={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_N={t:0},Bw={t:1};function Vp(e){var t=Wn(e,ege),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:l,onAnimationStart:u,children:f}=t,d=r==="auto"?!Up.isSsr:r,m=Zme(t.animationId,t.animationManager),[g,x]=T.useState(d?_N:Bw),b=T.useRef(null);return T.useEffect(()=>{d||x(Bw)},[d]),T.useEffect(()=>{if(!d||!n)return Pp;var _=Ume(_N,Bw,Gme(i),a,x,m.getTimeoutController()),y=()=>{b.current=_()};return m.start([u,s,y,a,l]),()=>{m.stop(),b.current&&b.current(),l()}},[d,n,a,i,s,u,l,m]),f(g.t)}function $p(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=T.useRef(rp(t)),n=T.useRef(e);return n.current!==e&&(r.current=rp(t),n.current=e),r.current}var tge=["radius"],rge=["radius"],wN,EN,SN,AN,CN,TN,kN,DN,ON,jN;function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){nge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nge(e,t,r){return(t=age(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function age(e){var t=ige(e,"string");return typeof t=="symbol"?t:t+""}function ige(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f1(){return f1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f1.apply(null,arguments)}function PN(e,t){if(e==null)return{};var r,n,a=sge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ro(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var RN=(e,t,r,n,a)=>{var i=sc(r),s=sc(n),l=Math.min(Math.abs(i)/2,Math.abs(s)/2),u=s>=0?1:-1,f=i>=0?1:-1,d=s>=0&&i>=0||s<0&&i<0?1:0,m;if(l>0&&a instanceof Array){for(var g=[0,0,0,0],x=0,b=4;x<b;x++)g[x]=a[x]>l?l:a[x];m=xn(wN||(wN=ro(["M",",",""])),e,t+u*g[0]),g[0]>0&&(m+=xn(EN||(EN=ro(["A ",",",",0,0,",",",",",""])),g[0],g[0],d,e+f*g[0],t)),m+=xn(SN||(SN=ro(["L ",",",""])),e+r-f*g[1],t),g[1]>0&&(m+=xn(AN||(AN=ro(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],d,e+r,t+u*g[1])),m+=xn(CN||(CN=ro(["L ",",",""])),e+r,t+n-u*g[2]),g[2]>0&&(m+=xn(TN||(TN=ro(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],d,e+r-f*g[2],t+n)),m+=xn(kN||(kN=ro(["L ",",",""])),e+f*g[3],t+n),g[3]>0&&(m+=xn(DN||(DN=ro(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],d,e,t+n-u*g[3])),m+="Z"}else if(l>0&&a===+a&&a>0){var _=Math.min(l,a);m=xn(ON||(ON=ro(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*_,_,_,d,e+f*_,t,e+r-f*_,t,_,_,d,e+r,t+u*_,e+r,t+n-u*_,_,_,d,e+r-f*_,t+n,e+f*_,t+n,_,_,d,e,t+n-u*_)}else m=xn(jN||(jN=ro(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return m},FN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SL=e=>{var t=Wn(e,FN),r=T.useRef(null),[n,a]=T.useState(-1);T.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var de=r.current.getTotalLength();de&&a(de)}catch{}},[]);var{x:i,y:s,width:l,height:u,radius:f,className:d}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:_}=t,y=T.useRef(l),w=T.useRef(u),C=T.useRef(i),A=T.useRef(s),O=T.useMemo(()=>({x:i,y:s,width:l,height:u,radius:f}),[i,s,l,u,f]),F=$p(O,"rectangle-");if(i!==+i||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var M=dr("recharts-rectangle",d);if(!_){var j=ri(t),{radius:k}=j,R=PN(j,tge);return T.createElement("path",f1({},R,{x:sc(i),y:sc(s),width:sc(l),height:sc(u),radius:typeof f=="number"?f:void 0,className:M,d:RN(i,s,l,u,f)}))}var I=y.current,P=w.current,N=C.current,B=A.current,oe="0px ".concat(n===-1?1:n,"px"),he="".concat(n,"px 0px"),ne=bL(["strokeDasharray"],g,typeof m=="string"?m:FN.animationEasing);return T.createElement(Vp,{animationId:F,key:F,canBegin:n>0,duration:g,easing:m,isActive:_,begin:x},de=>{var be=Wr(I,l,de),we=Wr(P,u,de),ue=Wr(N,i,de),U=Wr(B,s,de);r.current&&(y.current=be,w.current=we,C.current=ue,A.current=U);var Y;b?de>0?Y={transition:ne,strokeDasharray:he}:Y={strokeDasharray:oe}:Y={strokeDasharray:he};var Z=ri(t),{radius:q}=Z,se=PN(Z,rge);return T.createElement("path",f1({},se,{radius:typeof f=="number"?f:void 0,className:M,d:RN(ue,U,be,we,f),ref:r,style:IN(IN({},Y),t.style)}))})};function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){oge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oge(e,t,r){return(t=lge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lge(e){var t=cge(e,"string");return typeof t=="symbol"?t:t+""}function cge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d1=Math.PI/180,uge=e=>e*180/Math.PI,Un=(e,t,r,n)=>({x:e+Math.cos(-d1*n)*r,y:t+Math.sin(-d1*n)*r}),AL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},fge=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},dge=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=fge({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var l=(r-a)/s,u=Math.acos(l);return n>i&&(u=2*Math.PI-u),{radius:s,angle:uge(u),angleInRadian:u}},hge=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},pge=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},mge=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=dge({x:r,y:n},t),{innerRadius:s,outerRadius:l}=t;if(a<s||a>l||a===0)return null;var{startAngle:u,endAngle:f}=hge(t),d=i,m;if(u<=f){for(;d>f;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=f}else{for(;d>u;)d-=360;for(;d<f;)d+=360;m=d>=f&&d<=u}return m?MN(MN({},t),{},{radius:a,angle:pge(d,t)}):null};function CL(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Un(t,r,n,a),l=Un(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var LN,zN,UN,VN,$N,HN,qN;function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FS.apply(null,arguments)}function hu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var gge=(e,t)=>{var r=ma(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Qg=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:l,cornerIsExternal:u}=e,f=l*(s?1:-1)+n,d=Math.asin(l/f)/d1,m=u?a:a+i*d,g=Un(t,r,f,m),x=Un(t,r,n,m),b=u?a-i*d:a,_=Un(t,r,f*Math.cos(d*d1),b);return{center:g,circleTangency:x,lineTangency:_,theta:d}},TL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,l=gge(i,s),u=i+l,f=Un(t,r,a,i),d=Un(t,r,a,u),m=xn(LN||(LN=hu(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,a,a,+(Math.abs(l)>180),+(i>u),d.x,d.y);if(n>0){var g=Un(t,r,n,i),x=Un(t,r,n,u);m+=xn(zN||(zN=hu(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,n,n,+(Math.abs(l)>180),+(i<=u),g.x,g.y)}else m+=xn(UN||(UN=hu(["L ",","," Z"])),t,r);return m},xge=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:f}=e,d=ma(f-u),{circleTangency:m,lineTangency:g,theta:x}=Qg({cx:t,cy:r,radius:a,angle:u,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:b,lineTangency:_,theta:y}=Qg({cx:t,cy:r,radius:a,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),w=l?Math.abs(u-f):Math.abs(u-f)-x-y;if(w<0)return s?xn(VN||(VN=hu(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,i,i,i*2,i,i,-i*2):TL({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:f});var C=xn($N||($N=hu(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,i,i,+(d<0),m.x,m.y,a,a,+(w>180),+(d<0),b.x,b.y,i,i,+(d<0),_.x,_.y);if(n>0){var{circleTangency:A,lineTangency:O,theta:F}=Qg({cx:t,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:M,lineTangency:j,theta:k}=Qg({cx:t,cy:r,radius:n,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),R=l?Math.abs(u-f):Math.abs(u-f)-F-k;if(R<0&&i===0)return"".concat(C,"L").concat(t,",").concat(r,"Z");C+=xn(HN||(HN=hu(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,i,i,+(d<0),M.x,M.y,n,n,+(R>180),+(d>0),A.x,A.y,i,i,+(d<0),O.x,O.y)}else C+=xn(qN||(qN=hu(["L",",","Z"])),t,r);return C},vge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kL=e=>{var t=Wn(e,vge),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d,className:m}=t;if(i<a||f===d)return null;var g=dr("recharts-sector",m),x=i-a,b=$a(s,x,0,!0),_;return b>0&&Math.abs(f-d)<360?_=xge({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):_=TL({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:d}),T.createElement("path",FS({},ri(t),{className:g,d:_}))};function yge(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(i7(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:s,angle:l}=t,u=Un(n,a,i,l),f=Un(n,a,s,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return CL(t)}}var Mw={},Lw={},zw={},WN;function bge(){return WN||(WN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x7();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(zw)),zw}var GN;function _ge(){return GN||(GN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bge();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Lw)),Lw}var KN;function wge(){return KN||(KN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v7(),r=_ge();function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((i-a)/(s||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=a,a+=s;return u}e.range=n})(Mw)),Mw}var Uw,XN;function Ege(){return XN||(XN=1,Uw=wge().range),Uw}var Sge=Ege();const DL=vo(Sge);function hc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Age(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function a4(e){let t,r,n;e.length!==2?(t=hc,r=(l,u)=>hc(e(l),u),n=(l,u)=>e(l)-u):(t=e===hc||e===Age?e:Cge,r=e,n=e);function a(l,u,f=0,d=l.length){if(f<d){if(t(u,u)!==0)return d;do{const m=f+d>>>1;r(l[m],u)<0?f=m+1:d=m}while(f<d)}return f}function i(l,u,f=0,d=l.length){if(f<d){if(t(u,u)!==0)return d;do{const m=f+d>>>1;r(l[m],u)<=0?f=m+1:d=m}while(f<d)}return f}function s(l,u,f=0,d=l.length){const m=a(l,u,f,d-1);return m>f&&n(l[m-1],u)>-n(l[m],u)?m-1:m}return{left:a,center:s,right:i}}function Cge(){return 0}function OL(e){return e===null?NaN:+e}function*Tge(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const kge=a4(hc),Hp=kge.right;a4(OL).center;class YN extends Map{constructor(t,r=jge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(QN(this,t))}has(t){return super.has(QN(this,t))}set(t,r){return super.set(Dge(this,t),r)}delete(t){return super.delete(Oge(this,t))}}function QN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Dge({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Oge({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function jge(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Nge(e=hc){if(e===hc)return jL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function jL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ige=Math.sqrt(50),Pge=Math.sqrt(10),Rge=Math.sqrt(2);function h1(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Ige?10:i>=Pge?5:i>=Rge?2:1;let l,u,f;return a<0?(f=Math.pow(10,-a)/s,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,a)*s,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=r&&r<2?h1(e,t,r*2):[l,u,f]}function BS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?h1(t,e,r):h1(e,t,r);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(n)if(s<0)for(let f=0;f<l;++f)u[f]=(i-f)/-s;else for(let f=0;f<l;++f)u[f]=(i-f)*s;else if(s<0)for(let f=0;f<l;++f)u[f]=(a+f)/-s;else for(let f=0;f<l;++f)u[f]=(a+f)*s;return u}function MS(e,t,r){return t=+t,e=+e,r=+r,h1(e,t,r)[2]}function LS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?MS(t,e,r):MS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function ZN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function JN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function NL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?jL:Nge(a);n>r;){if(n-r>600){const u=n-r+1,f=t-r+1,d=Math.log(u),m=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*m*(u-m)/u)*(f-u/2<0?-1:1),x=Math.max(r,Math.floor(t-f*m/u+g)),b=Math.min(n,Math.floor(t+(u-f)*m/u+g));NL(e,t,x,b,a)}const i=e[t];let s=r,l=n;for(eh(e,r,t),a(e[n],i)>0&&eh(e,r,n);s<l;){for(eh(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?eh(e,r,l):(++l,eh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function eh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Fge(e,t,r){if(e=Float64Array.from(Tge(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return JN(e);if(t>=1)return ZN(e);var n,a=(n-1)*t,i=Math.floor(a),s=ZN(NL(e,i).subarray(0,i+1)),l=JN(e.subarray(i+1));return s+(l-s)*(a-i)}}function Bge(e,t,r=OL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function Mge(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ys(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ml(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zS=Symbol("implicit");function i4(){var e=new YN,t=[],r=[],n=zS;function a(i){let s=e.get(i);if(s===void 0){if(n!==zS)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new YN;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return i4(t,r).unknown(n)},ys.apply(a,arguments),a}function s4(){var e=i4().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,u=0,f=0,d=.5;delete e.unknown;function m(){var g=t().length,x=a<n,b=x?a:n,_=x?n:a;i=(_-b)/Math.max(1,g-u+f*2),l&&(i=Math.floor(i)),b+=(_-b-i*(g-u))*d,s=i*(1-u),l&&(b=Math.round(b),s=Math.round(s));var y=Mge(g).map(function(w){return b+i*w});return r(x?y.reverse():y)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,l=!0,m()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(g){return arguments.length?(l=!!g,m()):l},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),m()):d},e.copy=function(){return s4(t(),[n,a]).round(l).paddingInner(u).paddingOuter(f).align(d)},ys.apply(m(),arguments)}function IL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IL(t())},e}function Lge(){return IL(s4.apply(null,arguments).paddingInner(1))}function o4(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function PL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qp(){}var up=.7,p1=1/up,gf="\\s*([+-]?\\d+)\\s*",fp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zge=/^#([0-9a-f]{3,8})$/,Uge=new RegExp(`^rgb\\(${gf},${gf},${gf}\\)$`),Vge=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),$ge=new RegExp(`^rgba\\(${gf},${gf},${gf},${fp}\\)$`),Hge=new RegExp(`^rgba\\(${uo},${uo},${uo},${fp}\\)$`),qge=new RegExp(`^hsl\\(${fp},${uo},${uo}\\)$`),Wge=new RegExp(`^hsla\\(${fp},${uo},${uo},${fp}\\)$`),eI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};o4(qp,dp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tI,formatHex:tI,formatHex8:Gge,formatHsl:Kge,formatRgb:rI,toString:rI});function tI(){return this.rgb().formatHex()}function Gge(){return this.rgb().formatHex8()}function Kge(){return RL(this).formatHsl()}function rI(){return this.rgb().formatRgb()}function dp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zge.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?nI(t):r===3?new gi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Zg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Zg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Uge.exec(e))?new gi(t[1],t[2],t[3],1):(t=Vge.exec(e))?new gi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$ge.exec(e))?Zg(t[1],t[2],t[3],t[4]):(t=Hge.exec(e))?Zg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qge.exec(e))?sI(t[1],t[2]/100,t[3]/100,1):(t=Wge.exec(e))?sI(t[1],t[2]/100,t[3]/100,t[4]):eI.hasOwnProperty(e)?nI(eI[e]):e==="transparent"?new gi(NaN,NaN,NaN,0):null}function nI(e){return new gi(e>>16&255,e>>8&255,e&255,1)}function Zg(e,t,r,n){return n<=0&&(e=t=r=NaN),new gi(e,t,r,n)}function Xge(e){return e instanceof qp||(e=dp(e)),e?(e=e.rgb(),new gi(e.r,e.g,e.b,e.opacity)):new gi}function US(e,t,r,n){return arguments.length===1?Xge(e):new gi(e,t,r,n??1)}function gi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}o4(gi,US,PL(qp,{brighter(e){return e=e==null?p1:Math.pow(p1,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?up:Math.pow(up,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gi(Cu(this.r),Cu(this.g),Cu(this.b),m1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aI,formatHex:aI,formatHex8:Yge,formatRgb:iI,toString:iI}));function aI(){return`#${pu(this.r)}${pu(this.g)}${pu(this.b)}`}function Yge(){return`#${pu(this.r)}${pu(this.g)}${pu(this.b)}${pu((isNaN(this.opacity)?1:this.opacity)*255)}`}function iI(){const e=m1(this.opacity);return`${e===1?"rgb(":"rgba("}${Cu(this.r)}, ${Cu(this.g)}, ${Cu(this.b)}${e===1?")":`, ${e})`}`}function m1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Cu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pu(e){return e=Cu(e),(e<16?"0":"")+e.toString(16)}function sI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ns(e,t,r,n)}function RL(e){if(e instanceof Ns)return new Ns(e.h,e.s,e.l,e.opacity);if(e instanceof qp||(e=dp(e)),!e)return new Ns;if(e instanceof Ns)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,u=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=u<.5?i+a:2-i-a,s*=60):l=u>0&&u<1?0:s,new Ns(s,l,u,e.opacity)}function Qge(e,t,r,n){return arguments.length===1?RL(e):new Ns(e,t,r,n??1)}function Ns(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}o4(Ns,Qge,PL(qp,{brighter(e){return e=e==null?p1:Math.pow(p1,e),new Ns(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?up:Math.pow(up,e),new Ns(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new gi(Vw(e>=240?e-240:e+120,a,n),Vw(e,a,n),Vw(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ns(oI(this.h),Jg(this.s),Jg(this.l),m1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=m1(this.opacity);return`${e===1?"hsl(":"hsla("}${oI(this.h)}, ${Jg(this.s)*100}%, ${Jg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oI(e){return e=(e||0)%360,e<0?e+360:e}function Jg(e){return Math.max(0,Math.min(1,e||0))}function Vw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const l4=e=>()=>e;function Zge(e,t){return function(r){return e+r*t}}function Jge(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function exe(e){return(e=+e)==1?FL:function(t,r){return r-t?Jge(t,r,e):l4(isNaN(t)?r:t)}}function FL(e,t){var r=t-e;return r?Zge(e,r):l4(isNaN(e)?t:e)}const lI=(function e(t){var r=exe(t);function n(a,i){var s=r((a=US(a)).r,(i=US(i)).r),l=r(a.g,i.g),u=r(a.b,i.b),f=FL(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=u(d),a.opacity=f(d),a+""}}return n.gamma=e,n})(1);function txe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function rxe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nxe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Gf(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function axe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function g1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ixe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Gf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var VS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$w=new RegExp(VS.source,"g");function sxe(e){return function(){return e}}function oxe(e){return function(t){return e(t)+""}}function lxe(e,t){var r=VS.lastIndex=$w.lastIndex=0,n,a,i,s=-1,l=[],u=[];for(e=e+"",t=t+"";(n=VS.exec(e))&&(a=$w.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,u.push({i:s,x:g1(n,a)})),r=$w.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?u[0]?oxe(u[0].x):sxe(t):(t=u.length,function(f){for(var d=0,m;d<t;++d)l[(m=u[d]).i]=m.x(f);return l.join("")})}function Gf(e,t){var r=typeof t,n;return t==null||r==="boolean"?l4(t):(r==="number"?g1:r==="string"?(n=dp(t))?(t=n,lI):lxe:t instanceof dp?lI:t instanceof Date?axe:rxe(t)?txe:Array.isArray(t)?nxe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ixe:g1)(e,t)}function c4(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cxe(e,t){t===void 0&&(t=e,e=Gf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function uxe(e){return function(){return e}}function x1(e){return+e}var cI=[0,1];function ti(e){return e}function $S(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uxe(isNaN(t)?NaN:.5)}function fxe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function dxe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=$S(a,n),i=r(s,i)):(n=$S(n,a),i=r(i,s)),function(l){return i(n(l))}}function hxe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=$S(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var u=Hp(e,l,1,n)-1;return i[u](a[u](l))}}function Wp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ny(){var e=cI,t=cI,r=Gf,n,a,i,s=ti,l,u,f;function d(){var g=Math.min(e.length,t.length);return s!==ti&&(s=fxe(e[0],e[g-1])),l=g>2?hxe:dxe,u=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(u||(u=l(e.map(n),t,r)))(n(s(g)))}return m.invert=function(g){return s(a((f||(f=l(t,e.map(n),g1)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,x1),d()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),d()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=c4,d()},m.clamp=function(g){return arguments.length?(s=g?!0:ti,d()):s!==ti},m.interpolate=function(g){return arguments.length?(r=g,d()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,x){return n=g,a=x,d()}}function u4(){return Ny()(ti,ti)}function pxe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function v1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Df(e){return e=v1(Math.abs(e)),e?e[1]:NaN}function mxe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function gxe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hp(e){if(!(t=xxe.exec(e)))throw new Error("invalid format: "+e);var t;return new f4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hp.prototype=f4.prototype;function f4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}f4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vxe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var BL;function yxe(e,t){var r=v1(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(BL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+v1(e,Math.max(0,t+i-1))[0]}function uI(e,t){var r=v1(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const fI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pxe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uI(e*100,t),r:uI,s:yxe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dI(e){return e}var hI=Array.prototype.map,pI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bxe(e){var t=e.grouping===void 0||e.thousands===void 0?dI:mxe(hI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?dI:gxe(hI.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=hp(m);var g=m.fill,x=m.align,b=m.sign,_=m.symbol,y=m.zero,w=m.width,C=m.comma,A=m.precision,O=m.trim,F=m.type;F==="n"?(C=!0,F="g"):fI[F]||(A===void 0&&(A=12),O=!0,F="g"),(y||g==="0"&&x==="=")&&(y=!0,g="0",x="=");var M=_==="$"?r:_==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",j=_==="$"?n:/[%p]/.test(F)?s:"",k=fI[F],R=/[defgprs%]/.test(F);A=A===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function I(P){var N=M,B=j,oe,he,ne;if(F==="c")B=k(P)+B,P="";else{P=+P;var de=P<0||1/P<0;if(P=isNaN(P)?u:k(Math.abs(P),A),O&&(P=vxe(P)),de&&+P==0&&b!=="+"&&(de=!1),N=(de?b==="("?b:l:b==="-"||b==="("?"":b)+N,B=(F==="s"?pI[8+BL/3]:"")+B+(de&&b==="("?")":""),R){for(oe=-1,he=P.length;++oe<he;)if(ne=P.charCodeAt(oe),48>ne||ne>57){B=(ne===46?a+P.slice(oe+1):P.slice(oe))+B,P=P.slice(0,oe);break}}}C&&!y&&(P=t(P,1/0));var be=N.length+P.length+B.length,we=be<w?new Array(w-be+1).join(g):"";switch(C&&y&&(P=t(we+P,we.length?w-B.length:1/0),we=""),x){case"<":P=N+P+B+we;break;case"=":P=N+we+P+B;break;case"^":P=we.slice(0,be=we.length>>1)+N+P+B+we.slice(be);break;default:P=we+N+P+B;break}return i(P)}return I.toString=function(){return m+""},I}function d(m,g){var x=f((m=hp(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Df(g)/3)))*3,_=Math.pow(10,-b),y=pI[8+b/3];return function(w){return x(_*w)+y}}return{format:f,formatPrefix:d}}var ex,d4,ML;_xe({thousands:",",grouping:[3],currency:["$",""]});function _xe(e){return ex=bxe(e),d4=ex.format,ML=ex.formatPrefix,ex}function wxe(e){return Math.max(0,-Df(Math.abs(e)))}function Exe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Df(t)/3)))*3-Df(Math.abs(e)))}function Sxe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Df(t)-Df(e))+1}function LL(e,t,r,n){var a=LS(e,t,r),i;switch(n=hp(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Exe(a,s))&&(n.precision=i),ML(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Sxe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=wxe(a))&&(n.precision=i-(n.type==="%")*2);break}}return d4(n)}function jc(e){var t=e.domain;return e.ticks=function(r){var n=t();return BS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return LL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],u,f,d=10;for(l<s&&(f=s,s=l,l=f,f=a,a=i,i=f);d-- >0;){if(f=MS(s,l,r),f===u)return n[a]=s,n[i]=l,t(n);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function zL(){var e=u4();return e.copy=function(){return Wp(e,zL())},ys.apply(e,arguments),jc(e)}function UL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,x1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return UL(e).unknown(t)},e=arguments.length?Array.from(e,x1):[0,1],jc(r)}function VL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function mI(e){return Math.log(e)}function gI(e){return Math.exp(e)}function Axe(e){return-Math.log(-e)}function Cxe(e){return-Math.exp(-e)}function Txe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kxe(e){return e===10?Txe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Dxe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function xI(e){return(t,r)=>-e(-t,r)}function h4(e){const t=e(mI,gI),r=t.domain;let n=10,a,i;function s(){return a=Dxe(n),i=kxe(n),r()[0]<0?(a=xI(a),i=xI(i),e(Axe,Cxe)):e(mI,gI),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const u=r();let f=u[0],d=u[u.length-1];const m=d<f;m&&([f,d]=[d,f]);let g=a(f),x=a(d),b,_;const y=l==null?10:+l;let w=[];if(!(n%1)&&x-g<y){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(b=1;b<n;++b)if(_=g<0?b/i(-g):b*i(g),!(_<f)){if(_>d)break;w.push(_)}}else for(;g<=x;++g)for(b=n-1;b>=1;--b)if(_=g>0?b/i(-g):b*i(g),!(_<f)){if(_>d)break;w.push(_)}w.length*2<y&&(w=BS(f,d,y))}else w=BS(g,x,Math.min(x-g,y)).map(i);return m?w.reverse():w},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=hp(u)).precision==null&&(u.trim=!0),u=d4(u)),l===1/0)return u;const f=Math.max(1,n*l/t.ticks().length);return d=>{let m=d/i(Math.round(a(d)));return m*n<n-.5&&(m*=n),m<=f?u(d):""}},t.nice=()=>r(VL(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function $L(){const e=h4(Ny()).domain([1,10]);return e.copy=()=>Wp(e,$L()).base(e.base()),ys.apply(e,arguments),e}function vI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function p4(e){var t=1,r=e(vI(t),yI(t));return r.constant=function(n){return arguments.length?e(vI(t=+n),yI(t)):t},jc(r)}function HL(){var e=p4(Ny());return e.copy=function(){return Wp(e,HL()).constant(e.constant())},ys.apply(e,arguments)}function bI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Oxe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jxe(e){return e<0?-e*e:e*e}function m4(e){var t=e(ti,ti),r=1;function n(){return r===1?e(ti,ti):r===.5?e(Oxe,jxe):e(bI(r),bI(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},jc(t)}function g4(){var e=m4(Ny());return e.copy=function(){return Wp(e,g4()).exponent(e.exponent())},ys.apply(e,arguments),e}function Nxe(){return g4.apply(null,arguments).exponent(.5)}function _I(e){return Math.sign(e)*e*e}function Ixe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qL(){var e=u4(),t=[0,1],r=!1,n;function a(i){var s=Ixe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(_I(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,x1)).map(_I)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return qL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ys.apply(a,arguments),jc(a)}function WL(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=Bge(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Hp(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(hc),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return WL().domain(e).range(t).unknown(n)},ys.apply(i,arguments)}function GL(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(u){return u!=null&&u<=u?a[Hp(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},s.invertExtent=function(u){var f=a.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},s.unknown=function(u){return arguments.length&&(i=u),s},s.thresholds=function(){return n.slice()},s.copy=function(){return GL().domain([e,t]).range(a).unknown(i)},ys.apply(jc(s),arguments)}function KL(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Hp(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return KL().domain(e).range(t).unknown(r)},ys.apply(a,arguments)}const Hw=new Date,qw=new Date;function ra(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return u;let f;do u.push(f=new Date(+i)),t(i,l),e(i);while(f<i&&i<s);return u},a.filter=i=>ra(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Hw.setTime(+i),qw.setTime(+s),e(Hw),e(qw),Math.floor(r(Hw,qw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const y1=ra(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);y1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ra(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):y1);y1.range;const qo=1e3,hs=qo*60,Wo=hs*60,sl=Wo*24,x4=sl*7,wI=sl*30,Ww=sl*365,mu=ra(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qo)},(e,t)=>(t-e)/qo,e=>e.getUTCSeconds());mu.range;const v4=ra(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qo)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getMinutes());v4.range;const y4=ra(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getUTCMinutes());y4.range;const b4=ra(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qo-e.getMinutes()*hs)},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getHours());b4.range;const _4=ra(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getUTCHours());_4.range;const Gp=ra(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hs)/sl,e=>e.getDate()-1);Gp.range;const Iy=ra(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sl,e=>e.getUTCDate()-1);Iy.range;const XL=ra(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sl,e=>Math.floor(e/sl));XL.range;function i0(e){return ra(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hs)/x4)}const Py=i0(0),b1=i0(1),Pxe=i0(2),Rxe=i0(3),Of=i0(4),Fxe=i0(5),Bxe=i0(6);Py.range;b1.range;Pxe.range;Rxe.range;Of.range;Fxe.range;Bxe.range;function s0(e){return ra(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/x4)}const Ry=s0(0),_1=s0(1),Mxe=s0(2),Lxe=s0(3),jf=s0(4),zxe=s0(5),Uxe=s0(6);Ry.range;_1.range;Mxe.range;Lxe.range;jf.range;zxe.range;Uxe.range;const w4=ra(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());w4.range;const E4=ra(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());E4.range;const ol=ra(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ol.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ra(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ol.range;const ll=ra(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ll.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ra(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ll.range;function YL(e,t,r,n,a,i){const s=[[mu,1,qo],[mu,5,5*qo],[mu,15,15*qo],[mu,30,30*qo],[i,1,hs],[i,5,5*hs],[i,15,15*hs],[i,30,30*hs],[a,1,Wo],[a,3,3*Wo],[a,6,6*Wo],[a,12,12*Wo],[n,1,sl],[n,2,2*sl],[r,1,x4],[t,1,wI],[t,3,3*wI],[e,1,Ww]];function l(f,d,m){const g=d<f;g&&([f,d]=[d,f]);const x=m&&typeof m.range=="function"?m:u(f,d,m),b=x?x.range(f,+d+1):[];return g?b.reverse():b}function u(f,d,m){const g=Math.abs(d-f)/m,x=a4(([,,y])=>y).right(s,g);if(x===s.length)return e.every(LS(f/Ww,d/Ww,m));if(x===0)return y1.every(Math.max(LS(f,d,m),1));const[b,_]=s[g/s[x-1][2]<s[x][2]/g?x-1:x];return b.every(_)}return[l,u]}const[Vxe,$xe]=YL(ll,E4,Ry,XL,_4,y4),[Hxe,qxe]=YL(ol,w4,Py,Gp,b4,v4);function Gw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function th(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Wxe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,f=rh(a),d=nh(a),m=rh(i),g=nh(i),x=rh(s),b=nh(s),_=rh(l),y=nh(l),w=rh(u),C=nh(u),A={a:de,A:be,b:we,B:ue,c:null,d:kI,e:kI,f:mve,g:Ave,G:Tve,H:dve,I:hve,j:pve,L:QL,m:gve,M:xve,p:U,q:Y,Q:jI,s:NI,S:vve,u:yve,U:bve,V:_ve,w:wve,W:Eve,x:null,X:null,y:Sve,Y:Cve,Z:kve,"%":OI},O={a:Z,A:q,b:se,B:me,c:null,d:DI,e:DI,f:Nve,g:Vve,G:Hve,H:Dve,I:Ove,j:jve,L:JL,m:Ive,M:Pve,p:ve,q:H,Q:jI,s:NI,S:Rve,u:Fve,U:Bve,V:Mve,w:Lve,W:zve,x:null,X:null,y:Uve,Y:$ve,Z:qve,"%":OI},F={a:I,A:P,b:N,B,c:oe,d:CI,e:CI,f:lve,g:AI,G:SI,H:TI,I:TI,j:ave,L:ove,m:nve,M:ive,p:R,q:rve,Q:uve,s:fve,S:sve,u:Qxe,U:Zxe,V:Jxe,w:Yxe,W:eve,x:he,X:ne,y:AI,Y:SI,Z:tve,"%":cve};A.x=M(r,A),A.X=M(n,A),A.c=M(t,A),O.x=M(r,O),O.X=M(n,O),O.c=M(t,O);function M(G,ee){return function(ae){var pe=[],X=-1,je=0,He=G.length,Be,Ke,Je;for(ae instanceof Date||(ae=new Date(+ae));++X<He;)G.charCodeAt(X)===37&&(pe.push(G.slice(je,X)),(Ke=EI[Be=G.charAt(++X)])!=null?Be=G.charAt(++X):Ke=Be==="e"?" ":"0",(Je=ee[Be])&&(Be=Je(ae,Ke)),pe.push(Be),je=X+1);return pe.push(G.slice(je,X)),pe.join("")}}function j(G,ee){return function(ae){var pe=th(1900,void 0,1),X=k(pe,G,ae+="",0),je,He;if(X!=ae.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ee&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(je=Kw(th(pe.y,0,1)),He=je.getUTCDay(),je=He>4||He===0?_1.ceil(je):_1(je),je=Iy.offset(je,(pe.V-1)*7),pe.y=je.getUTCFullYear(),pe.m=je.getUTCMonth(),pe.d=je.getUTCDate()+(pe.w+6)%7):(je=Gw(th(pe.y,0,1)),He=je.getDay(),je=He>4||He===0?b1.ceil(je):b1(je),je=Gp.offset(je,(pe.V-1)*7),pe.y=je.getFullYear(),pe.m=je.getMonth(),pe.d=je.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),He="Z"in pe?Kw(th(pe.y,0,1)).getUTCDay():Gw(th(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(He+5)%7:pe.w+pe.U*7-(He+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Kw(pe)):Gw(pe)}}function k(G,ee,ae,pe){for(var X=0,je=ee.length,He=ae.length,Be,Ke;X<je;){if(pe>=He)return-1;if(Be=ee.charCodeAt(X++),Be===37){if(Be=ee.charAt(X++),Ke=F[Be in EI?ee.charAt(X++):Be],!Ke||(pe=Ke(G,ae,pe))<0)return-1}else if(Be!=ae.charCodeAt(pe++))return-1}return pe}function R(G,ee,ae){var pe=f.exec(ee.slice(ae));return pe?(G.p=d.get(pe[0].toLowerCase()),ae+pe[0].length):-1}function I(G,ee,ae){var pe=x.exec(ee.slice(ae));return pe?(G.w=b.get(pe[0].toLowerCase()),ae+pe[0].length):-1}function P(G,ee,ae){var pe=m.exec(ee.slice(ae));return pe?(G.w=g.get(pe[0].toLowerCase()),ae+pe[0].length):-1}function N(G,ee,ae){var pe=w.exec(ee.slice(ae));return pe?(G.m=C.get(pe[0].toLowerCase()),ae+pe[0].length):-1}function B(G,ee,ae){var pe=_.exec(ee.slice(ae));return pe?(G.m=y.get(pe[0].toLowerCase()),ae+pe[0].length):-1}function oe(G,ee,ae){return k(G,t,ee,ae)}function he(G,ee,ae){return k(G,r,ee,ae)}function ne(G,ee,ae){return k(G,n,ee,ae)}function de(G){return s[G.getDay()]}function be(G){return i[G.getDay()]}function we(G){return u[G.getMonth()]}function ue(G){return l[G.getMonth()]}function U(G){return a[+(G.getHours()>=12)]}function Y(G){return 1+~~(G.getMonth()/3)}function Z(G){return s[G.getUTCDay()]}function q(G){return i[G.getUTCDay()]}function se(G){return u[G.getUTCMonth()]}function me(G){return l[G.getUTCMonth()]}function ve(G){return a[+(G.getUTCHours()>=12)]}function H(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ee=M(G+="",A);return ee.toString=function(){return G},ee},parse:function(G){var ee=j(G+="",!1);return ee.toString=function(){return G},ee},utcFormat:function(G){var ee=M(G+="",O);return ee.toString=function(){return G},ee},utcParse:function(G){var ee=j(G+="",!0);return ee.toString=function(){return G},ee}}}var EI={"-":"",_:" ",0:"0"},xa=/^\s*\d+/,Gxe=/^%/,Kxe=/[\\^$*+?|[\]().{}]/g;function hr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Xxe(e){return e.replace(Kxe,"\\$&")}function rh(e){return new RegExp("^(?:"+e.map(Xxe).join("|")+")","i")}function nh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Yxe(e,t,r){var n=xa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Qxe(e,t,r){var n=xa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Zxe(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Jxe(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eve(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function SI(e,t,r){var n=xa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function AI(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tve(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rve(e,t,r){var n=xa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nve(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function CI(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ave(e,t,r){var n=xa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function TI(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ive(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sve(e,t,r){var n=xa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ove(e,t,r){var n=xa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lve(e,t,r){var n=xa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cve(e,t,r){var n=Gxe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uve(e,t,r){var n=xa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function fve(e,t,r){var n=xa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function kI(e,t){return hr(e.getDate(),t,2)}function dve(e,t){return hr(e.getHours(),t,2)}function hve(e,t){return hr(e.getHours()%12||12,t,2)}function pve(e,t){return hr(1+Gp.count(ol(e),e),t,3)}function QL(e,t){return hr(e.getMilliseconds(),t,3)}function mve(e,t){return QL(e,t)+"000"}function gve(e,t){return hr(e.getMonth()+1,t,2)}function xve(e,t){return hr(e.getMinutes(),t,2)}function vve(e,t){return hr(e.getSeconds(),t,2)}function yve(e){var t=e.getDay();return t===0?7:t}function bve(e,t){return hr(Py.count(ol(e)-1,e),t,2)}function ZL(e){var t=e.getDay();return t>=4||t===0?Of(e):Of.ceil(e)}function _ve(e,t){return e=ZL(e),hr(Of.count(ol(e),e)+(ol(e).getDay()===4),t,2)}function wve(e){return e.getDay()}function Eve(e,t){return hr(b1.count(ol(e)-1,e),t,2)}function Sve(e,t){return hr(e.getFullYear()%100,t,2)}function Ave(e,t){return e=ZL(e),hr(e.getFullYear()%100,t,2)}function Cve(e,t){return hr(e.getFullYear()%1e4,t,4)}function Tve(e,t){var r=e.getDay();return e=r>=4||r===0?Of(e):Of.ceil(e),hr(e.getFullYear()%1e4,t,4)}function kve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function DI(e,t){return hr(e.getUTCDate(),t,2)}function Dve(e,t){return hr(e.getUTCHours(),t,2)}function Ove(e,t){return hr(e.getUTCHours()%12||12,t,2)}function jve(e,t){return hr(1+Iy.count(ll(e),e),t,3)}function JL(e,t){return hr(e.getUTCMilliseconds(),t,3)}function Nve(e,t){return JL(e,t)+"000"}function Ive(e,t){return hr(e.getUTCMonth()+1,t,2)}function Pve(e,t){return hr(e.getUTCMinutes(),t,2)}function Rve(e,t){return hr(e.getUTCSeconds(),t,2)}function Fve(e){var t=e.getUTCDay();return t===0?7:t}function Bve(e,t){return hr(Ry.count(ll(e)-1,e),t,2)}function ez(e){var t=e.getUTCDay();return t>=4||t===0?jf(e):jf.ceil(e)}function Mve(e,t){return e=ez(e),hr(jf.count(ll(e),e)+(ll(e).getUTCDay()===4),t,2)}function Lve(e){return e.getUTCDay()}function zve(e,t){return hr(_1.count(ll(e)-1,e),t,2)}function Uve(e,t){return hr(e.getUTCFullYear()%100,t,2)}function Vve(e,t){return e=ez(e),hr(e.getUTCFullYear()%100,t,2)}function $ve(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function Hve(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jf(e):jf.ceil(e),hr(e.getUTCFullYear()%1e4,t,4)}function qve(){return"+0000"}function OI(){return"%"}function jI(e){return+e}function NI(e){return Math.floor(+e/1e3)}var q0,tz,rz;Wve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wve(e){return q0=Wxe(e),tz=q0.format,q0.parse,rz=q0.utcFormat,q0.utcParse,q0}function Gve(e){return new Date(e)}function Kve(e){return e instanceof Date?+e:+new Date(+e)}function S4(e,t,r,n,a,i,s,l,u,f){var d=u4(),m=d.invert,g=d.domain,x=f(".%L"),b=f(":%S"),_=f("%I:%M"),y=f("%I %p"),w=f("%a %d"),C=f("%b %d"),A=f("%B"),O=f("%Y");function F(M){return(u(M)<M?x:l(M)<M?b:s(M)<M?_:i(M)<M?y:n(M)<M?a(M)<M?w:C:r(M)<M?A:O)(M)}return d.invert=function(M){return new Date(m(M))},d.domain=function(M){return arguments.length?g(Array.from(M,Kve)):g().map(Gve)},d.ticks=function(M){var j=g();return e(j[0],j[j.length-1],M??10)},d.tickFormat=function(M,j){return j==null?F:f(j)},d.nice=function(M){var j=g();return(!M||typeof M.range!="function")&&(M=t(j[0],j[j.length-1],M??10)),M?g(VL(j,M)):d},d.copy=function(){return Wp(d,S4(e,t,r,n,a,i,s,l,u,f))},d}function Xve(){return ys.apply(S4(Hxe,qxe,ol,w4,Py,Gp,b4,v4,mu,tz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yve(){return ys.apply(S4(Vxe,$xe,ll,E4,Ry,Iy,_4,y4,mu,rz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fy(){var e=0,t=1,r,n,a,i,s=ti,l=!1,u;function f(m){return m==null||isNaN(m=+m)?u:s(a===0?.5:(m=(i(m)-r)*a,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(s=m,f):s};function d(m){return function(g){var x,b;return arguments.length?([x,b]=g,s=m(x,b),f):[s(0),s(1)]}}return f.range=d(Gf),f.rangeRound=d(c4),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),f}}function Nc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nz(){var e=jc(Fy()(ti));return e.copy=function(){return Nc(e,nz())},ml.apply(e,arguments)}function az(){var e=h4(Fy()).domain([1,10]);return e.copy=function(){return Nc(e,az()).base(e.base())},ml.apply(e,arguments)}function iz(){var e=p4(Fy());return e.copy=function(){return Nc(e,iz()).constant(e.constant())},ml.apply(e,arguments)}function A4(){var e=m4(Fy());return e.copy=function(){return Nc(e,A4()).exponent(e.exponent())},ml.apply(e,arguments)}function Qve(){return A4.apply(null,arguments).exponent(.5)}function sz(){var e=[],t=ti;function r(n){if(n!=null&&!isNaN(n=+n))return t((Hp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(hc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Fge(e,i/n))},r.copy=function(){return sz(t).domain(e)},ml.apply(r,arguments)}function By(){var e=0,t=.5,r=1,n=1,a,i,s,l,u,f=ti,d,m=!1,g;function x(_){return isNaN(_=+_)?g:(_=.5+((_=+d(_))-i)*(n*_<n*i?l:u),f(m?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([e,t,r]=_,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),u=i===s?0:.5/(s-i),n=i<a?-1:1,x):[e,t,r]},x.clamp=function(_){return arguments.length?(m=!!_,x):m},x.interpolator=function(_){return arguments.length?(f=_,x):f};function b(_){return function(y){var w,C,A;return arguments.length?([w,C,A]=y,f=cxe(_,[w,C,A]),x):[f(0),f(.5),f(1)]}}return x.range=b(Gf),x.rangeRound=b(c4),x.unknown=function(_){return arguments.length?(g=_,x):g},function(_){return d=_,a=_(e),i=_(t),s=_(r),l=a===i?0:.5/(i-a),u=i===s?0:.5/(s-i),n=i<a?-1:1,x}}function oz(){var e=jc(By()(ti));return e.copy=function(){return Nc(e,oz())},ml.apply(e,arguments)}function lz(){var e=h4(By()).domain([.1,1,10]);return e.copy=function(){return Nc(e,lz()).base(e.base())},ml.apply(e,arguments)}function cz(){var e=p4(By());return e.copy=function(){return Nc(e,cz()).constant(e.constant())},ml.apply(e,arguments)}function C4(){var e=m4(By());return e.copy=function(){return Nc(e,C4()).exponent(e.exponent())},ml.apply(e,arguments)}function Zve(){return C4.apply(null,arguments).exponent(.5)}const mh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:s4,scaleDiverging:oz,scaleDivergingLog:lz,scaleDivergingPow:C4,scaleDivergingSqrt:Zve,scaleDivergingSymlog:cz,scaleIdentity:UL,scaleImplicit:zS,scaleLinear:zL,scaleLog:$L,scaleOrdinal:i4,scalePoint:Lge,scalePow:g4,scaleQuantile:WL,scaleQuantize:GL,scaleRadial:qL,scaleSequential:nz,scaleSequentialLog:az,scaleSequentialPow:A4,scaleSequentialQuantile:sz,scaleSequentialSqrt:Qve,scaleSequentialSymlog:iz,scaleSqrt:Nxe,scaleSymlog:HL,scaleThreshold:KL,scaleTime:Xve,scaleUtc:Yve,tickFormat:LL},Symbol.toStringTag,{value:"Module"}));var gl=e=>e.chartData,My=Oe([gl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),uz=(e,t,r,n)=>n?My(e):gl(e),fz=(e,t,r)=>r?My(e):gl(e);function Ec(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Lr(t)&&Lr(r))return!0}return!1}function II(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function dz(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Lr(r))a=r;else if(typeof r=="function")return;if(Lr(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(Ec(s))return s}}function Jve(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ec(n))return II(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,l;if(a==="auto")t!=null&&(s=Math.min(...t));else if(at(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t?.[0]))}catch{}else if(typeof a=="string"&&Hj.test(a)){var u=Hj.exec(a);if(u==null||u[1]==null||t==null)s=void 0;else{var f=+u[1];s=t[0]-f}}else s=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(at(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&qj.test(i)){var d=qj.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var m=+d[1];l=t[1]+m}}else l=t?.[1];var g=[s,l];if(Ec(g))return t==null?g:II(g,t,r)}}}var Kf=1e9,e1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},k4,Jr=!0,gs="[DecimalError] ",Tu=gs+"Invalid argument: ",T4=gs+"Exponent out of range: ",Xf=Math.floor,cu=Math.pow,t1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,da=1e7,qr=7,hz=9007199254740991,w1=Xf(hz/qr),ut={};ut.absoluteValue=ut.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ut.comparedTo=ut.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ut.decimalPlaces=ut.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ut.dividedBy=ut.div=function(e){return Qo(this,new this.constructor(e))};ut.dividedToIntegerBy=ut.idiv=function(e){var t=this,r=t.constructor;return Mr(Qo(t,new r(e),0,1),r.precision)};ut.equals=ut.eq=function(e){return!this.cmp(e)};ut.exponent=function(){return Hn(this)};ut.greaterThan=ut.gt=function(e){return this.cmp(e)>0};ut.greaterThanOrEqualTo=ut.gte=function(e){return this.cmp(e)>=0};ut.isInteger=ut.isint=function(){return this.e>this.d.length-2};ut.isNegative=ut.isneg=function(){return this.s<0};ut.isPositive=ut.ispos=function(){return this.s>0};ut.isZero=function(){return this.s===0};ut.lessThan=ut.lt=function(e){return this.cmp(e)<0};ut.lessThanOrEqualTo=ut.lte=function(e){return this.cmp(e)<1};ut.logarithm=ut.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pi))throw Error(gs+"NaN");if(r.s<1)throw Error(gs+(r.s?"NaN":"-Infinity"));return r.eq(Pi)?new n(0):(Jr=!1,t=Qo(pp(r,i),pp(e,i),i),Jr=!0,Mr(t,a))};ut.minus=ut.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gz(t,e):pz(t,(e.s=-e.s,e))};ut.modulo=ut.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(gs+"NaN");return r.s?(Jr=!1,t=Qo(r,e,0,1).times(e),Jr=!0,r.minus(t)):Mr(new n(r),a)};ut.naturalExponential=ut.exp=function(){return mz(this)};ut.naturalLogarithm=ut.ln=function(){return pp(this)};ut.negated=ut.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ut.plus=ut.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pz(t,e):gz(t,(e.s=-e.s,e))};ut.precision=ut.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Tu+e);if(t=Hn(a)+1,n=a.d.length-1,r=n*qr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ut.squareRoot=ut.sqrt=function(){var e,t,r,n,a,i,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(gs+"NaN")}for(e=Hn(l),Jr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=io(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Xf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=s=r+3;;)if(i=n,n=i.plus(Qo(l,i,s+2)).times(.5),io(i.d).slice(0,s)===(t=io(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Mr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return Jr=!0,Mr(n,r)};ut.times=ut.mul=function(e){var t,r,n,a,i,s,l,u,f,d=this,m=d.constructor,g=d.d,x=(e=new m(e)).d;if(!d.s||!e.s)return new m(0);for(e.s*=d.s,r=d.e+e.e,u=g.length,f=x.length,u<f&&(i=g,g=x,x=i,s=u,u=f,f=s),i=[],s=u+f,n=s;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=u+n;a>n;)l=i[a]+x[n]*g[a-n-1]+t,i[a--]=l%da|0,t=l/da|0;i[a]=(i[a]+t)%da|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Jr?Mr(e,m.precision):e};ut.toDecimalPlaces=ut.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(xo(e,0,Kf),t===void 0?t=n.rounding:xo(t,0,8),Mr(r,e+Hn(r)+1,t))};ut.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=$u(n,!0):(xo(e,0,Kf),t===void 0?t=a.rounding:xo(t,0,8),n=Mr(new a(n),e+1,t),r=$u(n,!0,e+1)),r};ut.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?$u(a):(xo(e,0,Kf),t===void 0?t=i.rounding:xo(t,0,8),n=Mr(new i(a),e+Hn(a)+1,t),r=$u(n.abs(),!1,e+Hn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ut.toInteger=ut.toint=function(){var e=this,t=e.constructor;return Mr(new t(e),Hn(e)+1,t.rounding)};ut.toNumber=function(){return+this};ut.toPower=ut.pow=function(e){var t,r,n,a,i,s,l=this,u=l.constructor,f=12,d=+(e=new u(e));if(!e.s)return new u(Pi);if(l=new u(l),!l.s){if(e.s<1)throw Error(gs+"Infinity");return l}if(l.eq(Pi))return l;if(n=u.precision,e.eq(Pi))return Mr(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=hz){for(a=new u(Pi),t=Math.ceil(n/qr+4),Jr=!1;r%2&&(a=a.times(l),RI(a.d,t)),r=Xf(r/2),r!==0;)l=l.times(l),RI(l.d,t);return Jr=!0,e.s<0?new u(Pi).div(a):Mr(a,n)}}else if(i<0)throw Error(gs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Jr=!1,a=e.times(pp(l,n+f)),Jr=!0,a=mz(a),a.s=i,a};ut.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Hn(a),n=$u(a,r<=i.toExpNeg||r>=i.toExpPos)):(xo(e,1,Kf),t===void 0?t=i.rounding:xo(t,0,8),a=Mr(new i(a),e,t),r=Hn(a),n=$u(a,e<=r||r<=i.toExpNeg,e)),n};ut.toSignificantDigits=ut.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(xo(e,1,Kf),t===void 0?t=n.rounding:xo(t,0,8)),Mr(new n(r),e,t)};ut.toString=ut.valueOf=ut.val=ut.toJSON=ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Hn(e),r=e.constructor;return $u(e,t<=r.toExpNeg||t>=r.toExpPos)};function pz(e,t){var r,n,a,i,s,l,u,f,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Jr?Mr(t,m):t;if(u=e.d,f=t.d,s=e.e,a=t.e,u=u.slice(),i=s-a,i){for(i<0?(n=u,i=-i,l=f.length):(n=f,a=s,l=u.length),s=Math.ceil(m/qr),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=f.length,l-i<0&&(i=l,n=f,f=u,u=n),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/da|0,u[i]%=da;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,Jr?Mr(t,m):t}function xo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Tu+e)}function io(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=qr-n.length,r&&(i+=Jl(r)),i+=n;s=e[t],n=s+"",r=qr-n.length,r&&(i+=Jl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Qo=(function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%da|0,s=i/da|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,u;if(i!=s)u=i>s?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*da+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,u,f,d,m,g,x,b,_,y,w,C,A,O,F,M,j,k,R=n.constructor,I=n.s==a.s?1:-1,P=n.d,N=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(gs+"Division by zero");for(u=n.e-a.e,j=N.length,F=P.length,x=new R(I),b=x.d=[],f=0;N[f]==(P[f]||0);)++f;if(N[f]>(P[f]||0)&&--u,i==null?C=i=R.precision:s?C=i+(Hn(n)-Hn(a))+1:C=i,C<0)return new R(0);if(C=C/qr+2|0,f=0,j==1)for(d=0,N=N[0],C++;(f<F||d)&&C--;f++)A=d*da+(P[f]||0),b[f]=A/N|0,d=A%N|0;else{for(d=da/(N[0]+1)|0,d>1&&(N=e(N,d),P=e(P,d),j=N.length,F=P.length),O=j,_=P.slice(0,j),y=_.length;y<j;)_[y++]=0;k=N.slice(),k.unshift(0),M=N[0],N[1]>=da/2&&++M;do d=0,l=t(N,_,j,y),l<0?(w=_[0],j!=y&&(w=w*da+(_[1]||0)),d=w/M|0,d>1?(d>=da&&(d=da-1),m=e(N,d),g=m.length,y=_.length,l=t(m,_,g,y),l==1&&(d--,r(m,j<g?k:N,g))):(d==0&&(l=d=1),m=N.slice()),g=m.length,g<y&&m.unshift(0),r(_,m,y),l==-1&&(y=_.length,l=t(N,_,j,y),l<1&&(d++,r(_,j<y?k:N,y))),y=_.length):l===0&&(d++,_=[0]),b[f++]=d,l&&_[0]?_[y++]=P[O]||0:(_=[P[O]],y=1);while((O++<F||_[0]!==void 0)&&C--)}return b[0]||b.shift(),x.e=u,Mr(x,s?i+Hn(x)+1:i)}})();function mz(e,t){var r,n,a,i,s,l,u=0,f=0,d=e.constructor,m=d.precision;if(Hn(e)>16)throw Error(T4+Hn(e));if(!e.s)return new d(Pi);for(Jr=!1,l=m,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log(cu(2,f))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Pi),d.precision=l;;){if(a=Mr(a.times(e),l),r=r.times(++u),s=i.plus(Qo(a,r,l)),io(s.d).slice(0,l)===io(i.d).slice(0,l)){for(;f--;)i=Mr(i.times(i),l);return d.precision=m,t==null?(Jr=!0,Mr(i,m)):i}i=s}}function Hn(e){for(var t=e.e*qr,r=e.d[0];r>=10;r/=10)t++;return t}function Xw(e,t,r){if(t>e.LN10.sd())throw Jr=!0,r&&(e.precision=r),Error(gs+"LN10 precision limit exceeded");return Mr(new e(e.LN10),t)}function Jl(e){for(var t="";e--;)t+="0";return t}function pp(e,t){var r,n,a,i,s,l,u,f,d,m=1,g=10,x=e,b=x.d,_=x.constructor,y=_.precision;if(x.s<1)throw Error(gs+(x.s?"NaN":"-Infinity"));if(x.eq(Pi))return new _(0);if(t==null?(Jr=!1,f=y):f=t,x.eq(10))return t==null&&(Jr=!0),Xw(_,f);if(f+=g,_.precision=f,r=io(b),n=r.charAt(0),i=Hn(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=io(x.d),n=r.charAt(0),m++;i=Hn(x),n>1?(x=new _("0."+r),i++):x=new _(n+"."+r.slice(1))}else return u=Xw(_,f+2,y).times(i+""),x=pp(new _(n+"."+r.slice(1)),f-g).plus(u),_.precision=y,t==null?(Jr=!0,Mr(x,y)):x;for(l=s=x=Qo(x.minus(Pi),x.plus(Pi),f),d=Mr(x.times(x),f),a=3;;){if(s=Mr(s.times(d),f),u=l.plus(Qo(s,new _(a),f)),io(u.d).slice(0,f)===io(l.d).slice(0,f))return l=l.times(2),i!==0&&(l=l.plus(Xw(_,f+2,y).times(i+""))),l=Qo(l,new _(m),f),_.precision=y,t==null?(Jr=!0,Mr(l,y)):l;l=u,a+=2}}function PI(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Xf(r/qr),e.d=[],n=(r+1)%qr,r<0&&(n+=qr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=qr;n<a;)e.d.push(+t.slice(n,n+=qr));t=t.slice(n),n=qr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Jr&&(e.e>w1||e.e<-w1))throw Error(T4+r)}else e.s=0,e.e=0,e.d=[0];return e}function Mr(e,t,r){var n,a,i,s,l,u,f,d,m=e.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=qr,a=t,f=m[d=0];else{if(d=Math.ceil((n+1)/qr),i=m.length,d>=i)return e;for(f=i=m[d],s=1;i>=10;i/=10)s++;n%=qr,a=n-qr+s}if(r!==void 0&&(i=cu(10,s-a-1),l=f/i%10|0,u=t<0||m[d+1]!==void 0||f%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?f/cu(10,s-a):0:m[d-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=Hn(e),m.length=1,t=t-i-1,m[0]=cu(10,(qr-t%qr)%qr),e.e=Xf(-t/qr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=d,i=1,d--):(m.length=d+1,i=cu(10,qr-n),m[d]=a>0?(f/cu(10,s-a)%cu(10,a)|0)*i:0),u)for(;;)if(d==0){(m[0]+=i)==da&&(m[0]=1,++e.e);break}else{if(m[d]+=i,m[d]!=da)break;m[d--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Jr&&(e.e>w1||e.e<-w1))throw Error(T4+Hn(e));return e}function gz(e,t){var r,n,a,i,s,l,u,f,d,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Jr?Mr(t,x):t;if(u=e.d,m=t.d,n=t.e,f=e.e,u=u.slice(),s=f-n,s){for(d=s<0,d?(r=u,s=-s,l=m.length):(r=m,n=f,l=u.length),a=Math.max(Math.ceil(x/qr),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=m.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(u[a]!=m[a]){d=u[a]<m[a];break}s=0}for(d&&(r=u,u=m,m=r,t.s=-t.s),l=u.length,a=m.length-l;a>0;--a)u[l++]=0;for(a=m.length;a>s;){if(u[--a]<m[a]){for(i=a;i&&u[--i]===0;)u[i]=da-1;--u[i],u[a]+=da}u[a]-=m[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Jr?Mr(t,x):t):new g(0)}function $u(e,t,r){var n,a=Hn(e),i=io(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Jl(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Jl(-a-1)+i,r&&(n=r-s)>0&&(i+=Jl(n))):a>=s?(i+=Jl(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Jl(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Jl(n))),e.s<0?"-"+i:i}function RI(e,t){if(e.length>t)return e.length=t,!0}function xz(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Tu+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return PI(s,i.toString())}else if(typeof i!="string")throw Error(Tu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,t1e.test(i))PI(s,i);else throw Error(Tu+i)}if(a.prototype=ut,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=xz,a.config=a.set=r1e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function r1e(e){if(!e||typeof e!="object")throw Error(gs+"Object expected");var t,r,n,a=["precision",1,Kf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Xf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Tu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Tu+r+": "+n);return this}var k4=xz(e1e);Pi=new k4(1);const Ar=k4;var n1e=e=>e,vz={},yz=e=>e===vz,FI=e=>function t(){return arguments.length===0||arguments.length===1&&yz(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},bz=(e,t)=>e===1?t:FI(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==vz).length;return i>=e?t(...n):bz(e-i,FI(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=n.map(d=>yz(d)?l.shift():d);return t(...f,...l)}))}),a1e=e=>bz(e.length,e),HS=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},i1e=a1e((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),s1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return n1e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((l,u)=>u(l),i(...arguments))}};function _z(e){var t;return e===0?t=1:t=Math.floor(new Ar(e).abs().log(10).toNumber())+1,t}function wz(e,t,r){for(var n=new Ar(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Ez=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},Sz=(e,t,r)=>{if(e.lte(0))return new Ar(0);var n=_z(e.toNumber()),a=new Ar(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new Ar(Math.ceil(i.div(s).toNumber())).add(r).mul(s),u=l.mul(a);return t?new Ar(u.toNumber()):new Ar(Math.ceil(u.toNumber()))},o1e=(e,t,r)=>{var n=new Ar(1),a=new Ar(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ar(10).pow(_z(e)-1),a=new Ar(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ar(Math.floor(e)))}else e===0?a=new Ar(Math.floor((t-1)/2)):r||(a=new Ar(Math.floor(e)));var s=Math.floor((t-1)/2),l=s1e(i1e(u=>a.add(new Ar(u-s).mul(n)).toNumber()),HS);return l(0,t)},Az=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ar(0),tickMin:new Ar(0),tickMax:new Ar(0)};var s=Sz(new Ar(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new Ar(0):(l=new Ar(t).add(r).div(2),l=l.sub(new Ar(l).mod(s)));var u=Math.ceil(l.sub(t).div(s).toNumber()),f=Math.ceil(new Ar(r).sub(l).div(s).toNumber()),d=u+f+1;return d>n?Az(t,r,n,a,i+1):(d<n&&(f=r>0?f+(n-d):f,u=r>0?u:u+(n-d)),{step:s,tickMin:l.sub(new Ar(u).mul(s)),tickMax:l.add(new Ar(f).mul(s))})},l1e=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),[l,u]=Ez([r,n]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...HS(0,a-1).map(()=>1/0)]:[...HS(0,a-1).map(()=>-1/0),u];return r>n?f.reverse():f}if(l===u)return o1e(l,a,i);var{step:d,tickMin:m,tickMax:g}=Az(l,u,s,i,0),x=wz(m,g.add(new Ar(.1).mul(d)),d);return r>n?x.reverse():x},c1e=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=Ez([n,a]);if(s===-1/0||l===1/0)return[n,a];if(s===l)return[s];var u=Math.max(r,2),f=Sz(new Ar(l).sub(s).div(u-1),i,0),d=[...wz(new Ar(s),new Ar(l),f),l];return i===!1&&(d=d.map(m=>Math.round(m))),n>a?d.reverse():d},Cz=e=>e.rootProps.maxBarSize,u1e=e=>e.rootProps.barGap,Tz=e=>e.rootProps.barCategoryGap,f1e=e=>e.rootProps.barSize,Kp=e=>e.rootProps.stackOffset,kz=e=>e.rootProps.reverseStackOrder,D4=e=>e.options.chartName,O4=e=>e.rootProps.syncId,Dz=e=>e.rootProps.syncMethod,j4=e=>e.options.eventEmitter,d1e=e=>e.rootProps.baseValue,Vn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Uo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ji={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ly=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},h1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Uo.angleAxisId,includeHidden:!1,name:void 0,reversed:Uo.reversed,scale:Uo.scale,tick:Uo.tick,tickCount:void 0,ticks:void 0,type:Uo.type,unit:void 0},p1e={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:ji.type,unit:void 0},m1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Uo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Uo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Uo.scale,tick:Uo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},g1e={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:"category",unit:void 0},N4=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?m1e:h1e,I4=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?g1e:p1e,zy=e=>e.polarOptions,P4=Oe([hl,pl,ta],AL),Oz=Oe([zy,P4],(e,t)=>{if(e!=null)return $a(e.innerRadius,t,0)}),jz=Oe([zy,P4],(e,t)=>{if(e!=null)return $a(e.outerRadius,t,t*.8)}),x1e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Nz=Oe([zy],x1e);Oe([N4,Nz],Ly);var Iz=Oe([P4,Oz,jz],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Oe([I4,Iz],Ly);var Pz=Oe([rr,zy,Oz,jz,hl,pl],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:l,startAngle:u,endAngle:f}=t;return{cx:$a(s,a,a/2),cy:$a(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),tn=(e,t)=>t,Xp=(e,t,r)=>r;function Uy(e){return e?.id}function Rz(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var d=Uy(l);f.forEach((m,g)=>{var x=i==null||a?g:String(Rr(m,i,null)),b=Rr(m,l.dataKey,0),_;s.has(x)?_=s.get(x):_={},Object.assign(_,{[d]:b}),s.set(x,_)})}}),Array.from(s.values())}function Vy(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var $y=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Hy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function v1e(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var na=e=>{var t=rr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Yf=e=>e.tooltip.settings.axisId;function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(r),!0).forEach(function(n){y1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y1e(e,t,r){return(t=b1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b1e(e){var t=_1e(e,"string");return typeof t=="symbol"?t:t+""}function _1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qS=[0,"auto"],oa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Fz=(e,t)=>e.cartesianAxis.xAxis[t],xl=(e,t)=>{var r=Fz(e,t);return r??oa},la={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Lp},Bz=(e,t)=>e.cartesianAxis.yAxis[t],vl=(e,t)=>{var r=Bz(e,t);return r??la},w1e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},R4=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??w1e},un=(e,t,r)=>{switch(t){case"xAxis":return xl(e,r);case"yAxis":return vl(e,r);case"zAxis":return R4(e,r);case"angleAxis":return N4(e,r);case"radiusAxis":return I4(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},E1e=(e,t,r)=>{switch(t){case"xAxis":return xl(e,r);case"yAxis":return vl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Yp=(e,t,r)=>{switch(t){case"xAxis":return xl(e,r);case"yAxis":return vl(e,r);case"angleAxis":return N4(e,r);case"radiusAxis":return I4(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Mz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function F4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var qy=e=>e.graphicalItems.cartesianItems,S1e=Oe([tn,Xp],F4),B4=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Qp=Oe([qy,un,S1e],B4,{memoizeOptions:{resultEqualityCheck:Hy}}),Lz=Oe([Qp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Vy)),zz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),A1e=Oe([Qp],zz),M4=e=>e.map(t=>t.data).filter(Boolean).flat(1),C1e=Oe([Qp],M4,{memoizeOptions:{resultEqualityCheck:Hy}}),L4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},z4=Oe([C1e,uz],L4),U4=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Rr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Rr(a,n)}))):e.map(n=>({value:n})),Wy=Oe([z4,un,Qp],U4);function Uz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function iv(e){if(mo(e)||e instanceof Date){var t=Number(e);if(Lr(t))return t}}function MI(e){if(Array.isArray(e)){var t=[iv(e[0]),iv(e[1])];return Ec(t)?t:void 0}var r=iv(e);if(r!=null)return[r,r]}function cl(e){return e.map(iv).filter(yfe)}function T1e(e,t,r){return!r||typeof t!="number"||ps(t)?[]:r.length?cl(r.flatMap(n=>{var a=Rr(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Lr(i)||!Lr(s)))return[t-i,t+s]})):[]}var aa=e=>{var t=na(e),r=Yf(e);return Yp(e,t,r)},Zp=Oe([aa],e=>e?.dataKey),k1e=Oe([Lz,uz,aa],Rz),Vz=(e,t,r,n)=>{var a={},i=t.reduce((s,l)=>{if(l.stackId==null)return s;var u=s[l.stackId];return u==null&&(u=[]),u.push(l),s[l.stackId]=u,s},a);return Object.fromEntries(Object.entries(i).map(s=>{var[l,u]=s,f=n?[...u].reverse():u,d=f.map(Uy);return[l,{stackedData:Whe(e,d,r),graphicalItems:f}]}))},S1=Oe([k1e,Lz,Kp,kz],Vz),$z=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=Yhe(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},D1e=Oe([un],e=>e.allowDataOverflow),V4=e=>{var t;if(e==null||!("domain"in e))return qS;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=cl(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:qS},$4=Oe([un],V4),H4=Oe([$4,D1e],dz),O1e=Oe([S1,gl,tn,H4],$z,{memoizeOptions:{resultEqualityCheck:$y}}),Gy=e=>e.errorBars,j1e=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Uz(r,n)),A1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),l=Math.max(...i);return[s,l]}},q4=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var f,d,m=(f=n[u.id])===null||f===void 0?void 0:f.filter(w=>Uz(a,w)),g=Rr(l,(d=t.dataKey)!==null&&d!==void 0?d:u.dataKey),x=T1e(l,g,m);if(x.length>=2){var b=Math.min(...x),_=Math.max(...x);(i==null||b<i)&&(i=b),(s==null||_>s)&&(s=_)}var y=MI(g);y!=null&&(i=i==null?y[0]:Math.min(i,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=MI(Rr(l,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Lr(i)&&Lr(s))return[i,s]},N1e=Oe([z4,un,A1e,Gy,tn],q4,{memoizeOptions:{resultEqualityCheck:$y}});function I1e(e){var{value:t}=e;if(mo(t)||t instanceof Date)return t}var P1e=(e,t,r)=>{var n=e.map(I1e).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&r7(n))?DL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Hz=e=>e.referenceElements.dots,Qf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),R1e=Oe([Hz,tn,Xp],Qf),qz=e=>e.referenceElements.areas,F1e=Oe([qz,tn,Xp],Qf),Wz=e=>e.referenceElements.lines,B1e=Oe([Wz,tn,Xp],Qf),Gz=(e,t)=>{if(e!=null){var r=cl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},M1e=Oe(R1e,tn,Gz),Kz=(e,t)=>{if(e!=null){var r=cl(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},L1e=Oe([F1e,tn],Kz);function z1e(e){var t;if(e.x!=null)return cl([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:cl(r)}function U1e(e){var t;if(e.y!=null)return cl([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:cl(r)}var Xz=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?z1e(n):U1e(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},V1e=Oe([B1e,tn],Xz),$1e=Oe(M1e,V1e,L1e,(e,t,r)=>A1(e,r,t)),W4=(e,t,r,n,a,i,s,l)=>{if(r!=null)return r;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",f=u?A1(n,i,a):A1(i,a);return Jve(t,f,e.allowDataOverflow)},H1e=Oe([un,$4,H4,O1e,N1e,$1e,rr,tn],W4,{memoizeOptions:{resultEqualityCheck:$y}}),q1e=[0,1],G4=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:u}=e,f=dl(t,i);if(f&&l==null){var d;return DL(0,(d=r?.length)!==null&&d!==void 0?d:0)}return u==="category"?P1e(n,e,f):a==="expand"?q1e:s}},K4=Oe([un,rr,z4,Wy,Kp,tn,H1e],G4),Yz=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Ip(i));return l in mh?l:"point"}}},Zf=Oe([un,rr,Mz,D4,tn],Yz);function W1e(e){if(e!=null){if(e in mh)return mh[e]();var t="scale".concat(Ip(e));if(t in mh)return mh[t]()}}function X4(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=W1e(t);if(a!=null){var i=a.domain(r).range(n);return Uhe(i),i}}}var Y4=(e,t,r)=>{var n=V4(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ec(e))return l1e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ec(e))return c1e(e,t.tickCount,t.allowDecimals)}},Q4=Oe([K4,Yp,Zf],Y4),Z4=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Ec(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(s,l)]}return t},G1e=Oe([un,K4,Q4,tn],Z4),K1e=Oe(Wy,un,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(cl(e.map(m=>m.value))).sort((m,g)=>m-g),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var s=i-a;if(s===0)return 1/0;for(var l=0;l<n.length-1;l++){var u=n[l],f=n[l+1];if(!(u==null||f==null)){var d=f-u;r=Math.min(r,d)}}return r/s}}),Qz=Oe(K1e,rr,Tz,ta,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Lr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=$a(r,e*i),l=e*i/2;return l-s-(l-s)/i*s}return 0}),X1e=(e,t,r)=>{var n=xl(e,t);return n==null||typeof n.padding!="string"?0:Qz(e,"xAxis",t,r,n.padding)},Y1e=(e,t,r)=>{var n=vl(e,t);return n==null||typeof n.padding!="string"?0:Qz(e,"yAxis",t,r,n.padding)},Q1e=Oe(xl,X1e,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Z1e=Oe(vl,Y1e,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),J1e=Oe([ta,Q1e,Cy,Ay,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),eye=Oe([ta,rr,Z1e,Cy,Ay,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Jp=(e,t,r,n)=>{var a;switch(t){case"xAxis":return J1e(e,r,n);case"yAxis":return eye(e,r,n);case"zAxis":return(a=R4(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return Nz(e);case"radiusAxis":return Iz(e,r);default:return}},Zz=Oe([un,Jp],Ly),Ky=Oe([un,Zf,G1e,Zz],X4);Oe([Qp,Gy,tn],j1e);function Jz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Xy=(e,t)=>t,Yy=(e,t,r)=>r,tye=Oe(Ey,Xy,Yy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Jz)),rye=Oe(Sy,Xy,Yy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Jz)),eU=(e,t)=>({width:e.width,height:t.height}),nye=(e,t)=>{var r=typeof t.width=="number"?t.width:Lp;return{width:r,height:e.height}},tU=Oe(ta,xl,eU),aye=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},iye=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},sye=Oe(pl,ta,tye,Xy,Yy,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var u=eU(t,l);s==null&&(s=aye(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[l.id]=s-Number(f)*u.height,s+=(f?-1:1)*u.height}),i}),oye=Oe(hl,ta,rye,Xy,Yy,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var u=nye(t,l);s==null&&(s=iye(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[l.id]=s-Number(f)*u.width,s+=(f?-1:1)*u.width}),i}),lye=(e,t)=>{var r=xl(e,t);if(r!=null)return sye(e,r.orientation,r.mirror)},cye=Oe([ta,xl,lye,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),uye=(e,t)=>{var r=vl(e,t);if(r!=null)return oye(e,r.orientation,r.mirror)},fye=Oe([ta,vl,uye,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),rU=Oe(ta,vl,(e,t)=>{var r=typeof t.width=="number"?t.width:Lp;return{width:r,height:e.height}}),LI=(e,t,r)=>{switch(t){case"xAxis":return tU(e,r).width;case"yAxis":return rU(e,r).height;default:return}},nU=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,l=dl(e,n),u=t.map(f=>f.value);if(s&&l&&i==="category"&&a&&r7(u))return u}},J4=Oe([rr,Wy,un,tn],nU),aU=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=dl(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},e5=Oe([rr,Wy,Yp,tn],aU),zI=Oe([rr,E1e,Zf,Ky,J4,e5,Jp,Q4,tn],(e,t,r,n,a,i,s,l,u)=>{if(t!=null){var f=dl(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:l,range:s,realScaleType:r,scale:n}}}),dye=(e,t,r,n,a,i,s,l,u)=>{if(!(t==null||n==null)){var f=dl(e,u),{type:d,ticks:m,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=d==="category"&&n.bandwidth?n.bandwidth()/x:0;b=u==="angleAxis"&&i!=null&&i.length>=2?ma(i[0]-i[1])*2*b:b;var _=m||a;if(_){var y=_.map((w,C)=>{var A=s?s.indexOf(w):w;return{index:C,coordinate:n(A)+b,value:w,offset:b}});return y.filter(w=>Lr(w.coordinate))}return f&&l?l.map((w,C)=>({coordinate:n(w)+b,value:w,index:C,offset:b})).filter(w=>Lr(w.coordinate)):n.ticks?n.ticks(g).map(w=>({coordinate:n(w)+b,value:w,offset:b})):n.domain().map((w,C)=>({coordinate:n(w)+b,value:s?s[w]:w,index:C,offset:b}))}},iU=Oe([rr,Yp,Zf,Ky,Q4,Jp,J4,e5,tn],dye),hye=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=dl(e,s),{tickCount:u}=t,f=0;return f=s==="angleAxis"&&n?.length>=2?ma(n[0]-n[1])*2*f:f,l&&i?i.map((d,m)=>({coordinate:r(d)+f,value:d,index:m,offset:f})):r.ticks?r.ticks(u).map(d=>({coordinate:r(d)+f,value:d,offset:f})):r.domain().map((d,m)=>({coordinate:r(d)+f,value:a?a[d]:d,index:m,offset:f}))}},Sc=Oe([rr,Yp,Ky,Jp,J4,e5,tn],hye),Ac=Oe(un,Ky,(e,t)=>{if(!(e==null||t==null))return E1(E1({},e),{},{scale:t})}),pye=Oe([un,Zf,K4,Zz],X4);Oe((e,t,r)=>R4(e,r),pye,(e,t)=>{if(!(e==null||t==null))return E1(E1({},e),{},{scale:t})});var mye=Oe([rr,Ey,Sy],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),sU=e=>e.options.defaultTooltipEventType,oU=e=>e.options.validateTooltipEventTypes;function lU(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function t5(e,t){var r=sU(e),n=oU(e);return lU(t,r,n)}function gye(e){return dt(t=>t5(t,e))}var cU=(e,t)=>{var r,n=Number(t);if(!(ps(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},xye=e=>e.tooltip.settings,nc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},vye={itemInteraction:{click:nc,hover:nc},axisInteraction:{click:nc,hover:nc},keyboardInteraction:nc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uU=bi({name:"tooltip",initialState:vye,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Bs(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Zr()},removeTooltipEntrySettings:{reducer(e,t){var r=Bs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Zr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:yye,replaceTooltipEntrySettings:bye,removeTooltipEntrySettings:_ye,setTooltipSettingsState:wye,setActiveMouseOverItemIndex:fU,mouseLeaveItem:Eye,mouseLeaveChart:dU,setActiveClickItemIndex:Sye,setMouseOverAxisIndex:hU,setMouseClickAxisIndex:Aye,setSyncInteraction:WS,setKeyboardInteraction:GS}=uU.actions,Cye=uU.reducer;function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){Tye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tye(e,t,r){return(t=kye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kye(e){var t=Dye(e,"string");return typeof t=="symbol"?t:t+""}function Dye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oye(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function jye(e){return e.index!=null}var pU=(e,t,r,n)=>{if(t==null)return nc;var a=Oye(e,t,r);if(a==null)return nc;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(jye(a)){if(i)return tx(tx({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return tx(tx({},nc),{},{coordinate:a.coordinate})};function Nye(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Iye(e,t){var r=Nye(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),s=Math.max(n,a);return r>=i&&r<=s}function Pye(e,t,r){if(r==null||t==null)return!0;var n=Rr(e,t);return n==null||!Ec(r)?!0:Iye(n,r)}var r5=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var i=Number(a);if(!Lr(i))return a;var s=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(s,Math.min(i,l)),f=t[u];return f==null||Pye(f,r,n)?String(u):null},mU=(e,t,r,n,a,i,s,l)=>{if(!(i==null||l==null)){var u=s[0],f=u==null?void 0:l(u.positions,i);if(f!=null)return f;var d=a?.[Number(i)];if(d)return r==="horizontal"?{x:d.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:d.coordinate}}},gU=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},em=e=>e.options.tooltipPayloadSearcher,Jf=e=>e.tooltip;function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){Rye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rye(e,t,r){return(t=Fye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fye(e){var t=Bye(e,"string");return typeof t=="symbol"?t:t+""}function Bye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mye(e,t){return e??t}var xU=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:d}=r,m=[];return e.reduce((g,x)=>{var b,{dataDefinedOnItem:_,settings:y}=x,w=Mye(_,l),C=Array.isArray(w)?Y7(w,f,d):w,A=(b=y?.dataKey)!==null&&b!==void 0?b:n,O=y?.nameKey,F;if(n&&Array.isArray(C)&&!Array.isArray(C[0])&&s==="axis"?F=n7(C,n,a):F=i(C,t,u,O),Array.isArray(F))F.forEach(j=>{var k=$I($I({},y),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});g.push(Wj({tooltipEntrySettings:k,dataKey:j.dataKey,payload:j.payload,value:Rr(j.payload,j.dataKey),name:j.name}))});else{var M;g.push(Wj({tooltipEntrySettings:y,dataKey:A,payload:F,value:Rr(F,A),name:(M=Rr(F,O))!==null&&M!==void 0?M:y?.name}))}return g},m)}},n5=Oe([aa,rr,Mz,D4,na],Yz),Lye=Oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),zye=Oe([na,Yf],F4),ed=Oe([Lye,aa,zye],B4,{memoizeOptions:{resultEqualityCheck:Hy}}),Uye=Oe([ed],e=>e.filter(Vy)),Vye=Oe([ed],M4,{memoizeOptions:{resultEqualityCheck:Hy}}),td=Oe([Vye,gl],L4),$ye=Oe([Uye,gl,aa],Rz),a5=Oe([td,aa,ed],U4),vU=Oe([aa],V4),Hye=Oe([aa],e=>e.allowDataOverflow),yU=Oe([vU,Hye],dz),qye=Oe([ed],e=>e.filter(Vy)),Wye=Oe([$ye,qye,Kp,kz],Vz),Gye=Oe([Wye,gl,na,yU],$z),Kye=Oe([ed],zz),Xye=Oe([td,aa,Kye,Gy,na],q4,{memoizeOptions:{resultEqualityCheck:$y}}),Yye=Oe([Hz,na,Yf],Qf),Qye=Oe([Yye,na],Gz),Zye=Oe([qz,na,Yf],Qf),Jye=Oe([Zye,na],Kz),e2e=Oe([Wz,na,Yf],Qf),t2e=Oe([e2e,na],Xz),r2e=Oe([Qye,t2e,Jye],A1),n2e=Oe([aa,vU,yU,Gye,Xye,r2e,rr,na],W4),tm=Oe([aa,rr,td,a5,Kp,na,n2e],G4),a2e=Oe([tm,aa,n5],Y4),i2e=Oe([aa,tm,a2e,na],Z4),bU=e=>{var t=na(e),r=Yf(e),n=!1;return Jp(e,t,r,n)},_U=Oe([aa,bU],Ly),wU=Oe([aa,n5,i2e,_U],X4),s2e=Oe([rr,a5,aa,na],nU),o2e=Oe([rr,a5,aa,na],aU),l2e=(e,t,r,n,a,i,s,l)=>{if(t){var{type:u}=t,f=dl(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return m=l==="angleAxis"&&a!=null&&a?.length>=2?ma(a[0]-a[1])*2*m:m,f&&s?s.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:i?i[g]:g,index:x,offset:m}))}}},yl=Oe([rr,aa,n5,wU,bU,s2e,o2e,na],l2e),i5=Oe([sU,oU,xye],(e,t,r)=>lU(r.shared,e,t)),EU=e=>e.tooltip.settings.trigger,s5=e=>e.tooltip.settings.defaultIndex,rm=Oe([Jf,i5,EU,s5],pU),Cc=Oe([rm,td,Zp,tm],r5),SU=Oe([yl,Cc],cU),o5=Oe([rm],e=>{if(e)return e.dataKey}),c2e=Oe([rm],e=>{if(e)return e.graphicalItemId}),AU=Oe([Jf,i5,EU,s5],gU),u2e=Oe([hl,pl,rr,ta,yl,s5,AU,em],mU),f2e=Oe([rm,u2e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),d2e=Oe([rm],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),h2e=Oe([AU,Cc,gl,Zp,SU,em,i5],xU),p2e=Oe([h2e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function HI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(r),!0).forEach(function(n){m2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m2e(e,t,r){return(t=g2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g2e(e){var t=x2e(e,"string");return typeof t=="symbol"?t:t+""}function x2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v2e=()=>dt(aa),y2e=()=>{var e=v2e(),t=dt(yl),r=dt(wU);return Cf(!e||!r?void 0:qI(qI({},e),{},{scale:r}),t)};function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(n){b2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b2e(e,t,r){return(t=_2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _2e(e){var t=w2e(e,"string");return typeof t=="symbol"?t:t+""}function w2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E2e=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},S2e=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:s}=n;return W0(W0(W0({},n),Un(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var l=a.coordinate,{angle:u}=n;return W0(W0(W0({},n),Un(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function A2e(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var CU=(e,t,r,n,a)=>{var i,s=(i=t?.length)!==null&&i!==void 0?i:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<s;l++){var u,f,d,m,g,x=l>0?(u=r[l-1])===null||u===void 0?void 0:u.coordinate:(f=r[s-1])===null||f===void 0?void 0:f.coordinate,b=(d=r[l])===null||d===void 0?void 0:d.coordinate,_=l>=s-1?(m=r[0])===null||m===void 0?void 0:m.coordinate:(g=r[l+1])===null||g===void 0?void 0:g.coordinate,y=void 0;if(!(x==null||b==null||_==null))if(ma(b-x)!==ma(_-b)){var w=[];if(ma(_-b)===ma(a[1]-a[0])){y=_;var C=b+a[1]-a[0];w[0]=Math.min(C,(C+x)/2),w[1]=Math.max(C,(C+x)/2)}else{y=x;var A=_+a[1]-a[0];w[0]=Math.min(b,(A+b)/2),w[1]=Math.max(b,(A+b)/2)}var O=[Math.min(b,(y+b)/2),Math.max(b,(y+b)/2)];if(e>O[0]&&e<=O[1]||e>=w[0]&&e<=w[1]){var F;return(F=r[l])===null||F===void 0?void 0:F.index}}else{var M=Math.min(x,_),j=Math.max(x,_);if(e>(M+b)/2&&e<=(j+b)/2){var k;return(k=r[l])===null||k===void 0?void 0:k.index}}}else if(t)for(var R=0;R<s;R++){var I=t[R];if(I!=null){var P=t[R+1],N=t[R-1];if(R===0&&P!=null&&e<=(I.coordinate+P.coordinate)/2||R===s-1&&N!=null&&e>(I.coordinate+N.coordinate)/2||R>0&&R<s-1&&N!=null&&P!=null&&e>(I.coordinate+N.coordinate)/2&&e<=(I.coordinate+P.coordinate)/2)return I.index}}return-1},TU=()=>dt(D4),l5=(e,t)=>t,kU=(e,t,r)=>r,c5=(e,t,r,n)=>n,C2e=Oe(yl,e=>py(e,t=>t.coordinate)),u5=Oe([Jf,l5,kU,c5],pU),f5=Oe([u5,td,Zp,tm],r5),T2e=(e,t,r)=>{if(t!=null){var n=Jf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},DU=Oe([Jf,l5,kU,c5],gU),C1=Oe([hl,pl,rr,ta,yl,c5,DU,em],mU),k2e=Oe([u5,C1],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),OU=Oe([yl,f5],cU),D2e=Oe([DU,f5,gl,Zp,OU,em,l5],xU),O2e=Oe([u5,f5],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),j2e=(e,t,r,n,a,i,s)=>{if(!(!e||!r||!n||!a)&&A2e(e,s)){var l=Qhe(e,t),u=CU(l,i,a,r,n),f=E2e(t,a,u,e);return{activeIndex:String(u),activeCoordinate:f}}},N2e=(e,t,r,n,a,i,s)=>{if(!(!e||!n||!a||!i||!r)){var l=mge(e,r);if(l){var u=Zhe(l,t),f=CU(u,s,i,n,a),d=S2e(t,i,f,l);return{activeIndex:String(f),activeCoordinate:d}}}},I2e=(e,t,r,n,a,i,s,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?j2e(e,t,n,a,i,s,l):N2e(e,t,r,n,a,i,s)},P2e=Oe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),R2e=Oe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Vn)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:v1e}});function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){F2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F2e(e,t,r){return(t=B2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B2e(e){var t=M2e(e,"string");return typeof t=="symbol"?t:t+""}function M2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L2e={},z2e={zIndexMap:Object.values(Vn).reduce((e,t)=>KI(KI({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),L2e)},U2e=new Set(Object.values(Vn));function V2e(e){return U2e.has(e)}var jU=bi({name:"zIndex",initialState:z2e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!V2e(r)&&delete e.zIndexMap[r])},prepare:Zr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Zr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Zr()}}}),{registerZIndexPortal:$2e,unregisterZIndexPortal:H2e,registerZIndexPortalElement:q2e,unregisterZIndexPortalElement:W2e}=jU.actions,G2e=jU.reducer;function _i(e){var{zIndex:t,children:r}=e,n=Ope(),a=n&&t!==void 0&&t!==0,i=Wa(),s=Ur();T.useLayoutEffect(()=>a?(s($2e({zIndex:t})),()=>{s(H2e({zIndex:t}))}):Pp,[s,t,a]);var l=dt(u=>P2e(u,t,i));return a?l?z1.createPortal(r,l):null:r}function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KS.apply(null,arguments)}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){K2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K2e(e,t,r){return(t=X2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X2e(e){var t=Y2e(e,"string");return typeof t=="symbol"?t:t+""}function Y2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q2e(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return T.isValidElement(t)?T.cloneElement(t,n):T.createElement(r,n)}function Z2e(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:f,chartName:d}=e,m=r,g=n,x=a;if(!u||!m||d!=="ScatterChart"&&f!=="axis")return null;var b,_,y;if(d==="ScatterChart")b=m,_=Dme,y=Vn.cursorLine;else if(d==="BarChart")b=Ome(l,m,i,s),_=SL,y=Vn.cursorRectangle;else if(l==="radial"&&i7(m)){var{cx:w,cy:C,radius:A,startAngle:O,endAngle:F}=CL(m);b={cx:w,cy:C,startAngle:O,endAngle:F,innerRadius:A,outerRadius:A},_=kL,y=Vn.cursorLine}else b={points:yge(l,m,i)},_=mf,y=Vn.cursorLine;var M=typeof u=="object"&&"className"in u?u.className:void 0,j=rx(rx(rx(rx({stroke:"#ccc",pointerEvents:"none"},i),b),Bu(u)),{},{payload:g,payloadIndex:x,className:dr("recharts-tooltip-cursor",M)});return T.createElement(_i,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},T.createElement(Q2e,{cursor:u,cursorComp:_,cursorProps:j}))}function J2e(e){var t=y2e(),r=oL(),n=a0(),a=TU();return t==null||r==null||n==null||a==null?null:T.createElement(Z2e,KS({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var NU=T.createContext(null),ebe=()=>T.useContext(NU),Yw={exports:{}},YI;function tbe(){return YI||(YI=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function i(u,f,d,m,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new a(d,m||u,g),b=r?r+f:f;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],x]:u._events[b].push(x):(u._events[b]=x,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,m;if(this._eventsCount===0)return f;for(m in d=this._events)t.call(d,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=r?r+f:f,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,b=new Array(x);g<x;g++)b[g]=m[g].fn;return b},l.prototype.listenerCount=function(f){var d=r?r+f:f,m=this._events[d];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,d,m,g,x,b){var _=r?r+f:f;if(!this._events[_])return!1;var y=this._events[_],w=arguments.length,C,A;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,m),!0;case 4:return y.fn.call(y.context,d,m,g),!0;case 5:return y.fn.call(y.context,d,m,g,x),!0;case 6:return y.fn.call(y.context,d,m,g,x,b),!0}for(A=1,C=new Array(w-1);A<w;A++)C[A-1]=arguments[A];y.fn.apply(y.context,C)}else{var O=y.length,F;for(A=0;A<O;A++)switch(y[A].once&&this.removeListener(f,y[A].fn,void 0,!0),w){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,d);break;case 3:y[A].fn.call(y[A].context,d,m);break;case 4:y[A].fn.call(y[A].context,d,m,g);break;default:if(!C)for(F=1,C=new Array(w-1);F<w;F++)C[F-1]=arguments[F];y[A].fn.apply(y[A].context,C)}}return!0},l.prototype.on=function(f,d,m){return i(this,f,d,m,!1)},l.prototype.once=function(f,d,m){return i(this,f,d,m,!0)},l.prototype.removeListener=function(f,d,m,g){var x=r?r+f:f;if(!this._events[x])return this;if(!d)return s(this,x),this;var b=this._events[x];if(b.fn)b.fn===d&&(!g||b.once)&&(!m||b.context===m)&&s(this,x);else{for(var _=0,y=[],w=b.length;_<w;_++)(b[_].fn!==d||g&&!b[_].once||m&&b[_].context!==m)&&y.push(b[_]);y.length?this._events[x]=y.length===1?y[0]:y:s(this,x)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Yw)),Yw.exports}var rbe=tbe();const nbe=vo(rbe);var mp=new nbe,XS="recharts.syncEvent.tooltip",QI="recharts.syncEvent.brush";function d5(e,t){if(t){var r=Number.parseInt(t,10);if(!ps(r))return e?.[r]}}var abe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},IU=bi({name:"options",initialState:abe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ibe=IU.reducer,{createEventEmitter:sbe}=IU.actions;function obe(e){return e.tooltip.syncInteraction}var lbe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},PU=bi({name:"chartData",initialState:lbe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:ZI,setDataStartEndIndexes:cbe,setComputedData:Z4e}=PU.actions,ube=PU.reducer,fbe=["x","y"];function JI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(r),!0).forEach(function(n){dbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dbe(e,t,r){return(t=hbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hbe(e){var t=pbe(e,"string");return typeof t=="symbol"?t:t+""}function pbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mbe(e,t){if(e==null)return{};var r,n,a=gbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xbe(){var e=dt(O4),t=dt(j4),r=Ur(),n=dt(Dz),a=dt(yl),i=a0(),s=Ty(),l=dt(u=>u.rootProps.className);T.useEffect(()=>{if(e==null)return Pp;var u=(f,d,m)=>{if(t!==m&&e===f){if(n==="index"){var g;if(s&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var x=d.payload.coordinate,{x:b,y:_}=x,y=mbe(x,fbe),{x:w,y:C,width:A,height:O}=d.payload.sourceViewBox,F=G0(G0({},y),{},{x:s.x+(A?(b-w)/A:0)*s.width,y:s.y+(O?(_-C)/O:0)*s.height});r(G0(G0({},d),{},{payload:G0(G0({},d.payload),{},{coordinate:F})}))}else r(d);return}if(a!=null){var M;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=n(a,j);M=a[k]}else n==="value"&&(M=a.find(ne=>String(ne.value)===d.payload.label));var{coordinate:R}=d.payload;if(M==null||d.payload.active===!1||R==null||s==null){r(WS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:P}=R,N=Math.min(I,s.x+s.width),B=Math.min(P,s.y+s.height),oe={x:i==="horizontal"?M.coordinate:N,y:i==="horizontal"?B:M.coordinate},he=WS({active:d.payload.active,coordinate:oe,dataKey:d.payload.dataKey,index:String(M.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(he)}}};return mp.on(XS,u),()=>{mp.off(XS,u)}},[l,r,t,e,n,a,i,s])}function vbe(){var e=dt(O4),t=dt(j4),r=Ur();T.useEffect(()=>{if(e==null)return Pp;var n=(a,i,s)=>{t!==s&&e===a&&r(cbe(i))};return mp.on(QI,n),()=>{mp.off(QI,n)}},[r,t,e])}function ybe(){var e=Ur();T.useEffect(()=>{e(sbe())},[e]),xbe(),vbe()}function bbe(e,t,r,n,a,i){var s=dt(x=>T2e(x,e,t)),l=dt(j4),u=dt(O4),f=dt(Dz),d=dt(obe),m=d?.active,g=Ty();T.useEffect(()=>{if(!m&&u!=null&&l!=null){var x=WS({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});mp.emit(XS,u,x,l)}},[m,r,s,a,n,l,u,f,i,g])}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){_be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _be(e,t,r){return(t=wbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wbe(e){var t=Ebe(e,"string");return typeof t=="symbol"?t:t+""}function Ebe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sbe(e){return e.dataKey}function Abe(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(lme,t)}var rP=[],Cbe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function T1(e){var t,r,n=Wn(e,Cbe),{active:a,allowEscapeViewBox:i,animationDuration:s,animationEasing:l,content:u,filterNull:f,isAnimationActive:d,offset:m,payloadUniqBy:g,position:x,reverseDirection:b,useTranslate3d:_,wrapperStyle:y,cursor:w,shared:C,trigger:A,defaultIndex:O,portal:F,axisId:M}=n,j=Ur(),k=typeof O=="number"?String(O):O;T.useEffect(()=>{j(wye({shared:C,trigger:A,axisId:M,active:a,defaultIndex:k}))},[j,C,A,M,a,k]);var R=Ty(),I=yL(),P=gye(C),{activeIndex:N,isActive:B}=(t=dt(ve=>O2e(ve,P,A,k)))!==null&&t!==void 0?t:{},oe=dt(ve=>D2e(ve,P,A,k)),he=dt(ve=>OU(ve,P,A,k)),ne=dt(ve=>k2e(ve,P,A,k)),de=oe,be=ebe(),we=(r=a??B)!==null&&r!==void 0?r:!1,[ue,U]=b7([de,we]),Y=P==="axis"?he:void 0;bbe(P,A,ne,Y,N,we);var Z=F??be;if(Z==null||R==null||P==null)return null;var q=de??rP;we||(q=rP),f&&q.length&&(q=m7(q.filter(ve=>ve.value!=null&&(ve.hide!==!0||n.includeHidden)),g,Sbe));var se=q.length>0,me=T.createElement(mme,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:d,active:we,coordinate:ne,hasPayload:se,offset:m,position:x,reverseDirection:b,useTranslate3d:_,viewBox:R,wrapperStyle:y,lastBoundingBox:ue,innerRef:U,hasPortalFromProps:!!F},Abe(u,tP(tP({},n),{},{payload:q,label:Y,active:we,activeIndex:N,coordinate:ne,accessibilityLayer:I})));return T.createElement(T.Fragment,null,z1.createPortal(me,Z),we&&T.createElement(J2e,{cursor:w,tooltipEventType:P,coordinate:ne,payload:q,index:N}))}var Hu=e=>null;Hu.displayName="Cell";function Tbe(e,t,r){return(t=kbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kbe(e){var t=Dbe(e,"string");return typeof t=="symbol"?t:t+""}function Dbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Obe{constructor(t){Tbe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){Nbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nbe(e,t,r){return(t=Ibe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ibe(e){var t=Pbe(e,"string");return typeof t=="symbol"?t:t+""}function Pbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rbe={cacheSize:2e3,enableCache:!0},RU=jbe({},Rbe),aP=new Obe(RU.cacheSize),Fbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iP="recharts_measurement_span";function Bbe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(l)}var sP=(e,t)=>{try{var r=document.getElementById(iP);r||(r=document.createElement("span"),r.setAttribute("id",iP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Fbe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ph=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Up.isSsr)return{width:0,height:0};if(!RU.enableCache)return sP(t,r);var n=Bbe(t,r),a=aP.get(n);if(a)return a;var i=sP(t,r);return aP.set(n,i),i},FU;function Mbe(e,t,r){return(t=Lbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lbe(e){var t=zbe(e,"string");return typeof t=="symbol"?t:t+""}function zbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ube=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$be={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hbe=["cm","mm","pt","pc","in","Q","px"];function qbe(e){return Hbe.includes(e)}var sf="NaN";function Wbe(e,t){return e*$be[t]}class Sa{static parse(t){var r,[,n,a]=(r=Vbe.exec(t))!==null&&r!==void 0?r:[];return n==null?Sa.NaN:new Sa(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ps(t)&&(this.unit=""),r!==""&&!Ube.test(r)&&(this.num=NaN,this.unit=""),qbe(r)&&(this.num=Wbe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ps(this.num)}}FU=Sa;Mbe(Sa,"NaN",new FU(NaN,""));function BU(e){if(e==null||e.includes(sf))return sf;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=oP.exec(t))!==null&&r!==void 0?r:[],s=Sa.parse(n??""),l=Sa.parse(i??""),u=a==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return sf;t=t.replace(oP,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,d,m,g]=(f=lP.exec(t))!==null&&f!==void 0?f:[],x=Sa.parse(d??""),b=Sa.parse(g??""),_=m==="+"?x.add(b):x.subtract(b);if(_.isNaN())return sf;t=t.replace(lP,_.toString())}return t}var cP=/\(([^()]*)\)/;function Gbe(e){for(var t=e,r;(r=cP.exec(t))!=null;){var[,n]=r;t=t.replace(cP,BU(n))}return t}function Kbe(e){var t=e.replace(/\s+/g,"");return t=Gbe(t),t=BU(t),t}function Xbe(e){try{return Kbe(e)}catch{return sf}}function Qw(e){var t=Xbe(e.slice(5,-1));return t===sf?"":t}var Ybe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Qbe=["dx","dy","angle","className","breakAll"];function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YS.apply(null,arguments)}function uP(e,t){if(e==null)return{};var r,n,a=Zbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MU=/[ \f\n\r\t\v\u2028\u2029]+/,LU=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ln(t)||(r?a=t.toString().split(""):a=t.toString().split(MU));var i=a.map(l=>({word:l,width:Ph(l,n).width})),s=r?0:Ph("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}};function Jbe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var zU=(e,t,r,n)=>e.reduce((a,i)=>{var{word:s,width:l}=i,u=a[a.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(s),u.width+=l+r;else{var f={words:[s],width:l};a.push(f)}return a},[]),UU=e=>e.reduce((t,r)=>t.width>r.width?t:r),e_e="",fP=(e,t,r,n,a,i,s,l)=>{var u=e.slice(0,t),f=LU({breakAll:r,style:n,children:u+e_e});if(!f)return[!1,[]];var d=zU(f.wordsWithComputedWidth,i,s,l),m=d.length>a||UU(d).width>Number(i);return[m,d]},t_e=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:l,breakAll:u}=e,f=at(i),d=String(s),m=zU(t,n,r,a);if(!f||a)return m;var g=m.length>i||UU(m).width>Number(n);if(!g)return m;for(var x=0,b=d.length-1,_=0,y;x<=b&&_<=d.length-1;){var w=Math.floor((x+b)/2),C=w-1,[A,O]=fP(d,C,u,l,i,n,r,a),[F]=fP(d,w,u,l,i,n,r,a);if(!A&&!F&&(x=w+1),A&&F&&(b=w-1),!A&&F){y=O;break}_++}return y||m},dP=e=>{var t=ln(e)?[]:e.toString().split(MU);return[{words:t,width:void 0}]},r_e=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!Up.isSsr){var l,u,f=LU({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:d,spaceWidth:m}=f;l=d,u=m}else return dP(n);return t_e({breakAll:i,children:n,maxLines:s,style:a},l,u,t,!!r)}return dP(n)},VU="#808080",n_e={angle:0,breakAll:!1,capHeight:"0.71em",fill:VU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Qy=T.forwardRef((e,t)=>{var r=Wn(e,n_e),{x:n,y:a,lineHeight:i,capHeight:s,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:d}=r,m=uP(r,Ybe),g=T.useMemo(()=>r_e({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:x,dy:b,angle:_,className:y,breakAll:w}=m,C=uP(m,Qbe);if(!mo(n)||!mo(a)||g.length===0)return null;var A=Number(n)+(at(x)?x:0),O=Number(a)+(at(b)?b:0);if(!Lr(A)||!Lr(O))return null;var F;switch(d){case"start":F=Qw("calc(".concat(s,")"));break;case"middle":F=Qw("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:F=Qw("calc(".concat(g.length-1," * -").concat(i,")"));break}var M=[];if(u){var j=g[0].width,{width:k}=m;M.push("scale(".concat(at(k)&&at(j)?k/j:1,")"))}return _&&M.push("rotate(".concat(_,", ").concat(A,", ").concat(O,")")),M.length&&(C.transform=M.join(" ")),T.createElement("text",YS({},ri(C),{ref:t,x:A,y:O,className:dr("recharts-text",y),textAnchor:f,fill:l.includes("url")?VU:l}),g.map((R,I)=>{var P=R.words.join(w?"":" ");return T.createElement("tspan",{x:A,dy:I===0?F:i,key:"".concat(P,"-").concat(I)},P)}))});Qy.displayName="Text";var a_e=["labelRef"],i_e=["content"];function hP(e,t){if(e==null)return{};var r,n,a=s_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){o_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o_e(e,t,r){return(t=l_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l_e(e){var t=c_e(e,"string");return typeof t=="symbol"?t:t+""}function c_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vo.apply(null,arguments)}var $U=T.createContext(null),u_e=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s,children:l}=e,u=T.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s}),[t,r,n,a,i,s]);return T.createElement($U.Provider,{value:u},l)},HU=()=>{var e=T.useContext($U),t=Ty();return e||sL(t)},f_e=T.createContext(null),d_e=()=>{var e=T.useContext(f_e),t=dt(Pz);return e||t},h_e=e=>{var{value:t,formatter:r}=e,n=ln(e.children)?t:e.children;return typeof r=="function"?r(n):n},h5=e=>e!=null&&typeof e=="function",p_e=(e,t)=>{var r=ma(t-e),n=Math.min(Math.abs(t-e),360);return r*n},m_e=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:l,cy:u,innerRadius:f,outerRadius:d,startAngle:m,endAngle:g,clockWise:x}=a,b=(f+d)/2,_=p_e(m,g),y=_>=0?1:-1,w,C;switch(t){case"insideStart":w=m+y*i,C=x;break;case"insideEnd":w=g-y*i,C=!x;break;case"end":w=g+y*i,C=x;break;default:throw new Error("Unsupported position ".concat(t))}C=_<=0?C:!C;var A=Un(l,u,b,w),O=Un(l,u,b,w+(C?1:-1)*359),F="M".concat(A.x,",").concat(A.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),M=ln(e.id)?rp("recharts-radial-line-"):e.id;return T.createElement("text",Vo({},n,{dominantBaseline:"central",className:dr("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:M,d:F})),T.createElement("textPath",{xlinkHref:"#".concat(M)},r))},g_e=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(r==="outside"){var{x:d,y:m}=Un(n,a,s+t,f);return{x:d,y:m,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+s)/2,{x,y:b}=Un(n,a,g,f);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},QS=e=>"cx"in e&&at(e.cx),x_e=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!QS(r)&&(i=r);var{x:s,y:l,upperWidth:u,lowerWidth:f,height:d}=t,m=s,g=s+(u-f)/2,x=(m+g)/2,b=(u+f)/2,_=m+u/2,y=d>=0?1:-1,w=y*n,C=y>0?"end":"start",A=y>0?"start":"end",O=u>=0?1:-1,F=O*n,M=O>0?"end":"start",j=O>0?"start":"end";if(a==="top"){var k={x:m+u/2,y:l-w,textAnchor:"middle",verticalAnchor:C};return An(An({},k),i?{height:Math.max(l-i.y,0),width:u}:{})}if(a==="bottom"){var R={x:g+f/2,y:l+d+w,textAnchor:"middle",verticalAnchor:A};return An(An({},R),i?{height:Math.max(i.y+i.height-(l+d),0),width:f}:{})}if(a==="left"){var I={x:x-F,y:l+d/2,textAnchor:M,verticalAnchor:"middle"};return An(An({},I),i?{width:Math.max(I.x-i.x,0),height:d}:{})}if(a==="right"){var P={x:x+b+F,y:l+d/2,textAnchor:j,verticalAnchor:"middle"};return An(An({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:d}:{})}var N=i?{width:b,height:d}:{};return a==="insideLeft"?An({x:x+F,y:l+d/2,textAnchor:j,verticalAnchor:"middle"},N):a==="insideRight"?An({x:x+b-F,y:l+d/2,textAnchor:M,verticalAnchor:"middle"},N):a==="insideTop"?An({x:m+u/2,y:l+w,textAnchor:"middle",verticalAnchor:A},N):a==="insideBottom"?An({x:g+f/2,y:l+d-w,textAnchor:"middle",verticalAnchor:C},N):a==="insideTopLeft"?An({x:m+F,y:l+w,textAnchor:j,verticalAnchor:A},N):a==="insideTopRight"?An({x:m+u-F,y:l+w,textAnchor:M,verticalAnchor:A},N):a==="insideBottomLeft"?An({x:g+F,y:l+d-w,textAnchor:j,verticalAnchor:C},N):a==="insideBottomRight"?An({x:g+f-F,y:l+d-w,textAnchor:M,verticalAnchor:C},N):a&&typeof a=="object"&&(at(a.x)||al(a.x))&&(at(a.y)||al(a.y))?An({x:s+$a(a.x,b),y:l+$a(a.y,d),textAnchor:"end",verticalAnchor:"end"},N):An({x:_,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},v_e={angle:0,offset:5,zIndex:Vn.label,position:"middle",textBreakAll:!1};function ec(e){var t=Wn(e,v_e),{viewBox:r,position:n,value:a,children:i,content:s,className:l="",textBreakAll:u,labelRef:f}=t,d=d_e(),m=HU(),g=n==="center"?m:d??m,x,b,_;if(r==null?x=g:QS(r)?x=r:x=sL(r),!x||ln(a)&&ln(i)&&!T.isValidElement(s)&&typeof s!="function")return null;var y=An(An({},t),{},{viewBox:x});if(T.isValidElement(s)){var{labelRef:w}=y,C=hP(y,a_e);return T.cloneElement(s,C)}if(typeof s=="function"){var{content:A}=y,O=hP(y,i_e);if(b=T.createElement(s,O),T.isValidElement(b))return b}else b=h_e(t);var F=ri(t);if(QS(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return m_e(t,n,b,F,x);_=g_e(x,t.offset,t.position)}else _=x_e(t,x);return T.createElement(_i,{zIndex:t.zIndex},T.createElement(Qy,Vo({ref:f,className:dr("recharts-label",l)},F,_,{textAnchor:Jbe(F.textAnchor)?F.textAnchor:_.textAnchor,breakAll:u}),b))}ec.displayName="Label";var y_e=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?T.createElement(ec,Vo({key:"label-implicit"},n)):mo(e)?T.createElement(ec,Vo({key:"label-implicit",value:e},n)):T.isValidElement(e)?e.type===ec?T.cloneElement(e,An({key:"label-implicit"},n)):T.createElement(ec,Vo({key:"label-implicit",content:e},n)):h5(e)?T.createElement(ec,Vo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?T.createElement(ec,Vo({},e,{key:"label-implicit"},n)):null};function b_e(e){var{label:t,labelRef:r}=e,n=HU();return y_e(t,n,r)||null}var Zw={},Jw={},mP;function __e(){return mP||(mP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Jw)),Jw}var eE={},gP;function w_e(){return gP||(gP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(eE)),eE}var xP;function E_e(){return xP||(xP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=__e(),r=w_e(),n=VC();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Zw)),Zw}var tE,vP;function S_e(){return vP||(vP=1,tE=E_e().last),tE}var A_e=S_e();const C_e=vo(A_e);var T_e=["valueAccessor"],k_e=["dataKey","clockWise","id","textBreakAll","zIndex"];function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k1.apply(null,arguments)}function yP(e,t){if(e==null)return{};var r,n,a=D_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O_e=e=>Array.isArray(e.value)?C_e(e.value):e.value,qU=T.createContext(void 0),WU=qU.Provider,GU=T.createContext(void 0),j_e=GU.Provider;function N_e(){return T.useContext(qU)}function I_e(){return T.useContext(GU)}function sv(e){var{valueAccessor:t=O_e}=e,r=yP(e,T_e),{dataKey:n,clockWise:a,id:i,textBreakAll:s,zIndex:l}=r,u=yP(r,k_e),f=N_e(),d=I_e(),m=f||d;return!m||!m.length?null:T.createElement(_i,{zIndex:l??Vn.label},T.createElement(kn,{className:"recharts-label-list"},m.map((g,x)=>{var b,_=ln(n)?t(g,x):Rr(g&&g.payload,n),y=ln(i)?{}:{id:"".concat(i,"-").concat(x)};return T.createElement(ec,k1({key:"label-".concat(x)},ri(g),u,y,{fill:(b=r.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:_,textBreakAll:s,viewBox:g.viewBox,index:x,zIndex:0}))})))}sv.displayName="LabelList";function p5(e){var{label:t}=e;return t?t===!0?T.createElement(sv,{key:"labelList-implicit"}):T.isValidElement(t)||h5(t)?T.createElement(sv,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(sv,k1({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZS.apply(null,arguments)}var KU=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=dr("recharts-dot",a);return at(t)&&at(r)&&at(n)?T.createElement("circle",ZS({},yi(e),UC(e),{className:i,cx:t,cy:r,r:n})):null},XU=e=>e.graphicalItems.polarItems,P_e=Oe([tn,Xp],F4),Zy=Oe([XU,un,P_e],B4),R_e=Oe([Zy],M4),Jy=Oe([R_e,My],L4),F_e=Oe([Jy,un,Zy],U4);Oe([Jy,un,Zy],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,s=Rr(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Rr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var bP=()=>{},B_e=Oe([Jy,un,Zy,Gy,tn],q4),M_e=Oe([un,$4,H4,bP,B_e,bP,rr,tn],W4),YU=Oe([un,rr,Jy,F_e,Kp,tn,M_e],G4),L_e=Oe([YU,un,Zf],Y4);Oe([un,YU,L_e,tn],Z4);var z_e={radiusAxis:{},angleAxis:{}},QU=bi({name:"polarAxis",initialState:z_e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:J4e,removeRadiusAxis:e5e,addAngleAxis:t5e,removeAngleAxis:r5e}=QU.actions,U_e=QU.reducer;function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){V_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V_e(e,t,r){return(t=$_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $_e(e){var t=H_e(e,"string");return typeof t=="symbol"?t:t+""}function H_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q_e=(e,t)=>t,m5=Oe([XU,q_e],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),W_e=[],g5=(e,t,r)=>r?.length===0?W_e:r,ZU=Oe([My,m5,g5],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>wP(wP({},t.presentationProps),i.props))),a!=null)return a}}),G_e=Oe([ZU,m5,g5],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,s=Rr(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Wf(s,t.dataKey),color:l,payload:n,type:t.legendType}})}),K_e=Oe([ZU,m5,g5,ta],(e,t,r,n)=>{if(!(t==null||e==null))return Ywe({offset:n,pieSettings:t,displayedData:e,cells:r})}),rE={exports:{}},Ir={};var EP;function X_e(){if(EP)return Ir;EP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function b(_){if(typeof _=="object"&&_!==null){var y=_.$$typeof;switch(y){case e:switch(_=_.type,_){case r:case a:case n:case u:case f:case g:return _;default:switch(_=_&&_.$$typeof,_){case s:case l:case m:case d:return _;case i:return _;default:return y}}case t:return y}}}return Ir.ContextConsumer=i,Ir.ContextProvider=s,Ir.Element=e,Ir.ForwardRef=l,Ir.Fragment=r,Ir.Lazy=m,Ir.Memo=d,Ir.Portal=t,Ir.Profiler=a,Ir.StrictMode=n,Ir.Suspense=u,Ir.SuspenseList=f,Ir.isContextConsumer=function(_){return b(_)===i},Ir.isContextProvider=function(_){return b(_)===s},Ir.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},Ir.isForwardRef=function(_){return b(_)===l},Ir.isFragment=function(_){return b(_)===r},Ir.isLazy=function(_){return b(_)===m},Ir.isMemo=function(_){return b(_)===d},Ir.isPortal=function(_){return b(_)===t},Ir.isProfiler=function(_){return b(_)===a},Ir.isStrictMode=function(_){return b(_)===n},Ir.isSuspense=function(_){return b(_)===u},Ir.isSuspenseList=function(_){return b(_)===f},Ir.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===a||_===n||_===u||_===f||typeof _=="object"&&_!==null&&(_.$$typeof===m||_.$$typeof===d||_.$$typeof===s||_.$$typeof===i||_.$$typeof===l||_.$$typeof===x||_.getModuleId!==void 0)},Ir.typeOf=b,Ir}var SP;function Y_e(){return SP||(SP=1,rE.exports=X_e()),rE.exports}var Q_e=Y_e(),AP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",CP=null,nE=null,JU=e=>{if(e===CP&&Array.isArray(nE))return nE;var t=[];return T.Children.forEach(e,r=>{ln(r)||(Q_e.isFragment(r)?t=t.concat(JU(r.props.children)):t.push(r))}),nE=t,CP=e,t};function x5(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>AP(a)):n=[AP(t)],JU(e).forEach(a=>{var i=Lu(a,"type.displayName")||Lu(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var eV=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,aE={},TP;function Z_e(){return TP||(TP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(aE)),aE}var iE,kP;function J_e(){return kP||(kP=1,iE=Z_e().isPlainObject),iE}var ewe=J_e();const twe=vo(ewe);var DP,OP,jP,NP,IP;function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){rwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rwe(e,t,r){return(t=nwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nwe(e){var t=awe(e,"string");return typeof t=="symbol"?t:t+""}function awe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D1.apply(null,arguments)}function ah(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var FP=(e,t,r,n,a)=>{var i=r-n,s;return s=xn(DP||(DP=ah(["M ",",",""])),e,t),s+=xn(OP||(OP=ah(["L ",",",""])),e+r,t),s+=xn(jP||(jP=ah(["L ",",",""])),e+r-i/2,t+a),s+=xn(NP||(NP=ah(["L ",",",""])),e+r-i/2-n,t+a),s+=xn(IP||(IP=ah(["L ",","," Z"])),e,t),s},iwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},swe=e=>{var t=Wn(e,iwe),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:l}=t,{animationEasing:u,animationDuration:f,animationBegin:d,isUpdateAnimationActive:m}=t,g=T.useRef(null),[x,b]=T.useState(-1),_=T.useRef(a),y=T.useRef(i),w=T.useRef(s),C=T.useRef(r),A=T.useRef(n),O=$p(e,"trapezoid-");if(T.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var oe=g.current.getTotalLength();oe&&b(oe)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var F=dr("recharts-trapezoid",l);if(!m)return T.createElement("g",null,T.createElement("path",D1({},ri(t),{className:F,d:FP(r,n,a,i,s)})));var M=_.current,j=y.current,k=w.current,R=C.current,I=A.current,P="0px ".concat(x===-1?1:x,"px"),N="".concat(x,"px 0px"),B=bL(["strokeDasharray"],f,u);return T.createElement(Vp,{animationId:O,key:O,canBegin:x>0,duration:f,easing:u,isActive:m,begin:d},oe=>{var he=Wr(M,a,oe),ne=Wr(j,i,oe),de=Wr(k,s,oe),be=Wr(R,r,oe),we=Wr(I,n,oe);g.current&&(_.current=he,y.current=ne,w.current=de,C.current=be,A.current=we);var ue=oe>0?{transition:B,strokeDasharray:N}:{strokeDasharray:P};return T.createElement("path",D1({},ri(t),{className:F,d:FP(be,we,he,ne,de),ref:g,style:RP(RP({},ue),t.style)}))})},owe=["option","shapeType","activeClassName"];function lwe(e,t){if(e==null)return{};var r,n,a=cwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){uwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uwe(e,t,r){return(t=fwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fwe(e){var t=dwe(e,"string");return typeof t=="symbol"?t:t+""}function dwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hwe(e,t){return O1(O1({},t),e)}function pwe(e,t){return e==="symbols"}function MP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return T.createElement(SL,r);case"trapezoid":return T.createElement(swe,r);case"sector":return T.createElement(kL,r);case"symbols":if(pwe(t))return T.createElement(zC,r);break;case"curve":return T.createElement(mf,r);default:return null}}function mwe(e){return T.isValidElement(e)?e.props:e}function tV(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=lwe(e,owe),i;if(T.isValidElement(t))i=T.cloneElement(t,O1(O1({},a),mwe(t)));else if(typeof t=="function")i=t(a,a.index);else if(twe(t)&&typeof t!="boolean"){var s=hwe(t,a);i=T.createElement(MP,{shapeType:r,elementProps:s})}else{var l=a;i=T.createElement(MP,{shapeType:r,elementProps:l})}return a.isActive?T.createElement(kn,{className:n},i):i}var v5=(e,t,r)=>{var n=Ur();return(a,i)=>s=>{e?.(a,i,s),n(fU({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},y5=e=>{var t=Ur();return(r,n)=>a=>{e?.(r,n,a),t(Eye())}},b5=(e,t,r)=>{var n=Ur();return(a,i)=>s=>{e?.(a,i,s),n(Sye({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function _5(e){var{tooltipEntrySettings:t}=e,r=Ur(),n=Wa(),a=T.useRef(null);return T.useLayoutEffect(()=>{n||(a.current===null?r(yye(t)):a.current!==t&&r(bye({prev:a.current,next:t})),a.current=t)},[t,r,n]),T.useLayoutEffect(()=>()=>{a.current&&(r(_ye(a.current)),a.current=null)},[r]),null}function rV(e){var{legendPayload:t}=e,r=Ur(),n=Wa(),a=T.useRef(null);return T.useLayoutEffect(()=>{n||(a.current===null?r(mL(t)):a.current!==t&&r(gL({prev:a.current,next:t})),a.current=t)},[r,n,t]),T.useLayoutEffect(()=>()=>{a.current&&(r(xL(a.current)),a.current=null)},[r]),null}function gwe(e){var{legendPayload:t}=e,r=Ur(),n=dt(rr),a=T.useRef(null);return T.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(mL(t)):a.current!==t&&r(gL({prev:a.current,next:t})),a.current=t)},[r,n,t]),T.useLayoutEffect(()=>()=>{a.current&&(r(xL(a.current)),a.current=null)},[r]),null}var sE,xwe=()=>{var[e]=T.useState(()=>rp("uid-"));return e},vwe=(sE=AH.useId)!==null&&sE!==void 0?sE:xwe;function ywe(e,t){var r=vwe();return t||(e?"".concat(e,"-").concat(r):r)}var bwe=T.createContext(void 0),w5=e=>{var{id:t,type:r,children:n}=e,a=ywe("recharts-".concat(r),t);return T.createElement(bwe.Provider,{value:a},n(a))},_we={cartesianItems:[],polarItems:[]},nV=bi({name:"graphicalItems",initialState:_we,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Bs(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Zr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Bs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Zr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zr()},removePolarGraphicalItem:{reducer(e,t){var r=Bs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Zr()}}}),{addCartesianGraphicalItem:wwe,replaceCartesianGraphicalItem:Ewe,removeCartesianGraphicalItem:Swe,addPolarGraphicalItem:Awe,removePolarGraphicalItem:Cwe}=nV.actions,Twe=nV.reducer,kwe=e=>{var t=Ur(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?t(wwe(e)):r.current!==e&&t(Ewe({prev:r.current,next:e})),r.current=e},[t,e]),T.useLayoutEffect(()=>()=>{r.current&&(t(Swe(r.current)),r.current=null)},[t]),null},aV=T.memo(kwe);function Dwe(e){var t=Ur();return T.useLayoutEffect(()=>(t(Awe(e)),()=>{t(Cwe(e))}),[t,e]),null}var Owe=["key"],jwe=["onMouseEnter","onClick","onMouseLeave"],Nwe=["id"],Iwe=["id"];function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){Pwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pwe(e,t,r){return(t=Rwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rwe(e){var t=Fwe(e,"string");return typeof t=="symbol"?t:t+""}function Fwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(null,arguments)}function e2(e,t){if(e==null)return{};var r,n,a=Bwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mwe(e){var t=T.useMemo(()=>x5(e.children,Hu),[e.children]),r=dt(n=>G_e(n,e.id,t));return r==null?null:T.createElement(gwe,{legendPayload:r})}var Lwe=T.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:l,hide:u,tooltipType:f,id:d}=e,m={dataDefinedOnItem:n.map(g=>g.tooltipPayload),positions:n.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:Wf(l,t),hide:u,type:f,color:s,unit:"",graphicalItemId:d}};return T.createElement(_5,{tooltipEntrySettings:m})}),zwe=(e,t)=>e>t?"start":e<t?"end":"middle",Uwe=(e,t,r)=>$a(typeof t=="function"?t(e):t,r,r*.8),Vwe=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,l=AL(i,s),u=a+$a(e.cx,i,i/2),f=n+$a(e.cy,s,s/2),d=$a(e.innerRadius,l,0),m=Uwe(r,e.outerRadius,l),g=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:u,cy:f,innerRadius:d,outerRadius:m,maxRadius:g}},$we=(e,t)=>{var r=ma(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Hwe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var qwe=(e,t)=>{if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return e(t);var r=dr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=e2(t,Owe);return T.createElement(mf,Tc({},a,{type:"linear",className:r}))},Wwe=(e,t,r)=>{if(T.isValidElement(e))return T.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),T.isValidElement(n)))return n;var a=dr("recharts-pie-label-text",Hwe(e));return T.createElement(Qy,Tc({},t,{alignmentBaseline:"middle",className:a}),n)};function Gwe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:s}=r;if(!n||!a||!t)return null;var l=yi(r),u=Bu(a),f=Bu(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((g,x)=>{var b=(g.startAngle+g.endAngle)/2,_=Un(g.cx,g.cy,g.outerRadius+d,b),y=vn(vn(vn(vn({},l),g),{},{stroke:"none"},u),{},{index:x,textAnchor:zwe(_.x,g.cx)},_),w=vn(vn(vn(vn({},l),g),{},{fill:"none",stroke:g.fill},f),{},{index:x,points:[Un(g.cx,g.cy,g.outerRadius,b),_],key:"line"});return T.createElement(_i,{zIndex:Vn.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},T.createElement(kn,null,i&&qwe(i,w),Wwe(a,y,Rr(g,s))))});return T.createElement(kn,{className:"recharts-pie-labels"},m)}function Kwe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?T.createElement(p5,{label:a}):T.createElement(Gwe,{sectors:t,props:r,showLabels:n})}function Xwe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:i,id:s}=e,l=dt(Cc),u=dt(o5),f=dt(c2e),{onMouseEnter:d,onClick:m,onMouseLeave:g}=a,x=e2(a,jwe),b=v5(d,a.dataKey,s),_=y5(g),y=b5(m,a.dataKey,s);return t==null||t.length===0?null:T.createElement(T.Fragment,null,t.map((w,C)=>{if(w?.startAngle===0&&w?.endAngle===0&&t.length!==1)return null;var A=f==null||f===s,O=String(C)===l&&(u==null||a.dataKey===u)&&A,F=l?n:null,M=r&&O?r:F,j=vn(vn({},w),{},{stroke:w.stroke,tabIndex:-1,[tL]:C,[rL]:s});return T.createElement(kn,Tc({key:"sector-".concat(w?.startAngle,"-").concat(w?.endAngle,"-").concat(w.midAngle,"-").concat(C),tabIndex:-1,className:"recharts-pie-sector"},Rp(x,w,C),{onMouseEnter:b(w,C),onMouseLeave:_(w,C),onClick:y(w,C)}),T.createElement(tV,Tc({option:i??M,index:C,shapeType:"sector",isActive:O},j)))}))}function Ywe(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:s,startAngle:l,endAngle:u,dataKey:f,nameKey:d,tooltipType:m}=r,g=Math.abs(r.minAngle),x=$we(l,u),b=Math.abs(x),_=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(M=>Rr(M,f,0)!==0).length,w=(b>=360?y:y-1)*_,C=b-y*g-w,A=n.reduce((M,j)=>{var k=Rr(j,f,0);return M+(at(k)?k:0)},0),O;if(A>0){var F;O=n.map((M,j)=>{var k=Rr(M,f,0),R=Rr(M,d,j),I=Vwe(r,i,M),P=(at(k)?k:0)/A,N,B=vn(vn({},M),a&&a[j]&&a[j].props);j?N=F.endAngle+ma(x)*_*(k!==0?1:0):N=l;var oe=N+ma(x)*((k!==0?g:0)+P*C),he=(N+oe)/2,ne=(I.innerRadius+I.outerRadius)/2,de=[{name:R,value:k,payload:B,dataKey:f,type:m,graphicalItemId:r.id}],be=Un(I.cx,I.cy,ne,he);return F=vn(vn(vn(vn({},r.presentationProps),{},{percent:P,cornerRadius:typeof s=="string"?parseFloat(s):s,name:R,tooltipPayload:de,midAngle:he,middleRadius:ne,tooltipPosition:be},B),I),{},{value:k,dataKey:f,startAngle:N,endAngle:oe,payload:B,paddingAngle:ma(x)*_}),F})}return O}function Qwe(e){var{showLabels:t,sectors:r,children:n}=e,a=T.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return T.createElement(j_e,{value:t?a:void 0},n)}function Zwe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:u,activeShape:f,inactiveShape:d,onAnimationStart:m,onAnimationEnd:g}=t,x=$p(t,"recharts-pie-"),b=r.current,[_,y]=T.useState(!1),w=T.useCallback(()=>{typeof g=="function"&&g(),y(!1)},[g]),C=T.useCallback(()=>{typeof m=="function"&&m(),y(!0)},[m]);return T.createElement(Qwe,{showLabels:!_,sectors:a},T.createElement(Vp,{animationId:x,begin:s,duration:l,isActive:i,easing:u,onAnimationStart:C,onAnimationEnd:w,key:x},A=>{var O=[],F=a&&a[0],M=F?.startAngle;return a?.forEach((j,k)=>{var R=b&&b[k],I=k>0?Lu(j,"paddingAngle",0):0;if(R){var P=Wr(R.endAngle-R.startAngle,j.endAngle-j.startAngle,A),N=vn(vn({},j),{},{startAngle:M+I,endAngle:M+P+I});O.push(N),M=N.endAngle}else{var{endAngle:B,startAngle:oe}=j,he=Wr(0,B-oe,A),ne=vn(vn({},j),{},{startAngle:M+I,endAngle:M+he+I});O.push(ne),M=ne.endAngle}}),r.current=O,T.createElement(kn,null,T.createElement(Xwe,{sectors:O,activeShape:f,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),T.createElement(Kwe,{showLabels:!_,sectors:a,props:t}),t.children)}var Jwe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Vn.area};function eEe(e){var{id:t}=e,r=e2(e,Nwe),{hide:n,className:a,rootTabIndex:i}=e,s=T.useMemo(()=>x5(e.children,Hu),[e.children]),l=dt(d=>K_e(d,t,s)),u=T.useRef(null),f=dr("recharts-pie",a);return n||l==null?(u.current=null,T.createElement(kn,{tabIndex:i,className:f})):T.createElement(_i,{zIndex:e.zIndex},T.createElement(Lwe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),T.createElement(kn,{tabIndex:i,className:f},T.createElement(Zwe,{props:vn(vn({},r),{},{sectors:l}),previousSectorsRef:u,id:t})))}function E5(e){var t=Wn(e,Jwe),{id:r}=t,n=e2(t,Iwe),a=yi(n);return T.createElement(w5,{id:r,type:"pie"},i=>T.createElement(T.Fragment,null,T.createElement(Dwe,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),T.createElement(Mwe,Tc({},n,{id:i})),T.createElement(eEe,Tc({},n,{id:i}))))}E5.displayName="Pie";var tEe=["points"];function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){rEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rEe(e,t,r){return(t=nEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nEe(e){var t=aEe(e,"string");return typeof t=="symbol"?t:t+""}function aEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(null,arguments)}function iEe(e,t){if(e==null)return{};var r,n,a=sEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oEe(e){var{option:t,dotProps:r,className:n}=e;if(T.isValidElement(t))return T.cloneElement(t,r);if(typeof t=="function")return t(r);var a=dr(n,typeof t!="boolean"?t.className:""),i=r??{},{points:s}=i,l=iEe(i,tEe);return T.createElement(KU,j1({},l,{className:a}))}function lEe(e,t){return e==null?!1:t?!0:e.length===1}function cEe(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:s,needClip:l,clipPathId:u,zIndex:f=Vn.scatter}=e;if(!lEe(t,r))return null;var d=eV(r),m=C0e(r),g=t.map((b,_)=>{var y,w,C=oE(oE(oE({r:3},s),m),{},{index:_,cx:(y=b.x)!==null&&y!==void 0?y:void 0,cy:(w=b.y)!==null&&w!==void 0?w:void 0,dataKey:i,value:b.value,payload:b.payload,points:t});return T.createElement(oEe,{key:"dot-".concat(_),option:r,dotProps:C,className:a})}),x={};return l&&u!=null&&(x.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),T.createElement(_i,{zIndex:f},T.createElement(kn,j1({className:n},x),g))}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){uEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uEe(e,t,r){return(t=fEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fEe(e){var t=dEe(e,"string");return typeof t=="symbol"?t:t+""}function dEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iV=0,hEe={xAxis:{},yAxis:{},zAxis:{}},sV=bi({name:"cartesianAxis",initialState:hEe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Zr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Zr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Zr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=VP(VP({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:pEe,replaceXAxis:mEe,removeXAxis:gEe,addYAxis:xEe,replaceYAxis:vEe,removeYAxis:yEe,addZAxis:n5e,replaceZAxis:a5e,removeZAxis:i5e,updateYAxisWidth:bEe}=sV.actions,_Ee=sV.reducer,wEe=Oe([ta],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),EEe=Oe([wEe,hl,pl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),S5=()=>dt(EEe),SEe=()=>dt(p2e);function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){AEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AEe(e,t,r){return(t=CEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CEe(e){var t=TEe(e,"string");return typeof t=="symbol"?t:t+""}function TEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kEe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:s}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=lE(lE(lE({},l),Bu(a)),UC(a)),f;return T.isValidElement(a)?f=T.cloneElement(a,u):typeof a=="function"?f=a(u):f=T.createElement(KU,u),T.createElement(kn,{className:"recharts-active-dot",clipPath:s},f)};function HP(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:s=Vn.activeDot}=e,l=dt(Cc),u=SEe();if(t==null||u==null)return null;var f=t.find(d=>u.includes(d.payload));return ln(f)?null:T.createElement(_i,{zIndex:s},T.createElement(kEe,{point:f,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var qP=(e,t,r)=>{var n=r??e;if(!ln(n))return $a(n,t,0)},DEe=(e,t,r)=>{var n={},a=e.filter(Vy),i=e.filter(f=>f.stackId==null),s=a.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),n),l=Object.entries(s).map(f=>{var[d,m]=f,g=m.map(b=>b.dataKey),x=qP(t,r,m[0].barSize);return{stackId:d,dataKeys:g,barSize:x}}),u=i.map(f=>{var d=[f.dataKey].filter(g=>g!=null),m=qP(t,r,f.barSize);return{stackId:void 0,dataKeys:d,barSize:m}});return[...l,...u]};function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){OEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OEe(e,t,r){return(t=jEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jEe(e){var t=NEe(e,"string");return typeof t=="symbol"?t:t+""}function NEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IEe(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=$a(e,r,0,!0),l,u=[];if(Lr(n[0].barSize)){var f=!1,d=r/i,m=n.reduce((w,C)=>w+(C.barSize||0),0);m+=(i-1)*s,m>=r&&(m-=(i-1)*s,s=0),m>=r&&d>0&&(f=!0,d*=.9,m=i*d);var g=(r-m)/2>>0,x={offset:g-s,size:0};l=n.reduce((w,C)=>{var A,O={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:x.offset+x.size+s,size:f?d:(A=C.barSize)!==null&&A!==void 0?A:0}},F=[...w,O];return x=F[F.length-1].position,F},u)}else{var b=$a(t,r,0,!0);r-2*b-(i-1)*s<=0&&(s=0);var _=(r-2*b-(i-1)*s)/i;_>1&&(_>>=0);var y=Lr(a)?Math.min(_,a):_;l=n.reduce((w,C,A)=>[...w,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b+(_+s)*A+(_-y)/2,size:y}}],u)}return l}}var PEe=(e,t,r,n,a,i,s)=>{var l=ln(s)?t:s,u=IEe(r,n,a!==i?a:i,e,l);return a!==i&&u!=null&&(u=u.map(f=>nx(nx({},f),{},{position:nx(nx({},f.position),{},{offset:f.position.offset-a/2})}))),u},REe=(e,t)=>{var r=Uy(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}};function FEe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Lr(e.zIndex)?e.zIndex:t}var oV=e=>{var{chartData:t}=e,r=Ur(),n=Wa();return T.useEffect(()=>n?()=>{}:(r(ZI(t)),()=>{r(ZI(void 0))}),[t,r,n]),null},GP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},lV=bi({name:"brush",initialState:GP,reducers:{setBrushSettings(e,t){return t.payload==null?GP:t.payload}}}),{setBrushSettings:s5e}=lV.actions,BEe=lV.reducer;function MEe(e,t,r){return(t=LEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LEe(e){var t=zEe(e,"string");return typeof t=="symbol"?t:t+""}function zEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class A5{static create(t){return new A5(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}MEe(A5,"EPS",1e-4);function UEe(e){return(e%180+180)%180}var VEe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=UEe(a),s=i*Math.PI/180,l=Math.atan(n/r),u=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(u)},$Ee={dots:[],areas:[],lines:[]},cV=bi({name:"referenceElements",initialState:$Ee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Bs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Bs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Bs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:o5e,removeDot:l5e,addArea:c5e,removeArea:u5e,addLine:f5e,removeLine:d5e}=cV.actions,HEe=cV.reducer,qEe=T.createContext(void 0),WEe=e=>{var{children:t}=e,[r]=T.useState("".concat(rp("recharts"),"-clip")),n=S5();if(n==null)return null;var{x:a,y:i,width:s,height:l}=n;return T.createElement(qEe.Provider,{value:r},T.createElement("defs",null,T.createElement("clipPath",{id:r},T.createElement("rect",{x:a,y:i,height:l,width:s}))),t)};function uV(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function GEe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return VEe(n,r)}function KEe(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:l}=e;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function gp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function XEe(e,t){return uV(e,t+1)}function YEe(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:l}=t,u=0,f=1,d=s,m=function(){var b=n?.[u];if(b===void 0)return{v:uV(n,f)};var _=u,y,w=()=>(y===void 0&&(y=r(b,_)),y),C=b.coordinate,A=u===0||gp(e,C,w,d,l);A||(u=0,d=s,f+=1),A&&(d=C+e*(w()/2+a),u+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function QEe(e,t,r,n,a){var i=(n||[]).slice(),s=i.length;if(s===0)return[];for(var{start:l,end:u}=t,f=1;f<=s;f++){for(var d=(s-1)%f,m=l,g=!0,x=function(){var C=n[b],A=b,O,F=()=>(O===void 0&&(O=r(C,A)),O),M=C.coordinate,j=b===d||gp(e,M,F,m,u);if(!j)return g=!1,1;j&&(m=M+e*(F()/2+a))},b=d;b<s&&!x();b+=f);if(g){for(var _=[],y=d;y<s;y+=f)_.push(n[y]);return _}}return[]}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){ZEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZEe(e,t,r){return(t=JEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JEe(e){var t=eSe(e,"string");return typeof t=="symbol"?t:t+""}function eSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tSe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:l}=t,{end:u}=t,f=function(g){var x=i[g],b,_=()=>(b===void 0&&(b=r(x,g)),b);if(g===s-1){var y=e*(x.coordinate+e*_()/2-u);i[g]=x=Ra(Ra({},x),{},{tickCoord:y>0?x.coordinate-y*e:x.coordinate})}else i[g]=x=Ra(Ra({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var w=gp(e,x.tickCoord,_,l,u);w&&(u=x.tickCoord-e*(_()/2+a),i[g]=Ra(Ra({},x),{},{isShow:!0}))}},d=s-1;d>=0;d--)f(d);return i}function rSe(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,{start:u,end:f}=t;if(i){var d=n[l-1],m=r(d,l-1),g=e*(d.coordinate+e*m/2-f);if(s[l-1]=d=Ra(Ra({},d),{},{tickCoord:g>0?d.coordinate-g*e:d.coordinate}),d.tickCoord!=null){var x=gp(e,d.tickCoord,()=>m,u,f);x&&(f=d.tickCoord-e*(m/2+a),s[l-1]=Ra(Ra({},d),{},{isShow:!0}))}}for(var b=i?l-1:l,_=function(C){var A=s[C],O,F=()=>(O===void 0&&(O=r(A,C)),O);if(C===0){var M=e*(A.coordinate-e*F()/2-u);s[C]=A=Ra(Ra({},A),{},{tickCoord:M<0?A.coordinate-M*e:A.coordinate})}else s[C]=A=Ra(Ra({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var j=gp(e,A.tickCoord,F,u,f);j&&(u=A.tickCoord+e*(F()/2+a),s[C]=Ra(Ra({},A),{},{isShow:!0}))}},y=0;y<b;y++)_(y);return s}function C5(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:l,interval:u,tickFormatter:f,unit:d,angle:m}=e;if(!a||!a.length||!n)return[];if(at(u)||Up.isSsr){var g;return(g=XEe(a,at(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],b=l==="top"||l==="bottom"?"width":"height",_=d&&b==="width"?Ph(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(A,O)=>{var F=typeof f=="function"?f(A.value,O):A.value;return b==="width"?GEe(Ph(F,{fontSize:t,letterSpacing:r}),_,m):Ph(F,{fontSize:t,letterSpacing:r})[b]},w=a.length>=2?ma(a[1].coordinate-a[0].coordinate):1,C=KEe(i,w,b);return u==="equidistantPreserveStart"?YEe(w,C,y,a,s):u==="equidistantPreserveEnd"?QEe(w,C,y,a,s):(u==="preserveStart"||u==="preserveStartEnd"?x=rSe(w,C,y,a,s,u==="preserveStartEnd"):x=tSe(w,C,y,a,s),x.filter(A=>A.isShow))}var nSe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>s&&(s=m.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+i,f=s+u+l+(r?n:0);return Math.round(f)}return 0},aSe=["axisLine","width","height","className","hide","ticks","axisType"];function iSe(e,t){if(e==null)return{};var r,n,a=sSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(null,arguments)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){oSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oSe(e,t,r){return(t=lSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lSe(e){var t=cSe(e,"string");return typeof t=="symbol"?t:t+""}function cSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Vn.axis};function uSe(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=Mn(Mn(Mn({},u),yi(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);f=Mn(Mn({},f),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var m=+(i==="left"&&!s||i==="right"&&s);f=Mn(Mn({},f),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return T.createElement("line",qu({},f,{className:dr("recharts-cartesian-axis-line",Lu(l,"className"))}))}function fSe(e,t,r,n,a,i,s,l,u){var f,d,m,g,x,b,_=l?-1:1,y=e.tickSize||s,w=at(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=d=e.coordinate,g=r+ +!l*a,m=g-_*y,b=m-_*u,x=w;break;case"left":m=g=e.coordinate,d=t+ +!l*n,f=d-_*y,x=f-_*u,b=w;break;case"right":m=g=e.coordinate,d=t+ +l*n,f=d+_*y,x=f+_*u,b=w;break;default:f=d=e.coordinate,g=r+ +l*a,m=g+_*y,b=m+_*u,x=w;break}return{line:{x1:f,y1:m,x2:d,y2:g},tick:{x,y:b}}}function dSe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function hSe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function pSe(e){var{option:t,tickProps:r,value:n}=e,a,i=dr(r.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))a=T.cloneElement(t,Mn(Mn({},r),{},{className:i}));else if(typeof t=="function")a=t(Mn(Mn({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=dr(s,t?.className)),a=T.createElement(Qy,qu({},r,{className:s}),n)}return a}var mSe=T.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:s,unit:l,padding:u,tickTextProps:f,orientation:d,mirror:m,x:g,y:x,width:b,height:_,tickSize:y,tickMargin:w,fontSize:C,letterSpacing:A,getTicksConfig:O,events:F,axisType:M}=e,j=C5(Mn(Mn({},O),{},{ticks:r}),C,A),k=dSe(d,m),R=hSe(d,m),I=yi(O),P=Bu(n),N={};typeof a=="object"&&(N=a);var B=Mn(Mn({},I),{},{fill:"none"},N),oe=j.map(de=>Mn({entry:de},fSe(de,g,x,b,_,d,y,m,w))),he=oe.map(de=>{var{entry:be,line:we}=de;return T.createElement(kn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(be.value,"-").concat(be.coordinate,"-").concat(be.tickCoord)},a&&T.createElement("line",qu({},B,we,{className:dr("recharts-cartesian-axis-tick-line",Lu(a,"className"))})))}),ne=oe.map((de,be)=>{var{entry:we,tick:ue}=de,U=Mn(Mn(Mn(Mn({textAnchor:k,verticalAnchor:R},I),{},{stroke:"none",fill:i},P),ue),{},{index:be,payload:we,visibleTicksCount:j.length,tickFormatter:s,padding:u},f);return T.createElement(kn,qu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(we.value,"-").concat(we.coordinate,"-").concat(we.tickCoord)},Rp(F,we,be)),n&&T.createElement(pSe,{option:n,tickProps:U,value:"".concat(typeof s=="function"?s(we.value,be):we.value).concat(l||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},ne.length>0&&T.createElement(_i,{zIndex:Vn.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},ne)),he.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},he))}),gSe=T.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:l,axisType:u}=e,f=iSe(e,aSe),[d,m]=T.useState(""),[g,x]=T.useState(""),b=T.useRef(null);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return nSe({ticks:b.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=T.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=w;var C=w[0];if(C){var A=window.getComputedStyle(C),O=A.fontSize,F=A.letterSpacing;(O!==d||F!==g)&&(m(O),x(F))}}},[d,g]);return s||n!=null&&n<=0||a!=null&&a<=0?null:T.createElement(_i,{zIndex:e.zIndex},T.createElement(kn,{className:dr("recharts-cartesian-axis",i)},T.createElement(uSe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:yi(e)}),T.createElement(mSe,{ref:_,axisType:u,events:f,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),T.createElement(u_e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},T.createElement(b_e,{label:e.label,labelRef:e.labelRef}),e.children)))}),T5=T.forwardRef((e,t)=>{var r=Wn(e,Zo);return T.createElement(gSe,qu({},r,{ref:t}))});T5.displayName="CartesianAxis";var xSe=["x1","y1","x2","y2","key"],vSe=["offset"],ySe=["xAxisId","yAxisId"],bSe=["xAxisId","yAxisId"];function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){_Se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Se(e,t,r){return(t=wSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wSe(e){var t=ESe(e,"string");return typeof t=="symbol"?t:t+""}function ESe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(null,arguments)}function N1(e,t){if(e==null)return{};var r,n,a=SSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ASe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:l}=e;return T.createElement("rect",{x:n,y:a,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function fV(e){var{option:t,lineItemProps:r}=e,n;if(T.isValidElement(t))n=T.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:s,x2:l,y2:u,key:f}=r,d=N1(r,xSe),m=(a=yi(d))!==null&&a!==void 0?a:{},{offset:g}=m,x=N1(m,vSe);n=T.createElement("line",gu({},x,{x1:i,y1:s,x2:l,y2:u,fill:"none",key:f}))}return n}function CSe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,l=N1(e,ySe),u=a.map((f,d)=>{var m=La(La({},l),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(d),index:d});return T.createElement(fV,{key:"line-".concat(d),option:n,lineItemProps:m})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function TSe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,l=N1(e,bSe),u=a.map((f,d)=>{var m=La(La({},l),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(d),index:d});return T.createElement(fV,{option:n,lineItemProps:m,key:"line-".concat(d)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function kSe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var f=l.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var d=f.map((m,g)=>{var x=!f[g+1],b=x?a+s-m:f[g+1]-m;if(b<=0)return null;var _=g%t.length;return T.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:b,width:i,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function DSe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var f=u.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var d=f.map((m,g)=>{var x=!f[g+1],b=x?a+s-m:f[g+1]-m;if(b<=0)return null;var _=g%r.length;return T.createElement("rect",{key:"react-".concat(g),x:m,y:i,width:b,height:l,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var OSe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return Q7(C5(La(La(La({},Zo),r),{},{ticks:Z7(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},jSe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return Q7(C5(La(La(La({},Zo),r),{},{ticks:Z7(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},NSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Vn.grid};function k5(e){var t=e4(),r=t4(),n=oL(),a=La(La({},Wn(e,NSe)),{},{x:at(e.x)?e.x:n.left,y:at(e.y)?e.y:n.top,width:at(e.width)?e.width:n.width,height:at(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:l,y:u,width:f,height:d,syncWithTicks:m,horizontalValues:g,verticalValues:x}=a,b=Wa(),_=dt(R=>zI(R,"xAxis",i,b)),y=dt(R=>zI(R,"yAxis",s,b));if(!go(f)||!go(d)||!at(l)||!at(u))return null;var w=a.verticalCoordinatesGenerator||OSe,C=a.horizontalCoordinatesGenerator||jSe,{horizontalPoints:A,verticalPoints:O}=a;if((!A||!A.length)&&typeof C=="function"){var F=g&&g.length,M=C({yAxis:y?La(La({},y),{},{ticks:F?g:y.ticks}):void 0,width:t??f,height:r??d,offset:n},F?!0:m);n1(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(A=M)}if((!O||!O.length)&&typeof w=="function"){var j=x&&x.length,k=w({xAxis:_?La(La({},_),{},{ticks:j?x:_.ticks}):void 0,width:t??f,height:r??d,offset:n},j?!0:m);n1(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(O=k)}return T.createElement(_i,{zIndex:a.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(ASe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),T.createElement(kSe,gu({},a,{horizontalPoints:A})),T.createElement(DSe,gu({},a,{verticalPoints:O})),T.createElement(CSe,gu({},a,{offset:n,horizontalPoints:A,xAxis:_,yAxis:y})),T.createElement(TSe,gu({},a,{offset:n,verticalPoints:O,xAxis:_,yAxis:y}))))}k5.displayName="CartesianGrid";var ISe={},dV=bi({name:"errorBars",initialState:ISe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:h5e,replaceErrorBar:p5e,removeErrorBar:m5e}=dV.actions,PSe=dV.reducer,RSe=["children"];function FSe(e,t){if(e==null)return{};var r,n,a=BSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MSe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},LSe=T.createContext(MSe);function zSe(e){var{children:t}=e,r=FSe(e,RSe);return T.createElement(LSe.Provider,{value:r},t)}function D5(e,t){var r,n,a=dt(f=>xl(f,e)),i=dt(f=>vl(f,t)),s=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:oa.allowDataOverflow,l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:la.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function hV(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=S5(),{needClipX:i,needClipY:s,needClip:l}=D5(t,r);if(!l||!a)return null;var{x:u,y:f,width:d,height:m}=a;return T.createElement("clipPath",{id:"clipPath-".concat(n)},T.createElement("rect",{x:i?u:u-d/2,y:s?f:f-m/2,width:i?d:d*2,height:s?m:m*2}))}function USe(e){var t=Bu(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,s=Number(a),l=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(l)||l<0)&&(l=n),{r:s,strokeWidth:l}}return{r,strokeWidth:n}}var cE={exports:{}},uE={};var QP;function VSe(){if(QP)return uE;QP=1;var e=Nf();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,s=e.useMemo,l=e.useDebugValue;return uE.useSyncExternalStoreWithSelector=function(u,f,d,m,g){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=s(function(){function y(F){if(!w){if(w=!0,C=F,F=m(F),g!==void 0&&b.hasValue){var M=b.value;if(g(M,F))return A=M}return A=F}if(M=A,r(C,F))return M;var j=m(F);return g!==void 0&&g(M,j)?(C=F,M):(C=F,A=j)}var w=!1,C,A,O=d===void 0?null:d;return[function(){return y(f())},O===null?void 0:function(){return y(O())}]},[f,d,m,g]);var _=n(u,x[0],x[1]);return i(function(){b.hasValue=!0,b.value=_},[_]),l(_),_},uE}var ZP;function $Se(){return ZP||(ZP=1,cE.exports=VSe()),cE.exports}$Se();function HSe(e){e()}function qSe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){HSe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var JP={notify(){},get:()=>[]};function WSe(e,t){let r,n=JP,a=0,i=!1;function s(_){d();const y=n.subscribe(_);let w=!1;return()=>{w||(w=!0,y(),m())}}function l(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function f(){return i}function d(){a++,r||(r=e.subscribe(u),n=qSe())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=JP)}function g(){i||(i=!0,d())}function x(){i&&(i=!1,m())}const b={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return b}var GSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KSe=GSe(),XSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YSe=XSe(),QSe=()=>KSe||YSe?T.useLayoutEffect:T.useEffect,ZSe=QSe();function eR(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function JSe(e,t){if(eR(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!eR(e[r[a]],t[r[a]]))return!1;return!0}var eAe=Symbol.for("react-redux-context"),tAe=typeof globalThis<"u"?globalThis:{};function rAe(){if(!T.createContext)return{};const e=tAe[eAe]??=new Map;let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var nAe=rAe();function aAe(e){const{children:t,context:r,serverState:n,store:a}=e,i=T.useMemo(()=>{const u=WSe(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),s=T.useMemo(()=>a.getState(),[a]);ZSe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const l=r||nAe;return T.createElement(l.Provider,{value:i},t)}var iAe=aAe,sAe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function oAe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function t2(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(sAe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!JSe(e[n],t[n]))return!1}else if(!oAe(e[n],t[n]))return!1;return!0}function yo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:iV}function bo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:iV}var pV=(e,t,r)=>Ac(e,"xAxis",yo(e,t),r),mV=(e,t,r)=>Sc(e,"xAxis",yo(e,t),r),gV=(e,t,r)=>Ac(e,"yAxis",bo(e,t),r),xV=(e,t,r)=>Sc(e,"yAxis",bo(e,t),r),lAe=Oe([rr,pV,gV,mV,xV],(e,t,r,n,a)=>dl(e,"xAxis")?Cf(t,n,!1):Cf(r,a,!1)),cAe=(e,t)=>t,vV=Oe([qy,cAe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),yV=e=>{var t=rr(e),r=dl(t,"xAxis");return r?"yAxis":"xAxis"},uAe=(e,t)=>{var r=yV(e);return r==="yAxis"?bo(e,t):yo(e,t)},fAe=(e,t,r)=>S1(e,yV(e),uAe(e,t),r),dAe=Oe([vV,fAe],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=Uy(e);if(!(n==null||a==null)){var i=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=i?.find(l=>l.key===a);if(s!=null)return s.map(l=>[l[0],l[1]])}}}),hAe=Oe([rr,pV,gV,mV,xV,dAe,fz,lAe,vV,d1e],(e,t,r,n,a,i,s,l,u,f)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:g}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{data:x}=u,b;if(x&&x.length>0?b=x:b=d?.slice(m,g+1),b!=null)return NAe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:m,areaSettings:u,stackedData:i,displayedData:b,chartBaseValue:f,bandSize:l})}}),pAe=["id"],mAe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(null,arguments)}function bV(e,t){if(e==null)return{};var r,n,a=gAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){xAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xAe(e,t,r){return(t=vAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vAe(e){var t=yAe(e,"string");return typeof t=="symbol"?t:t+""}function yAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I1(e,t){return e&&e!=="none"?e:t}var bAe=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:I1(n,a),value:Wf(r,t),payload:e}]},_Ae=T.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:l,unit:u,tooltipType:f,id:d}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Wf(s,t),hide:l,type:f,color:I1(n,i),unit:u,graphicalItemId:d}};return T.createElement(_5,{tooltipEntrySettings:m})});function wAe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:s}=n,l=yi(n);return T.createElement(cEe,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:a,clipPathId:t})}function EAe(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var s,l,u={x:(s=i.x)!==null&&s!==void 0?s:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return of(of({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return T.createElement(WU,{value:t?a:void 0},r)}function rR(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:s,type:l,stroke:u,connectNulls:f,isRange:d}=i,{id:m}=i,g=bV(i,pAe),x=yi(g),b=ri(g);return T.createElement(T.Fragment,null,t?.length>1&&T.createElement(kn,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},T.createElement(mf,ku({},b,{id:m,points:t,connectNulls:f,type:l,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&T.createElement(mf,ku({},x,{className:"recharts-area-curve",layout:s,type:l,connectNulls:f,fill:"none",points:t})),u!=="none"&&d&&T.createElement(mf,ku({},x,{className:"recharts-area-curve",layout:s,type:l,connectNulls:f,fill:"none",points:r}))),T.createElement(wAe,{points:t,props:g,clipPathId:a}))}function SAe(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:s}=e,l=(t=i[0])===null||t===void 0?void 0:t.y,u=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!Lr(l)||!Lr(u))return null;var f=n*Math.abs(l-u),d=Math.max(...i.map(m=>m.x||0));return at(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(m=>m.x||0),d)),at(d)?T.createElement("rect",{x:0,y:l<u?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}function AAe(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:s}=e,l=(t=i[0])===null||t===void 0?void 0:t.x,u=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!Lr(l)||!Lr(u))return null;var f=n*Math.abs(l-u),d=Math.max(...i.map(m=>m.y||0));return at(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(m=>m.y||0),d)),at(d)?T.createElement("rect",{x:l<u?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function CAe(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?T.createElement(SAe,{alpha:t,points:n,baseLine:a,strokeWidth:i}):T.createElement(AAe,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function TAe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:s,baseLine:l,isAnimationActive:u,animationBegin:f,animationDuration:d,animationEasing:m,onAnimationStart:g,onAnimationEnd:x}=n,b=T.useMemo(()=>({points:s,baseLine:l}),[s,l]),_=$p(b,"recharts-area-"),y=Dpe(),[w,C]=T.useState(!1),A=!w,O=T.useCallback(()=>{typeof x=="function"&&x(),C(!1)},[x]),F=T.useCallback(()=>{typeof g=="function"&&g(),C(!0)},[g]);if(y==null)return null;var M=a.current,j=i.current;return T.createElement(EAe,{showLabels:A,points:s},n.children,T.createElement(Vp,{animationId:_,begin:f,duration:d,isActive:u,easing:m,onAnimationEnd:O,onAnimationStart:F,key:_},k=>{if(M){var R=M.length/s.length,I=k===1?s:s.map((N,B)=>{var oe=Math.floor(B*R);if(M[oe]){var he=M[oe];return of(of({},N),{},{x:Wr(he.x,N.x,k),y:Wr(he.y,N.y,k)})}return N}),P;return at(l)?P=Wr(j,l,k):ln(l)||ps(l)?P=Wr(j,0,k):P=l.map((N,B)=>{var oe=Math.floor(B*R);if(Array.isArray(j)&&j[oe]){var he=j[oe];return of(of({},N),{},{x:Wr(he.x,N.x,k),y:Wr(he.y,N.y,k)})}return N}),k>0&&(a.current=I,i.current=P),T.createElement(rR,{points:I,baseLine:P,needClip:t,clipPathId:r,props:n})}return k>0&&(a.current=s,i.current=l),T.createElement(kn,null,u&&T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(r)},T.createElement(CAe,{alpha:k,points:s,baseLine:l,layout:y,strokeWidth:n.strokeWidth}))),T.createElement(kn,{clipPath:"url(#animationClipPath-".concat(r,")")},T.createElement(rR,{points:s,baseLine:l,needClip:t,clipPathId:r,props:n})))}),T.createElement(p5,{label:n.label}))}function kAe(e){var{needClip:t,clipPathId:r,props:n}=e,a=T.useRef(null),i=T.useRef();return T.createElement(TAe,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class DAe extends T.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:s,needClip:l,xAxisId:u,yAxisId:f,width:d,height:m,id:g,baseLine:x,zIndex:b}=this.props;if(t)return null;var _=dr("recharts-area",a),y=g,{r:w,strokeWidth:C}=USe(r),A=eV(r),O=w*2+C,F=l?"url(#clipPath-".concat(A?"":"dots-").concat(y,")"):void 0;return T.createElement(_i,{zIndex:b},T.createElement(kn,{className:_},l&&T.createElement("defs",null,T.createElement(hV,{clipPathId:y,xAxisId:u,yAxisId:f}),!A&&T.createElement("clipPath",{id:"clipPath-dots-".concat(y)},T.createElement("rect",{x:s-O/2,y:i-O/2,width:d+O,height:m+O}))),T.createElement(kAe,{needClip:l,clipPathId:y,props:this.props})),T.createElement(HP,{points:n,mainColor:I1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:F}),this.props.isRange&&Array.isArray(x)&&T.createElement(HP,{points:x,mainColor:I1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:F}))}}var _V={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Vn.area};function OAe(e){var t,r=Wn(e,_V),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:l,dot:u,fill:f,fillOpacity:d,hide:m,isAnimationActive:g,legendType:x,stroke:b,xAxisId:_,yAxisId:y}=r,w=bV(r,mAe),C=a0(),A=TU(),{needClip:O}=D5(_,y),F=Wa(),{points:M,isRange:j,baseLine:k}=(t=dt(oe=>hAe(oe,e.id,F)))!==null&&t!==void 0?t:{},R=S5();if(C!=="horizontal"&&C!=="vertical"||R==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:I,width:P,x:N,y:B}=R;return!M||!M.length?null:T.createElement(DAe,ku({},w,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,baseLine:k,connectNulls:l,dot:u,fill:f,fillOpacity:d,height:I,hide:m,layout:C,isAnimationActive:g==="auto"?!Up.isSsr:g,isRange:j,legendType:x,needClip:O,points:M,stroke:b,width:P,left:N,top:B,xAxisId:_,yAxisId:y}))}var jAe=(e,t,r,n,a)=>{var i=r??t;if(at(i))return i;var s=e==="horizontal"?a:n,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),f=Math.min(l[0],l[1]);return i==="dataMin"?f:i==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function NAe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:f,dataStartIndex:d,xAxisTicks:m,yAxisTicks:g,bandSize:x}=e,b=a&&a.length,_=jAe(i,s,r,l,u),y=i==="horizontal",w=!1,C=f.map((O,F)=>{var M,j,k;if(b)k=a[d+F];else{var R=Rr(O,n);Array.isArray(R)?(k=R,w=!0):k=[_,R]}var I=(M=(j=k)===null||j===void 0?void 0:j[1])!==null&&M!==void 0?M:null,P=I==null||b&&!t&&Rr(O,n)==null;return y?{x:Vj({axis:l,ticks:m,bandSize:x,entry:O,index:F}),y:P?null:u.scale(I),value:k,payload:O}:{x:P?null:l.scale(I),y:Vj({axis:u,ticks:g,bandSize:x,entry:O,index:F}),value:k,payload:O}}),A;return b||w?A=C.map(O=>{var F=Array.isArray(O.value)?O.value[0]:null;return y?{x:O.x,y:F!=null&&O.y!=null?u.scale(F):null,payload:O.payload}:{x:F!=null?l.scale(F):null,y:O.y,payload:O.payload}}):A=y?u.scale(_):l.scale(_),{points:C,baseLine:A,isRange:w}}function IAe(e){var t=Wn(e,_V),r=Wa();return T.createElement(w5,{id:t.id,type:"area"},n=>T.createElement(T.Fragment,null,T.createElement(rV,{legendPayload:bAe(t)}),T.createElement(_Ae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),T.createElement(aV,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:J7(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),T.createElement(OAe,ku({},t,{id:n}))))}var JS=T.memo(IAe,t2);JS.displayName="Area";var PAe="Invariant failed";function RAe(e,t){throw new Error(PAe)}function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eA.apply(null,arguments)}function P1(e){return T.createElement(tV,eA({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var FAe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(at(t))return t;var i=at(n)||ln(n);return i?t(n,a):(i||RAe(),r)}},BAe=(e,t,r)=>r,MAe=(e,t)=>t,nm=Oe([qy,MAe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),LAe=Oe([nm],e=>e?.maxBarSize),zAe=(e,t,r,n)=>n,UAe=Oe([rr,qy,yo,bo,BAe],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),VAe=(e,t,r)=>{var n=rr(e),a=yo(e,t),i=bo(e,t);if(!(a==null||i==null))return n==="horizontal"?S1(e,"yAxis",i,r):S1(e,"xAxis",a,r)},$Ae=(e,t)=>{var r=rr(e),n=yo(e,t),a=bo(e,t);if(!(n==null||a==null))return r==="horizontal"?LI(e,"xAxis",n):LI(e,"yAxis",a)},HAe=Oe([UAe,f1e,$Ae],DEe),qAe=(e,t,r)=>{var n,a,i=nm(e,t);if(i!=null){var s=yo(e,t),l=bo(e,t);if(!(s==null||l==null)){var u=rr(e),f=Cz(e),{maxBarSize:d}=i,m=ln(d)?f:d,g,x;return u==="horizontal"?(g=Ac(e,"xAxis",s,r),x=Sc(e,"xAxis",s,r)):(g=Ac(e,"yAxis",l,r),x=Sc(e,"yAxis",l,r)),(n=(a=Cf(g,x,!0))!==null&&a!==void 0?a:m)!==null&&n!==void 0?n:0}}},wV=(e,t,r)=>{var n=rr(e),a=yo(e,t),i=bo(e,t);if(!(a==null||i==null)){var s,l;return n==="horizontal"?(s=Ac(e,"xAxis",a,r),l=Sc(e,"xAxis",a,r)):(s=Ac(e,"yAxis",i,r),l=Sc(e,"yAxis",i,r)),Cf(s,l)}},WAe=Oe([HAe,Cz,u1e,Tz,qAe,wV,LAe],PEe),GAe=(e,t,r)=>{var n=yo(e,t);if(n!=null)return Ac(e,"xAxis",n,r)},KAe=(e,t,r)=>{var n=bo(e,t);if(n!=null)return Ac(e,"yAxis",n,r)},XAe=(e,t,r)=>{var n=yo(e,t);if(n!=null)return Sc(e,"xAxis",n,r)},YAe=(e,t,r)=>{var n=bo(e,t);if(n!=null)return Sc(e,"yAxis",n,r)},QAe=Oe([WAe,nm],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ZAe=Oe([VAe,nm],REe),JAe=Oe([ta,ZC,GAe,KAe,XAe,YAe,QAe,rr,fz,wV,ZAe,nm,zAe],(e,t,r,n,a,i,s,l,u,f,d,m,g)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:_}=u;if(!(m==null||s==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||f==null)){var{data:y}=m,w;if(y!=null&&y.length>0?w=y:w=x?.slice(b,_+1),w!=null)return kCe({layout:l,barSettings:m,pos:s,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:w,offset:e,cells:g,dataStartIndex:b})}}),eCe=["index"];function tA(){return tA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tA.apply(null,arguments)}function tCe(e,t){if(e==null)return{};var r,n,a=rCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EV=T.createContext(void 0),nCe=e=>{var t=T.useContext(EV);if(t!=null)return t.stackId;if(e!=null)return J7(e)},aCe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),iCe=e=>{var t=T.useContext(EV);if(t!=null){var{stackId:r}=t;return"url(#".concat(aCe(r,e),")")}},sCe=e=>{var{index:t}=e,r=tCe(e,eCe),n=iCe(t);return T.createElement(kn,tA({className:"recharts-bar-stack-layer",clipPath:n},r))},oCe=["onMouseEnter","onMouseLeave","onClick"],lCe=["value","background","tooltipPosition"],cCe=["id"],uCe=["onMouseEnter","onClick","onMouseLeave"];function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ul.apply(null,arguments)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){fCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fCe(e,t,r){return(t=dCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dCe(e){var t=hCe(e,"string");return typeof t=="symbol"?t:t+""}function hCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R1(e,t){if(e==null)return{};var r,n,a=pCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mCe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Wf(r,t),payload:e}]},gCe=T.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:l,tooltipType:u,id:f}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Wf(i,t),hide:s,type:u,color:a,unit:l,graphicalItemId:f}};return T.createElement(_5,{tooltipEntrySettings:d})});function xCe(e){var t=dt(Cc),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:l,onClick:u}=i,f=R1(i,oCe),d=v5(s,n,i.id),m=y5(l),g=b5(u,n,i.id);if(!a||r==null)return null;var x=Bu(a);return T.createElement(_i,{zIndex:FEe(a,Vn.barBackground)},r.map((b,_)=>{var{value:y,background:w,tooltipPosition:C}=b,A=R1(b,lCe);if(!w)return null;var O=d(b,_),F=m(b,_),M=g(b,_),j=Ja(Ja(Ja(Ja(Ja({option:a,isActive:String(_)===t},A),{},{fill:"#eee"},w),x),Rp(f,b,_)),{},{onMouseEnter:O,onMouseLeave:F,onClick:M,dataKey:n,index:_,className:"recharts-bar-background-rectangle"});return T.createElement(P1,ul({key:"background-bar-".concat(_)},j))}))}function vCe(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var s={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Ja(Ja({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return T.createElement(WU,{value:t?a:void 0},r)}function yCe(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,l=dt(Cc),u=dt(o5),f=r&&String(i)===l&&(u==null||s===u),d=f?r:t;return f?T.createElement(_i,{zIndex:Vn.activeBar},T.createElement(P1,ul({},n,{name:String(n.name)},a,{isActive:f,option:d,index:i,dataKey:s}))):T.createElement(P1,ul({},n,{name:String(n.name)},a,{isActive:f,option:d,index:i,dataKey:s}))}function bCe(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return T.createElement(P1,ul({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function _Ce(e){var t,{data:r,props:n}=e,a=(t=yi(n))!==null&&t!==void 0?t:{},{id:i}=a,s=R1(a,cCe),{shape:l,dataKey:u,activeBar:f}=n,{onMouseEnter:d,onClick:m,onMouseLeave:g}=n,x=R1(n,uCe),b=v5(d,u,i),_=y5(g),y=b5(m,u,i);return r?T.createElement(T.Fragment,null,r.map((w,C)=>T.createElement(sCe,ul({index:C,key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(C),className:"recharts-bar-rectangle"},Rp(x,w,C),{onMouseEnter:b(w,C),onMouseLeave:_(w,C),onClick:y(w,C)}),f?T.createElement(yCe,{shape:l,activeBar:f,baseProps:s,entry:w,index:C,dataKey:u}):T.createElement(bCe,{shape:l,baseProps:s,entry:w,index:C,dataKey:u})))):null}function wCe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:f,onAnimationStart:d}=t,m=r.current,g=$p(t,"recharts-bar-"),[x,b]=T.useState(!1),_=!x,y=T.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),w=T.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return T.createElement(vCe,{showLabels:_,rects:n},T.createElement(Vp,{animationId:g,begin:s,duration:l,isActive:i,easing:u,onAnimationEnd:y,onAnimationStart:w,key:g},C=>{var A=C===1?n:n?.map((O,F)=>{var M=m&&m[F];if(M)return Ja(Ja({},O),{},{x:Wr(M.x,O.x,C),y:Wr(M.y,O.y,C),width:Wr(M.width,O.width,C),height:Wr(M.height,O.height,C)});if(a==="horizontal"){var j=Wr(0,O.height,C),k=Wr(O.stackedBarStart,O.y,C);return Ja(Ja({},O),{},{y:k,height:j})}var R=Wr(0,O.width,C),I=Wr(O.stackedBarStart,O.x,C);return Ja(Ja({},O),{},{width:R,x:I})});return C>0&&(r.current=A??null),A==null?null:T.createElement(kn,null,T.createElement(_Ce,{props:t,data:A}))}),T.createElement(p5,{label:t.label}),t.children)}function ECe(e){var t=T.useRef(null);return T.createElement(wCe,{previousRectanglesRef:t,props:e})}var SV=0,SCe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Rr(e,t)}};class ACe extends T.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:l,background:u,id:f}=this.props;if(t||r==null)return null;var d=dr("recharts-bar",a),m=f;return T.createElement(kn,{className:d,id:f},l&&T.createElement("defs",null,T.createElement(hV,{clipPathId:m,xAxisId:i,yAxisId:s})),T.createElement(kn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},T.createElement(xCe,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),T.createElement(ECe,this.props)))}}var CCe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:SV,xAxisId:0,yAxisId:0,zIndex:Vn.bar};function TCe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d}=e,{needClip:m}=D5(t,r),g=a0(),x=Wa(),b=x5(e.children,Hu),_=dt(C=>JAe(C,e.id,x,b));if(g!=="vertical"&&g!=="horizontal")return null;var y,w=_?.[0];return w==null||w.height==null||w.width==null?y=0:y=g==="vertical"?w.height/2:w.width/2,T.createElement(zSe,{xAxisId:t,yAxisId:r,data:_,dataPointFormatter:SCe,errorBarOffset:y},T.createElement(ACe,ul({},e,{layout:g,needClip:m,data:_,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d})))}function kCe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:l,xAxisTicks:u,yAxisTicks:f,stackedData:d,displayedData:m,offset:g,cells:x,parentViewBox:b,dataStartIndex:_}=e,y=t==="horizontal"?l:s,w=d?y.scale.domain():null,C=Ghe({numericAxis:y}),A=y.scale(C);return m.map((O,F)=>{var M,j,k,R,I,P;if(d){var N=d[F+_];if(N==null)return null;M=Vhe(N,w)}else M=Rr(O,r),Array.isArray(M)||(M=[C,M]);var B=FAe(n,SV)(M[1],F);if(t==="horizontal"){var oe,[he,ne]=[l.scale(M[0]),l.scale(M[1])];j=$j({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:O,index:F}),k=(oe=ne??he)!==null&&oe!==void 0?oe:void 0,R=a.size;var de=he-ne;if(I=ps(de)?0:de,P={x:j,y:g.top,width:R,height:g.height},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var be=ma(I||B)*(Math.abs(B)-Math.abs(I));k-=be,I+=be}}else{var[we,ue]=[s.scale(M[0]),s.scale(M[1])];if(j=we,k=$j({axis:l,ticks:f,bandSize:i,offset:a.offset,entry:O,index:F}),R=ue-we,I=a.size,P={x:g.left,y:k,width:g.width,height:I},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var U=ma(R||B)*(Math.abs(B)-Math.abs(R));R+=U}}if(j==null||k==null||R==null||I==null)return null;var Y=Ja(Ja({},O),{},{stackedBarStart:A,x:j,y:k,width:R,height:I,value:d?M:M[1],payload:O,background:P,tooltipPosition:{x:j+R/2,y:k+I/2},parentViewBox:b},x&&x[F]&&x[F].props);return Y}).filter(Boolean)}function DCe(e){var t=Wn(e,CCe),r=nCe(t.stackId),n=Wa();return T.createElement(w5,{id:t.id,type:"bar"},a=>T.createElement(T.Fragment,null,T.createElement(rV,{legendPayload:mCe(t)}),T.createElement(gCe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),T.createElement(aV,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),T.createElement(_i,{zIndex:t.zIndex},T.createElement(TCe,ul({},t,{id:a})))))}var AV=T.memo(DCe,t2);AV.displayName="Bar";var OCe=["domain","range"],jCe=["domain","range"];function aR(e,t){if(e==null)return{};var r,n,a=NCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iR(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function CV(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=aR(e,OCe),{domain:i,range:s}=t,l=aR(t,jCe);return!iR(r,i)||!iR(n,s)?!1:t2(a,l)}var ICe=["dangerouslySetInnerHTML","ticks","scale"],PCe=["id","scale"];function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rA.apply(null,arguments)}function sR(e,t){if(e==null)return{};var r,n,a=RCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FCe(e){var t=Ur(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?t(pEe(e)):r.current!==e&&t(mEe({prev:r.current,next:e})),r.current=e},[e,t]),T.useLayoutEffect(()=>()=>{r.current&&(t(gEe(r.current)),r.current=null)},[t]),null}var BCe=e=>{var{xAxisId:t,className:r}=e,n=dt(ZC),a=Wa(),i="xAxis",s=dt(w=>iU(w,i,t,a)),l=dt(w=>tU(w,t)),u=dt(w=>cye(w,t)),f=dt(w=>Fz(w,t));if(l==null||u==null||f==null)return null;var{dangerouslySetInnerHTML:d,ticks:m,scale:g}=e,x=sR(e,ICe),{id:b,scale:_}=f,y=sR(f,PCe);return T.createElement(T5,rA({},x,y,{x:u.x,y:u.y,width:l.width,height:l.height,className:dr("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:s,axisType:i}))},MCe={allowDataOverflow:oa.allowDataOverflow,allowDecimals:oa.allowDecimals,allowDuplicatedCategory:oa.allowDuplicatedCategory,angle:oa.angle,axisLine:Zo.axisLine,height:oa.height,hide:!1,includeHidden:oa.includeHidden,interval:oa.interval,minTickGap:oa.minTickGap,mirror:oa.mirror,orientation:oa.orientation,padding:oa.padding,reversed:oa.reversed,scale:oa.scale,tick:oa.tick,tickCount:oa.tickCount,tickLine:Zo.tickLine,tickSize:Zo.tickSize,type:oa.type,xAxisId:0},LCe=e=>{var t=Wn(e,MCe);return T.createElement(T.Fragment,null,T.createElement(FCe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),T.createElement(BCe,t))},O5=T.memo(LCe,CV);O5.displayName="XAxis";var zCe=["dangerouslySetInnerHTML","ticks","scale"],UCe=["id","scale"];function nA(){return nA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nA.apply(null,arguments)}function oR(e,t){if(e==null)return{};var r,n,a=VCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $Ce(e){var t=Ur(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?t(xEe(e)):r.current!==e&&t(vEe({prev:r.current,next:e})),r.current=e},[e,t]),T.useLayoutEffect(()=>()=>{r.current&&(t(yEe(r.current)),r.current=null)},[t]),null}var HCe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=T.useRef(null),s=T.useRef(null),l=dt(ZC),u=Wa(),f=Ur(),d="yAxis",m=dt(M=>rU(M,t)),g=dt(M=>fye(M,t)),x=dt(M=>iU(M,d,t,u)),b=dt(M=>Bz(M,t));if(T.useLayoutEffect(()=>{if(!(n!=="auto"||!m||h5(a)||T.isValidElement(a)||b==null)){var M=i.current;if(M){var j=M.getCalculatedWidth();Math.round(m.width)!==Math.round(j)&&f(bEe({id:t,width:j}))}}},[x,m,f,a,t,n,b]),m==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:_,ticks:y,scale:w}=e,C=oR(e,zCe),{id:A,scale:O}=b,F=oR(b,UCe);return T.createElement(T5,nA({},C,F,{ref:i,labelRef:s,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:dr("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:x,axisType:d}))},qCe={allowDataOverflow:la.allowDataOverflow,allowDecimals:la.allowDecimals,allowDuplicatedCategory:la.allowDuplicatedCategory,angle:la.angle,axisLine:Zo.axisLine,hide:!1,includeHidden:la.includeHidden,interval:la.interval,minTickGap:la.minTickGap,mirror:la.mirror,orientation:la.orientation,padding:la.padding,reversed:la.reversed,scale:la.scale,tick:la.tick,tickCount:la.tickCount,tickLine:Zo.tickLine,tickSize:Zo.tickSize,type:la.type,width:la.width,yAxisId:0},WCe=e=>{var t=Wn(e,qCe);return T.createElement(T.Fragment,null,T.createElement($Ce,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),T.createElement(HCe,t))},j5=T.memo(WCe,CV);j5.displayName="YAxis";var GCe=(e,t)=>t,N5=Oe([GCe,rr,Pz,na,_U,yl,C2e,ta],I2e),I5=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},TV=ms("mouseClick"),kV=Mp();kV.startListening({actionCreator:TV,effect:(e,t)=>{var r=e.payload,n=N5(t.getState(),I5(r));n?.activeIndex!=null&&t.dispatch(Aye({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var aA=ms("mouseMove"),DV=Mp(),ax=null;DV.startListening({actionCreator:aA,effect:(e,t)=>{var r=e.payload;ax!==null&&cancelAnimationFrame(ax);var n=I5(r);ax=requestAnimationFrame(()=>{var a=t.getState(),i=t5(a,a.tooltip.settings.shared);if(i==="axis"){var s=N5(a,n);s?.activeIndex!=null?t.dispatch(hU({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(dU())}ax=null})}});function KCe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var lR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},OV=bi({name:"rootProps",initialState:lR,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:lR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),XCe=OV.reducer,{updateOptions:YCe}=OV.actions,jV=bi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:QCe}=jV.actions,ZCe=jV.reducer,NV=ms("keyDown"),IV=ms("focus"),P5=Mp();P5.startListening({actionCreator:NV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=r5(a,td(r),Zp(r),tm(r)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=yl(r);if(i==="Enter"){var f=C1(r,"axis","hover",String(a.index));t.dispatch(GS({active:!a.active,activeIndex:a.index,activeCoordinate:f}));return}var d=mye(r),m=d==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,x=l+g*m;if(!(u==null||x>=u.length||x<0)){var b=C1(r,"axis","hover",String(x));t.dispatch(GS({active:!0,activeIndex:x.toString(),activeCoordinate:b}))}}}}}});P5.startListening({actionCreator:IV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=C1(r,"axis","hover",String(i));t.dispatch(GS({active:!0,activeIndex:i,activeCoordinate:s}))}}}});var as=ms("externalEvent"),PV=Mp(),fE=new Map;PV.startListening({actionCreator:as,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=fE.get(a);i!==void 0&&cancelAnimationFrame(i);var s=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:f2e(l),activeDataKey:o5(l),activeIndex:Cc(l),activeLabel:SU(l),activeTooltipIndex:Cc(l),isTooltipActive:d2e(l)};r(u,n)}finally{fE.delete(a)}});fE.set(a,s)}}});var JCe=Oe([Jf],e=>e.tooltipItemPayloads),e4e=Oe([JCe,em,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),RV=ms("touchMove"),FV=Mp();FV.startListening({actionCreator:RV,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=t5(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var s=N5(n,I5({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(hU({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(tL),m=(l=f.getAttribute(rL))!==null&&l!==void 0?l:void 0,g=ed(n).find(_=>_.id===m);if(d==null||g==null||m==null)return;var{dataKey:x}=g,b=e4e(n,d,m);t.dispatch(fU({activeDataKey:x,activeIndex:d,activeCoordinate:b,activeGraphicalItemId:m}))}}}});var t4e=w7({brush:BEe,cartesianAxis:_Ee,chartData:ube,errorBars:PSe,graphicalItems:Twe,layout:Fhe,legend:Hpe,options:ibe,polarAxis:U_e,polarOptions:ZCe,referenceElements:HEe,rootProps:XCe,tooltip:Cye,zIndex:G2e}),r4e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return ohe({reducer:t4e,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([kV.middleware,DV.middleware,P5.middleware,PV.middleware,FV.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(B7({type:"raf"}))},devTools:{serialize:{replacer:KCe},name:"recharts-".concat(r)}})};function BV(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Wa(),i=T.useRef(null);if(a)return r;i.current==null&&(i.current=r4e(t,n));var s=$C;return T.createElement(iAe,{context:s,store:i.current},r)}function n4e(e){var{layout:t,margin:r}=e,n=Ur(),a=Wa();return T.useEffect(()=>{a||(n(Ihe(t)),n(Nhe(r)))},[n,a,t,r]),null}var MV=T.memo(n4e,t2);function LV(e){var t=Ur();return T.useEffect(()=>{t(YCe(e))},[t,e]),null}function cR(e){var{zIndex:t,isPanorama:r}=e,n=T.useRef(null),a=Ur();return T.useLayoutEffect(()=>(n.current&&a(q2e({zIndex:t,element:n.current,isPanorama:r})),()=>{a(W2e({zIndex:t,isPanorama:r}))}),[a,t,r]),T.createElement("g",{tabIndex:-1,ref:n})}function uR(e){var{children:t,isPanorama:r}=e,n=dt(R2e);if(!n||n.length===0)return t;var a=n.filter(s=>s<0),i=n.filter(s=>s>0);return T.createElement(T.Fragment,null,a.map(s=>T.createElement(cR,{key:s,zIndex:s,isPanorama:r})),t,i.map(s=>T.createElement(cR,{key:s,zIndex:s,isPanorama:r})))}var a4e=["children"];function i4e(e,t){if(e==null)return{};var r,n,a=s4e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(null,arguments)}var o4e={width:"100%",height:"100%",display:"block"},l4e=T.forwardRef((e,t)=>{var r=e4(),n=t4(),a=yL();if(!go(r)||!go(n))return null;var{children:i,otherAttributes:s,title:l,desc:u}=e,f,d;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0),T.createElement(IC,F1({},s,{title:l,desc:u,role:d,tabIndex:f,width:r,height:n,style:o4e,ref:t}),i)}),c4e=e=>{var{children:t}=e,r=dt(Cy);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return T.createElement(IC,{width:n,height:a,x:s,y:i},t)},fR=T.forwardRef((e,t)=>{var{children:r}=e,n=i4e(e,a4e),a=Wa();return a?T.createElement(c4e,null,T.createElement(uR,{isPanorama:!0},r)):T.createElement(l4e,F1({ref:t},n),T.createElement(uR,{isPanorama:!1},r))});function u4e(){var e=Ur(),[t,r]=T.useState(null),n=dt(Jhe);return T.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Lr(i)&&i!==n&&e(Rhe(i))}},[t,e,n]),r}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f4e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){d4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d4e(e,t,r){return(t=h4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h4e(e){var t=p4e(e,"string");return typeof t=="symbol"?t:t+""}function p4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(null,arguments)}var m4e=()=>(ybe(),null);function B1(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var g4e=T.forwardRef((e,t)=>{var r,n,a=T.useRef(null),[i,s]=T.useState({containerWidth:B1((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:B1((n=e.style)===null||n===void 0?void 0:n.height)}),l=T.useCallback((f,d)=>{s(m=>{var g=Math.round(f),x=Math.round(d);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),u=T.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:d,height:m}=f.getBoundingClientRect();l(d,m);var g=b=>{var{width:_,height:y}=b[0].contentRect;l(_,y)},x=new ResizeObserver(g);x.observe(f),a.current=x}},[t,l]);return T.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[l]),T.createElement(T.Fragment,null,T.createElement(ky,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Wu({ref:u},e)))}),x4e=T.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=T.useState({containerWidth:B1(r),containerHeight:B1(n)}),s=T.useCallback((u,f)=>{i(d=>{var m=Math.round(u),g=Math.round(f);return d.containerWidth===m&&d.containerHeight===g?d:{containerWidth:m,containerHeight:g}})},[]),l=T.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:d}=u.getBoundingClientRect();s(f,d)}},[t,s]);return T.createElement(T.Fragment,null,T.createElement(ky,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",Wu({ref:l},e)))}),v4e=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return T.createElement(T.Fragment,null,T.createElement(ky,{width:r,height:n}),T.createElement("div",Wu({ref:t},e)))}),y4e=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return al(r)||al(n)?T.createElement(x4e,Wu({},e,{ref:t})):T.createElement(v4e,Wu({},e,{ref:t}))});function b4e(e){return e===!0?g4e:y4e}var _4e=T.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:d,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:b,onTouchStart:_,style:y,width:w,responsive:C,dispatchTouchEvents:A=!0}=e,O=T.useRef(null),F=Ur(),[M,j]=T.useState(null),[k,R]=T.useState(null),I=u4e(),P=JC(),N=P?.width>0?P.width:w,B=P?.height>0?P.height:a,oe=T.useCallback(G=>{I(G),typeof t=="function"&&t(G),j(G),R(G),G!=null&&(O.current=G)},[I,t,j,R]),he=T.useCallback(G=>{F(TV(G)),F(as({handler:i,reactEvent:G}))},[F,i]),ne=T.useCallback(G=>{F(aA(G)),F(as({handler:f,reactEvent:G}))},[F,f]),de=T.useCallback(G=>{F(dU()),F(as({handler:d,reactEvent:G}))},[F,d]),be=T.useCallback(G=>{F(aA(G)),F(as({handler:m,reactEvent:G}))},[F,m]),we=T.useCallback(()=>{F(IV())},[F]),ue=T.useCallback(G=>{F(NV(G.key))},[F]),U=T.useCallback(G=>{F(as({handler:s,reactEvent:G}))},[F,s]),Y=T.useCallback(G=>{F(as({handler:l,reactEvent:G}))},[F,l]),Z=T.useCallback(G=>{F(as({handler:u,reactEvent:G}))},[F,u]),q=T.useCallback(G=>{F(as({handler:g,reactEvent:G}))},[F,g]),se=T.useCallback(G=>{F(as({handler:_,reactEvent:G}))},[F,_]),me=T.useCallback(G=>{A&&F(RV(G)),F(as({handler:b,reactEvent:G}))},[F,A,b]),ve=T.useCallback(G=>{F(as({handler:x,reactEvent:G}))},[F,x]),H=b4e(C);return T.createElement(NU.Provider,{value:M},T.createElement(M9.Provider,{value:k},T.createElement(H,{width:N??y?.width,height:B??y?.height,className:dr("recharts-wrapper",n),style:f4e({position:"relative",cursor:"default",width:N,height:B},y),onClick:he,onContextMenu:U,onDoubleClick:Y,onFocus:we,onKeyDown:ue,onMouseDown:Z,onMouseEnter:ne,onMouseLeave:de,onMouseMove:be,onMouseUp:q,onTouchEnd:ve,onTouchMove:me,onTouchStart:se,ref:oe},T.createElement(m4e,null),r)))}),w4e=["width","height","responsive","children","className","style","compact","title","desc"];function E4e(e,t){if(e==null)return{};var r,n,a=S4e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zV=T.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:l,compact:u,title:f,desc:d}=e,m=E4e(e,w4e),g=yi(m);return u?T.createElement(T.Fragment,null,T.createElement(ky,{width:r,height:n}),T.createElement(fR,{otherAttributes:g,title:f,desc:d},i)):T.createElement(_4e,{className:s,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},T.createElement(fR,{otherAttributes:g,title:f,desc:d,ref:t},T.createElement(WEe,null,i)))});function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iA.apply(null,arguments)}var A4e={top:5,right:5,bottom:5,left:5},C4e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:A4e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},UV=T.forwardRef(function(t,r){var n,a=Wn(t.categoricalChartProps,C4e),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,d={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(BV,{preloadedState:{options:d},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},T.createElement(oV,{chartData:f.data}),T.createElement(MV,{layout:a.layout,margin:a.margin}),T.createElement(LV,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),T.createElement(zV,iA({},a,{ref:r})))}),T4e=["axis","item"],k4e=T.forwardRef((e,t)=>T.createElement(UV,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:T4e,tooltipPayloadSearcher:d5,categoricalChartProps:e,ref:t}));function D4e(e){var t=Ur();return T.useEffect(()=>{t(QCe(e))},[t,e]),null}var O4e=["layout"];function sA(){return sA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sA.apply(null,arguments)}function j4e(e,t){if(e==null)return{};var r,n,a=N4e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var I4e={top:5,right:5,bottom:5,left:5},VV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:I4e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},P4e=T.forwardRef(function(t,r){var n,a=Wn(t.categoricalChartProps,VV),{layout:i}=a,s=j4e(a,O4e),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d}=t,m={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(BV,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},T.createElement(oV,{chartData:a.data}),T.createElement(MV,{layout:i,margin:a.margin}),T.createElement(LV,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),T.createElement(D4e,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),T.createElement(zV,sA({},s,{ref:r})))});function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){R4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R4e(e,t,r){return(t=F4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F4e(e){var t=B4e(e,"string");return typeof t=="symbol"?t:t+""}function B4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M4e=["item"],L4e=pR(pR({},VV),{},{layout:"centric",startAngle:0,endAngle:360}),$V=T.forwardRef((e,t)=>{var r=Wn(e,L4e);return T.createElement(P4e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:M4e,tooltipPayloadSearcher:d5,categoricalChartProps:r,ref:t})}),z4e=["axis"],U4e=T.forwardRef((e,t)=>T.createElement(UV,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:z4e,tooltipPayloadSearcher:d5,categoricalChartProps:e,ref:t}));const oA=e=>{e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1)),r=Math.ceil(((e-t)/864e5+1)/7);return r},dE=(e,t,r,n=0)=>{const a=new Date(r);if(t==="week"){a.setDate(a.getDate()-n*7);const i=oA(a),s=a.getFullYear();return e.filter(l=>{const u=new Date(l.date);return oA(u)===i&&u.getFullYear()===s})}else{a.setMonth(a.getMonth()-n);const i=a.getMonth(),s=a.getFullYear();return e.filter(l=>{const u=new Date(l.date);return u.getMonth()===i&&u.getFullYear()===s})}},K0=({title:e,breakdown:t,currency:r,isMini:n=!1})=>!t||t.length===0?n?h.jsxs("div",{className:"text-[10px] text-gray-700 italic mt-1 flex items-center gap-1 opacity-50",children:[h.jsx(uu,{size:10})," Sin arqueo"]}):null:n?h.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-1",children:[t.slice(0,4).map((a,i)=>h.jsxs("div",{className:"bg-white/10 px-1.5 py-0.5 rounded text-[8px] border border-white/5",children:[h.jsx("span",{className:"text-gray-400",children:a.denomination}),h.jsxs("span",{className:"font-bold text-orange-400 ml-1",children:["x",a.count]})]},i)),t.length>4&&h.jsx("span",{className:"text-[8px] text-gray-500 self-center",children:"..."})]}):h.jsxs("div",{className:"bg-black/20 rounded-lg p-2 border border-white/5 mt-2",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase block mb-1",children:e}),h.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:t.map((a,i)=>h.jsxs("div",{className:"flex justify-between text-[10px] border-b border-white/5 pb-0.5",children:[h.jsxs("span",{className:"text-gray-400",children:[r==="BS"?"Bs":"$"," ",a.denomination]}),h.jsxs("span",{className:"font-bold text-white",children:["x",a.count]})]},i))})]}),V4e=({label:e,nativeAmount:t,usdAmount:r,currency:n,color:a,formatAmount:i})=>h.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-white/5 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:a}}),h.jsx("span",{className:"font-medium text-gray-300",children:e})]}),h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsxs("span",{className:"font-bold text-white",children:[n==="BS"?"Bs":"$"," ",i(t,n)]}),n==="BS"&&h.jsxs("span",{className:"text-[10px] text-gray-500 font-medium whitespace-nowrap",children:["($ ",i(r,"$"),")"]})]})]}),$4e=()=>{const{currentUser:e}=$f(),{data:t,updateData:r,updateExchangeRate:n,formatAmount:a}=ea();console.log("--- Sistema POS v2.3.0 Active ---");const{confirm:i,alert:s}=qn(),l=e?.role==="admin",u=e?.role==="cashier"||e?.role==="manager";if(!e||!l&&!u)return h.jsx(pE,{to:"/",replace:!0});const{exchangeRate:f,cashRegister:d,sales:m}=t||{},g=T.useMemo(()=>Array.isArray(m)?m:[],[m]),[x,b]=T.useState(d.openingBalanceBs||0),[_,y]=T.useState(d.openingBalanceUsd||0),[w,C]=T.useState(d.withdrawalsBs||0),[A,O]=T.useState(d.withdrawalsUsd||0),[F,M]=T.useState(d.withdrawalComment||""),[j,k]=T.useState(d.closingBalanceBs||0),[R,I]=T.useState(d.closingBalanceUsd||0),[P,N]=T.useState(d.openingBreakdownBs||[]),[B,oe]=T.useState(d.openingBreakdownUsd||[]),[he,ne]=T.useState(d.closingBreakdownBs||[]),[de,be]=T.useState(d.closingBreakdownUsd||[]),[we,ue]=T.useState(null),[U,Y]=T.useState(!1),[Z,q]=T.useState(!1),[se,me]=T.useState("rates"),[ve,H]=T.useState(f),[G,ee]=T.useState(""),[ae,pe]=T.useState("week"),[X,je]=T.useState(!1),[He,Be]=T.useState(!1),[Ke,Je]=T.useState(!1),[et,st]=T.useState(!1),[rt,ce]=T.useState(window.innerWidth<=768);gr.useEffect(()=>{const te=()=>ce(window.innerWidth<=768);return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]);const[Se,Ye]=T.useState(new Date),[Me,wt]=T.useState(!1),[Dt,Et]=T.useState(new Date(new Date().setDate(new Date().getDate()-7))),[At,Ut]=T.useState(!1);gr.useEffect(()=>{d.isOpen?Be(!0):je(!0)},[d.isOpen]);const[Ge,it]=T.useState(!1),[bt,xt]=T.useState("USD"),[It,pt]=T.useState("closing"),rn=(te,ge="closing")=>{xt(te),pt(ge),it(!0)},yn=(te,ge)=>{It==="opening"?bt==="BS"?(b(ge),N(te)):(y(ge),oe(te)):bt==="BS"?(k(ge),ne(te)):(I(ge),be(te)),it(!1)},fn=()=>{if(ae==="week"){const te=oA(Se),ge=Se.getFullYear();return`Semana ${te} - ${ge}`}else return Se.toLocaleDateString("es-ES",{month:"long",year:"numeric"})},Vr=te=>{const ge=new Date(Se);ae==="week"?ge.setDate(ge.getDate()+te*7):ge.setMonth(ge.getMonth()+te),Ye(ge)},ia=T.useMemo(()=>dE(g,ae,Se,0),[g,ae,Se]),Cr=T.useMemo(()=>dE(g,ae,Se,1),[g,ae,Se]),nn=ia.reduce((te,ge)=>te+ge.total,0),dn=Cr.reduce((te,ge)=>te+ge.total,0),Kr=dn===0?nn>0?100:0:(nn-dn)/dn*100,Ga=T.useMemo(()=>Me?dE(g,ae,Dt,0):[],[g,ae,Dt,Me]),wi=T.useMemo(()=>{const te={},ge={};if(ae==="week"){const xe=["Lun","Mar","Mie","Jue","Vie","Sab","Dom"];return xe.forEach(Ie=>{te[Ie]=0,ge[Ie]=0}),ia.forEach(Ie=>{const Ue=new Date(Ie.date),Qe=Ue.getDay()===0?6:Ue.getDay()-1;te[xe[Qe]]+=Ie.total}),Me&&Ga.forEach(Ie=>{const Ue=new Date(Ie.date),Qe=Ue.getDay()===0?6:Ue.getDay()-1;ge[xe[Qe]]+=Ie.total}),xe.map(Ie=>({name:Ie,sales:te[Ie],comparison:Me?ge[Ie]:null}))}else{const xe=new Date(Se.getFullYear(),Se.getMonth()+1,0).getDate();for(let Ie=1;Ie<=xe;Ie++)te[Ie]=0,ge[Ie]=0;return ia.forEach(Ie=>{const Ue=new Date(Ie.date);te[Ue.getDate()]!==void 0&&(te[Ue.getDate()]+=Ie.total)}),Me&&Ga.forEach(Ie=>{const Ue=new Date(Ie.date);ge[Ue.getDate()]!==void 0&&(ge[Ue.getDate()]+=Ie.total)}),Object.keys(te).map(Ie=>({name:Ie,sales:te[Ie],comparison:Me?ge[Ie]:null}))}},[ia,Ga,ae,Se,Me]),an=T.useMemo(()=>{const te=new Date().toDateString();return g.filter(ge=>new Date(ge.date).toDateString()===te)},[g]),{methods:Ft,totalCashBs:ai,totalCashUsd:bn}=T.useMemo(()=>{const te={methods:{},totalCashBs:0,totalCashUsd:0};return an.forEach(ge=>{if(ge.payments&&Array.isArray(ge.payments))ge.payments.forEach(xe=>{const Ie=xe.method,Ue=xe.currency==="BS"?xe.amount/(xe.rate||f):xe.amount;te.methods[Ie]||(te.methods[Ie]={usd:0,native:0,currency:xe.currency}),te.methods[Ie].usd+=Ue,te.methods[Ie].native+=xe.amount,xe.currency==="BS"?Ie.toLowerCase().includes("efectivo")&&(te.totalCashBs+=xe.amount):Ie.toLowerCase().includes("efectivo")&&(te.totalCashUsd+=xe.amount)});else{const xe=ge.paymentMethod||"Otros",Ie=xe.toLowerCase().includes("bs")||xe.toLowerCase().includes("pago mvil")||xe.toLowerCase().includes("punto"),Ue=Ie?"BS":"USD",Qe=Ie?ge.total*(ge.exchangeRate||f):ge.total;te.methods[xe]||(te.methods[xe]={usd:0,native:0,currency:Ue}),te.methods[xe].usd+=ge.total,te.methods[xe].native+=Qe,Ie?xe.toLowerCase().includes("efectivo")&&(te.totalCashBs+=Qe):xe.toLowerCase().includes("efectivo")&&(te.totalCashUsd+=ge.total)}}),te},[an,f]),Tr=T.useMemo(()=>{const te={};return Object.values(Ft).forEach(ge=>{te[ge.currency]=(te[ge.currency]||0)+ge.native}),te},[Ft]);(Ft["Banplus (Punto)"]||0)+(Ft["Bancaribe (Punto)"]||0)+(Ft["Banesco (Punto)"]||0)+(Ft.Banplus||0)+(Ft.Bancaribe||0)+(Ft.Banesco||0)+(Ft["Punto de Venta"]||0)+(Ft.Punto||0)+(Ft["Otro Punto"]||0),(Ft["Pago movil Banesco PS"]||0)+(Ft["Pago Movil Banesco Raquel"]||0)+(Ft["Pago Movil BDV PS"]||0)+(Ft["Pago Movil Banplus"]||0)+(Ft["Pago Mvil"]||0),Ft.Zelle,Ft["Efectivo Bs"],Ft["USD ($)"]||Ft.usd;const sn=T.useMemo(()=>{const te=t.paymentMethods||[],ge=Object.entries(Ft).map(([xe,Ie])=>{const Ue=te.find(Qe=>Qe.name===xe);return{name:xe,value:Ie.usd,color:Ue?.color||"#3b82f6"}}).filter(xe=>xe.value>0);return ge.length>0?ge:[{name:"Sin Ventas",value:1,color:"rgba(255,255,255,0.05)"}]},[Ft,t.paymentMethods]),Gn=an.reduce((te,ge)=>te+ge.total,0),kr=x+ai-w,W=_+bn-A,le=j-kr,Q=R-W,J=async()=>{r("cashRegister",{...d,openingBalanceBs:parseFloat(x)||0,openingBalanceUsd:parseFloat(_)||0,openingBreakdownBs:P,openingBreakdownUsd:B,isOpen:!0,openingTime:d.isOpen?d.openingTime:new Date().toISOString()}),await s({title:"xito",message:"Fondo de apertura guardado."})},ie=async()=>{r("cashRegister",{...d,withdrawalsBs:parseFloat(w)||0,withdrawalsUsd:parseFloat(A)||0,withdrawalComment:F}),await s({title:"xito",message:"Movimientos guardados."})},fe=async()=>{if(!await i({title:"Cerrar Caja",message:"Ests seguro de cerrar la caja? Esto finalizar el turno actual."}))return;const ge={id:window.crypto.randomUUID(),openingTime:d.openingTime,closingTime:new Date().toISOString(),openingBalanceBs:d.openingBalanceBs,openingBalanceUsd:d.openingBalanceUsd,openingBreakdownBs:d.openingBreakdownBs||[],openingBreakdownUsd:d.openingBreakdownUsd||[],closingBalanceBs:parseFloat(j)||0,closingBalanceUsd:parseFloat(R)||0,closingBreakdownBs:he,closingBreakdownUsd:de,expectedCashBs:kr,expectedCashUsd:W,differenceBs:(parseFloat(j)||0)-kr,differenceUsd:(parseFloat(R)||0)-W,salesCount:an.length,totalSalesUsd:Gn},xe=[ge,...t.cashRegisterHistory||[]];r("cashRegisterHistory",xe),r("cashRegister",{...d,closingBalanceBs:parseFloat(j)||0,closingBalanceUsd:parseFloat(R)||0,closingBreakdownBs:he,closingBreakdownUsd:de,closingTime:ge.closingTime,status:"closed",isOpen:!1}),await s({title:"xito",message:"Caja cerrada exitosamente y guardada en el historial."})},Ce=()=>{n(ve),Y(!1)},Fe=async()=>{st(!0);try{const te=await fetch("https://ve.dolarapi.com/v1/dolares/oficial");if(te.ok){const ge=await te.json();ge&&ge.promedio&&H(ge.promedio.toString())}else throw new Error("API Error")}catch(te){console.error("Error fetching BCV rate:",te),await s({title:"Error",message:"No se pudo conectar con el BCV. Verifique su internet."})}finally{st(!1)}};return h.jsxs("div",{className:"cr-container fade-in p-4 md:p-6 pb-24 max-w-[1400px] mx-auto min-h-screen",children:[h.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-lg md:text-2xl font-bold text-white flex items-center gap-2",children:[h.jsx("div",{className:"bg-orange-600 p-1 rounded-lg",children:h.jsx(uu,{className:"text-white",size:rt?18:24})}),"Control de Caja"]}),!rt&&h.jsx("p",{className:"text-gray-400 text-xs md:text-sm mt-1",children:"Gestin de flujo de efectivo y mtricas diarias"})]}),h.jsxs("div",{className:`flex items-center gap-2 ${rt?"w-full":"auto"}`,children:[h.jsxs("button",{onClick:()=>Y(!0),className:"glass-panel px-3 py-1.5 flex items-center gap-2 hover:bg-white/5 transition-colors group cursor-pointer flex-1",children:[h.jsxs("div",{className:"flex flex-col items-start",children:[h.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider",children:"Tasa Actual"}),h.jsxs("span",{className:"text-sm font-bold text-green-400 group-hover:text-green-300 transition-colors",children:[f," Bs/$"]})]}),h.jsx(HR,{size:12,className:"text-gray-500 group-hover:text-white transition-colors ml-auto"})]}),l&&h.jsx("button",{onClick:()=>q(!0),className:"glass-button flex items-center justify-center p-3 rounded-xl aspect-square",title:"Ver historial",children:h.jsx(i_,{size:20})})]})]}),h.jsxs("div",{className:`grid gap-3 mb-6 ${rt?"grid-cols-2":"grid-cols-3"}`,children:[h.jsxs("div",{className:`glass-panel p-3 flex flex-col justify-between ${rt?"h-26 col-span-2 order-first":"h-28"} relative overflow-hidden group border-t-2 border-t-green-500`,children:[!rt&&h.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(wE,{size:64,className:"text-green-500"})}),h.jsxs("div",{className:"z-10 flex justify-between items-start",children:[h.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Efectivo en Caja (Terico)"}),h.jsx(wE,{size:14,className:"text-green-500/50"})]}),h.jsxs("div",{className:"flex justify-between items-end z-10",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-2xl font-bold text-white mb-0.5",children:a(W,"$")}),h.jsx(K0,{title:"Billetes USD",breakdown:B,currency:"USD",isMini:!0}),h.jsx("div",{className:"text-[9px] text-gray-500 font-bold mt-1 uppercase tracking-tighter",children:"EFECTIVO USD"})]}),h.jsxs("div",{className:"text-right flex-1",children:[h.jsx("div",{className:"text-xl font-bold text-gray-300 mb-0.5",children:a(kr,"Bs")}),h.jsx(K0,{title:"Billetes Bs",breakdown:P,currency:"BS",isMini:!0}),h.jsx("div",{className:"text-[9px] text-gray-500 font-bold mt-1 uppercase tracking-tighter",children:"EFECTIVO BS"})]})]})]}),h.jsxs("div",{className:`glass-panel p-3 flex flex-col justify-between ${rt?"h-24":"h-28"} relative overflow-hidden group`,children:[!rt&&h.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(gh,{size:64,className:"text-orange-500"})}),h.jsxs("div",{className:"flex justify-between items-start z-10",children:[h.jsxs("div",{children:[h.jsxs("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider",children:["Ventas ",ae==="week"?"Sem":"Mes"]}),h.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:h.jsx("h2",{className:`${rt?"text-xl":"text-3xl"} font-bold text-white`,children:a(nn,"$")})})]}),l&&!rt&&h.jsxs("div",{className:"flex bg-black/40 rounded-lg p-0.5",children:[h.jsx("button",{onClick:()=>pe("week"),className:`px-2 py-1 text-[10px] font-bold rounded-md transition-colors ${ae==="week"?"bg-orange-600 text-white":"text-gray-500 hover:text-gray-300"}`,children:"SEM"}),h.jsx("button",{onClick:()=>pe("month"),className:`px-2 py-1 text-[10px] font-bold rounded-md transition-colors ${ae==="month"?"bg-orange-600 text-white":"text-gray-500 hover:text-gray-300"}`,children:"MES"})]})]}),h.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-medium ${Kr>=0?"text-green-400":"text-red-400"} z-10`,children:[Kr>=0?h.jsx(o_,{size:10}):h.jsx(o_,{size:10,className:"rotate-180"}),h.jsxs("span",{children:[Math.abs(Kr).toFixed(0),"%"]})]})]}),h.jsxs("div",{className:`glass-panel p-3 flex flex-col justify-between ${rt?"h-24":"h-28"} relative overflow-hidden group`,children:[!rt&&h.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(i_,{size:64,className:"text-purple-500"})}),h.jsxs("div",{className:"z-10",children:[h.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider",children:"Ventas de Hoy"}),h.jsx("div",{className:"flex items-baseline gap-2 mt-0.5",children:h.jsx("h2",{className:`${rt?"text-xl":"text-3xl"} font-bold text-white`,children:a(Gn,"$")})})]}),h.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-400 z-10",children:[h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),h.jsx("span",{className:"font-bold text-gray-300",children:an.length})," ",h.jsx("span",{className:"opacity-50",children:"Trans."})]})]})]}),h.jsxs("div",{className:"manual-grid-3 gap-6 mb-6",children:[h.jsxs("div",{className:"glass-panel flex flex-col h-full border-t-4 border-t-orange-500 overflow-hidden transition-all duration-300",children:[h.jsxs("div",{className:"bg-white/5 p-3 flex justify-between items-center border-b border-white/5 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>je(!X),children:[h.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[h.jsx("div",{className:`transition-transform duration-300 ${X?"rotate-180":""}`,children:h.jsx(ih,{size:16,className:"text-orange-400"})}),h.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-orange-500/20 text-orange-400 text-xs font-bold",children:"1"}),"Apertura de Caja"]}),X&&h.jsx("button",{onClick:te=>{te.stopPropagation(),J()},className:"p-1.5 rounded-md bg-orange-500/20 text-orange-400 hover:bg-orange-500 hover:text-white transition-all animate-in fade-in",title:"Guardar Apertura",children:h.jsx(uv,{size:16})})]}),X&&h.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200",children:[h.jsxs("div",{className:"p-4 space-y-4 flex-1",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-gray-400 uppercase font-bold mb-1.5 block tracking-wider",children:"Fondo Inicial en Bs"}),h.jsxs("div",{className:"relative group flex gap-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-bold group-focus-within:text-orange-400 transition-colors",children:"Bs"}),h.jsx("input",{type:"number",className:"glass-input w-full pl-9 py-2 text-sm font-bold bg-black/20 focus:bg-black/40 transition-all border-white/10 focus:border-orange-500",value:x===0?"":x,onChange:te=>b(parseFloat(te.target.value)||0),placeholder:"0.00"})]}),h.jsxs("button",{onClick:()=>rn("BS","opening"),className:"w-12 h-10 flex flex-col items-center justify-center rounded-lg bg-orange-500 text-white hover:bg-orange-600 transition-all border border-orange-400 shadow-lg shadow-orange-500/40 relative overflow-hidden group",title:"Desglose de Apertura (Bs)",children:[h.jsx(uu,{size:16}),h.jsx("span",{className:"text-[7px] font-black uppercase leading-none mt-0.5",children:"NUEVO"}),h.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse pointer-events-none"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-gray-400 uppercase font-bold mb-1.5 block tracking-wider",children:"Fondo Inicial en USD"}),h.jsxs("div",{className:"relative group flex gap-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-bold group-focus-within:text-green-400 transition-colors",children:"$"}),h.jsx("input",{type:"number",className:"glass-input w-full pl-9 py-2 text-sm font-bold bg-black/20 focus:bg-black/40 transition-all border-white/10 focus:border-green-500",value:_===0?"":_,onChange:te=>y(parseFloat(te.target.value)||0),placeholder:"0.00"})]}),h.jsxs("button",{onClick:()=>rn("USD","opening"),className:"w-12 h-10 flex flex-col items-center justify-center rounded-lg bg-orange-500 text-white hover:bg-orange-600 transition-all border border-orange-400 shadow-lg shadow-orange-500/40 relative overflow-hidden group",title:"Desglose de Apertura (USD)",children:[h.jsx(uu,{size:16}),h.jsx("span",{className:"text-[7px] font-black uppercase leading-none mt-0.5",children:"NUEVO"}),h.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse pointer-events-none"})]})]})]})]}),h.jsx("div",{className:"p-3 bg-black/20 border-t border-white/5",children:h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-gray-500",children:"Total Apertura"}),h.jsx("span",{className:"text-gray-300 font-bold bg-white/5 px-2 py-0.5 rounded",children:a(_+x/f,"$")})]})})]})]}),h.jsxs("div",{className:"glass-panel flex flex-col h-full border-t-4 border-t-orange-500 overflow-hidden transition-all duration-300",children:[h.jsxs("div",{className:"bg-white/5 p-3 flex justify-between items-center border-b border-white/5 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>Be(!He),children:[h.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[h.jsx("div",{className:`transition-transform duration-300 ${He?"rotate-180":""}`,children:h.jsx(ih,{size:16,className:"text-orange-400"})}),h.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-orange-500/20 text-orange-400 text-xs font-bold",children:"2"}),"Movimientos"]}),He&&h.jsx("button",{onClick:te=>{te.stopPropagation(),ie()},className:"p-1.5 rounded-md bg-orange-500/20 text-orange-400 hover:bg-orange-500 hover:text-white transition-all animate-in fade-in",title:"Guardar Movimientos",children:h.jsx(uv,{size:16})})]}),He&&h.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200",children:[h.jsxs("div",{className:"p-4 space-y-4 flex-1",children:[h.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/5",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Ventas Efectivo"}),h.jsxs("span",{className:"text-green-400 font-bold text-sm",children:["+",a(bn+ai/f,"$")]})]}),h.jsxs("div",{className:"flex justify-end gap-3 text-[10px] text-gray-500",children:[h.jsx("span",{children:a(ai,"Bs")}),h.jsx("span",{children:a(bn,"$")})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-red-400 uppercase font-bold mb-1.5 block",children:"Retiros Bs"}),h.jsx("input",{type:"number",className:"glass-input w-full px-3 py-2 text-xs text-right font-bold text-red-300 border-red-500/20 focus:border-red-500 bg-red-500/5 placeholder-red-800/50",placeholder:"0.00",value:w===0?"":w,onChange:te=>C(parseFloat(te.target.value)||0)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-red-400 uppercase font-bold mb-1.5 block",children:"Retiros $"}),h.jsx("input",{type:"number",className:"glass-input w-full px-3 py-2 text-xs text-right font-bold text-red-300 border-red-500/20 focus:border-red-500 bg-red-500/5 placeholder-red-800/50",placeholder:"0.00",value:A===0?"":A,onChange:te=>O(parseFloat(te.target.value)||0)})]})]}),h.jsx("input",{type:"text",className:"glass-input w-full px-3 py-2 text-xs border-dashed border-gray-700 focus:border-orange-500 transition-colors",placeholder:"Comentario (ej: Compra de Hielo)",value:F,onChange:te=>M(te.target.value)})]}),h.jsx("div",{className:"p-3 bg-black/20 border-t border-white/5",children:h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsx("span",{className:"text-gray-500 font-bold uppercase",children:"Esperado en Caja"}),h.jsx("span",{className:"text-white font-bold bg-orange-600/20 text-orange-300 border border-orange-500/30 px-2 py-0.5 rounded",children:a(W+kr/f,"$")})]})})]})]}),h.jsxs("div",{className:"glass-panel flex flex-col h-full border-t-4 border-t-purple-500 overflow-hidden transition-all duration-300",children:[h.jsxs("div",{className:"bg-white/5 p-3 flex justify-between items-center border-b border-white/5 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>Je(!Ke),children:[h.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[h.jsx("div",{className:`transition-transform duration-300 ${Ke?"rotate-180":""}`,children:h.jsx(ih,{size:16,className:"text-purple-400"})}),h.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-purple-500/20 text-purple-400 text-xs font-bold",children:"3"}),"Cierre y Arqueo"]}),Ke&&h.jsxs("button",{onClick:te=>{te.stopPropagation(),fe()},className:"px-3 py-1.5 rounded-md bg-red-500 text-white hover:bg-red-600 transition-all text-xs font-bold shadow-lg shadow-red-500/20 flex items-center gap-2 animate-in fade-in",children:[h.jsx(yp,{size:14})," Cerrar Turno"]})]}),Ke&&h.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200",children:h.jsxs("div",{className:"p-4 space-y-4 flex-1",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-purple-300 uppercase font-bold mb-1.5 block",children:"Total Efectivo Bs"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"number",className:"glass-input flex-1 py-2 px-3 text-lg font-bold border-purple-500/30 focus:border-purple-500 text-right bg-purple-500/5",placeholder:"0.00",value:j===0?"":j,onChange:te=>k(parseFloat(te.target.value)||0)}),h.jsxs("button",{onClick:()=>rn("BS"),className:"w-14 h-11 flex flex-col items-center justify-center rounded-lg bg-orange-600 text-white hover:bg-orange-500 transition-all border border-orange-400 shadow-md shadow-orange-500/30 relative overflow-hidden group",title:"Arqueo de Billetes (Bs)",children:[h.jsx(uu,{size:18}),h.jsx("span",{className:"text-[8px] font-black uppercase mt-0.5",children:"ARQUEO"}),h.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse pointer-events-none"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-green-300 uppercase font-bold mb-1.5 block",children:"Total Efectivo USD"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"number",className:"glass-input flex-1 py-2 px-3 text-lg font-bold border-green-500/30 focus:border-green-500 text-right bg-green-500/5",placeholder:"0.00",value:R===0?"":R,onChange:te=>I(parseFloat(te.target.value)||0)}),h.jsxs("button",{onClick:()=>rn("USD"),className:"w-14 h-11 flex flex-col items-center justify-center rounded-lg bg-orange-600 text-white hover:bg-orange-500 transition-all border border-orange-400 shadow-md shadow-orange-500/30 relative overflow-hidden group",title:"Arqueo de Billetes (USD)",children:[h.jsx(uu,{size:18}),h.jsx("span",{className:"text-[8px] font-black uppercase mt-0.5",children:"ARQUEO"}),h.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse pointer-events-none"})]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[h.jsxs("div",{className:`rounded-lg border p-2 text-center transition-all duration-300 ${Math.abs(le)<1?"border-green-500/30 bg-green-500/10":"border-red-500/30 bg-red-500/10"}`,children:[h.jsx("span",{className:"text-[10px] text-gray-400 uppercase block mb-1",children:"Dif. Bs"}),h.jsxs("span",{className:`text-sm font-bold ${Math.abs(le)<1?"text-green-400":"text-red-400"}`,children:[le>0?"+":"",a(le,"Bs")]})]}),h.jsxs("div",{className:`rounded-lg border p-2 text-center transition-all duration-300 ${Math.abs(Q)<.1?"border-green-500/30 bg-green-500/10":"border-red-500/30 bg-red-500/10"}`,children:[h.jsx("span",{className:"text-[10px] text-gray-400 uppercase block mb-1",children:"Dif. $"}),h.jsxs("span",{className:`text-sm font-bold ${Math.abs(Q)<.1?"text-green-400":"text-red-400"}`,children:[Q>0?"+":"",a(Q,"$")]})]})]})]})})]})]}),h.jsxs("div",{className:"manual-grid-2 gap-6 pb-6",children:[h.jsxs("div",{className:"glass-panel p-4 chart-container-manual",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-gray-400 font-bold text-xs flex items-center gap-2 uppercase tracking-wider",children:[h.jsx(o_,{size:16,className:"text-orange-500"})," Tendencia de Ventas"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>wt(!Me),className:`p-1.5 rounded-md transition-all ${Me?"bg-purple-500/20 text-purple-400":"bg-white/5 text-gray-500 hover:text-white"}`,title:"Comparar con otra fecha",children:h.jsx(Du,{size:14,className:Me?"":"opacity-50"})}),h.jsx("button",{onClick:()=>Ut(!At),className:`p-1.5 rounded-md transition-all ${At?"bg-orange-500/20 text-orange-400":"bg-white/5 text-gray-500 hover:text-white"}`,title:"Seleccionar fecha especfica",children:h.jsx(i_,{size:14})}),h.jsxs("div",{className:"flex items-center gap-1 bg-black/40 rounded-full px-2 py-1 border border-white/5",children:[h.jsx("button",{onClick:()=>Vr(-1),className:"p-1 hover:text-white text-gray-500 transition-colors",children:h.jsx(MR,{size:14})}),h.jsx("span",{className:"text-[10px] font-mono text-gray-300 w-24 text-center",children:fn()}),h.jsx("button",{onClick:()=>Vr(1),className:"p-1 hover:text-white text-gray-500 transition-colors",children:h.jsx(LR,{size:14})})]})]})]}),At&&h.jsxs("div",{className:"mb-4 p-3 bg-black/20 rounded-lg border border-white/5 flex flex-wrap gap-4 items-end fade-in",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] text-gray-400 uppercase font-bold block mb-1",children:"Fecha Principal"}),h.jsx("input",{type:"date",value:Se.toISOString().split("T")[0],onChange:te=>{const ge=new Date(te.target.value),xe=ge.getTimezoneOffset()*6e4;Ye(new Date(ge.getTime()+xe))},className:"glass-input py-1 px-2 text-xs"})]}),Me&&h.jsxs("div",{className:"fade-in",children:[h.jsx("label",{className:"text-[10px] text-purple-400 uppercase font-bold block mb-1",children:"Comparar con"}),h.jsx("input",{type:"date",value:Dt.toISOString().split("T")[0],onChange:te=>{const ge=new Date(te.target.value),xe=ge.getTimezoneOffset()*6e4;Et(new Date(ge.getTime()+xe))},className:"glass-input py-1 px-2 text-xs border-purple-500/30 focus:border-purple-500"})]})]}),h.jsx("div",{className:"flex-1 w-full min-h-0 h-[400px]",children:h.jsx(a1,{width:"100%",height:"100%",children:h.jsxs(U4e,{data:wi,children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]}),h.jsxs("linearGradient",{id:"colorComparison",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#a855f7",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#a855f7",stopOpacity:0})]})]}),h.jsx(k5,{strokeDasharray:"3 3",vertical:!1}),h.jsx(O5,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10},dy:10}),h.jsx(j5,{axisLine:!1,tickLine:!1,tick:{fontSize:10},tickFormatter:te=>`$${te}`}),h.jsx(T1,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",borderRadius:"8px"},itemStyle:{color:"#e5e7eb",fontSize:"12px"},labelStyle:{color:"#9ca3af",fontSize:"10px",marginBottom:"4px"}}),h.jsx(vL,{}),h.jsx(JS,{type:"monotone",dataKey:"sales",name:"Ventas Actuales",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)"}),Me&&h.jsx(JS,{type:"monotone",dataKey:"comparison",name:"Comparacin",stroke:"#a855f7",strokeWidth:2,strokeDasharray:"5 5",fillOpacity:1,fill:"url(#colorComparison)"})]})})})]}),h.jsxs("div",{className:"glass-panel p-0 flex flex-col h-full overflow-hidden",children:[h.jsxs("div",{className:"p-4 border-b border-white/5 bg-white/5 flex justify-between items-center",children:[h.jsxs("h3",{className:"text-gray-400 font-bold text-xs uppercase tracking-wider flex items-center gap-2",children:[h.jsx(Ff,{size:16,className:"text-purple-500"})," Desglose de Ventas (Hoy)"]}),h.jsxs("span",{className:"text-xs font-bold text-white bg-black/40 px-2 py-1 rounded-md border border-white/5",children:["Total: ",Object.entries(Tr).map(([te,ge],xe)=>h.jsxs("span",{children:[te==="BS"?"Bs ":"$ ",a(ge,te),xe<Object.keys(Tr).length-1?" + ":""]},te)),h.jsxs("span",{className:"ml-2 text-gray-500 font-medium",children:[" $",a(Gn,"$")]})]})]}),h.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2",children:[h.jsx("div",{className:"p-4 space-y-4 border-b md:border-b-0 md:border-r border-white/5 overflow-y-auto custom-scrollbar max-h-[300px]",children:Object.entries(Ft).map(([te,ge])=>{const xe=(t.paymentMethods||[]).find(Ie=>Ie.name===te);return h.jsx(V4e,{label:te,nativeAmount:ge.native,usdAmount:ge.usd,currency:ge.currency,color:xe?.color||"#3b82f6",formatAmount:a},te)})}),h.jsxs("div",{className:"p-4 flex flex-col items-center justify-center bg-black/10",children:[h.jsx("div",{className:"pie-chart-container",children:h.jsx(a1,{width:"100%",height:"100%",children:h.jsxs($V,{children:[h.jsx(E5,{data:sn,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:4,dataKey:"value",children:sn.map((te,ge)=>h.jsx(Hu,{fill:te.color,stroke:"rgba(0,0,0,0.5)",strokeWidth:2},`cell-${ge}`))}),h.jsx(T1,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",fontSize:"11px",padding:"8px",borderRadius:"8px"},formatter:te=>a(te,"$"),itemStyle:{color:"#fff"}})]})})}),h.jsx("div",{className:"text-center mt-2",children:h.jsx("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-widest",children:"Distribucin"})})]})]})]})]}),h.jsx(br,{isOpen:U,onClose:()=>Y(!1),title:"Actualizar Tasa de Cambio",children:h.jsxs("div",{className:"space-y-4 pt-2",children:[h.jsxs("button",{onClick:Fe,disabled:et,className:"w-full py-2 mb-2 bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/30 text-blue-400 font-bold rounded-lg flex items-center justify-center gap-2 transition-all text-xs uppercase tracking-wider",children:[h.jsx(Du,{size:14,className:et?"animate-spin":""}),et?"Consultando BCV...":"Sincronizar con BCV"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-400 font-bold uppercase mb-2 block",children:"Nueva Tasa (Bs/$)"}),h.jsx("input",{type:"number",className:"glass-input w-full text-center text-2xl font-bold py-3 text-green-400 focus:border-green-500",value:ve,onChange:te=>H(te.target.value),autoFocus:!0})]}),h.jsx("button",{onClick:Ce,className:"w-full py-3 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded-lg transition-all shadow-lg shadow-orange-600/20",children:"Confirmar Cambio"})]})]})}),h.jsx(br,{isOpen:Z,onClose:()=>q(!1),title:"Historial del Sistema",children:h.jsxs("div",{className:"flex flex-col h-full max-h-[75vh]",children:[h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>me("rates"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${se==="rates"?"bg-orange-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"TASAS DE CAMBIO"}),h.jsx("button",{onClick:()=>me("closures"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${se==="closures"?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"CIERRES DE CAJA"})]})}),h.jsx("div",{className:"mb-4",children:h.jsx("input",{type:"text",placeholder:`Buscar en ${se==="rates"?"tasas":"cierres"}...`,className:"glass-input w-full pl-4 py-2 text-sm",value:G,onChange:te=>ee(te.target.value)})}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-2",children:se==="rates"?t.rateHistory&&t.rateHistory.length>0?t.rateHistory.filter(te=>{if(!G)return!0;const ge=G.toLowerCase();return new Date(te.date).toLocaleDateString().includes(ge)||te.rate.toString().includes(ge)}).map((te,ge)=>h.jsxs("div",{className:"bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-colors flex justify-between items-center border border-white/5",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-gray-400 font-mono",children:new Date(te.date).toLocaleString()}),h.jsxs("div",{className:"text-lg font-bold text-green-400 mt-0.5",children:[te.rate.toFixed(2)," Bs/$"]})]}),ge<t.rateHistory.length-1&&h.jsx("div",{className:"text-xs",children:(()=>{const xe=te.rate-t.rateHistory[ge+1].rate,Ie=xe>0;return h.jsxs("span",{className:`font-bold px-2 py-1 rounded ${Ie?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:[Ie?"":""," ",Math.abs(xe).toFixed(2)]})})()})]},te.id)):h.jsxs("div",{className:"text-center text-gray-500 py-12 flex flex-col items-center gap-3",children:[h.jsx("div",{className:"p-3 bg-white/5 rounded-full",children:h.jsx(vE,{size:32,className:"opacity-50"})}),"No hay historial de tasas disponible"]}):t.cashRegisterHistory&&t.cashRegisterHistory.length>0?t.cashRegisterHistory.filter(te=>{if(!G)return!0;const ge=G.toLowerCase();return new Date(te.closingTime).toLocaleDateString().includes(ge)||te.totalSalesUsd.toString().includes(ge)}).map(te=>h.jsxs("div",{className:`bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors border border-white/5 cursor-pointer ${we===te.id?"ring-1 ring-purple-500":""}`,onClick:()=>ue(we===te.id?null:te.id),children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-purple-400 font-bold uppercase tracking-widest",children:"Cierre de Caja"}),h.jsx("div",{className:"text-sm font-bold text-white",children:new Date(te.closingTime).toLocaleString()})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[60px] p-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/20 transition-all",children:[h.jsx("div",{className:`transition-transform duration-300 ${we===te.id?"rotate-180":""}`,children:h.jsx(ih,{size:20,className:"text-purple-400"})}),h.jsx("span",{className:"text-[8px] text-gray-500 font-bold mt-1 uppercase",children:"DETALLES"})]}),h.jsxs("div",{className:"text-right flex-1",children:[h.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-tighter",children:"Ventas Totales"}),h.jsxs("div",{className:"text-lg font-bold text-green-400",children:["$",te.totalSalesUsd.toFixed(2)]})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 py-2 border-t border-white/5 mt-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Transacciones"}),h.jsx("div",{className:"font-bold text-xs",children:te.salesCount})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Efectivo Bs"}),h.jsxs("div",{className:`font-bold text-xs ${te.differenceBs!==0?"text-orange-400":"text-gray-300"}`,children:[te.closingBalanceBs.toFixed(2),te.differenceBs!==0&&h.jsxs("span",{className:"ml-1 text-[8px] opacity-70",children:["(",te.differenceBs>0?"+":"",te.differenceBs.toFixed(2),")"]})]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Efectivo USD"}),h.jsxs("div",{className:`font-bold text-xs ${te.differenceUsd!==0?"text-orange-400":"text-gray-300"}`,children:[te.closingBalanceUsd.toFixed(2),te.differenceUsd!==0&&h.jsxs("span",{className:"ml-1 text-[8px] opacity-70",children:["(",te.differenceUsd>0?"+":"",te.differenceUsd.toFixed(2),")"]})]})]})]}),we===te.id&&h.jsx("div",{className:"mt-4 pt-4 border-t border-white/10 space-y-4 animate-in slide-in-from-top-2 duration-200",children:h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-orange-400 font-bold uppercase mb-1 tracking-widest",children:"Desglose Apertura"}),h.jsx(K0,{title:"Efectivo en Bs",breakdown:te.openingBreakdownBs,currency:"BS"}),h.jsx(K0,{title:"Efectivo en USD",breakdown:te.openingBreakdownUsd,currency:"USD"}),(!te.openingBreakdownBs||te.openingBreakdownBs.length===0)&&(!te.openingBreakdownUsd||te.openingBreakdownUsd.length===0)&&h.jsx("div",{className:"text-[10px] text-gray-600 italic mt-2",children:"Sin desglose registrado"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] text-purple-400 font-bold uppercase mb-1 tracking-widest",children:"Desglose Cierre"}),h.jsx(K0,{title:"Efectivo en Bs",breakdown:te.closingBreakdownBs,currency:"BS"}),h.jsx(K0,{title:"Efectivo en USD",breakdown:te.closingBreakdownUsd,currency:"USD"}),(!te.closingBreakdownBs||te.closingBreakdownBs.length===0)&&(!te.closingBreakdownUsd||te.closingBreakdownUsd.length===0)&&h.jsx("div",{className:"text-[10px] text-gray-600 italic mt-2",children:"Sin desglose registrado"})]})]})})]},te.id)):h.jsxs("div",{className:"text-center text-gray-500 py-12 flex flex-col items-center gap-3",children:[h.jsx("div",{className:"p-3 bg-white/5 rounded-full",children:h.jsx(vE,{size:32,className:"opacity-50"})}),"No hay historial de cierres disponible"]})})]})}),h.jsx(ZB,{isOpen:Ge,onClose:()=>it(!1),onConfirm:yn,currency:bt,amount:0,debtAmount:0,isAuditMode:!0})]})},iu=(e,t=[])=>{const r=t.find(a=>a.id===e||a.name===e);return r?r.name:{efectivo_usd:"Efectivo $",efectivo_bs:"Efectivo Bs",zelle:"Zelle",pm_banesco:"Pago Mvil Banesco",punto:"Punto de Venta",credito:"Crdito"}[e]||e||"Otro"},H4e=()=>{const{data:e}=ea(),[t,r]=sW(),n=T.useMemo(()=>e.sales||[],[e.sales]),a=T.useMemo(()=>e.customers||[],[e.customers]),i=e.exchangeRate||1,[s,l]=T.useState(null),u=t.get("customerId")||"",[f,d]=T.useState(u?"all":"today"),[m,g]=T.useState(window.innerWidth<=768);gr.useEffect(()=>{const w=()=>g(window.innerWidth<=768);return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const x=w=>{const C=w.target.value;C?(r({customerId:C}),d("all")):(r({}),d("today"))},b=(w,C)=>{const A=new Date(w),O=new Date,F=new Date(O.getFullYear(),O.getMonth(),O.getDate());if(C==="today")return A>=F;if(C==="week"){const M=new Date(O);return M.setDate(O.getDate()-7),A>=M}if(C==="month"){const M=new Date(O.getFullYear(),O.getMonth(),1);return A>=M}return!0},_=T.useMemo(()=>n.filter(w=>!(u&&w.customerId!==u||!b(w.date,f))),[n,f,u]),y=T.useMemo(()=>{let w=0,C=0,A=0,O=0,F=0,M=0;const j={},k={Restaurante:0,Quesera:0};_.forEach(N=>{if(N.departmentTotals)Object.entries(N.departmentTotals).forEach(([B,oe])=>{k[B]!==void 0?k[B]+=oe:k[B]=oe});else{const B=N.department||"Restaurante";k[B]!==void 0?k[B]+=N.total:k[B]=N.total}if(N.payments&&Array.isArray(N.payments)&&N.payments.length>0)N.payments.forEach(B=>{const oe=parseFloat(B.amount),he=iu(B.method,e.paymentMethods),ne=B.currency==="USD"?oe:oe/(B.rate||i);j[he]||(j[he]={native:0,usd:0,currency:B.currency}),j[he].native+=oe,j[he].usd+=ne,B.currency==="USD"?w+=oe:C+=oe,A+=ne,(he.toLowerCase().includes("credito")||he.toLowerCase().includes("fiado"))&&(O+=ne)});else{const B=parseFloat(N.total),oe=N.paymentMethod,he=(e.paymentMethods||[]).find(we=>we.id===oe||we.name===oe),ne=he?he.currency:label.toLowerCase().includes("bs")||label.toLowerCase().includes("punto")||label.toLowerCase().includes("pago movil")?"Bs":"USD",de=ne==="Bs"?B*i:B,be=B;j[label]||(j[label]={native:0,usd:0,currency:ne}),j[label].native+=de,j[label].usd+=be,isBs?C+=de:w+=B,A+=be,(label.toLowerCase().includes("credito")||label.toLowerCase().includes("fiado"))&&(O+=be)}});const R=Object.entries(j).map(([N,B])=>({name:N,value:B.usd,nativeValue:B.native,usdValue:B.usd,currency:B.currency,percentage:B.usd/(A||1)*100,color:(B.paymentMethods||[]).find(oe=>oe.name===N)?.color||"#3498db"})).sort((N,B)=>B.value-N.value),I=(e.suppliers||[]).reduce((N,B)=>N+(B.debt||0),0);let P=0;return(e.suppliers||[]).forEach(N=>{(N.transactions||[]).forEach(B=>{B.type==="Pago"&&b(B.date,f)&&(P+=B.amount)})}),F=(e.expenses||[]).filter(N=>!N.date||b(N.date,f)).reduce((N,B)=>N+(B.amount||0),0),M=(e.debts||[]).reduce((N,B)=>N+(B.amount||0),0)+I,O+=(e.accountsReceivable||[]).reduce((N,B)=>N+(B.amount||0),0),{totalUSD:w,totalBs:C,totalConverted:A,totalReceivable:O,totalExpenses:F,totalDebts:M,allPaymentsChartData:R,departmentTotals:k,supplierDebts:I,supplierPaymentsInRange:P}},[_,i,e.expenses,e.debts,e.accountsReceivable,e.suppliers,f]);return h.jsxs("div",{style:{padding:m?"0.5rem":"1rem",height:"100%",display:"flex",flexDirection:"column",gap:"1rem",overflowY:"auto",background:"#0b0e14"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:m?"column":"row",alignItems:m?"stretch":"center",justifyContent:"space-between",gap:"1rem",flexShrink:0},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[h.jsx("h1",{style:{margin:0,fontSize:m?"1.25rem":"1.5rem",fontWeight:"900",color:"#fff",letterSpacing:"-0.5px"},children:"ANLISIS DE VENTAS"}),h.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.75rem"},children:"Dashboard Financiero en Tiempo Real"})]}),h.jsx("div",{className:"no-scrollbar",style:{display:"flex",gap:"0.5rem",overflowX:"auto",padding:"0.25rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px",flexShrink:0},children:["today","week","month","all"].map(w=>h.jsx("button",{className:`glass-button ${f===w?"primary":""}`,onClick:()=>d(w),style:{fontSize:"0.7rem",padding:"0.4rem 0.75rem",borderRadius:"8px",background:f===w?"var(--accent-blue)":"transparent",color:f===w?"#000":"#fff",whiteSpace:"nowrap",flex:1,minWidth:"60px"},children:w==="today"?"Hoy":w==="week"?"Semana":w==="month"?"Mes":"Todo"},w))}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.4rem 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[h.jsx(ZW,{size:14,className:"text-gray-400"}),h.jsxs("select",{className:"glass-input",value:u,onChange:x,style:{border:"none",background:"transparent",fontSize:"0.8rem",color:"#fff",width:"100%"},children:[h.jsx("option",{value:"",style:{background:"#1a1a1a"},children:"-- Clientes --"}),a.map(w=>h.jsx("option",{value:w.id,style:{background:"#1a1a1a"},children:w.name},w.id))]})]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:m?"repeat(2, 1fr)":"repeat(4, 1fr) repeat(3, 1fr)",gap:"0.75rem"},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid var(--accent-orange)",background:"rgba(255, 165, 0, 0.05)"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"RESTAURANTE"}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1.1rem":"1.3rem",fontWeight:"bold",color:"#fff"},children:mn(y.departmentTotals.Restaurante,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid #f1c40f",background:"rgba(241, 196, 15, 0.05)"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"QUESERA"}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1.1rem":"1.3rem",fontWeight:"bold",color:"#fff"},children:mn(y.departmentTotals.Quesera||0,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid var(--accent-green)",background:"rgba(39, 174, 96, 0.05)"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"VENTA TOTAL"}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1.1rem":"1.3rem",fontWeight:"bold",color:"#fff"},children:mn(y.totalConverted,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid #e74c3c",background:"rgba(231, 76, 60, 0.05)"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"PAGOS PROV."}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1.1rem":"1.3rem",fontWeight:"bold",color:"#e74c3c"},children:mn(y.supplierPaymentsInRange,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid #9b59b6",background:"rgba(155, 89, 182, 0.05)"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"DEUDA PROV."}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1.1rem":"1.3rem",fontWeight:"bold",color:"#9b59b6"},children:mn(y.supplierDebts,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid #27ae60"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"DIVISAS ($)"}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1rem":"1.2rem",fontWeight:"bold",color:"#27ae60"},children:mn(y.totalUSD,"$")})]}),h.jsxs("div",{className:"glass-panel",style:{padding:"0.75rem",borderLeft:"4px solid #3498db"},children:[h.jsx("p",{style:{margin:0,fontSize:"0.65rem",color:"var(--text-secondary)",fontWeight:"bold"},children:"BOLVARES"}),h.jsx("h2",{style:{margin:"0.25rem 0 0 0",fontSize:m?"1rem":"1.2rem",fontWeight:"bold",color:"#3498db"},children:mn(y.totalBs,"Bs")})]})]}),h.jsxs("div",{style:{display:"flex",flexDirection:m?"column":"row",gap:"0.75rem",flex:1,minHeight:0,overflowY:m?"visible":"hidden"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",flex:1,minHeight:m?"auto":0},children:[h.jsxs("div",{className:"glass-panel",style:{padding:"1rem",height:m?"250px":"200px",flexShrink:0},children:[h.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"0.8rem",fontWeight:"bold",color:"var(--text-secondary)"},children:"COMPARATIVA DE SALDOS ($)"}),h.jsx(a1,{width:"100%",height:"100%",children:h.jsxs(k4e,{data:[{name:"Ventas",valor:y.totalConverted,color:"#2ecc71"},{name:"Gastos",valor:y.totalExpenses,color:"#e74c3c"},{name:"Deudas",valor:y.totalDebts,color:"#9b59b6"},{name:"Por Cobrar",valor:y.totalReceivable,color:"#3498db"}],children:[h.jsx(k5,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(255,255,255,0.05)"}),h.jsx(O5,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9ca3af"}}),h.jsx(j5,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9ca3af"}}),h.jsx(T1,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",borderRadius:"8px"},itemStyle:{color:"#fff"},labelStyle:{color:"#fff"},cursor:{fill:"rgba(255,255,255,0.05)"}}),h.jsx(AV,{dataKey:"valor",radius:[4,4,0,0],children:[0,1,2,3].map(w=>h.jsx(Hu,{fill:["#27ae60","#e74c3c","#9b59b6","#3498db"][w]},w))})]})})]}),h.jsxs("div",{className:"glass-panel",style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",minHeight:m?"400px":"auto",maxHeight:m?"500px":"none"},children:[h.jsx("div",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:h.jsx("h3",{style:{margin:0,fontSize:"0.8rem",fontWeight:"bold"},children:"HISTORIAL DE VENTAS"})}),h.jsx("div",{style:{overflowY:"auto",flex:1},children:h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:m?"0.75rem":"0.8rem"},children:[h.jsx("thead",{style:{position:"sticky",top:0,background:"#161922",zIndex:10},children:h.jsxs("tr",{style:{textAlign:"left",color:"var(--text-secondary)"},children:[h.jsx("th",{style:{padding:"0.75rem 1rem",fontWeight:"bold"},children:"HORA"}),h.jsx("th",{style:{padding:"0.75rem 1rem",fontWeight:"bold"},children:"TOTAL"}),!m&&h.jsx("th",{style:{padding:"0.75rem 1rem",fontWeight:"bold"},children:"MTODO"}),!m&&h.jsx("th",{style:{padding:"0.75rem 1rem",fontWeight:"bold"},children:"CAJERO"})]})}),h.jsx("tbody",{children:_.slice().reverse().map(w=>h.jsxs("tr",{onClick:()=>l(w),style:{borderBottom:"1px solid rgba(255,255,255,0.03)",cursor:"pointer",background:"transparent"},onMouseOver:C=>C.currentTarget.style.background="rgba(255,255,255,0.02)",onMouseOut:C=>C.currentTarget.style.background="transparent",children:[h.jsx("td",{style:{padding:"0.75rem 1rem"},children:new Date(w.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),h.jsxs("td",{style:{padding:"0.75rem 1rem",fontWeight:"bold",color:"var(--accent-green)"},children:[mn(w.total,"$"),m&&h.jsx("div",{style:{fontSize:"0.65rem",color:"#ccc",fontWeight:"normal"},children:w.payments?w.payments.map(C=>iu(C.method,e.paymentMethods).split(" ")[0]).join(", "):iu(w.paymentMethod,e.paymentMethods).split(" ")[0]})]}),!m&&h.jsx("td",{style:{padding:"0.75rem 1rem",color:"#ccc"},children:w.payments?w.payments.map(C=>iu(C.method,e.paymentMethods)).join(", "):iu(w.paymentMethod,e.paymentMethods)}),!m&&h.jsx("td",{style:{padding:"0.75rem 1rem",color:"var(--text-secondary)"},children:w.cashier||"Cajero 1"})]},w.id))})]})})]})]}),h.jsxs("div",{className:"glass-panel",style:{display:"flex",flexDirection:"column",overflow:"hidden",background:"#11141d",border:"1px solid rgba(255,255,255,0.05)",width:m?"100%":"350px",flexShrink:0,minHeight:m?"auto":0},children:[h.jsx("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255,255,255,0.05)",background:"rgba(255,255,255,0.02)"},children:h.jsxs("h3",{style:{margin:0,fontSize:"0.85rem",fontWeight:"bold",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},children:[h.jsx(Ff,{size:18,color:"var(--accent-blue)"})," POR MEDIO DE PAGO"]})}),h.jsxs("div",{style:{padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",flex:1,overflowY:m?"visible":"auto"},children:[h.jsx("div",{style:{height:"240px",flexShrink:0},children:h.jsx(a1,{children:h.jsxs($V,{margin:{top:10,right:40,left:40,bottom:10},children:[h.jsx(E5,{data:y.allPaymentsChartData,dataKey:"value",innerRadius:35,outerRadius:55,paddingAngle:2,labelLine:!0,label:({name:w,percent:C})=>m?`${(C*100).toFixed(0)}%`:`${w.split(" ")[0]} ${(C*100).toFixed(0)}%`,children:y.allPaymentsChartData.map((w,C)=>h.jsx(Hu,{fill:w.color,stroke:"rgba(0,0,0,0.5)",strokeWidth:2},C))}),h.jsx(T1,{formatter:w=>`$${w.toFixed(2)}`,contentStyle:{background:"#111",border:"1px solid #333",borderRadius:"8px",fontSize:"11px"},itemStyle:{color:"#fff"},labelStyle:{color:"#fff"}})]})})}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:y.allPaymentsChartData.map((w,C)=>h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.03)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[h.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:w.color,boxShadow:`0 0 10px ${w.color}44`}}),h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:"0.8rem",fontWeight:"bold",color:"#fff"},children:w.name}),h.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",display:"flex",flexDirection:"column"},children:[h.jsx("span",{children:w.currency==="Bs"?`Bs ${w.nativeValue.toLocaleString()}`:`$${w.nativeValue.toFixed(2)}`}),w.currency==="Bs"&&h.jsxs("span",{style:{color:"var(--accent-green)"},children:["($",w.usdValue.toFixed(2),")"]})]})]})]}),h.jsxs("div",{style:{textAlign:"right"},children:[h.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"var(--accent-green)"},children:[w.percentage.toFixed(1),"%"]}),h.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)"},children:"de la venta"})]})]},C))}),h.jsxs("div",{style:{marginTop:m?"1rem":"auto",paddingTop:"1rem",borderTop:"2px dashed rgba(255,255,255,0.05)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[h.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem",fontWeight:"bold"},children:"TOTAL BOLVARES"}),h.jsx("span",{style:{color:"#3498db",fontSize:"0.85rem",fontWeight:"bold"},children:mn(y.totalBs,"Bs")})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[h.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem",fontWeight:"bold"},children:"TOTAL DIVISAS"}),h.jsx("span",{style:{color:"#27ae60",fontSize:"0.85rem",fontWeight:"bold"},children:mn(y.totalUSD,"$")})]})]})]})]})]}),s&&h.jsx(br,{isOpen:!!s,onClose:()=>l(null),title:"Detalle de Transaccin",children:h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.05)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[h.jsxs("div",{children:[h.jsxs("h2",{style:{fontSize:"1.2rem",fontWeight:"bold",margin:0},children:["Ticket #",s.id.toString().slice(-6)]}),h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:new Date(s.date).toLocaleString()})]}),h.jsx("div",{style:{background:"var(--accent-blue)",color:"#fff",padding:"0.2rem 0.5rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold"},children:"PAGADO"})]}),h.jsx("div",{style:{marginBottom:"1rem"},children:s.items?.map((w,C)=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.85rem",padding:"0.4rem 0",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[h.jsxs("span",{children:[w.quantity,"x ",w.name]}),h.jsx("span",{style:{fontWeight:"bold"},children:mn(w.price*w.quantity,"$")})]},C))}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.5rem",fontWeight:"bold",fontSize:"1.1rem"},children:[h.jsx("span",{children:"TOTAL VENTA"}),h.jsx("span",{style:{color:"var(--accent-green)"},children:mn(s.total,"$")})]})]}),h.jsxs("div",{children:[h.jsx("h3",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase"},children:"Desglose de Pago Realizado"}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:s.payments?s.payments.map((w,C)=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",background:"rgba(255,255,255,0.03)",padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)"},children:[h.jsxs("div",{children:[h.jsx("div",{style:{fontWeight:"bold",fontSize:"0.85rem"},children:iu(w.method,e.paymentMethods)}),w.note&&h.jsx("div",{style:{fontSize:"0.7rem",color:"var(--accent-orange)"},children:w.note})]}),h.jsx("div",{style:{fontWeight:"bold",color:w.currency==="Bs"?"#3498db":"#27ae60"},children:mn(w.amount,w.currency==="Bs"?"Bs":"$")})]},C)):h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",background:"rgba(255,255,255,0.03)",padding:"0.75rem",borderRadius:"8px"},children:[h.jsx("div",{style:{fontWeight:"bold"},children:iu(s.paymentMethod,e.paymentMethods)}),h.jsx("div",{style:{fontWeight:"bold"},children:mn(s.total,"$")})]})})]}),h.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[h.jsx(tK,{size:14})," Cajero: ",s.cashier||"Cajero 1"]}),s.tableName&&h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[h.jsx(NG,{size:14})," Mesa: ",s.tableName]})]})]})})]})};class q4e extends gr.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?h.jsx("div",{style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"#fff",fontFamily:"sans-serif"},children:h.jsxs("div",{className:"glass-panel",style:{padding:"2rem",borderRadius:"16px",background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center",maxWidth:"500px"},children:[h.jsx(xA,{size:48,color:"#ff6b6b",style:{marginBottom:"1rem"}}),h.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Ups! Algo sali mal"}),h.jsx("p",{style:{color:"#a0a0a0",marginBottom:"1.5rem"},children:"Ha ocurrido un error inesperado en la aplicacin."}),this.state.error&&h.jsx("div",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",textAlign:"left",overflow:"auto",maxHeight:"150px",fontSize:"0.8rem",fontFamily:"monospace"},children:this.state.error.toString()}),h.jsxs("button",{onClick:this.handleReload,style:{background:"linear-gradient(135deg, #00f260 0%, #0575e6 100%)",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",margin:"0 auto"},children:[h.jsx(Du,{size:18}),"Recargar Pgina"]})]})}):this.props.children}}const W4e=({onUnlock:e})=>{const[t,r]=T.useState(""),[n,a]=T.useState(!0);T.useEffect(()=>{const s=localStorage.getItem("pos_encryption_key"),l=localStorage.getItem("pos_local_mode")==="true";(s||l)&&(s&&ZE(s),e())},[e]);const i=s=>{s.preventDefault(),t.trim().length>0&&(localStorage.removeItem("pos_local_mode"),n?localStorage.setItem("pos_encryption_key",t):sessionStorage.setItem("pos_encryption_key",t),ZE(t),e())};return h.jsx("div",{className:"fixed inset-0 bg-gray-900 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 max-w-md w-full text-center",children:[h.jsx("div",{className:"mb-6",children:h.jsx("span",{className:"text-6xl",children:""})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Acceso de Seguridad"}),h.jsxs("p",{className:"text-gray-600 mb-6",children:["Ingresa tu ",h.jsx("b",{children:"Llave Maestra"})," para cifrar y proteger tus datos en este servidor."]}),h.jsxs("form",{onSubmit:i,className:"space-y-4",children:[h.jsxs("div",{className:"text-left",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Llave Maestra"}),h.jsx("input",{type:"password",value:t,onChange:s=>r(s.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Tu llave secreta...",autoComplete:"current-password",name:"password",id:"master_key_input"}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:" Tip: Puedes guardar esta llave en tu Gestor de Contraseas de Google."})]}),h.jsxs("div",{className:"flex items-center justify-start",children:[h.jsx("input",{id:"remember-me",type:"checkbox",checked:n,onChange:s=>a(s.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Recordar permanentemente en este mvil"})]}),h.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors shadow-lg mb-4",children:"Desbloquear y Entrar"}),h.jsxs("div",{className:"relative flex py-2 items-center",children:[h.jsx("div",{className:"flex-grow border-t border-gray-300"}),h.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-400 text-xs",children:"O"}),h.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),h.jsxs("button",{type:"button",onClick:()=>{n&&localStorage.setItem("pos_local_mode","true"),e()},className:"w-full bg-gray-50 hover:bg-gray-100 text-gray-600 font-semibold py-3 rounded-lg transition-colors border border-gray-200",children:["Continuar en Modo Local",h.jsx("span",{className:"block text-[10px] font-normal text-gray-400 mt-1",children:"(Solo para ver datos bsicos sin cifrado en la nube)"})]}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-4 leading-tight",children:"* Tu llave es privada. Si la pierdes, no podremos recuperar tus ventas cifradas. Gurdala bien."})]})]})})},Ql=({children:e,requiredRole:t})=>{const{currentUser:r,hasPermission:n}=$f(),a=Us();return r?t&&!n(t)?h.jsxs("div",{style:{color:"white",padding:"2rem",textAlign:"center"},children:[h.jsx("h2",{children:"Acceso Denegado"}),h.jsx("p",{children:"No tienes permisos para ver esta pgina."})]}):r.role==="kitchen"&&!a.pathname.startsWith("/kitchen")?h.jsx(pE,{to:"/kitchen",replace:!0}):e:h.jsx(pE,{to:"/login",state:{from:a},replace:!0})};function G4e(){const[e,t]=gr.useState(!1);return e?h.jsx(q4e,{children:h.jsx(lK,{children:h.jsx(Rte,{children:h.jsx(Fte,{children:h.jsx(rW,{children:h.jsxs(jq,{children:[h.jsx(di,{path:"/login",element:h.jsx(x0e,{})}),h.jsxs(di,{path:"/",element:h.jsx(Ql,{children:h.jsx(Mte,{})}),children:[h.jsx(di,{index:!0,element:h.jsx($te,{})}),h.jsx(di,{path:"inventory",element:h.jsx(Ql,{requiredRole:"manager",children:h.jsx(Hte,{})})}),h.jsx(di,{path:"suppliers",element:h.jsx(Ql,{requiredRole:"manager",children:h.jsx(qte,{})})}),h.jsx(di,{path:"products",element:h.jsx(Ql,{requiredRole:"manager",children:h.jsx(u0e,{})})}),h.jsx(di,{path:"personnel",element:h.jsx(Ql,{requiredRole:"admin",children:h.jsx(f0e,{})})}),h.jsx(di,{path:"reports",element:h.jsx(Ql,{requiredRole:"manager",children:h.jsx(H4e,{})})}),h.jsx(di,{path:"tables",element:h.jsx(v0e,{})}),h.jsx(di,{path:"kitchen",element:h.jsx(_0e,{})}),h.jsx(di,{path:"customers",element:h.jsx(w0e,{})}),h.jsx(di,{path:"cash-register",element:h.jsx(Ql,{requiredRole:"manager",children:h.jsx($4e,{})})}),h.jsx(di,{path:"settings",element:h.jsx(Ql,{requiredRole:"admin",children:h.jsx(p0e,{})})})]})]})})})})})}):h.jsx(W4e,{onUnlock:()=>t(!0)})}console.log("Main.jsx is running");try{const e=document.getElementById("root");console.log("Root element:",e),e||console.error("Root element not found!"),jH.createRoot(e).render(h.jsx(T.StrictMode,{children:h.jsx(zte,{children:h.jsx(Ite,{children:h.jsx(G4e,{})})})}))}catch(e){console.error("Error rendering app:",e)}
